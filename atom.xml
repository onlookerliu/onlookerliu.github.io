<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Code@浮生记</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="onlookerliu.github.io/"/>
  <updated>2018-03-06T04:35:43.450Z</updated>
  <id>onlookerliu.github.io/</id>
  
  <author>
    <name>Monad Kai</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>LeetCode Notes 006</title>
    <link href="onlookerliu.github.io/2018/03/04/LeetCode-Notes-006/"/>
    <id>onlookerliu.github.io/2018/03/04/LeetCode-Notes-006/</id>
    <published>2018-03-04T04:21:45.000Z</published>
    <updated>2018-03-06T04:35:43.450Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Basic-Calculator-II"><a href="#Basic-Calculator-II" class="headerlink" title="Basic Calculator II"></a>Basic Calculator II</h3><p>Implement a basic calculator to evaluate a simple expression string.</p><p>The expression string contains only non-negative integers, +, -, *, / operators and empty spaces . The integer division should truncate toward zero.</p><p>You may assume that the given expression is always valid.</p><p>Some examples:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;3+2*2&quot; = 7</span><br><span class="line">&quot; 3/2 &quot; = 1</span><br><span class="line">&quot; 3+5 / 2 &quot; = 5</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong> Do not use the eval built-in library function.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> calculate = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  s = s.replace(<span class="regexp">/\s/g</span>, <span class="string">''</span>);</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> numStack = [];</span><br><span class="line">  <span class="keyword">var</span> sym = <span class="string">'+'</span>;  <span class="comment">// 前一个符号，默认可为 '+'</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = s.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = s[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (~<span class="string">'+-*/'</span>.indexOf(item) || i === len - <span class="number">1</span>) &#123;</span><br><span class="line">      (i === len - <span class="number">1</span>) &amp;&amp; (num = num * <span class="number">10</span> + (+item));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (sym === <span class="string">'-'</span>)</span><br><span class="line">        numStack.push(-num);</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (sym === <span class="string">'+'</span>)</span><br><span class="line">        numStack.push(+num);</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (sym === <span class="string">'*'</span>)</span><br><span class="line">        numStack.push(numStack.pop() * num);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        numStack.push(~~(numStack.pop() / num));</span><br><span class="line"></span><br><span class="line">      num = <span class="number">0</span>;</span><br><span class="line">      sym = item;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      num = num * <span class="number">10</span> + (+item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">  numStack.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    ans += item;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Battleships-in-a-Board"><a href="#Battleships-in-a-Board" class="headerlink" title="Battleships in a Board"></a>Battleships in a Board</h3><p>Given an 2D board, count how many battleships are in it. The battleships are represented with <code>&#39;X&#39;</code>s, empty slots are represented with <code>&#39;.&#39;</code>s. You may assume the following rules:</p><ol><li>You receive a valid board, made of only battleships or empty slots.</li><li>Battleships can only be placed horizontally or vertically. In other words, they can only be made of the shape <code>1xN</code> (1 row, N columns) or <code>Nx1</code> (N rows, 1 column), where N can be of any size.</li><li>At least one horizontal or vertical cell separates between two battleships - there are no adjacent battleships.</li></ol><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X..X</span><br><span class="line">...X</span><br><span class="line">...X</span><br></pre></td></tr></table></figure></p><p>In the above board there are 2 battleships.</p><p><strong>Invalid Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...X</span><br><span class="line">XXXX</span><br><span class="line">...X</span><br></pre></td></tr></table></figure></p><p>This is an invalid board that you will not receive - as battleships will always have a cell separating between them.</p><p><strong>Follow up:</strong></p><p>Could you do it in one-pass, using only <strong>O(1) extra memory</strong> and without modifying the value of the board</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;character[][]&#125; board</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countBattleships = <span class="function"><span class="keyword">function</span>(<span class="params">board</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dir = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">-1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">-1</span>, <span class="number">0</span>]];</span><br><span class="line">  <span class="keyword">const</span> m = board.length;</span><br><span class="line">  <span class="keyword">const</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">  <span class="keyword">const</span> hash = [];</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">    hash[i] = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (board[i][j] === <span class="string">'.'</span> || hash[i][j])</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      hash[i][j] = <span class="literal">true</span>;</span><br><span class="line">      ans++;</span><br><span class="line">      dfs(i, j);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> nx = x + dir[i][<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">let</span> ny = y + dir[i][<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">if</span> (nx &lt; <span class="number">0</span> || nx &gt;= m || ny &lt; <span class="number">0</span> || ny &gt;= n || board[nx][ny] === <span class="string">'.'</span> || hash[nx][ny])</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      hash[nx][ny] = <span class="literal">true</span>;</span><br><span class="line">      dfs(nx, ny);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Beautiful-Arrangement"><a href="#Beautiful-Arrangement" class="headerlink" title="Beautiful Arrangement"></a>Beautiful Arrangement</h3><p>Suppose you have N integers from 1 to N. We define a beautiful arrangement as an array that is constructed by these N numbers successfully if one of the following is true for the i-th position (1 &lt;= i &lt;= N) in this array:</p><ol><li>The number at the i-th position is divisible by i.</li><li>i is divisible by the number at the i-th position.</li></ol><p>Now given N, how many beautiful arrangements can you construct?</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input: 2</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: </span><br><span class="line"></span><br><span class="line">The first beautiful arrangement is [1, 2]:</span><br><span class="line"></span><br><span class="line">Number at the 1st position (i=1) is 1, and 1 is divisible by i (i=1).</span><br><span class="line"></span><br><span class="line">Number at the 2nd position (i=2) is 2, and 2 is divisible by i (i=2).</span><br><span class="line"></span><br><span class="line">The second beautiful arrangement is [2, 1]:</span><br><span class="line"></span><br><span class="line">Number at the 1st position (i=1) is 2, and 2 is divisible by i (i=1).</span><br><span class="line"></span><br><span class="line">Number at the 2nd position (i=2) is 1, and i (i=2) is divisible by 1.</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong></p><ol><li>N is a positive integer and will not exceed 15.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; N</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countArrangement = <span class="function"><span class="keyword">function</span>(<span class="params">N</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [ans, hash] = [<span class="number">0</span>, &#123;&#125;];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> dfs = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index === N + <span class="number">1</span>) &#123;</span><br><span class="line">      ans++;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!hash[i] &amp;&amp; (index % i === <span class="number">0</span> || i % index === <span class="number">0</span>)) &#123;</span><br><span class="line">        hash[i] = <span class="literal">true</span>;</span><br><span class="line">        dfs(index + <span class="number">1</span>);</span><br><span class="line">        hash[i] = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  dfs(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Best-Time-to-Buy-and-Sell-Stock"><a href="#Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="Best Time to Buy and Sell Stock"></a>Best Time to Buy and Sell Stock</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.</p><p>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [7, 1, 5, 3, 6, 4]</span><br><span class="line">Output: 5</span><br><span class="line"></span><br><span class="line">max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [7, 6, 4, 3, 1]</span><br><span class="line">Output: 0</span><br><span class="line"></span><br><span class="line">In this case, no transaction is done, i.e. max profit = 0.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; prices</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = prices.length;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> minn = <span class="literal">Infinity</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    minn = <span class="built_in">Math</span>.min(minn, prices[i]);</span><br><span class="line">    ans = <span class="built_in">Math</span>.max(ans, prices[i] - minn);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Basic-Calculator-II&quot;&gt;&lt;a href=&quot;#Basic-Calculator-II&quot; class=&quot;headerlink&quot; title=&quot;Basic Calculator II&quot;&gt;&lt;/a&gt;Basic Calculator II&lt;/h3&gt;&lt;p&gt;Im
      
    
    </summary>
    
    
      <category term="leetcode" scheme="onlookerliu.github.io/tags/leetcode/"/>
    
      <category term="javascript" scheme="onlookerliu.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode Notes 005</title>
    <link href="onlookerliu.github.io/2018/03/03/LeetCode-Notes-005/"/>
    <id>onlookerliu.github.io/2018/03/03/LeetCode-Notes-005/</id>
    <published>2018-03-03T04:05:41.000Z</published>
    <updated>2018-03-06T04:19:37.394Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Balanced-Binary-Tree"><a href="#Balanced-Binary-Tree" class="headerlink" title="Balanced Binary Tree"></a>Balanced Binary Tree</h3><p>Given a binary tree, determine if it is height-balanced.</p><p>For this problem, a height-balanced binary tree is defined as:</p><blockquote><p>a binary tree in which the depth of the two subtrees of every node never differ by more than 1.</p></blockquote><p><strong>Example 1:</strong></p><p>Given the following tree <code>[3,9,20,null,null,15,7]</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure></p><p>Return true.</p><p><strong>Example 2:</strong></p><p>Given the following tree <code>[1,2,2,3,3,null,null,4,4]</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      1</span><br><span class="line">     / \</span><br><span class="line">    2   2</span><br><span class="line">   / \</span><br><span class="line">  3   3</span><br><span class="line"> / \</span><br><span class="line">4   4</span><br></pre></td></tr></table></figure></p><p>Return false.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> a = root.left ? dfs(root.left) : <span class="number">0</span></span><br><span class="line">    , b = root.right ? dfs(root.right) : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(a - b) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    ans = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.max(a, b) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isBalanced = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  ans = <span class="literal">true</span>;</span><br><span class="line">  dfs(root);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Base-7"><a href="#Base-7" class="headerlink" title="Base 7"></a>Base 7</h3><p>Given an integer, return its base 7 string representation.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 100</span><br><span class="line">Output: &quot;202&quot;</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: -7</span><br><span class="line">Output: &quot;-10&quot;</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong> The input will be in range of [-1e7, 1e7].</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> convertToBase7 = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num === <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'0'</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> prefix = num &lt; <span class="number">0</span> ? <span class="string">'-'</span> : <span class="string">''</span></span><br><span class="line">    , res = []</span><br><span class="line">    , base = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">  num = <span class="built_in">Math</span>.abs(num);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (num) &#123;</span><br><span class="line">    res.push(num % base);</span><br><span class="line">    num = ~~(num / base);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> prefix + res.reverse().join(<span class="string">''</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Basic-Calculator"><a href="#Basic-Calculator" class="headerlink" title="Basic Calculator"></a>Basic Calculator</h3><p>Implement a basic calculator to evaluate a simple expression string.</p><p>The expression string may contain open <code>(</code> and closing parentheses <code>)</code>, the plus + or minus sign -, non-negative integers and empty spaces .</p><p>You may assume that the given expression is always valid.</p><p>Some examples:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;1 + 1&quot; = 2</span><br><span class="line">&quot; 2-1 + 2 &quot; = 3</span><br><span class="line">&quot;(1+(4+5+2)-3)+(6+8)&quot; = 23</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong> Do not use the eval built-in library function.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> calculate = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  s = s.replace(<span class="regexp">/\s/g</span>, <span class="string">''</span>);</span><br><span class="line">  <span class="keyword">var</span> numStack = [];</span><br><span class="line">  <span class="keyword">var</span> symStack = [];</span><br><span class="line">  <span class="keyword">var</span> len = s.length;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = s[i];</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">'-+('</span>.indexOf(item) !== <span class="number">-1</span>) &#123;</span><br><span class="line">      symStack.push(item);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (i &amp;&amp; <span class="string">'0123456789'</span>.indexOf(s[i - <span class="number">1</span>]) !== <span class="number">-1</span>) &#123;</span><br><span class="line">        numStack.push(num);</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">')'</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i &amp;&amp; <span class="string">'0123456789'</span>.indexOf(s[i - <span class="number">1</span>]) !== <span class="number">-1</span>) &#123;</span><br><span class="line">        numStack.push(num);</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> _numStack = [];</span><br><span class="line">      <span class="keyword">var</span> _symStack = [];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> sym = symStack.pop();</span><br><span class="line">        <span class="keyword">if</span> (sym === <span class="string">'('</span>) &#123;</span><br><span class="line">          _numStack.unshift(numStack.pop());</span><br><span class="line">          numStack.push(help(_numStack, _symStack));</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        _numStack.unshift(numStack.pop());</span><br><span class="line">        _symStack.unshift(sym);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      num = num * <span class="number">10</span> + (+item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (s[len - <span class="number">1</span>] !== <span class="string">')'</span>)</span><br><span class="line">    numStack.push(num);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> help(numStack, symStack);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param  &#123;array&#125; numStack</span></span><br><span class="line"><span class="comment"> * @param  &#123;array&#125; symStack</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">help</span>(<span class="params">numStack, symStack</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (numStack.length !== <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> sym = symStack.shift();</span><br><span class="line">    <span class="keyword">var</span> a = numStack.shift();</span><br><span class="line">    <span class="keyword">var</span> b = numStack.shift();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sym === <span class="string">'+'</span>)</span><br><span class="line">      numStack.unshift(a + b);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      numStack.unshift(a - b);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> numStack[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> calculate = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">0</span>;  <span class="comment">// single number</span></span><br><span class="line">  <span class="keyword">var</span> sign = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> numStack = [];</span><br><span class="line">  <span class="keyword">var</span> symStack = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = s.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = s[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">'0123456789'</span>.indexOf(item) !== <span class="number">-1</span>) &#123;</span><br><span class="line">      num = num * <span class="number">10</span> + (+item);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ans += sign * num;</span><br><span class="line">      num = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span> (item === <span class="string">'+'</span>)</span><br><span class="line">        sign = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">'-'</span>)</span><br><span class="line">        sign = <span class="number">-1</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">'('</span>) &#123;</span><br><span class="line">        numStack.push(ans);</span><br><span class="line">        symStack.push(sign);</span><br><span class="line">        ans = <span class="number">0</span>;</span><br><span class="line">        sign = <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">')'</span>) &#123;</span><br><span class="line">        ans = symStack.pop() * ans + numStack.pop();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ans += sign * num;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Balanced-Binary-Tree&quot;&gt;&lt;a href=&quot;#Balanced-Binary-Tree&quot; class=&quot;headerlink&quot; title=&quot;Balanced Binary Tree&quot;&gt;&lt;/a&gt;Balanced Binary Tree&lt;/h3&gt;&lt;
      
    
    </summary>
    
    
      <category term="leetcode" scheme="onlookerliu.github.io/tags/leetcode/"/>
    
      <category term="javascript" scheme="onlookerliu.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode Notes 004</title>
    <link href="onlookerliu.github.io/2018/03/02/LeetCode-Notes-004/"/>
    <id>onlookerliu.github.io/2018/03/02/LeetCode-Notes-004/</id>
    <published>2018-03-02T15:00:38.000Z</published>
    <updated>2018-03-05T15:14:22.210Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Arithmetic-Slices"><a href="#Arithmetic-Slices" class="headerlink" title="Arithmetic Slices"></a>Arithmetic Slices</h3><p>A sequence of number is called arithmetic if it consists of at least three elements and if the difference between any two consecutive elements is the same.</p><p>For example, these are arithmetic sequence:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1, 3, 5, 7, 9</span><br><span class="line">7, 7, 7, 7</span><br><span class="line">3, -1, -5, -9</span><br></pre></td></tr></table></figure></p><p>The following sequence is not arithmetic.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1, 1, 2, 5, 7</span><br></pre></td></tr></table></figure></p><p>A zero-indexed array A consisting of N numbers is given. A slice of that array is any pair of integers (P, Q) such that 0 &lt;= P &lt; Q &lt; N.</p><p>A slice (P, Q) of array A is called arithmetic if the sequence:<br>A[P], A[p + 1], …, A[Q - 1], A[Q] is arithmetic. In particular, this means that P + 1 &lt; Q.</p><p>The function should return the number of arithmetic slices in the array A.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A = [1, 2, 3, 4]</span><br><span class="line"></span><br><span class="line">return: 3, for 3 arithmetic slices in A: [1, 2, 3], [2, 3, 4] and [1, 2, 3, 4] itself.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; A</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> numberOfArithmeticSlices = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> len = A.length;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> diff;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j === i + <span class="number">1</span>)</span><br><span class="line">        diff = A[j] - A[i];</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (A[j] - A[j - <span class="number">1</span>] === diff)</span><br><span class="line">        num++;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans += num - <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Arranging-Coins"><a href="#Arranging-Coins" class="headerlink" title="Arranging Coins"></a>Arranging Coins</h3><p>You have a total of n coins that you want to form in a staircase shape, where every k-th row must have exactly k coins.</p><p>Given n, find the total number of full staircase rows that can be formed.</p><p>n is a non-negative integer and fits within the range of a 32-bit signed integer.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n = 5</span><br><span class="line"></span><br><span class="line">The coins can form the following rows:</span><br><span class="line">¤</span><br><span class="line">¤ ¤</span><br><span class="line">¤ ¤</span><br><span class="line"></span><br><span class="line">Because the 3rd row is incomplete, we return 2.</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">n = 8</span><br><span class="line"></span><br><span class="line">The coins can form the following rows:</span><br><span class="line">¤</span><br><span class="line">¤ ¤</span><br><span class="line">¤ ¤ ¤</span><br><span class="line">¤ ¤</span><br><span class="line"></span><br><span class="line">Because the 4th row is incomplete, we return 3.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> arrangeCoins = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="built_in">Math</span>.sqrt(<span class="number">1</span> + <span class="number">8</span> * n) - <span class="number">1</span>;</span><br><span class="line">  ans /= <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ~~ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Assign-Cookies"><a href="#Assign-Cookies" class="headerlink" title="Assign Cookies"></a>Assign Cookies</h3><p>Assume you are an awesome parent and want to give your children some cookies. But, you should give each child at most one cookie. Each child $i$ has a greed factor $g_i$, which is the minimum size of a cookie that the child will be content with; and each cookie $j$ has a size $s_j$. If $s_j &gt;= g_i$, we can assign the cookie $j$ to the child $i$, and the child $i$ will be content. Your goal is to maximize the number of your content children and output the maximum number.</p><p><strong>Note:</strong></p><p>You may assume the greed factor is always positive. </p><p>You cannot assign more than one cookie to one child.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,3], [1,1]</span><br><span class="line"></span><br><span class="line">Output: 1</span><br><span class="line"></span><br><span class="line">Explanation: You have 3 children and 2 cookies. The greed factors of 3 children are 1, 2, 3. </span><br><span class="line">And even though you have 2 cookies, since their size is both 1, you could only make the child whose greed factor is 1 content.</span><br><span class="line">You need to output 1.</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2], [1,2,3]</span><br><span class="line"></span><br><span class="line">Output: 2</span><br><span class="line"></span><br><span class="line">Explanation: You have 2 children and 3 cookies. The greed factors of 2 children are 1, 2. </span><br><span class="line">You have 3 cookies and their sizes are big enough to gratify all of the children, </span><br><span class="line">You need to output 2.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; g</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findContentChildren = <span class="function"><span class="keyword">function</span>(<span class="params">g, s</span>) </span>&#123;</span><br><span class="line">  g.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a - b;&#125;);</span><br><span class="line">  s.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a - b;&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> sIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> sLen = s.length;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// greedy</span></span><br><span class="line">  loop:</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = g.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> item = g[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = sIndex; j &lt; sLen; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (s[j] &gt;= item) &#123;</span><br><span class="line">        ans++;</span><br><span class="line">        sIndex = j + <span class="number">1</span>; <span class="comment">// the index next loop should be from</span></span><br><span class="line">        <span class="keyword">if</span> (sIndex === sLen) <span class="keyword">break</span> loop;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Arithmetic-Slices&quot;&gt;&lt;a href=&quot;#Arithmetic-Slices&quot; class=&quot;headerlink&quot; title=&quot;Arithmetic Slices&quot;&gt;&lt;/a&gt;Arithmetic Slices&lt;/h3&gt;&lt;p&gt;A sequence
      
    
    </summary>
    
    
      <category term="leetcode" scheme="onlookerliu.github.io/tags/leetcode/"/>
    
      <category term="javascript" scheme="onlookerliu.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode Notes 003</title>
    <link href="onlookerliu.github.io/2018/03/01/LeetCode-Notes-003/"/>
    <id>onlookerliu.github.io/2018/03/01/LeetCode-Notes-003/</id>
    <published>2018-03-01T13:35:35.000Z</published>
    <updated>2018-03-05T13:47:29.008Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Add-two-numbers"><a href="#Add-two-numbers" class="headerlink" title="Add two numbers"></a>Add two numbers</h3><p>You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</p><p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">Output: 7 -&gt; 0 -&gt; 8</span><br><span class="line">Explanation: 342 + 465 = 807.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.next = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l1</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l2</span></span><br><span class="line"><span class="comment"> * @return &#123;ListNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> addTwoNumbers = <span class="function"><span class="keyword">function</span>(<span class="params">l1, l2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> add = <span class="number">0</span></span><br><span class="line">    , ans</span><br><span class="line">    , head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(l1 || l2) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = l1 ? l1.val : <span class="number">0</span></span><br><span class="line">      , b = l2 ? l2.val : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> sum = a + b + add;</span><br><span class="line">    add = ~~(sum / <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!ans)</span><br><span class="line">      ans = head = node;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      head.next = node;</span><br><span class="line">      head = node; </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (l1)</span><br><span class="line">      l1 = l1.next;</span><br><span class="line">    <span class="keyword">if</span> (l2)</span><br><span class="line">      l2 = l2.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (add) &#123;</span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> ListNode(add);</span><br><span class="line">    head.next = node;</span><br><span class="line">    head = node;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Add-two-numbers-II"><a href="#Add-two-numbers-II" class="headerlink" title="Add two numbers II"></a>Add two numbers II</h3><p>You are given two non-empty linked lists representing two non-negative integers. The most significant digit comes first and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</p><p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p><p>Follow up:<br>What if you cannot modify the input lists? In other words, reversing the lists is not allowed.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">Output: 7 -&gt; 8 -&gt; 0 -&gt; 7</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.next = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l1</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l2</span></span><br><span class="line"><span class="comment"> * @return &#123;ListNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> addTwoNumbers = <span class="function"><span class="keyword">function</span>(<span class="params">l1, l2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = []</span><br><span class="line">    , b = []</span><br><span class="line">    , newL1 = l1</span><br><span class="line">    , newL2 = l2;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (newL1) &#123;</span><br><span class="line">    a.push(newL1.val);</span><br><span class="line">    newL1 = newL1.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (newL2) &#123;</span><br><span class="line">    b.push(newL2.val);</span><br><span class="line">    newL2 = newL2.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  a.reverse();</span><br><span class="line">  b.reverse();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line">  <span class="keyword">let</span> add = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (a.length || b.length) &#123;</span><br><span class="line">    <span class="keyword">let</span> c = a.length ? a.shift() : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> d = b.length ? b.shift() : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> sum = c + d + add;</span><br><span class="line"></span><br><span class="line">    ans.push(sum % <span class="number">10</span>);</span><br><span class="line">    add = ~~(sum / <span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  add &amp;&amp; (ans.push(add));</span><br><span class="line"></span><br><span class="line">  ans.reverse();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ret = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = ans.length; i &lt; len; i++)</span><br><span class="line">    ret[i] = <span class="keyword">new</span> ListNode(ans[i]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = ans.length; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">    ret[i].next = ret[i + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ret[<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Additive-number"><a href="#Additive-number" class="headerlink" title="Additive number"></a>Additive number</h3><p>Additive number is a string whose digits can form additive sequence.</p><p>A valid additive sequence should contain at least three numbers. Except for the first two numbers, each subsequent number in the sequence must be the sum of the preceding two.</p><p>For example:</p><p>“112358” is an additive number because the digits can form an additive sequence: <code>1, 1, 2, 3, 5, 8.</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 + 1 = 2, 1 + 2 = 3, 2 + 3 = 5, 3 + 5 = 8</span><br></pre></td></tr></table></figure><p><code>&quot;199100199&quot;</code> is also an additive number, the additive sequence is: <code>1, 99, 100, 199.</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 + 99 = 100, 99 + 100 = 199</span><br></pre></td></tr></table></figure><p><strong>Note:</strong> Numbers in the additive sequence cannot have leading zeros, so sequence 1, 2, 03 or 1, 02, 3 is invalid.</p><p>Given a string containing only digits <code>&#39;0&#39;-&#39;9&#39;</code>, write a function to determine if it’s an additive number.</p><p><strong>Follow up:</strong></p><p>How would you handle overflow for very large input integers?</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// use Depth-First-Search Algorithm</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">a, b, c, index, num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (ans)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (index === num.length) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a === <span class="number">-1</span> || b === <span class="number">-1</span> || c === <span class="number">-1</span>)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> ((+a) + (+b) === (+c))</span><br><span class="line">      ans = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (a === <span class="number">-1</span>) &#123;</span><br><span class="line">    dfs(num[index], b, c, index + <span class="number">1</span>, num);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (b === <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a !== <span class="string">'0'</span>)</span><br><span class="line">      dfs(a + num[index], b, c, index + <span class="number">1</span>, num);</span><br><span class="line"></span><br><span class="line">    dfs(a, num[index], c, index + <span class="number">1</span>, num);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (c === <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (b !== <span class="string">'0'</span>)</span><br><span class="line">      dfs(a, b + num[index], c, index + <span class="number">1</span>, num);</span><br><span class="line"></span><br><span class="line">    dfs(a, b, num[index], index + <span class="number">1</span>, num);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (c !== <span class="string">'0'</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> ((+a) + (+b) === (+c)) &#123;</span><br><span class="line">      dfs(b, c, <span class="number">-1</span>, index, num);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> ((+a) + (+b) &lt; (+c))</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      dfs(a, b, c + num[index], index + <span class="number">1</span>, num);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (a === <span class="string">'0'</span> &amp;&amp; b === <span class="string">'0'</span>)</span><br><span class="line">      dfs(b, c, <span class="number">-1</span>, index, num);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isAdditiveNumber = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  ans = <span class="literal">false</span>;</span><br><span class="line">  dfs(<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, num);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Add-two-numbers&quot;&gt;&lt;a href=&quot;#Add-two-numbers&quot; class=&quot;headerlink&quot; title=&quot;Add two numbers&quot;&gt;&lt;/a&gt;Add two numbers&lt;/h3&gt;&lt;p&gt;You are given two 
      
    
    </summary>
    
    
      <category term="leetcode" scheme="onlookerliu.github.io/tags/leetcode/"/>
    
      <category term="javascript" scheme="onlookerliu.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-010</title>
    <link href="onlookerliu.github.io/2018/03/01/Project-Euler-010/"/>
    <id>onlookerliu.github.io/2018/03/01/Project-Euler-010/</id>
    <published>2018-03-01T03:56:36.000Z</published>
    <updated>2018-03-05T05:39:15.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><br>The sum of the primes below 10 is $2 + 3 + 5 + 7 = 17$.<br></p><p><br>Find the sum of all the primes below two million.<br></p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">142913828922</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> takewhile</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eratosthenes</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''Yields the sequence of prime numbers via the Sieve of Eratosthenes.'''</span></span><br><span class="line">    D = &#123;&#125;  <span class="comment"># map composite integers to primes witnessing their compositeness</span></span><br><span class="line">    q = <span class="number">2</span>   <span class="comment"># first integer to test for primality</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> q <span class="keyword">not</span> <span class="keyword">in</span> D:</span><br><span class="line">            <span class="keyword">yield</span> q        <span class="comment"># not marked composite, must be prime</span></span><br><span class="line">            D[q*q] = [q]   <span class="comment"># first multiple of q not already marked</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> p <span class="keyword">in</span> D[q]: <span class="comment"># move each witness to its next multiple</span></span><br><span class="line">                D.setdefault(p+q,[]).append(p)</span><br><span class="line">            <span class="keyword">del</span> D[q]       <span class="comment"># no longer need D[q], free memory</span></span><br><span class="line">        q += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(sum(takewhile(<span class="keyword">lambda</span> x: x &lt; <span class="number">2000000</span>, eratosthenes())))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sieve = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> s = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> q = <span class="number">2</span>; q &lt; <span class="number">2000000</span>; q++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (sieve[q]) &#123;</span><br><span class="line">    sieve[q].forEach(<span class="function">(<span class="params">p</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> list = sieve[p + q] || []</span><br><span class="line">      list.push(p)</span><br><span class="line">      sieve[p + q] = list</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">delete</span> sieve[q]</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    s += q</span><br><span class="line">    sieve[q * q] = [q]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s)</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PrimeSieve</span><span class="params">(n <span class="keyword">int64</span>)</span> []<span class="title">int64</span></span> &#123;</span><br><span class="line">result := <span class="built_in">make</span>([]<span class="keyword">int64</span>, <span class="number">0</span>, n/<span class="keyword">int64</span>(math.Log(<span class="keyword">float64</span>(n))))</span><br><span class="line">sieve := <span class="built_in">make</span>([]<span class="keyword">bool</span>, n+<span class="number">1</span>)</span><br><span class="line">sn := <span class="keyword">int64</span>(math.Sqrt(<span class="keyword">float64</span>(n)))</span><br><span class="line"><span class="keyword">var</span> i, j <span class="keyword">int64</span></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= sn; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line"><span class="keyword">for</span> j = i * i; j &lt;= n; j += i &#123;</span><br><span class="line">sieve[j] = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line">result = <span class="built_in">append</span>(result, i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">primes := PrimeSieve(<span class="number">2000000</span>)</span><br><span class="line"><span class="keyword">var</span> sum <span class="keyword">int64</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> _, p := <span class="keyword">range</span> primes &#123;</span><br><span class="line">sum += p</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span></span><br><span class="line">puts Prime.take_while&#123; <span class="params">|n|</span> n &lt; <span class="number">2000000</span> &#125;.reduce(<span class="symbol">:+</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">primes</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">primes</span> = <span class="number">2</span> : sieve primes [<span class="number">3</span>,<span class="number">5.</span>.] <span class="keyword">where</span></span><br><span class="line">    sieve (p:ps) xs = h ++ sieve ps [x | x &lt;- t, rem x p /= <span class="number">0</span>]</span><br><span class="line">                      <span class="keyword">where</span> (h, t) = span (&lt; p*p) xs</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ sum $ takeWhile (&lt; <span class="number">2000000</span>) primes</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> primes [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> improve [p nums]</span><br><span class="line">    (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name"><span class="builtin-name">or</span></span> </span><br><span class="line">               (<span class="name"><span class="builtin-name">not</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> % p) <span class="number">0</span>))</span><br><span class="line">               (<span class="name"><span class="builtin-name">=</span></span> % p))</span><br><span class="line">            nums))</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> prime-iter [p nums i]</span><br><span class="line">    (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">&gt;</span></span> (<span class="name"><span class="builtin-name">*</span></span> p p) n)</span><br><span class="line">      nums</span><br><span class="line">      (<span class="name">prime-iter</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) (<span class="name">improve</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) nums) (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>))))</span><br><span class="line">  (<span class="name">prime-iter</span> <span class="number">2</span> (<span class="name"><span class="builtin-name">range</span></span> <span class="number">2</span> (<span class="name"><span class="builtin-name">+</span></span> n <span class="number">1</span>)) <span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name">primes</span> <span class="number">2000000</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* Use Mathematica's built-in functions for easy problem-solving. *)</span></span><br><span class="line"><span class="keyword">Total</span>[<span class="keyword">Select</span>[<span class="keyword">Range</span>[<span class="number">1999999</span>], <span class="keyword">PrimeQ</span>]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p010</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p010().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Call the sieve of Eratosthenes and sum the primes found.</span></span><br><span class="line"><span class="comment"> * A conservative upper bound for the sum is 2000000^2, which fits in a Java long type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> LIMIT = <span class="number">2000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> p : Library.listPrimes(LIMIT - <span class="number">1</span>))</span><br><span class="line">sum += p;</span><br><span class="line"><span class="keyword">return</span> Long.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;&lt;br&gt;The sum of the primes below 10 is $2 + 3 + 5 +
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-009</title>
    <link href="onlookerliu.github.io/2018/02/27/Project-Euler-009/"/>
    <id>onlookerliu.github.io/2018/02/27/Project-Euler-009/</id>
    <published>2018-02-27T03:36:39.000Z</published>
    <updated>2018-03-05T03:43:44.782Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>A Pythagorean triplet is a set of three natural numbers, $a \lt b \lt c$,<br>for which</p><p>$$a^2 + b^2 = c^2$$</p><p>For example, $3^2 + 4^2 = 9 + 16 = 25 = 5^2$.</p><p>There exists exactly one Pythagorean triplet for which $a + b + c = 1000$.<br>Find the product $a \times b \times c$.</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">31875000</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute</span><span class="params">()</span>:</span></span><br><span class="line">PERIMETER = <span class="number">1000</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">1</span>, PERIMETER + <span class="number">1</span>):</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> range(a + <span class="number">1</span>, PERIMETER + <span class="number">1</span>):</span><br><span class="line">c = PERIMETER - a - b</span><br><span class="line"><span class="keyword">if</span> a * a + b * b == c * c:</span><br><span class="line"><span class="comment"># It is now implied that b &lt; c, because we have a &gt; 0</span></span><br><span class="line"><span class="keyword">return</span> str(a * b * c)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">print(compute())</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> a = <span class="number">1</span>; a &lt; <span class="number">1000</span>; a++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> b = a, lb = <span class="number">1000</span> - a; b &lt; lb; b++) &#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="number">1000</span> - (a + b)</span><br><span class="line">    <span class="keyword">if</span> (a * a + b * b === c * c) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">console</span>.log(a * b * c)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> a, b, c, lb <span class="keyword">int</span></span><br><span class="line">max := <span class="number">1000</span></span><br><span class="line"><span class="keyword">for</span> a = <span class="number">1</span>; a &lt; max; a++ &#123;</span><br><span class="line">lb = max - a</span><br><span class="line"><span class="keyword">for</span> b = a; b &lt; lb; b++ &#123;</span><br><span class="line">c = max - (a + b)</span><br><span class="line"><span class="keyword">if</span> a*a+b*b == c*c &#123;</span><br><span class="line">fmt.Println(a * b * c)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">500</span>)</span><br><span class="line">  <span class="keyword">for</span> b <span class="keyword">in</span> (a..<span class="number">500</span>)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> (b..<span class="number">500</span>)</span><br><span class="line">      <span class="keyword">if</span> a**<span class="number">2</span> + b**<span class="number">2</span> == c**<span class="number">2</span> <span class="keyword">and</span> a+b+c == <span class="number">1000</span></span><br><span class="line">        puts a*b*c</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ head [a*b*c | a &lt;- [<span class="number">1.</span><span class="number">.500</span>], b &lt;- [a.<span class="number">.500</span>], c &lt;- [b.<span class="number">.500</span>],</span><br><span class="line">                             a+b+c == <span class="number">1000</span>, a*a + b*b == c*c]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> square [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">*</span></span> n n))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> triple? [a b c]</span><br><span class="line">  (<span class="name"><span class="builtin-name">and</span></span></span><br><span class="line">    (<span class="name"><span class="builtin-name">and</span></span> (<span class="name"><span class="builtin-name">&gt;</span></span> a <span class="number">0</span>) (<span class="name"><span class="builtin-name">&gt;</span></span> b <span class="number">0</span>) (<span class="name"><span class="builtin-name">&gt;</span></span> c <span class="number">0</span>))</span><br><span class="line">    (<span class="name"><span class="builtin-name">and</span></span> (<span class="name"><span class="builtin-name">&lt;</span></span> a b) (<span class="name"><span class="builtin-name">&lt;</span></span> b c))</span><br><span class="line">    (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">+</span></span> (<span class="name">square</span> a) (<span class="name">square</span> b)) (<span class="name">square</span> c))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> candidates [limit]</span><br><span class="line">  (<span class="name"><span class="builtin-name">for</span></span> [a (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">inc</span></span> limit)) </span><br><span class="line">        b (<span class="name"><span class="builtin-name">range</span></span> a (<span class="name"><span class="builtin-name">inc</span></span> limit)) </span><br><span class="line">        c (<span class="name"><span class="builtin-name">range</span></span> b (<span class="name"><span class="builtin-name">inc</span></span> limit))</span><br><span class="line">        <span class="symbol">:when</span> (<span class="name"><span class="builtin-name">and</span></span> </span><br><span class="line">                (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">+</span></span> a b c) <span class="number">1000</span>)</span><br><span class="line">                (<span class="name">triple?</span> a b c))] </span><br><span class="line">    (<span class="name"><span class="builtin-name">list</span></span> a b c)))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> * (<span class="name"><span class="builtin-name">first</span></span> (<span class="name">candidates</span> <span class="number">500</span>))))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">For</span>[a = <span class="number">1</span>, a &lt;= <span class="number">1000</span>, a++,</span><br><span class="line">  <span class="keyword">For</span>[b = a + <span class="number">1</span>, b &lt;= <span class="number">1000</span>, b++,</span><br><span class="line">    <span class="keyword">Block</span>[&#123;c = 1000 - a - b&#125;,</span><br><span class="line">      <span class="keyword">If</span>[a &lt; b &lt; c &amp;&amp; a^<span class="number">2</span> + b^<span class="number">2</span> == c^<span class="number">2</span>,</span><br><span class="line">        <span class="keyword">Print</span>[a, <span class="string">" "</span>, b, <span class="string">" "</span>, c, <span class="string">" "</span>, a * b * c]]]]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p009</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p009().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement a brute-force search to directly solve the problem.</span></span><br><span class="line"><span class="comment"> * Note that a^2 + b^2 is bounded above by 2*(1000^2), which fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PERIMETER = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">1</span>; a &lt; PERIMETER; a++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> b = a + <span class="number">1</span>; b &lt; PERIMETER; b++) &#123;</span><br><span class="line"><span class="keyword">int</span> c = PERIMETER - a - b;</span><br><span class="line"><span class="keyword">if</span> (a * a + b * b == c * c) &#123;</span><br><span class="line"><span class="comment">// It is now implied that b &lt; c, because we have a &gt; 0</span></span><br><span class="line"><span class="keyword">return</span> Integer.toString(a * b * c);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> AssertionError(<span class="string">"Not found"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;A Pythagorean triplet is a set of three natural nu
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Simple Perceptron using Processing</title>
    <link href="onlookerliu.github.io/2018/02/26/Simple-Perceptron-using-Processing/"/>
    <id>onlookerliu.github.io/2018/02/26/Simple-Perceptron-using-Processing/</id>
    <published>2018-02-25T16:22:03.000Z</published>
    <updated>2018-02-28T16:53:54.160Z</updated>
    
    <content type="html"><![CDATA[<p>This code is mainly based on <a href="https://processing.org" target="_blank" rel="noopener">Processing</a>, a flexible software sketchbook for visualizing things and arts.</p><p>First, we derive a class named Perceptron with two useful method <code>guess</code> and <code>train</code>.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sign</span><span class="params">(<span class="keyword">float</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Perceptron</span> </span>&#123;</span><br><span class="line">  <span class="keyword">float</span>[] weights = <span class="keyword">new</span> <span class="keyword">float</span>[<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">float</span> lr = <span class="number">0.2</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// constructor</span></span><br><span class="line">  Perceptron() &#123;</span><br><span class="line">    <span class="comment">// initialize the weight randomly</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; weights.length; i++) &#123;</span><br><span class="line">      weights[i] = random(-<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">guess</span><span class="params">(<span class="keyword">float</span>[] inputs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">float</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; weights.length; i++) &#123;</span><br><span class="line">      sum += inputs[i] * weights[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> output = sign(sum);</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">train</span><span class="params">(<span class="keyword">float</span>[] inputs, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> guess = guess(inputs);</span><br><span class="line">    <span class="keyword">int</span> error = target - guess;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; weights.length; i++) &#123;</span><br><span class="line">      weights[i] += error * inputs[i] * lr;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>To specify the training procession using a simple perceptron, we activate a sketchbook named Training.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">float</span> x;</span><br><span class="line">  <span class="keyword">float</span> y;</span><br><span class="line">  <span class="keyword">int</span> label;</span><br><span class="line">  </span><br><span class="line">  Point() &#123;</span><br><span class="line">    x = random(width);</span><br><span class="line">    y = random(height);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">      label = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      label = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    stroke(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (label == <span class="number">1</span>) &#123;</span><br><span class="line">      fill(<span class="number">255</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fill(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ellipse(x, y, <span class="number">32</span>, <span class="number">32</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Now, come to our basic purpose. Draw random samples and make trainings. Here is the main sketchbook file <code>SimplePerceptron</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">Perceptron brain;</span><br><span class="line"></span><br><span class="line">Point[] points = <span class="keyword">new</span> Point[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> trainingIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  size(<span class="number">800</span>, <span class="number">800</span>);</span><br><span class="line">  brain = <span class="keyword">new</span> Perceptron();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; points.length; i++) &#123;</span><br><span class="line">    points[i] = <span class="keyword">new</span> Point();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">float</span>[] inputs = &#123;-<span class="number">1</span>, <span class="number">0.5</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> guess = brain.guess(inputs);</span><br><span class="line">  println(guess);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  background(<span class="number">255</span>);</span><br><span class="line">  stroke(<span class="number">0</span>);</span><br><span class="line">  line(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">  <span class="keyword">for</span> (Point pt : points) &#123;</span><br><span class="line">    pt.show();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (Point pt : points) &#123;</span><br><span class="line">    <span class="keyword">float</span>[] inputs = &#123;pt.x, pt.y&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> target = pt.label;</span><br><span class="line">    <span class="keyword">int</span> guess = brain.guess(inputs);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (guess == target) &#123;</span><br><span class="line">      fill(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fill(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    noStroke();</span><br><span class="line">    ellipse(pt.x, pt.y, <span class="number">16</span>, <span class="number">16</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  Point training = points[trainingIndex];</span><br><span class="line">  <span class="keyword">float</span>[] inputs = &#123;training.x, training.y&#125;;</span><br><span class="line">  <span class="keyword">int</span> target = training.label;</span><br><span class="line">  brain.train(inputs, target);</span><br><span class="line">  trainingIndex++;</span><br><span class="line">  <span class="keyword">if</span> (trainingIndex == points.length) &#123;</span><br><span class="line">    trainingIndex = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Simply click the run button, Processing will help start an interative interface (similar to the canvas) and render the result below.</p><div align="center"><br><img src="http://oxyywddt8.bkt.clouddn.com/processing/Perceptron.gif" width="60%"><br></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;This code is mainly based on &lt;a href=&quot;https://processing.org&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Processing&lt;/a&gt;, a flexible software sketchbo
      
    
    </summary>
    
    
      <category term="machine learning" scheme="onlookerliu.github.io/tags/machine-learning/"/>
    
      <category term="processing" scheme="onlookerliu.github.io/tags/processing/"/>
    
      <category term="java" scheme="onlookerliu.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Linear Regression in JS</title>
    <link href="onlookerliu.github.io/2018/02/23/Linear-Regression-in-JS/"/>
    <id>onlookerliu.github.io/2018/02/23/Linear-Regression-in-JS/</id>
    <published>2018-02-23T14:51:57.000Z</published>
    <updated>2018-02-28T16:52:10.408Z</updated>
    
    <content type="html"><![CDATA[<p>This code is mainly based on the <a href="https://p5js.org/" target="_blank" rel="noopener">p5js</a> library, which provide us an accessible sketchbook to interactive with HTML objects.</p><p>In p5, we only need to make our own changes to the file named sketch.js.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    createCanvas(<span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">linearRegression</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xsum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> ysum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        xsum += data[i].x;</span><br><span class="line">        ysum += data[i].y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> xmean = xsum / data.length;</span><br><span class="line">    <span class="keyword">var</span> ymean = ysum / data.length;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> den = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = data[i].x;</span><br><span class="line">        <span class="keyword">var</span> y = data[i].y;</span><br><span class="line">        num += (x - xmean) * (y - ymean);</span><br><span class="line">        den += (x - xmean) * (x - xmean);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    m = num / den;</span><br><span class="line">    b = ymean - m * xmean;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawLine</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> y1 = m * x1 + b;</span><br><span class="line">    <span class="keyword">var</span> x2 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> y2 = m * x2 + b;</span><br><span class="line"></span><br><span class="line">    x1 = map(x1, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, width);</span><br><span class="line">    y1 = map(y1, <span class="number">0</span>, <span class="number">1</span>, height, <span class="number">0</span>);</span><br><span class="line">    x2 = map(x2, <span class="number">0</span>, <span class="number">0</span>, width);</span><br><span class="line">    y2 = map(y2, <span class="number">0</span>, <span class="number">1</span>, height, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    stroke(<span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line">    line(x1, y1, x2, y2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mousePressed</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = map(mouseX, <span class="number">0</span>, width, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> y = map(mouseY, <span class="number">0</span>, height, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> point = createVector(x, y);</span><br><span class="line">    data.push(point);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    background(<span class="number">51</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = map(data[i].x, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, width);</span><br><span class="line">        <span class="keyword">var</span> y = map(data[i].y, <span class="number">0</span>, <span class="number">1</span>, height, <span class="number">0</span>);</span><br><span class="line">        fill(<span class="number">255</span>);</span><br><span class="line">        stroke(<span class="number">255</span>);</span><br><span class="line">        ellipse(x, y, <span class="number">8</span>, <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (data.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        linearRegression();</span><br><span class="line">        drawLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Click on the index.html file, and we can make our regression on any browser support javascript. Here is the design sketch.</p><div align="center"><br><img src="http://oxyywddt8.bkt.clouddn.com/p5js/OLS.gif" width="60%"><br></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;This code is mainly based on the &lt;a href=&quot;https://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;p5js&lt;/a&gt; library, which provide us an accessi
      
    
    </summary>
    
    
      <category term="statistics" scheme="onlookerliu.github.io/tags/statistics/"/>
    
      <category term="javascript" scheme="onlookerliu.github.io/tags/javascript/"/>
    
      <category term="p5js" scheme="onlookerliu.github.io/tags/p5js/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-008</title>
    <link href="onlookerliu.github.io/2018/02/14/Project-Euler-008/"/>
    <id>onlookerliu.github.io/2018/02/14/Project-Euler-008/</id>
    <published>2018-02-14T14:16:28.000Z</published>
    <updated>2018-03-05T03:37:59.880Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The four adjacent digits in the 1000-digit number that have the greatest product are 9 × 9 × 8 × 9 = 5832.</p><pre><code>7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450</code></pre><p>Find the thirteen adjacent digits in the 1000-digit number that have the greatest product. What is the value of this product?</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">23514624000</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line">numbers = <span class="string">'''</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="string">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="string">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="string">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="string">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="string">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="string">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="string">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="string">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="string">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="string">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="string">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="string">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="string">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="string">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="string">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="string">07198403850962455444362981230987879927244284909188</span></span><br><span class="line"><span class="string">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="string">05886116467109405077541002256983155200055935729725</span></span><br><span class="line"><span class="string">71636269561882670428252483600823257530420752963450</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">numstring = numbers.strip().replace(<span class="string">'\n'</span>, <span class="string">''</span>)</span><br><span class="line">greatest_product = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(numstring)):</span><br><span class="line">    product = <span class="number">1</span></span><br><span class="line">    substring = numstring[i:i+<span class="number">13</span>]</span><br><span class="line">    <span class="keyword">for</span> digit <span class="keyword">in</span> substring:</span><br><span class="line">        product *= int(digit)</span><br><span class="line">    <span class="keyword">if</span> product &gt; greatest_product:</span><br><span class="line">        greatest_product = product</span><br><span class="line"></span><br><span class="line">print(greatest_product)</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> runs = <span class="string">`</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="string">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="string">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="string">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="string">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="string">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="string">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="string">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="string">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="string">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="string">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="string">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="string">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="string">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="string">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="string">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="string">07198403850962455444362981230987879927244284909188</span></span><br><span class="line"><span class="string">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="string">05886116467109405077541002256983155200055935729725</span></span><br><span class="line"><span class="string">71636269561882670428252483600823257530420752963450</span></span><br><span class="line"><span class="string">`</span>.trim().split(<span class="string">"\n"</span>).join(<span class="string">""</span>).split(<span class="regexp">/[01]+/</span>)</span><br><span class="line"><span class="keyword">const</span> x = <span class="number">13</span></span><br><span class="line"><span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line">runs.forEach(<span class="function">(<span class="params">run</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (run.length &lt; x) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, l = run.length; i &lt;= l - x; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> digits = run.substring(i, i + x).split(<span class="string">""</span>)</span><br><span class="line">    <span class="keyword">const</span> product = digits.reduce(<span class="function">(<span class="params">prod, c</span>) =&gt;</span> prod * <span class="built_in">parseInt</span>(c), <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> (product &gt; max) max = product</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(max)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">numbers = <span class="string">&lt;&lt;EOS</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="number">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="number">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="number">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="number">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="number">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="number">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="number">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="number">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="number">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="number">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="number">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="number">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="number">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="number">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="number">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="number">071</span>98403850962455444362981230987879927244284909188</span><br><span class="line"><span class="number">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="number">05</span>886116467109405077541002256983155200055935729725</span><br><span class="line"><span class="number">71636269561882670428252483600823257530420752963450</span></span><br><span class="line">EOS</span><br><span class="line">numbers = numbers.split.join(<span class="string">''</span>)</span><br><span class="line">max = <span class="number">0</span></span><br><span class="line">numbers.split(<span class="string">''</span>).each_with_index <span class="keyword">do</span> <span class="params">|char, i|</span></span><br><span class="line">  product = numbers[i...i+<span class="number">13</span>].each_char.inject(<span class="number">1</span>) &#123;<span class="params">|acc, digit|</span> acc * digit.to_i&#125;</span><br><span class="line">  <span class="keyword">if</span> product &gt; max</span><br><span class="line">    max = product</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts max</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"strings"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">digits := <span class="string">`</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="string">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="string">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="string">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="string">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="string">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="string">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="string">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="string">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="string">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="string">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="string">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="string">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="string">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="string">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="string">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="string">07198403850962455444362981230987879927244284909188</span></span><br><span class="line"><span class="string">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="string">05886116467109405077541002256983155200055935729725</span></span><br><span class="line"><span class="string">71636269561882670428252483600823257530420752963450</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">digits = strings.Replace(digits, <span class="string">"\n"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">digits = strings.Replace(digits, <span class="string">"\t"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">max := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i, l := <span class="number">0</span>, <span class="built_in">len</span>(digits); i &lt; l<span class="number">-13</span>; i++ &#123;</span><br><span class="line">slice := digits[i : i+<span class="number">13</span>]</span><br><span class="line">product := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> _, c := <span class="keyword">range</span> slice &#123;</span><br><span class="line">product *= <span class="keyword">int</span>(c - <span class="string">'0'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> product &gt; max &#123;</span><br><span class="line">max = product</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(max)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">parse</span> :: <span class="type">String</span> -&gt; [<span class="type">Int</span>]</span><br><span class="line"><span class="title">parse</span> = map (read . return) . concat . lines</span><br><span class="line"></span><br><span class="line"><span class="title">chunks</span> :: <span class="type">Int</span> -&gt; [a] -&gt; [[a]]</span><br><span class="line"><span class="title">chunks</span> n l | length chunk &lt; n = []</span><br><span class="line">           | otherwise = chunk : chunks n (tail l)</span><br><span class="line">           <span class="keyword">where</span> chunk = take n l</span><br><span class="line"></span><br><span class="line"><span class="title">largestProduct</span> :: [[<span class="type">Int</span>]] -&gt; <span class="type">Int</span></span><br><span class="line"><span class="title">largestProduct</span> = maximum . map product</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">        str &lt;- readFile <span class="string">"/home/zach/code/euler/008/numbers.txt"</span></span><br><span class="line">        print $ largestProduct $ chunks <span class="number">13</span> $ parse str</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* We implement a straightforward algorithm that examines every substring of length 13. *)</span></span><br><span class="line">adjacent = <span class="number">13</span>;</span><br><span class="line">bignumber = <span class="keyword">IntegerDigits</span>[<span class="number">7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450</span>];</span><br><span class="line">MyProduct[x_] := <span class="keyword">Apply</span>[<span class="keyword">Times</span>, x]</span><br><span class="line"><span class="keyword">Max</span>[<span class="keyword">Table</span>[MyProduct[<span class="keyword">Take</span>[bignumber, &#123;i, i + adjacent - 1&#125;]], &#123;i, 1, Length[bignumber] - adjacent + 1&#125;]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p008</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p008().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We implement a straightforward algorithm that examines every substring of length 13.</span></span><br><span class="line"><span class="comment"> * Note that the maximum product is 9^13 = 2541865828329, which fits in a Java long type (but not int).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> maxProd = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i + ADJACENT &lt;= NUMBER.length(); i++) &#123;</span><br><span class="line"><span class="keyword">long</span> prod = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; ADJACENT; j++)</span><br><span class="line">prod *= NUMBER.charAt(i + j) - <span class="string">'0'</span>;</span><br><span class="line">maxProd = Math.max(prod, maxProd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Long.toString(maxProd);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ADJACENT = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String NUMBER = <span class="string">"7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450"</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;The four adjacent digits in the 1000-digit number 
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-007</title>
    <link href="onlookerliu.github.io/2018/02/14/Project-Euler-007/"/>
    <id>onlookerliu.github.io/2018/02/14/Project-Euler-007/</id>
    <published>2018-02-14T14:08:11.000Z</published>
    <updated>2018-03-05T03:57:01.717Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13,<br>we can see that the 6th prime is 13.</p><p>What is the 10001st prime number?</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">104743</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eratosthenes</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''Yields the sequence of prime numbers via the Sieve of Eratosthenes.'''</span></span><br><span class="line">    D = &#123;&#125;  <span class="comment"># map composite integers to primes witnessing their compositeness</span></span><br><span class="line">    q = <span class="number">2</span>   <span class="comment"># first integer to test for primality</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> q <span class="keyword">not</span> <span class="keyword">in</span> D:</span><br><span class="line">            <span class="keyword">yield</span> q        <span class="comment"># not marked composite, must be prime</span></span><br><span class="line">            D[q*q] = [q]   <span class="comment"># first multiple of q not already marked</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> p <span class="keyword">in</span> D[q]: <span class="comment"># move each witness to its next multiple</span></span><br><span class="line">                D.setdefault(p+q,[]).append(p)</span><br><span class="line">            <span class="keyword">del</span> D[q]       <span class="comment"># no longer need D[q], free memory</span></span><br><span class="line">        q += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nth_prime</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i, prime <span class="keyword">in</span> enumerate(eratosthenes()):</span><br><span class="line">        <span class="keyword">if</span> i == n - <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> prime</span><br><span class="line"></span><br><span class="line">print(nth_prime(<span class="number">10001</span>))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const sieve = &#123;&#125;</span><br><span class="line">let n = 0</span><br><span class="line">for (var q = 2; n &lt; 10001; q++) &#123;</span><br><span class="line">  if (sieve[q]) &#123;</span><br><span class="line">    sieve[q].forEach((p) =&gt; &#123;</span><br><span class="line">      const list = sieve[p + q] || []</span><br><span class="line">      list.push(p)</span><br><span class="line">      sieve[p + q] = list</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    sieve[q * q] = [q]</span><br><span class="line">    n++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(q - 1)</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">iSqrt</span><span class="params">(n <span class="keyword">int64</span>)</span> <span class="title">int64</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> r1, r <span class="keyword">int64</span> = n, n + <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> r1 &lt; r &#123;</span><br><span class="line">r, r1 = r1, (r1+n/r1)&gt;&gt;<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PrimeSieve</span><span class="params">(n <span class="keyword">int64</span>)</span> []<span class="title">int64</span></span> &#123;</span><br><span class="line">result := <span class="built_in">make</span>([]<span class="keyword">int64</span>, <span class="number">0</span>, n)</span><br><span class="line">sieve := <span class="built_in">make</span>([]<span class="keyword">bool</span>, n+<span class="number">1</span>)</span><br><span class="line">sn := iSqrt(n)</span><br><span class="line"><span class="keyword">var</span> i, j <span class="keyword">int64</span></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= sn; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line"><span class="keyword">for</span> j = i * i; j &lt;= n; j += i &#123;</span><br><span class="line">sieve[j] = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line">result = <span class="built_in">append</span>(result, i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">primes := PrimeSieve(<span class="number">1000000</span>)</span><br><span class="line">fmt.Println(primes[<span class="number">10000</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span></span><br><span class="line">puts Prime.take(<span class="number">10001</span>).last</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">primes</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">primes</span> = <span class="number">2</span> : sieve primes [<span class="number">3</span>,<span class="number">5.</span>.] <span class="keyword">where</span></span><br><span class="line">    sieve (p:ps) xs = h ++ sieve ps [x | x &lt;- t, rem x p /= <span class="number">0</span>]</span><br><span class="line">                      <span class="keyword">where</span> (h, t) = span (&lt; p*p) xs</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ primes !! <span class="number">10000</span></span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> primes [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> improve [p nums]</span><br><span class="line">    (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name"><span class="builtin-name">or</span></span> </span><br><span class="line">               (<span class="name"><span class="builtin-name">not</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> % p) <span class="number">0</span>))</span><br><span class="line">               (<span class="name"><span class="builtin-name">=</span></span> % p))</span><br><span class="line">            nums))</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> prime-iter [p nums i]</span><br><span class="line">    (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">&gt;</span></span> (<span class="name"><span class="builtin-name">*</span></span> p p) n)</span><br><span class="line">      nums</span><br><span class="line">      (<span class="name">prime-iter</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) (<span class="name">improve</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) nums) (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>))))</span><br><span class="line">  (<span class="name">prime-iter</span> <span class="number">2</span> (<span class="name"><span class="builtin-name">range</span></span> <span class="number">2</span> (<span class="name"><span class="builtin-name">+</span></span> n <span class="number">1</span>)) <span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">nth</span></span> (<span class="name">primes</span> <span class="number">1000000</span>) <span class="number">10000</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">eratosthenes</span></span>(limit: <span class="built_in">usize</span>) -&gt; <span class="built_in">Vec</span>&lt;<span class="built_in">usize</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> sieve = <span class="built_in">vec!</span>[<span class="literal">true</span>; limit];</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> p = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="comment">// Eliminate multiples of p.</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> i = <span class="number">2</span> * p - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> i &lt; limit &#123;</span><br><span class="line">            sieve[i] = <span class="literal">false</span>;</span><br><span class="line">            i += p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Find the next prime.</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(n) = (p..limit).find(|&amp;n| sieve[n]) &#123;</span><br><span class="line">            p = n + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sieve</span><br><span class="line">        .iter()</span><br><span class="line">        .enumerate()</span><br><span class="line">        .filter(|&amp;(_, &amp;is_prime)| is_prime)</span><br><span class="line">        .skip(<span class="number">1</span>)</span><br><span class="line">        .map(|(i, _)| i + <span class="number">1</span>)</span><br><span class="line">        .collect()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> primes = eratosthenes(<span class="number">1000000</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, primes[<span class="number">10000</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* Use Mathematica's built-in functions for easy problem-solving. *)</span></span><br><span class="line"><span class="keyword">Prime</span>[<span class="number">10001</span>]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p007</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p007().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution by testing each number</span></span><br><span class="line"><span class="comment"> * individually for primeness, instead of using the more efficient sieve of Eratosthenes.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>, count = <span class="number">0</span>; ; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (Library.isPrime(i)) &#123;</span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">if</span> (count == <span class="number">10001</span>)</span><br><span class="line"><span class="keyword">return</span> Integer.toString(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;By listing the first six prime numbers: 2, 3, 5, 7
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-006</title>
    <link href="onlookerliu.github.io/2018/02/13/Project-Euler-006/"/>
    <id>onlookerliu.github.io/2018/02/13/Project-Euler-006/</id>
    <published>2018-02-13T13:59:55.000Z</published>
    <updated>2018-03-05T03:57:01.717Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><br>The sum of the squares of the first ten natural numbers is,<br></p><p>$$1^2 + 2^2 + … + 10^2 = 385$$</p><p><br>The square of the sum of the first ten natural numbers is,<br></p><p>$$(1 + 2 + … + 10)^2 = 55^2 = 3025$$</p><p><br>Hence the difference between the sum of the squares of the first ten natural<br>numbers and the square of the sum is $3025 - 385 = 2640$.<br></p><p><br>Find the difference between the sum of the squares of the first one hundred<br>natural numbers and the square of the sum.<br></p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">25164150</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">print(sum(range(<span class="number">1</span>, <span class="number">101</span>))**<span class="number">2</span> - sum(x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">101</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>, sumSquares = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">  sum += i</span><br><span class="line">  sumSquares += i * i</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum * sum - sumSquares)</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sumSquares, squareSum := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++ &#123;</span><br><span class="line">sumSquares += i * i</span><br><span class="line">squareSum += i</span><br><span class="line">&#125;</span><br><span class="line">squareSum *= squareSum</span><br><span class="line">fmt.Println(squareSum - sumSquares)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">puts ((<span class="number">1</span>..<span class="number">100</span>).inject(<span class="number">0</span>) &#123;<span class="params">|s,v|</span> s += v&#125;)**<span class="number">2</span> - ((<span class="number">1</span>..<span class="number">100</span>).collect &#123;<span class="params">|x|</span> x**<span class="number">2</span>&#125;.inject(<span class="number">0</span>) &#123; <span class="params">|s,v|</span> s += v&#125;)</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ (s*s) - sqS <span class="keyword">where</span></span><br><span class="line">    s = sum [<span class="number">1.</span><span class="number">.100</span>]</span><br><span class="line">    sqS = sum [i * i | i &lt;- [<span class="number">1.</span><span class="number">.100</span>]]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> square [x]</span><br><span class="line">  (<span class="name"><span class="builtin-name">*</span></span> x x))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> sum-squares [limit]</span><br><span class="line">  (<span class="name"><span class="builtin-name">apply</span></span> + (<span class="name"><span class="builtin-name">map</span></span> square (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">+</span></span> limit <span class="number">1</span>)))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> square-sum [limit]</span><br><span class="line">  (<span class="name">square</span> (<span class="name"><span class="builtin-name">apply</span></span> + (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">+</span></span> limit <span class="number">1</span>)))))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">-</span></span> (<span class="name">square-sum</span> <span class="number">100</span>) (<span class="name">sum-squares</span> <span class="number">100</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> sum_squares = (<span class="number">1</span>..<span class="number">101</span>).map(|x| x*x).sum::&lt;<span class="built_in">u64</span>&gt;();</span><br><span class="line">    <span class="keyword">let</span> square_sum = (<span class="number">1</span>..<span class="number">101</span>).sum::&lt;<span class="built_in">u64</span>&gt;().pow(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, square_sum - sum_squares);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathemtica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * However for the mathematically inclined, there are closed-form formulas:</span></span><br><span class="line"><span class="comment"> *   sum  = n(n + 1) / 2.</span></span><br><span class="line"><span class="comment"> *   sum2 = n(n + 1)(2n + 1) / 6.</span></span><br><span class="line"><span class="comment"> * Hence sum^2 - sum2 = (n^4 / 4) + (n^3 / 6) - (n^2 / 4) - (n / 6).</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line">n = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">Sum</span>[k, &#123;k, n&#125;]^<span class="number">2</span> - <span class="keyword">Sum</span>[k^<span class="number">2</span>, &#123;k, n&#125;]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p006</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p006().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * Note that sum^2 is bounded above by (100*100)^2 and sum2 is</span></span><br><span class="line"><span class="comment"> * bounded above by 100*(100^2), both of which fit in a Java int type.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * However for the mathematically inclined, there are closed-form formulas:</span></span><br><span class="line"><span class="comment"> *   sum  = N(N + 1) / 2.</span></span><br><span class="line"><span class="comment"> *   sum2 = N(N + 1)(2N + 1) / 6.</span></span><br><span class="line"><span class="comment"> * Hence sum^2 - sum2 = (N^4 / 4) + (N^3 / 6) - (N^2 / 4) - (N / 6).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> N = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> sum2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">sum += i;</span><br><span class="line">sum2 += i * i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum * sum - sum2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;&lt;br&gt;The sum of the squares of the first ten natura
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-005</title>
    <link href="onlookerliu.github.io/2018/02/12/Project-Euler-005/"/>
    <id>onlookerliu.github.io/2018/02/12/Project-Euler-005/</id>
    <published>2018-02-12T13:46:16.000Z</published>
    <updated>2018-03-05T03:56:52.329Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>2520 is the smallest number that can be divided by each<br>of the numbers from 1 to 10 without any remainder.</p><p>What is the smallest positive number that is evenly divisible<br>by all of the numbers from 1 to 20?</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">232792560</span><br></pre></td></tr></table></figure><hr><p>The critical insight of this problem is this:</p><p>$$divisibleto(x) = n \times divisibleto(x-1)$$</p><p>This means that when searching for the smallest number divisible to 20,<br>we can increment by the smallest number divisible to 19 each time (since the<br>smallest number divisible to 19 is inherently a factor of the smallest number<br>divisible to 20).</p><p>This insight is used in the python solution on line 14:</p><pre><code>step = divisible_to(x-1)</code></pre><p>This is a recursive solution to the problem, and yields incredible performance. It can calculate<br>the smallest number divisible to 500 in a fraction of a second.</p><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_divisible_to</span><span class="params">(number, x)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> reversed(list(range(<span class="number">1</span>, x+<span class="number">1</span>))):</span><br><span class="line">        <span class="keyword">if</span> number % i != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divisible_to</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">elif</span> x == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        step = divisible_to(x<span class="number">-1</span>)</span><br><span class="line">        number = <span class="number">0</span></span><br><span class="line">        found = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> found:</span><br><span class="line">            number += step</span><br><span class="line">            found = is_divisible_to(number, x)</span><br><span class="line">        <span class="keyword">return</span> number</span><br><span class="line"></span><br><span class="line">print(divisible_to(<span class="number">20</span>))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDivisibleTo</span>(<span class="params">x, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (; n &gt; <span class="number">0</span>; n -= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (x % n !== <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">divisibleTo</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> step = divisibleTo(n - <span class="number">1</span>), i = step; !isDivisibleTo(i, n); i += step);</span><br><span class="line">  <span class="keyword">return</span> i</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(divisibleTo(<span class="number">20</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GCD</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> b != <span class="number">0</span> &#123;</span><br><span class="line">a, b = b, a%b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lcm := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= <span class="number">20</span>; i++ &#123;</span><br><span class="line">lcm *= i / GCD(i, lcm)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(lcm)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Numeric</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">divisible_to?</span><span class="params">(x)</span></span></span><br><span class="line">    <span class="keyword">self</span> &gt; <span class="number">0</span> <span class="keyword">and</span> x.downto(<span class="number">1</span>).all? &#123; <span class="params">|i|</span> <span class="keyword">self</span> % i == <span class="number">0</span> &#125;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divisible_to</span><span class="params">(x)</span></span></span><br><span class="line">  <span class="keyword">if</span> x &lt; <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">elsif</span> x == <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    step = divisible_to(x-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">until</span> n.divisible_to? x</span><br><span class="line">      n += step</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts divisible_to(<span class="number">20</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">gcd</span></span>(<span class="keyword">mut</span> a: <span class="built_in">u64</span>, <span class="keyword">mut</span> b: <span class="built_in">u64</span>) -&gt; <span class="built_in">u64</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> b != <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> t = a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = t % b;</span><br><span class="line">    &#125;</span><br><span class="line">    a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> lcm = (<span class="number">2</span>..<span class="number">21</span>).fold(<span class="number">1</span>, |acc, i| &#123;</span><br><span class="line">        acc * i / gcd(i, acc)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, lcm);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">isDivisibleTo</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isDivisibleTo</span> x n = all (\i -&gt; n `mod` i == <span class="number">0</span>) (reverse [<span class="number">1.</span>.x])</span><br><span class="line"></span><br><span class="line"><span class="title">divisibleTo</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">divisibleTo</span> <span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="title">divisibleTo</span> x = <span class="keyword">let</span> step = divisibleTo (x<span class="number">-1</span>)</span><br><span class="line">                <span class="keyword">in</span>  head $ filter (isDivisibleTo x) [step,<span class="number">2</span>*step..]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ divisibleTo <span class="number">20</span></span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> divisible-to-x? [n x]</span><br><span class="line">  (<span class="name">every?</span> #(<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n %) <span class="number">0</span>) (<span class="name"><span class="builtin-name">reverse</span></span> (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">+</span></span> x <span class="number">1</span>)))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> divisible-to [x]</span><br><span class="line">  (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">=</span></span> x <span class="number">1</span>)</span><br><span class="line">    x</span><br><span class="line">    (<span class="name"><span class="builtin-name">first</span></span> (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name">divisible-to-x?</span> % x) (<span class="name"><span class="builtin-name">iterate</span></span> inc (<span class="name">divisible-to</span> (<span class="name"><span class="builtin-name">-</span></span> x <span class="number">1</span>)))))))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name">divisible-to</span> <span class="number">20</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * The smallest number n that is evenly divisible by every number in a set &#123;k1, k2, ..., k_m&#125;</span></span><br><span class="line"><span class="comment"> * is also known as the lowest common multiple (LCM) of the set of numbers.</span></span><br><span class="line"><span class="comment"> * The LCM of two natural numbers x and y is given by LCM(x, y) = x * y / GCD(x, y).</span></span><br><span class="line"><span class="comment"> * When LCM is applied to a collection of numbers, it is commutative, associative, and idempotent.</span></span><br><span class="line"><span class="comment"> * Hence LCM(k1, k2, ..., k_m) = LCM(...(LCM(LCM(k1, k2), k3)...), k_m).</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"><span class="keyword">Apply</span>[<span class="keyword">LCM</span>, <span class="keyword">Range</span>[<span class="number">20</span>]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p005</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p005().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * The smallest number n that is evenly divisible by every number in a set &#123;k1, k2, ..., k_m&#125;</span></span><br><span class="line"><span class="comment"> * is also known as the lowest common multiple (LCM) of the set of numbers.</span></span><br><span class="line"><span class="comment"> * The LCM of two natural numbers x and y is given by LCM(x, y) = x * y / GCD(x, y).</span></span><br><span class="line"><span class="comment"> * When LCM is applied to a collection of numbers, it is commutative, associative, and idempotent.</span></span><br><span class="line"><span class="comment"> * Hence LCM(k1, k2, ..., k_m) = LCM(...(LCM(LCM(k1, k2), k3)...), k_m).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">BigInteger allLcm = BigInteger.ONE;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++)</span><br><span class="line">allLcm = lcm(BigInteger.valueOf(i), allLcm);</span><br><span class="line"><span class="keyword">return</span> allLcm.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> BigInteger <span class="title">lcm</span><span class="params">(BigInteger x, BigInteger y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> x.divide(x.gcd(y)).multiply(y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;2520 is the smallest number that can be divided by
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-004</title>
    <link href="onlookerliu.github.io/2018/02/11/Project-Euler-004/"/>
    <id>onlookerliu.github.io/2018/02/11/Project-Euler-004/</id>
    <published>2018-02-11T14:37:57.000Z</published>
    <updated>2018-02-28T13:44:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>A palindromic number reads the same both ways. The largest palindrome<br>made from the product of two 2-digit numbers is $9009 = 91 \times 99$.</p><p>Find the largest palindrome made from the product of two 3-digit numbers.</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">906609</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">print(max(a * b <span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">100</span>, <span class="number">1000</span>) <span class="keyword">for</span> b <span class="keyword">in</span> range(a, <span class="number">1000</span>) <span class="keyword">if</span> str(a * b) == str(a * b)[::<span class="number">-1</span>]))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isPalindrome = <span class="function">(<span class="params">s</span>) =&gt;</span> s === s.split(<span class="string">""</span>).reverse().join(<span class="string">""</span>)</span><br><span class="line"><span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">100</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">100</span>; j &lt; <span class="number">1000</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">const</span> s = (i * j)</span><br><span class="line">    <span class="keyword">if</span> (s &gt; max &amp;&amp; isPalindrome(s.toString())) &#123;</span><br><span class="line">      max = s</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(max)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">palindromic?</span></span></span><br><span class="line">    digits = <span class="keyword">self</span>.to_s.split(<span class="string">''</span>)</span><br><span class="line">    <span class="keyword">return</span> digits == digits.reverse</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">max = <span class="number">0</span></span><br><span class="line">(<span class="number">100</span>..<span class="number">999</span>).each <span class="keyword">do</span> <span class="params">|a|</span></span><br><span class="line">  (a..<span class="number">999</span>).each <span class="keyword">do</span> <span class="params">|b|</span></span><br><span class="line">    product = a * b</span><br><span class="line">    <span class="keyword">if</span> product &gt; max <span class="keyword">and</span> product.palindromic?</span><br><span class="line">      max = product</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts max</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IsPalindrome</span><span class="params">(number <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">n := number</span><br><span class="line">reversed, digit := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">digit = n % <span class="number">10</span></span><br><span class="line">reversed = reversed*<span class="number">10</span> + digit</span><br><span class="line">n /= <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> number == reversed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">product, max := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> a := <span class="number">100</span>; a &lt; <span class="number">1000</span>; a++ &#123;</span><br><span class="line"><span class="keyword">for</span> b := a; b &lt; <span class="number">1000</span>; b++ &#123;</span><br><span class="line">product = a * b</span><br><span class="line"><span class="keyword">if</span> product &gt; max &amp;&amp; IsPalindrome(product) &#123;</span><br><span class="line">max = product</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(max)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">isPalindrome</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isPalindrome</span> n = show n == reverse (show n)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ maximum [prod | a &lt;- [<span class="number">100.</span><span class="number">.999</span>], b &lt;- [a.<span class="number">.999</span>], <span class="keyword">let</span> prod = a * b, isPalindrome prod]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> palindrome? [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">seq</span></span> (<span class="name"><span class="builtin-name">str</span></span> n)) (<span class="name"><span class="builtin-name">reverse</span></span> (<span class="name"><span class="builtin-name">str</span></span> n))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> palindromes [limit]</span><br><span class="line">  (<span class="name"><span class="builtin-name">filter</span></span> palindrome? (<span class="name"><span class="builtin-name">for</span></span> [a (<span class="name"><span class="builtin-name">range</span></span> <span class="number">100</span> <span class="number">1000</span>) b (<span class="name"><span class="builtin-name">range</span></span> a <span class="number">1000</span>)] (<span class="name"><span class="builtin-name">*</span></span> a b))))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> max (<span class="name">palindromes</span> <span class="number">1000</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">is_palindrome</span></span>(number: <span class="built_in">u64</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> n = number;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> reversed = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> digit = n % <span class="number">10</span>;</span><br><span class="line">        reversed = reversed * <span class="number">10</span> + digit;</span><br><span class="line">        n /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    number == reversed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> largest = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> <span class="number">100</span>..<span class="number">1000</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> <span class="number">100</span>..<span class="number">1000</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> product = a * b;</span><br><span class="line">            <span class="keyword">if</span> product &gt; largest &amp;&amp; is_palindrome(product) &#123;</span><br><span class="line">                largest = product;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, largest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p004</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p004().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * Note that the maximum product is 999 * 999, which fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxPalin = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">100</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">100</span>; j &lt; <span class="number">1000</span>; j++) &#123;</span><br><span class="line"><span class="keyword">int</span> prod = i * j;</span><br><span class="line"><span class="keyword">if</span> (Library.isPalindrome(prod) &amp;&amp; prod &gt; maxPalin)</span><br><span class="line">maxPalin = prod;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(maxPalin);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PalindromeQ[x_] := <span class="keyword">IntegerDigits</span>[x] == <span class="keyword">Reverse</span>[<span class="keyword">IntegerDigits</span>[x]]</span><br><span class="line"><span class="keyword">Max</span>[<span class="keyword">Select</span>[<span class="keyword">Flatten</span>[<span class="keyword">Table</span>[i * j, &#123;i, 100, 999&#125;, &#123;j, 100, 999&#125;]], PalindromeQ]]</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;A palindromic number reads the same both ways. The
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-003</title>
    <link href="onlookerliu.github.io/2018/02/10/Project-Euler-003/"/>
    <id>onlookerliu.github.io/2018/02/10/Project-Euler-003/</id>
    <published>2018-02-10T12:59:58.000Z</published>
    <updated>2018-02-28T13:07:01.226Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>The prime factors of 13195 are 5, 7, 13 and 29.</p><p>What is the largest prime factor of the number 600851475143 ?</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6857</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorize</span><span class="params">(n)</span>:</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="comment"># iterate over all even numbers first.</span></span><br><span class="line">    <span class="keyword">while</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        res.append(<span class="number">2</span>)</span><br><span class="line">        n //= <span class="number">2</span></span><br><span class="line">    <span class="comment"># try odd numbers up to sqrt(n)</span></span><br><span class="line">    limit = math.sqrt(n+<span class="number">1</span>)</span><br><span class="line">    i = <span class="number">3</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= limit:</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            res.append(i)</span><br><span class="line">            n //= i</span><br><span class="line">            limit = math.sqrt(n+i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i += <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> n != <span class="number">1</span>:</span><br><span class="line">        res.append(n)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">print(max(factorize(<span class="number">600851475143</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">600851475143</span></span><br><span class="line"><span class="keyword">let</span> limit = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.sqrt(n))</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">3</span>; i &lt;= limit; i += <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="keyword">while</span> (n % i === <span class="number">0</span>) &#123;</span><br><span class="line">    n = <span class="built_in">Math</span>.floor(n / i)</span><br><span class="line">    limit = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.sqrt(n))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(n)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorize</span><span class="params">(orig)</span></span></span><br><span class="line">  factors = &#123;&#125;</span><br><span class="line">  factors.default = <span class="number">0</span>     <span class="comment"># return 0 instead nil if key not found in hash</span></span><br><span class="line">  n = orig</span><br><span class="line">  i = <span class="number">2</span></span><br><span class="line">  sqi = <span class="number">4</span>                 <span class="comment"># square of i</span></span><br><span class="line">  <span class="keyword">while</span> sqi &lt;= n <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">while</span> n.modulo(i) == <span class="number">0</span> <span class="keyword">do</span></span><br><span class="line">      n /= i</span><br><span class="line">      factors[i] += <span class="number">1</span></span><br><span class="line">      <span class="comment"># puts "Found factor #&#123;i&#125;"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment"># we take advantage of the fact that (i +1)**2 = i**2 + 2*i +1</span></span><br><span class="line">    sqi += <span class="number">2</span> * i + <span class="number">1</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (n != <span class="number">1</span>) &amp;&amp; (n != orig)</span><br><span class="line">    factors[n] += <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  factors</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts factorize(<span class="number">600851475143</span>).keys.max</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math/big"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">eratosthenes</span><span class="params">(max <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">nums := <span class="built_in">make</span>([]<span class="keyword">int</span>, max)</span><br><span class="line"></span><br><span class="line">p := <span class="number">2</span> <span class="comment">// first prime, 2</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">i := p - <span class="number">1</span></span><br><span class="line"><span class="comment">// mark multiples not prime</span></span><br><span class="line"><span class="keyword">for</span> i += p; i &lt; max; i += p &#123;</span><br><span class="line">nums[i] = <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// find first unmarked number greater than p</span></span><br><span class="line"><span class="keyword">for</span> i = p; i &lt; max; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> nums[i] != <span class="number">-1</span> &#123;</span><br><span class="line">p = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// no unmarked numbers greater than p found; finished</span></span><br><span class="line"><span class="keyword">if</span> i == max &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// filter out all marked numbers</span></span><br><span class="line">primes := <span class="built_in">make</span>([]<span class="keyword">int</span>, max)</span><br><span class="line">j := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> nums &#123;</span><br><span class="line"><span class="keyword">if</span> nums[i] == <span class="number">0</span> &#123;</span><br><span class="line">primes[j] = i + <span class="number">1</span></span><br><span class="line">j++</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> primes[:j]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">n := <span class="built_in">new</span>(big.Int)</span><br><span class="line">n.SetString(<span class="string">"600851475143"</span>, <span class="number">10</span>)</span><br><span class="line">m := <span class="built_in">new</span>(big.Int)</span><br><span class="line">max := <span class="keyword">int</span>(math.Sqrt(<span class="number">600851475143</span>))</span><br><span class="line">primes := eratosthenes(max)</span><br><span class="line"><span class="comment">// find the largest prime factor of n</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="built_in">len</span>(primes) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">p := big.NewInt(<span class="keyword">int64</span>(primes[i]))</span><br><span class="line">m.Mod(n, p)</span><br><span class="line"><span class="keyword">if</span> m.Int64() == <span class="number">0</span> &#123;</span><br><span class="line">fmt.Println(p)</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">primes</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">primes</span> = sieve [<span class="number">2.</span>.] <span class="keyword">where</span></span><br><span class="line">    sieve (p:xs) = p : sieve [x | x &lt;- xs, x `mod` p &gt; <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="title">factorize</span> :: <span class="type">Integer</span> -&gt; [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">factorize</span> n = primeFactors n primes <span class="keyword">where</span></span><br><span class="line">    primeFactors <span class="number">1</span> _ = []</span><br><span class="line">    primeFactors m (p:ps) | m &lt; p * p = [m]</span><br><span class="line">                          | r == <span class="number">0</span> = p : primeFactors q (p:ps)</span><br><span class="line">                          | otherwise = primeFactors m ps</span><br><span class="line">                          <span class="keyword">where</span> (q, r) = quotRem m p</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ maximum $ factorize <span class="number">600851475143</span></span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> n: <span class="built_in">u64</span> = <span class="number">600851475143</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> limit = n / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> i = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">while</span> i &lt; limit &#123;</span><br><span class="line">        <span class="keyword">while</span> n % i == <span class="number">0</span> &#123;</span><br><span class="line">            n = n / i;</span><br><span class="line">            limit = n / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        i += <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p003</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p003().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * By the fundamental theorem of arithmetic, every integer n &gt; 1 has a unique factorization as a product of prime numbers.</span></span><br><span class="line"><span class="comment"> * In other words, the theorem says that n = p_0 * p_1 * ... * p_&#123;m-1&#125;, where each p_i &gt; 1 is prime but not necessarily unique.</span></span><br><span class="line"><span class="comment"> * Now if we take the number n and repeatedly divide out its smallest factor (which must also be prime), then the last</span></span><br><span class="line"><span class="comment"> * factor that we divide out must be the largest prime factor of n. For reference, 600851475143 = 71 * 839 * 1471 * 6857.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> n = <span class="number">600851475143L</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">long</span> p = smallestFactor(n);</span><br><span class="line"><span class="keyword">if</span> (p &lt; n)</span><br><span class="line">n /= p;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> Long.toString(n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns the smallest factor of n, which is in the range [2, n]. The result is always prime.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">smallestFactor</span><span class="params">(<span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n &lt;= <span class="number">1</span>)</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">long</span> i = <span class="number">2</span>, end = Library.sqrt(n); i &lt;= end; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> n;  <span class="comment">// n itself is prime</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">First</span>[<span class="keyword">Last</span>[<span class="keyword">FactorInteger</span>[<span class="number">600851475143</span>]]]</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Question&quot;&gt;&lt;a href=&quot;#Question&quot; class=&quot;headerlink&quot; title=&quot;Question&quot;&gt;&lt;/a&gt;Question&lt;/h2&gt;&lt;p&gt;The prime factors of 13195 are 5, 7, 13 and 29
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project-Euler-002</title>
    <link href="onlookerliu.github.io/2018/02/09/Project-Euler-002/"/>
    <id>onlookerliu.github.io/2018/02/09/Project-Euler-002/</id>
    <published>2018-02-09T12:42:19.000Z</published>
    <updated>2018-03-05T03:57:01.717Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p><p>$$<br>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, …<br>$$</p><p>Find the sum of all the even-valued terms in the sequence which do not exceed four million.</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4613732</span><br></pre></td></tr></table></figure><hr><p>python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute</span><span class="params">()</span>:</span></span><br><span class="line">ans = <span class="number">0</span></span><br><span class="line">x = <span class="number">1</span>  <span class="comment"># Represents the current Fibonacci number being processed</span></span><br><span class="line">y = <span class="number">2</span>  <span class="comment"># Represents the next Fibonacci number in the sequence</span></span><br><span class="line"><span class="keyword">while</span> x &lt;= <span class="number">4000000</span>:</span><br><span class="line"><span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">ans += x</span><br><span class="line">x, y = y, x + y</span><br><span class="line"><span class="keyword">return</span> str(ans)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">print(compute())</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> f = [<span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">while</span> (f[<span class="number">0</span>] &lt; <span class="number">4e6</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (f[<span class="number">0</span>] % <span class="number">2</span> === <span class="number">0</span>) s+= f[<span class="number">0</span>]</span><br><span class="line">    f = [f[<span class="number">1</span>], f[<span class="number">0</span>]+f[<span class="number">1</span>]]</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">sum a, b = <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"><span class="keyword">while</span> b &lt; <span class="number">4000000</span></span><br><span class="line">  sum += b <span class="keyword">if</span> b.even?</span><br><span class="line">  a, b = b, a+b</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts sum</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> a, b := <span class="number">1</span>, <span class="number">2</span>; b &lt;= <span class="number">4e6</span>; a, b = b, a+b &#123;</span><br><span class="line">        <span class="keyword">if</span> b%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">            sum += b</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">fibs</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">fibs</span> = <span class="number">0</span>:<span class="number">1</span>:zipWith (+) fibs (tail fibs)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span>()</span><br><span class="line"><span class="title">main</span> = print $sum $ filter even $ takeWhile (&lt;<span class="number">4000000</span>) fibs</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> fibs (<span class="name">lazy-cat</span> [<span class="number">0</span> <span class="number">1</span>] (<span class="name"><span class="builtin-name">map</span></span> + (<span class="name"><span class="builtin-name">rest</span></span> fibs) fibs)))</span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name"><span class="builtin-name">filter</span></span> even? (<span class="name"><span class="builtin-name">take-while</span></span> #(<span class="name"><span class="builtin-name">&lt;</span></span> % <span class="number">4000000</span>) fibs))))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">For</span>[i = <span class="number">0</span>, (f = <span class="keyword">Fibonacci</span>[i]) &lt;= <span class="number">4000000</span>, i++,</span><br><span class="line">  <span class="keyword">If</span>[<span class="keyword">EvenQ</span>[f],</span><br><span class="line">    s += f]]</span><br><span class="line">s</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p002</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p002().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * Because the Fibonacci sequence grows exponentially by a factor of 1.618, the sum is</span></span><br><span class="line"><span class="comment"> * bounded above by a small multiple of 4 million. Thus the answer fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">1</span>;  <span class="comment">// Represents the current Fibonacci number being processed</span></span><br><span class="line"><span class="keyword">int</span> y = <span class="number">2</span>;  <span class="comment">// Represents the next Fibonacci number in the sequence</span></span><br><span class="line"><span class="keyword">while</span> (x &lt;= <span class="number">4000000</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (x % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">sum += x;</span><br><span class="line"><span class="keyword">int</span> z = x + y;</span><br><span class="line">x = y;</span><br><span class="line">y = z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;Each new term in the Fibonacci sequence is generat
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>Project Euler 001</title>
    <link href="onlookerliu.github.io/2018/02/08/Project-Euler-001/"/>
    <id>onlookerliu.github.io/2018/02/08/Project-Euler-001/</id>
    <published>2018-02-08T11:41:03.000Z</published>
    <updated>2018-02-28T12:54:53.043Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we<br>get 3, 5, 6 and 9. The sum of these multiples is 23.</p><p>Find the sum of all the multiples of 3 or 5 below 1000.</p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">233168</span><br></pre></td></tr></table></figure><hr><p>C</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span> || i % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This forces every solution class to implement a common interface,</span></span><br><span class="line"><span class="comment">// which is helpful for unit testing like in the EulerTest implementation.</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p001</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p001().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * A conservative upper bound for the sum is 1000 * 1000, which fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span> || i % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">sum += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Mathematica</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Total</span>[<span class="keyword">Select</span>[<span class="keyword">Range</span>[<span class="number">999</span>], <span class="keyword">Function</span>[x, <span class="keyword">Mod</span>[x, <span class="number">3</span>] == <span class="number">0</span> || <span class="keyword">Mod</span>[x, <span class="number">5</span>] == <span class="number">0</span>]]]</span><br></pre></td></tr></table></figure><hr><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">print(sum(i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>) <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span>) <span class="keyword">or</span> (i % <span class="number">5</span> == <span class="number">0</span>)))</span><br></pre></td></tr></table></figure><hr><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">3</span> === <span class="number">0</span> || i % <span class="number">5</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    s += i</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s)</span><br></pre></td></tr></table></figure><hr><p>Ruby</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="number">1000</span>.times <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">  <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">0</span> <span class="keyword">or</span> i % <span class="number">5</span> == <span class="number">0</span></span><br><span class="line">    sum += i</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts sum</span><br></pre></td></tr></table></figure><hr><p>Go</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> i%<span class="number">3</span> == <span class="number">0</span> || i%<span class="number">5</span> == <span class="number">0</span> &#123;</span><br><span class="line">sum += i</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Haskell</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ sum [n | n &lt;- [<span class="number">1.</span><span class="number">.999</span>], or [(n `mod` <span class="number">3</span> == <span class="number">0</span>), (n `mod` <span class="number">5</span> == <span class="number">0</span>)]]</span><br></pre></td></tr></table></figure><hr><p>Clojure</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> multiple? [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">or</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n <span class="number">3</span>) <span class="number">0</span>) (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n <span class="number">5</span>) <span class="number">0</span>)))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name"><span class="builtin-name">filter</span></span> multiple? (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1000</span>))))</span><br></pre></td></tr></table></figure><hr><p>Scheme</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">display</span></span></span><br><span class="line">  (<span class="name">reduce</span> + <span class="number">0</span></span><br><span class="line">          (<span class="name">filter</span></span><br><span class="line">            (<span class="name"><span class="builtin-name">lambda</span></span> (n)</span><br><span class="line">              (<span class="name"><span class="builtin-name">or</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">remainder</span></span> n <span class="number">3</span>) <span class="number">0</span>) (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">remainder</span></span> n <span class="number">5</span>) <span class="number">0</span>)))</span><br><span class="line">            (<span class="name">iota</span> <span class="number">1000</span>))))</span><br><span class="line">(<span class="name"><span class="builtin-name">newline</span></span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Question&quot;&gt;&lt;a href=&quot;#Question&quot; class=&quot;headerlink&quot; title=&quot;Question&quot;&gt;&lt;/a&gt;Question&lt;/h2&gt;&lt;p&gt;If we list all the natural numbers below 10 th
      
    
    </summary>
    
    
      <category term="euler" scheme="onlookerliu.github.io/tags/euler/"/>
    
      <category term="multilingual" scheme="onlookerliu.github.io/tags/multilingual/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode Notes 002</title>
    <link href="onlookerliu.github.io/2017/12/30/LeetCode-Notes-002/"/>
    <id>onlookerliu.github.io/2017/12/30/LeetCode-Notes-002/</id>
    <published>2017-12-29T17:39:34.000Z</published>
    <updated>2018-02-28T11:50:15.840Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Add-Binary"><a href="#Add-Binary" class="headerlink" title="Add Binary"></a>Add Binary</h3><p>Given two binary strings, return their sum (also a binary string).</p><p>For example,<br>a = “11”<br>b = “1”<br>Return “100”.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; a</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; b</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> addBinary = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  a = a.split(<span class="string">''</span>).reverse();</span><br><span class="line">  b = b.split(<span class="string">''</span>).reverse();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> c = [];</span><br><span class="line">  <span class="keyword">var</span> add = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="built_in">Math</span>.max(a.length, b.length);i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = (a[i] === <span class="literal">undefined</span> ? <span class="number">0</span> : <span class="built_in">Number</span>(a[i])) + (b[i] === <span class="literal">undefined</span> ? <span class="number">0</span>: <span class="built_in">Number</span>(b[i])) + add;</span><br><span class="line">    c[i] = sum &amp; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (sum &gt;= <span class="number">2</span>) </span><br><span class="line">      add = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">      add = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (add)</span><br><span class="line">    c[len] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> c.reverse().join(<span class="string">''</span>).toString();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Add-Digit"><a href="#Add-Digit" class="headerlink" title="Add Digit"></a>Add Digit</h3><p>Given a non-negative integer num, repeatedly add all its digits until the result has only one digit.</p><p><strong>For example:</strong></p><p>Given num = 38, the process is like: 3 + 8 = 11, 1 + 1 = 2. Since 2 has only one digit, return it.</p><p><strong>Follow up:</strong><br>Could you do it without any loop/recursion in O(1) runtime?</p><p><strong>Credits:</strong><br>Special thanks to @jianchao.li.fighter for adding this problem and creating all test cases.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> addDigits = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(num.toString().length !== <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (num) &#123;</span><br><span class="line">      sum += num % <span class="number">10</span>;</span><br><span class="line">      num = ~~(num / <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    num = sum;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> num;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Add-Strings"><a href="#Add-Strings" class="headerlink" title="Add Strings"></a>Add Strings</h3><p>Given two non-negative integers num1 and num2 represented as string, return the sum of num1 and num2.</p><p>Note:</p><ol><li>The length of both num1 and num2 is &lt; 5100.</li><li>Both num1 and num2 contains only digits 0-9.</li><li>Both num1 and num2 does not contain any leading zero.</li><li>You must not use any built-in BigInteger library or convert the inputs to integer directly.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; num1</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; num2</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> addStrings = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [i, j] = [num1.length, num2.length];</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">let</span> add = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  i -= <span class="number">1</span>, j -= <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> ( ; i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>; i--, j--) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = i &gt;= <span class="number">0</span> ? +num1[i] : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> b = j &gt;= <span class="number">0</span> ? +num2[j] : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> sum = a + b + add;</span><br><span class="line">    ans = sum % <span class="number">10</span> + ans;</span><br><span class="line">    add = ~~(sum / <span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  add &amp;&amp; (ans = add + ans);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Add-Binary&quot;&gt;&lt;a href=&quot;#Add-Binary&quot; class=&quot;headerlink&quot; title=&quot;Add Binary&quot;&gt;&lt;/a&gt;Add Binary&lt;/h3&gt;&lt;p&gt;Given two binary strings, return their
      
    
    </summary>
    
    
      <category term="leetcode" scheme="onlookerliu.github.io/tags/leetcode/"/>
    
      <category term="javascript" scheme="onlookerliu.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>A simple Metropolis-Hastings MCMC in R</title>
    <link href="onlookerliu.github.io/2017/12/29/A-simple-Metropolis-Hastings-MCMC-in-R/"/>
    <id>onlookerliu.github.io/2017/12/29/A-simple-Metropolis-Hastings-MCMC-in-R/</id>
    <published>2017-12-28T17:47:23.000Z</published>
    <updated>2018-02-28T15:55:23.796Z</updated>
    
    <content type="html"><![CDATA[<p>While there are certainly good software packages out there to do the job for you, notably BUGS or JAGS, it is instructive to program a simple MCMC yourself. In this post, I give an educational example of the Bayesian equivalent of a linear regression, sampled by an MCMC with Metropolis-Hastings steps, based on an earlier version which I did to together with Tamara Münkemüller. Since first publishing this post, I have made a few small modifications to improve clarity. A similar post on Metropolis-Hastings MCMC algorithms by Darren Wilkinson is also worth looking at. More on analyzing the results of this algorithm can be found in a recent post.</p><h2 id="Creating-test-data"><a href="#Creating-test-data" class="headerlink" title="Creating test data"></a>Creating test data</h2><p>As a first step, we create some test data that will be used to fit our model. Let’s assume a linear relationship between the predictor and the response variable, so we take a linear model and add some noise.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">trueA &lt;- <span class="number">5</span></span><br><span class="line">trueB &lt;- <span class="number">0</span></span><br><span class="line">trueSd &lt;- <span class="number">10</span></span><br><span class="line">sampleSize &lt;- <span class="number">31</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create independent x-values</span></span><br><span class="line">x &lt;- (-(sampleSize-<span class="number">1</span>)/<span class="number">2</span>):((sampleSize-<span class="number">1</span>)/<span class="number">2</span>)</span><br><span class="line"><span class="comment"># create dependent values according to ax + b + N(0,sd)</span></span><br><span class="line">y &lt;-  trueA * x + trueB + rnorm(n=sampleSize,mean=<span class="number">0</span>,sd=trueSd)</span><br><span class="line"></span><br><span class="line">plot(x,y, main=<span class="string">"Test Data"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/machineLearning/MCMC/output_2_0.png" width="60%"><br></div><p>I balanced x values around zero to “de-correlate” slope and intercept. The result should look something like the figure to the above.</p><h2 id="Defining-the-statistical-model"><a href="#Defining-the-statistical-model" class="headerlink" title="Defining the statistical model"></a>Defining the statistical model</h2><p>The next step is to specify the statistical model. We already know that the data was created with a linear relationship $y = a*x + b$ between $x$ and $y$ and a normal error model $N(0,sd)$ with standard deviation $sd$, so let’s use the same model for the fit and see if we can retrieve our original parameter values.</p><h2 id="Derive-the-likelihood-function-from-the-model"><a href="#Derive-the-likelihood-function-from-the-model" class="headerlink" title="Derive the likelihood function from the model"></a>Derive the likelihood function from the model</h2><p>For estimating parameters in a Bayesian analysis, we need to derive the likelihood function for the model that we want to fit. The likelihood is the probability (density) with which we would expect the observed data to occur conditional on the parameters of the model that we look at. So, given that our linear model $y = b + a<em>x + N(0,sd)$ takes the parameters $(a, b, sd)$ as an input, we have to return the probability of obtaining the test data above under this model (this sounds more complicated as it is, as you see in the code, we simply calculate the difference between predictions $y = b + a</em>x$ and the observed $y$, and then we have to look up the probability densities (using <code>dnorm</code>) for such deviations to occur.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">likelihood &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">    a = param[<span class="number">1</span>]</span><br><span class="line">    b = param[<span class="number">2</span>]</span><br><span class="line">    sd = param[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">    pred = a*x + b</span><br><span class="line">    singlelikelihoods = dnorm(y, mean = pred, sd = sd, log = <span class="literal">T</span>)</span><br><span class="line">    sumll = sum(singlelikelihoods)</span><br><span class="line">    <span class="keyword">return</span>(sumll)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Example: plot the likelihood profile of the slope a</span></span><br><span class="line">slopevalues &lt;- <span class="keyword">function</span>(x)&#123;<span class="keyword">return</span>(likelihood(c(x, trueB, trueSd)))&#125;</span><br><span class="line">slopelikelihoods &lt;- lapply(seq(<span class="number">3</span>, <span class="number">7</span>, by=<span class="number">.05</span>), slopevalues )</span><br><span class="line">plot (seq(<span class="number">3</span>, <span class="number">7</span>, by=<span class="number">.05</span>), slopelikelihoods , type=<span class="string">"l"</span>, xlab = <span class="string">"values of slope parameter a"</span>, ylab = <span class="string">"Log likelihood"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/machineLearning/MCMC/output_5_0.png" width="60%"><br></div><p>As an illustration, the last lines of the code plot the Likelihood for a range of parameter values of the slope parameter a. The result should look something like the plot to the above.</p><h2 id="Why-we-work-with-logarithms"><a href="#Why-we-work-with-logarithms" class="headerlink" title="Why we work with logarithms"></a>Why we work with logarithms</h2><p>You might have noticed that I return the logarithm of the probabilities in the likelihood function, which is also the reason why I sum the probabilities of all our datapoints (the logarithm of a product equals the sum of the logarithms). Why do we do this?</p><p>You don’t have to, but it’s strongly advisable because likelihoods, where a lot of small probabilities are multiplied, can get ridiculously small pretty fast (something like $10^-34$). At some stage, computer programs are getting into numerical rounding or underflow problems then. So, bottom-line: when you program something with likelihoods, always use logarithms!!!</p><h2 id="Defining-the-prior"><a href="#Defining-the-prior" class="headerlink" title="Defining the prior"></a>Defining the prior</h2><p>As a second step, as always in Bayesian statistics, we have to specify a <a href="https://en.wikipedia.org/wiki/Prior_probability" target="_blank" rel="noopener">prior distribution</a> for each parameter. To make it easy, I used uniform distributions and normal distributions for all three parameters. Some additional information for the “professionals”, skip this when you don’t understand what I’m talking about: while this choice can be considered pretty <a href="https://en.wikipedia.org/wiki/Prior_probability#Uninformative_priors" target="_blank" rel="noopener">“uninformative”</a> for the slope and intercept parameters, it is not really uninformative for the standard deviations. An uninformative prior for the latter would usually be scale with $1/sigma$ (if you want to understand the reason, see <a href="https://en.wikipedia.org/wiki/Jeffreys_prior#Gaussian_distribution_with_standard_deviation_parameter" target="_blank" rel="noopener">here</a>. This stuff is important when you seriously dive into Bayesian statistics, but I didn’t want to make the code more confusing here.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prior distribution</span></span><br><span class="line">prior &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">    a = param[<span class="number">1</span>]</span><br><span class="line">    b = param[<span class="number">2</span>]</span><br><span class="line">    sd = param[<span class="number">3</span>]</span><br><span class="line">    aprior = dunif(a, min=<span class="number">0</span>, max=<span class="number">10</span>, log = <span class="literal">T</span>)</span><br><span class="line">    bprior = dnorm(b, sd = <span class="number">5</span>, log = <span class="literal">T</span>)</span><br><span class="line">    sdprior = dunif(sd, min=<span class="number">0</span>, max=<span class="number">30</span>, log = <span class="literal">T</span>)</span><br><span class="line">    <span class="keyword">return</span>(aprior+bprior+sdprior)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="The-posterior"><a href="#The-posterior" class="headerlink" title="The posterior"></a>The posterior</h2><p>The product of prior and likelihood is the actual quantity the MCMC will be working on. This function is called the <a href="https://en.wikipedia.org/wiki/Posterior_probability" target="_blank" rel="noopener">posterior</a> (or to be exact, it’s called the posterior after it’s normalized, which the MCMC will do for us, but let’s not be picky for the moment). Again, here we work with the sum because we work with logarithms.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">posterior &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">   <span class="keyword">return</span> (likelihood(param) + prior(param))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="The-MCMC"><a href="#The-MCMC" class="headerlink" title="The MCMC"></a>The MCMC</h2><p>Now, here comes the actual <a href="https://en.wikipedia.org/wiki/Metropolis%E2%80%93Hastings_algorithm" target="_blank" rel="noopener">Metropolis-Hastings algorithm</a>. One of the most frequent applications of this algorithm (as in this example) is sampling from the posterior density in Bayesian statistics. In principle, however, the algorithm may be used to sample from any integrable function. So, the aim of this algorithm is to jump around in parameter space, but in a way that the probability to be at a point is proportional to the function we sample from (this is usually called the target function). In our case this is the posterior defined above.</p><p>This is achieved by</p><ol><li>Starting at a random parameter value</li><li>Choosing a new parameter value close to the old value based on some probability density that is called the proposal function</li><li>Jumping to this new point with a probability p(new)/p(old), where p is the target function, and $p&gt;1$ means jumping as well</li></ol><p>It’s fun to think about why that works, but for the moment I can assure you it does – when we run this algorithm, distribution of the parameters it visits converges to the target distribution $p$. So, let’s get this in R:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">######## Metropolis algorithm ################</span></span><br><span class="line"></span><br><span class="line">proposalfunction &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">    <span class="keyword">return</span>(rnorm(<span class="number">3</span>,mean = param, sd= c(<span class="number">0.1</span>,<span class="number">0.5</span>,<span class="number">0.3</span>)))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">run_metropolis_MCMC &lt;- <span class="keyword">function</span>(startvalue, iterations)&#123;</span><br><span class="line">    chain = array(dim = c(iterations+<span class="number">1</span>,<span class="number">3</span>))</span><br><span class="line">    chain[<span class="number">1</span>,] = startvalue</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:iterations)&#123;</span><br><span class="line">        proposal = proposalfunction(chain[i,])</span><br><span class="line"></span><br><span class="line">        probab = exp(posterior(proposal) - posterior(chain[i,]))</span><br><span class="line">        <span class="keyword">if</span> (runif(<span class="number">1</span>) &lt; probab)&#123;</span><br><span class="line">            chain[i+<span class="number">1</span>,] = proposal</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            chain[i+<span class="number">1</span>,] = chain[i,]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>(chain)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">startvalue = c(<span class="number">4</span>,<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">chain = run_metropolis_MCMC(startvalue, <span class="number">10000</span>)</span><br><span class="line"></span><br><span class="line">burnIn = <span class="number">5000</span></span><br><span class="line">acceptance = <span class="number">1</span>-mean(duplicated(chain[-(<span class="number">1</span>:burnIn),]))</span><br></pre></td></tr></table></figure><p>Again, working with the logarithms of the posterior might be a bit confusing at first, in particular when you look at the line where the acceptance probability is calculated (probab = exp(posterior(proposal) – posterior(chain[i,]))). To understand why we do this, note that $p1/p2 = exp[log(p1)-log(p2)]$.</p><p>The first steps of the algorithm may be biased by the initial value, and are therefore usually discarded for the further analysis (burn-in time). An interesting output to look at is the acceptance rate: how often was a proposal rejected by the metropolis-hastings acceptance criterion? The acceptance rate can be influenced by the proposal function: generally, the closer the proposals are, the larger the acceptance rate. Very high acceptance rates, however, are usually not beneficial: this means that the algorithms is “staying” at the same point, which results in a suboptimal probing of the parameter space (mixing). It can be shown that acceptance rates between 20% and 30% are optimal for typical applications (more on that here).</p><p>Finally, we can plot the results. There are more elegant ways of plotting this which I discuss in another recent post, so check this out, but for the moment I didn’t want to use any packages, so we do it the hard way:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### Summary: #######################</span></span><br><span class="line"></span><br><span class="line">par(mfrow = c(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">hist(chain[-(<span class="number">1</span>:burnIn),<span class="number">1</span>],nclass=<span class="number">30</span>, , main=<span class="string">"Posterior of a"</span>, xlab=<span class="string">"True value = red line"</span> )</span><br><span class="line">abline(v = mean(chain[-(<span class="number">1</span>:burnIn),<span class="number">1</span>]))</span><br><span class="line">abline(v = trueA, col=<span class="string">"red"</span> )</span><br><span class="line">hist(chain[-(<span class="number">1</span>:burnIn),<span class="number">2</span>],nclass=<span class="number">30</span>, main=<span class="string">"Posterior of b"</span>, xlab=<span class="string">"True value = red line"</span>)</span><br><span class="line">abline(v = mean(chain[-(<span class="number">1</span>:burnIn),<span class="number">2</span>]))</span><br><span class="line">abline(v = trueB, col=<span class="string">"red"</span> )</span><br><span class="line">hist(chain[-(<span class="number">1</span>:burnIn),<span class="number">3</span>],nclass=<span class="number">30</span>, main=<span class="string">"Posterior of sd"</span>, xlab=<span class="string">"True value = red line"</span>)</span><br><span class="line">abline(v = mean(chain[-(<span class="number">1</span>:burnIn),<span class="number">3</span>]) )</span><br><span class="line">abline(v = trueSd, col=<span class="string">"red"</span> )</span><br><span class="line">plot(chain[-(<span class="number">1</span>:burnIn),<span class="number">1</span>], type = <span class="string">"l"</span>, xlab=<span class="string">"True value = red line"</span> , main = <span class="string">"Chain values of a"</span>, )</span><br><span class="line">abline(h = trueA, col=<span class="string">"red"</span> )</span><br><span class="line">plot(chain[-(<span class="number">1</span>:burnIn),<span class="number">2</span>], type = <span class="string">"l"</span>, xlab=<span class="string">"True value = red line"</span> , main = <span class="string">"Chain values of b"</span>, )</span><br><span class="line">abline(h = trueB, col=<span class="string">"red"</span> )</span><br><span class="line">plot(chain[-(<span class="number">1</span>:burnIn),<span class="number">3</span>], type = <span class="string">"l"</span>, xlab=<span class="string">"True value = red line"</span> , main = <span class="string">"Chain values of sd"</span>, )</span><br><span class="line">abline(h = trueSd, col=<span class="string">"red"</span> )</span><br><span class="line"></span><br><span class="line"><span class="comment"># for comparison:</span></span><br><span class="line">summary(lm(y~x))</span><br></pre></td></tr></table></figure><p>​<br>    Call:<br>    lm(formula = y ~ x)</p><pre><code>Residuals:    Min      1Q  Median      3Q     Max-15.844  -5.834  -1.342   5.479  19.348Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept)  -0.7967     1.6512  -0.482    0.633x             5.0498     0.1846  27.354   &lt;2e-16 ***---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 9.193 on 29 degrees of freedomMultiple R-squared:  0.9627,    Adjusted R-squared:  0.9614F-statistic: 748.3 on 1 and 29 DF,  p-value: &lt; 2.2e-16</code></pre><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/machineLearning/MCMC/output_13_1.png" width="100%"><br></div><p>The resulting plots should look something like the plot above. You see that we retrieve more or less the original parameters that were used to create our data, and you also see that we get a certain area around the highest posterior values that also have some support by the data, which is the Bayesian equivalent of confidence intervals.</p><p><strong>Remark</strong>:</p><p>The upper row shows posterior estimates for slope (a), intercept (b) and standard deviation of the error (sd). The lower row shows the Markov Chain of parameter values.</p><h2 id="References-for-further-reading"><a href="#References-for-further-reading" class="headerlink" title="References for further reading"></a>References for further reading</h2><ol><li>Gelman, A.; Carlin, J. B.; Stern, H. S. &amp; Rubin, D. B. (2003) Bayesian Data Analysis</li><li>Andrieu, C.; de Freitas, N.; Doucet, A. &amp; Jordan, M. I. (2003) An introduction to MCMC for machine learning Mach. Learning, Springer, 50, 5-43</li><li>Hartig, F.; Calabrese, J. M.; Reineking, B.; Wiegand, T. &amp; Huth, A. (2011) Statistical inference for stochastic simulation models – theory and application Ecol. Lett., 14, 816–827.</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;While there are certainly good software packages out there to do the job for you, notably BUGS or JAGS, it is instructive to program a si
      
    
    </summary>
    
    
      <category term="r" scheme="onlookerliu.github.io/tags/r/"/>
    
  </entry>
  
  <entry>
    <title>Decision_Tree_Regression</title>
    <link href="onlookerliu.github.io/2017/12/29/Decision-Tree-Regression/"/>
    <id>onlookerliu.github.io/2017/12/29/Decision-Tree-Regression/</id>
    <published>2017-12-28T17:45:47.000Z</published>
    <updated>2017-12-28T17:46:23.475Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Decision-Tree-Regression-using-DecisionTrees-jl"><a href="#Decision-Tree-Regression-using-DecisionTrees-jl" class="headerlink" title="Decision Tree Regression (using DecisionTrees.jl)"></a>Decision Tree Regression (using DecisionTrees.jl)</h1><p>Adapted from <a href="http://scikit-learn.org/stable/auto_examples/tree/plot_tree_regression.html" target="_blank" rel="noopener">http://scikit-learn.org/stable/auto_examples/tree/plot_tree_regression.html</a></p><p>A 1D regression with decision tree.</p><p>The decision trees is used to fit a sine curve with addition noisy observation. As a result, it learns local linear regressions approximating the sine curve.</p><p>We can see that if the maximum depth of the tree (controlled by the max_depth parameter) is set too high, the decision trees learn too fine details of the training data and learn from the noise, i.e. they overfit.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> DecisionTree</span><br><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a random dataset</span></span><br><span class="line">srand(<span class="number">42</span>)</span><br><span class="line">X = sort(<span class="number">5</span> * rand(<span class="number">80</span>))</span><br><span class="line">XX = reshape(X, <span class="number">80</span>, <span class="number">1</span>)</span><br><span class="line">y = sin(X)</span><br><span class="line">y[<span class="number">1</span>:<span class="number">5</span>:<span class="keyword">end</span>] += <span class="number">3</span> * (<span class="number">0.5</span> - rand(<span class="number">16</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fit regression model</span></span><br><span class="line">regr_1 = DecisionTreeRegressor()</span><br><span class="line">regr_2 = DecisionTreeRegressor(pruning_purity_threshold=<span class="number">0.05</span>)</span><br><span class="line">regr_3 = RandomForestRegressor(ntrees=<span class="number">20</span>)</span><br><span class="line">fit!(regr_1, XX, y)</span><br><span class="line">fit!(regr_2, XX, y)</span><br><span class="line">fit!(regr_3, XX, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Predict</span></span><br><span class="line">X_test = <span class="number">0</span>:<span class="number">0.01</span>:<span class="number">5.0</span></span><br><span class="line">y_1 = predict(regr_1, hcat(X_test))</span><br><span class="line">y_2 = predict(regr_2, hcat(X_test))</span><br><span class="line">y_3 = predict(regr_3, hcat(X_test))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot the results</span></span><br><span class="line">scatter(X, y, c=<span class="string">"k"</span>, label=<span class="string">"data"</span>)</span><br><span class="line">plot(X_test, y_1, c=<span class="string">"g"</span>, label=<span class="string">"no pruning"</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">plot(X_test, y_2, c=<span class="string">"r"</span>, label=<span class="string">"pruning_purity_threshold=0.05"</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">plot(X_test, y_3, c=<span class="string">"b"</span>, label=<span class="string">"RandomForestClassifier"</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">xlabel(<span class="string">"data"</span>)</span><br><span class="line">ylabel(<span class="string">"target"</span>)</span><br><span class="line">title(<span class="string">"Decision Tree Regression"</span>)</span><br><span class="line">legend(prop=<span class="built_in">Dict</span>(<span class="string">"size"</span>=&gt;<span class="number">10</span>));</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/leanote/Decision_Tree_Regression/output_3_0.png" alt="png"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Decision-Tree-Regression-using-DecisionTrees-jl&quot;&gt;&lt;a href=&quot;#Decision-Tree-Regression-using-DecisionTrees-jl&quot; class=&quot;headerlink&quot; title
      
    
    </summary>
    
    
      <category term="julia" scheme="onlookerliu.github.io/tags/julia/"/>
    
  </entry>
  
  <entry>
    <title>Classifier_Comparison</title>
    <link href="onlookerliu.github.io/2017/12/29/Classifier-Comparison/"/>
    <id>onlookerliu.github.io/2017/12/29/Classifier-Comparison/</id>
    <published>2017-12-28T17:44:21.000Z</published>
    <updated>2017-12-28T17:44:54.148Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Classifier-Comparison"><a href="#Classifier-Comparison" class="headerlink" title="Classifier Comparison"></a>Classifier Comparison</h1><p>Adapted from <a href="http://scikit-learn.org/stable/auto_examples/classification/plot_classifier_comparison.html" target="_blank" rel="noopener">http://scikit-learn.org/stable/auto_examples/classification/plot_classifier_comparison.html</a></p><p>A comparison of a several classifiers in scikit-learn on synthetic datasets. The point of this example is to illustrate the nature of decision boundaries of different classifiers. This should be taken with a grain of salt, as the intuition conveyed by these examples does not necessarily carry over to real datasets.</p><p>Particularly in high-dimensional spaces, data can more easily be separated linearly and the simplicity of classifiers such as naive Bayes and linear SVMs might lead to better generalization than is achieved by other classifiers.</p><p>The plots show training points in solid colors and testing points semi-transparent. The lower right shows the classification accuracy on the test set.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python Code source: Gaël Varoquaux</span></span><br><span class="line"><span class="comment">#                     Andreas Müller</span></span><br><span class="line"><span class="comment"># Julia adaptation: Cédric St-Jean</span></span><br><span class="line"><span class="comment"># Modified for documentation by Jaques Grobler</span></span><br><span class="line"><span class="comment"># License: BSD 3 clause</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"><span class="keyword">using</span> PyCall</span><br><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line"><span class="keyword">using</span> ScikitLearn.CrossValidation: train_test_split</span><br><span class="line"><span class="meta">@pyimport</span> matplotlib.colors as mplc</span><br><span class="line"><span class="meta">@sk_import</span> preprocessing: StandardScaler</span><br><span class="line"><span class="meta">@sk_import</span> datasets: (make_moons, make_circles, make_classification)</span><br><span class="line"><span class="meta">@sk_import</span> neighbors: KNeighborsClassifier</span><br><span class="line"><span class="meta">@sk_import</span> svm: SVC</span><br><span class="line"><span class="meta">@sk_import</span> tree: DecisionTreeClassifier</span><br><span class="line"><span class="meta">@sk_import</span> ensemble: (RandomForestClassifier, AdaBoostClassifier)</span><br><span class="line"><span class="meta">@sk_import</span> naive_bayes: GaussianNB</span><br><span class="line"><span class="meta">@sk_import</span> discriminant_analysis: (LinearDiscriminantAnalysis, QuadraticDiscriminantAnalysis)</span><br><span class="line"><span class="keyword">using</span> ScikitLearn.Utils: meshgrid</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">h = <span class="number">.02</span>  <span class="comment"># step size in the mesh</span></span><br><span class="line"></span><br><span class="line">names = [<span class="string">"Nearest Neighbors"</span>, <span class="string">"Linear SVM"</span>, <span class="string">"RBF SVM"</span>, <span class="string">"Decision Tree"</span>,</span><br><span class="line">         <span class="string">"Random Forest"</span>, <span class="string">"AdaBoost"</span>, <span class="string">"Naive Bayes"</span>, <span class="string">"Linear Discriminant Analysis"</span>,</span><br><span class="line">         <span class="string">"Quadratic Discriminant Analysis"</span>]</span><br><span class="line">classifiers = [</span><br><span class="line">    KNeighborsClassifier(<span class="number">3</span>),</span><br><span class="line">    SVC(kernel=<span class="string">"linear"</span>, C=<span class="number">0.025</span>),</span><br><span class="line">    SVC(gamma=<span class="number">2</span>, C=<span class="number">1</span>),</span><br><span class="line">    DecisionTreeClassifier(max_depth=<span class="number">5</span>),</span><br><span class="line">    RandomForestClassifier(max_depth=<span class="number">5</span>, n_estimators=<span class="number">10</span>, max_features=<span class="number">1</span>),</span><br><span class="line">    AdaBoostClassifier(),</span><br><span class="line">    GaussianNB(),</span><br><span class="line">    LinearDiscriminantAnalysis(),</span><br><span class="line">    QuadraticDiscriminantAnalysis()]</span><br><span class="line"></span><br><span class="line">X, y = make_classification(n_features=<span class="number">2</span>, n_redundant=<span class="number">0</span>, n_informative=<span class="number">2</span>,</span><br><span class="line">                           random_state=<span class="number">1</span>, n_clusters_per_class=<span class="number">1</span>)</span><br><span class="line">srand(<span class="number">42</span>)</span><br><span class="line">X += <span class="number">2</span> * rand(size(X)...)</span><br><span class="line">linearly_separable = (X, y)</span><br><span class="line"></span><br><span class="line">datasets = [make_moons(noise=<span class="number">0.3</span>, random_state=<span class="number">0</span>),</span><br><span class="line">            make_circles(noise=<span class="number">0.2</span>, factor=<span class="number">0.5</span>, random_state=<span class="number">1</span>),</span><br><span class="line">            linearly_separable</span><br><span class="line">            ];</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">fig = figure(figsize=(<span class="number">27</span>, <span class="number">9</span>))</span><br><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="comment"># iterate over datasets</span></span><br><span class="line"><span class="keyword">for</span> ds <span class="keyword">in</span> datasets</span><br><span class="line">    <span class="comment"># preprocess dataset, split into training and test part</span></span><br><span class="line">    X, y = ds</span><br><span class="line">    X = fit_transform!(StandardScaler(), X)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">.4</span>)</span><br><span class="line"></span><br><span class="line">    x_min, x_max = minimum(X[:, <span class="number">1</span>]) - <span class="number">.5</span>, maximum(X[:, <span class="number">1</span>]) + <span class="number">.5</span></span><br><span class="line">    y_min, y_max = minimum(X[:, <span class="number">2</span>]) - <span class="number">.5</span>, maximum(X[:, <span class="number">2</span>]) + <span class="number">.5</span></span><br><span class="line">    xx, yy = meshgrid(x_min:h:x_max, y_min:h:y_max)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># just plot the dataset first</span></span><br><span class="line">    cm = PyPlot.cm[:RdBu]</span><br><span class="line">    cm_bright = mplc.ListedColormap([<span class="string">"#FF0000"</span>, <span class="string">"#0000FF"</span>])</span><br><span class="line">    ax = subplot(length(datasets), length(classifiers) + <span class="number">1</span>, i)</span><br><span class="line">    <span class="comment"># Plot the training points</span></span><br><span class="line">    ax[:scatter](X_train[:, <span class="number">1</span>], X_train[:, <span class="number">2</span>], c=y_train, cmap=cm_bright)</span><br><span class="line">    <span class="comment"># and testing points</span></span><br><span class="line">    ax[:scatter](X_test[:, <span class="number">1</span>], X_test[:, <span class="number">2</span>], c=y_test, cmap=cm_bright, alpha=<span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">    ax[:set_xlim](minimum(xx), maximum(xx))</span><br><span class="line">    ax[:set_ylim](minimum(yy), maximum(yy))</span><br><span class="line">    ax[:set_xticks](())</span><br><span class="line">    ax[:set_yticks](())</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># iterate over classifiers</span></span><br><span class="line">    <span class="keyword">for</span> (name, clf) <span class="keyword">in</span> zip(names, classifiers)</span><br><span class="line">        ax = subplot(length(datasets), length(classifiers) + <span class="number">1</span>, i)</span><br><span class="line">        fit!(clf, X_train, y_train)</span><br><span class="line">        scor = score(clf, X_test, y_test)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Plot the decision boundary. For that, we will assign a color to each</span></span><br><span class="line">        <span class="comment"># point in the mesh [x_min, m_max]x[y_min, y_max].</span></span><br><span class="line">        <span class="keyword">try</span> </span><br><span class="line">            <span class="comment"># Not implemented for some</span></span><br><span class="line">            Z = decision_function(clf, hcat(xx[:], yy[:]))</span><br><span class="line">        <span class="keyword">catch</span></span><br><span class="line">            Z = predict_proba(clf, hcat(xx[:], yy[:]))[:, <span class="number">2</span>]</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Put the result into a color plot</span></span><br><span class="line">        Z = reshape(Z, size(xx)...)</span><br><span class="line">        ax[:contourf](xx, yy, Z, cmap=cm, alpha=<span class="number">.8</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Plot also the training points</span></span><br><span class="line">        ax[:scatter](X_train[:, <span class="number">1</span>], X_train[:, <span class="number">2</span>], c=y_train, cmap=cm_bright)</span><br><span class="line">        <span class="comment"># and testing points</span></span><br><span class="line">        ax[:scatter](X_test[:, <span class="number">1</span>], X_test[:, <span class="number">2</span>], c=y_test, cmap=cm_bright,</span><br><span class="line">                   alpha=<span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">        ax[:set_xlim](minimum(xx), maximum(xx))</span><br><span class="line">        ax[:set_ylim](minimum(yy), maximum(yy))</span><br><span class="line">        ax[:set_xticks](())</span><br><span class="line">        ax[:set_yticks](())</span><br><span class="line">        ax[:set_title](name)</span><br><span class="line"></span><br><span class="line">        ax[:text](maximum(xx) - <span class="number">.3</span>, minimum(yy) + <span class="number">.3</span>, <span class="meta">@sprintf</span>(<span class="string">"%.2f"</span>, scor),</span><br><span class="line">                size=<span class="number">15</span>, horizontalalignment=<span class="string">"right"</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">fig[:subplots_adjust](left=<span class="number">.02</span>, right=<span class="number">.98</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/leanote/Classifier_Comparison/output_5_0.png" alt="png"></p><pre><code>/Users/kay/.julia/v0.6/Conda/deps/usr/lib/python2.7/site-packages/sklearn/cross_validation.py:41: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.  &quot;This module will be removed in 0.20.&quot;, DeprecationWarning)</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Classifier-Comparison&quot;&gt;&lt;a href=&quot;#Classifier-Comparison&quot; class=&quot;headerlink&quot; title=&quot;Classifier Comparison&quot;&gt;&lt;/a&gt;Classifier Comparison&lt;/
      
    
    </summary>
    
    
      <category term="julia" scheme="onlookerliu.github.io/tags/julia/"/>
    
  </entry>
  
</feed>
