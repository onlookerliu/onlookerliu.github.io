<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>hexo-theme-melody v1.5 supports slides &amp; iframe</title>
      <link href="/2018/05/16/Slide%20demo/"/>
      <url>/2018/05/16/Slide%20demo/</url>
      <content type="html"><![CDATA[<h2 id="hexo-theme-melody-v1-5"><a href="#hexo-theme-melody-v1-5" class="headerlink" title="hexo-theme-melody v1.5"></a>hexo-theme-melody <small>v1.5</small></h2><!-- .slide: data-background="#49B1F5" --><p>Supports iframe &amp; slides. You can use a layout called <code>slides</code> to enabled the slides layout.</p><p>Also you can add a <code>iframe</code> front-matter with the <code>slides</code> layout in your <code>md</code> file to enable the iframe page.</p><!-- .slide: data-transition="concave" data-background="#C7916B" --><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><h3 id="1-Add-a-slides-page"><a href="#1-Add-a-slides-page" class="headerlink" title="1. Add a slides page"></a>1. Add a slides page</h3><p>// ……</p><p>==</p><p>// ……</p><p>===</p><h3 id="2-Add-the-layout-type"><a href="#2-Add-the-layout-type" class="headerlink" title="2. Add the layout type"></a>2. Add the layout type</h3><!-- .slide: data-transition="fade" data-background="#00C4B6" --><p>// ……</p>]]></content>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Promise版本的数组遍历</title>
      <link href="/2018/05/06/Promise%E7%89%88%E6%9C%AC%E7%9A%84%E6%95%B0%E7%BB%84%E9%81%8D%E5%8E%86/"/>
      <url>/2018/05/06/Promise%E7%89%88%E6%9C%AC%E7%9A%84%E6%95%B0%E7%BB%84%E9%81%8D%E5%8E%86/</url>
      <content type="html"><![CDATA[<blockquote><p>这里指的遍历方法包括：map、reduce、reduceRight、forEach、filter、some、every 因为最近要进行了一些数据汇总，node版本已经是8.11.1了，所以直接写了个async/await的脚本。但是在对数组进行一些遍历操作时，发现有些遍历方法对Promise的反馈并不是我们想要的结果。</p></blockquote><p>当然，有些严格来讲并不能算是遍历，比如说some，every这些的。<br>但确实，这些都会根据我们数组的元素来进行多次的调用传入的回调。</p><p>这些方法都是比较常见的，但是当你的回调函数是一个Promise时，一切都变了。</p><a id="more"></a><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><code>async/await</code>为<code>Promise</code>的语法糖,文中会直接使用<code>async/await</code>替换<code>Promise</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> func()</span><br><span class="line"><span class="comment">// =&gt; 等价于</span></span><br><span class="line">func().then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// code here</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ======</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">func</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// =&gt; 等价与</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> resolve(<span class="number">1</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p><code>map</code>可以说是对<code>Promise</code>最友好的一个函数了。<br>我们都知道，<code>map</code>接收两个参数：</p><ol><li>对每项元素执行的回调，回调结果的返回值将作为该数组中相应下标的元素</li><li>一个可选的回调函数this指向的参数</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">item</span> =&gt;</span> item ** <span class="number">2</span>) <span class="comment">// 对数组元素进行求平方</span></span><br><span class="line"><span class="comment">// &gt; [1, 4, 9]</span></span><br></pre></td></tr></table></figure><p>上边是一个普通的<code>map</code>执行，但是当我们的一些计算操作变为异步的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="keyword">async</span> item =&gt; item ** <span class="number">2</span>) <span class="comment">// 对数组元素进行求平方</span></span><br><span class="line"><span class="comment">// &gt; [Promise, Promise, Promise]</span></span><br></pre></td></tr></table></figure><p>这时候，我们获取到的返回值其实就是一个由<code>Promise</code>函数组成的数组了。</p><p>所以为什么上边说<code>map</code>函数为最友好的，因为我们知道，<code>Promise</code>有一个函数为<code>Promise.all</code>会将一个由<code>Promise</code>组成的数组依次执行，并返回一个<code>Promise</code>对象，该对象的结果为数组产生的结果集。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> <span class="built_in">Promise</span>.all([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="keyword">async</span> item =&gt; item ** <span class="number">2</span>))</span><br><span class="line"><span class="comment">// &gt; [1, 4, 9]</span></span><br></pre></td></tr></table></figure><p>首先使用<code>Promise.all</code>对数组进行包装，然后用<code>await</code>获取结果。</p><h2 id="reduce-reduceRight"><a href="#reduce-reduceRight" class="headerlink" title="reduce/reduceRight"></a>reduce/reduceRight</h2><p><code>reduce</code>的函数签名想必大家也很熟悉了，接收两个参数：</p><ol><li><p>对每一项元素执行的回调函数，返回值将被累加到下次函数调用中，回调函数的签名：</p><ol><li>accumulator累加的值</li><li>currentValue当前正在处理的元素</li><li>currentIndex当前正在处理的元素下标</li><li>array调用reduce的数组</li></ol></li><li>可选的初始化的值，将作为accumulator的初始值</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="function">(<span class="params">accumulator, item</span>) =&gt;</span> accumulator + item, <span class="number">0</span>) <span class="comment">// 进行加和</span></span><br><span class="line"><span class="comment">// &gt; 6</span></span><br></pre></td></tr></table></figure><p>这个代码也是没毛病的，同样如果我们加和的操作也是个异步的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="keyword">async</span> (accumulator, item) =&gt; accumulator + item, <span class="number">0</span>) <span class="comment">// 进行加和</span></span><br><span class="line"><span class="comment">// &gt; Promise &#123;&lt;resolved&gt;: "[object Promise]3"&#125;</span></span><br></pre></td></tr></table></figure><p>这个结果返回的就会很诡异了，我们在回看上边的<code>reduce</code>的函数签名</p><blockquote><p>对每一项元素执行的回调函数，返回值将被累加到下次函数调用中</p></blockquote><p>然后我们再来看代码，<code>async (accumulator, item) =&gt; accumulator += item</code>这个在最开始也提到了，是<code>Promise</code>的语法糖，为了看得更清晰，我们可以这样写：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(accumulator, item) =&gt; <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span></span><br><span class="line">  resolve(accumulator += item)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>也就是说，我们<code>reduce</code>的回调函数返回值其实就是一个<code>Promise</code>对象<br>然后我们对<code>Promise</code>对象进行+=操作，得到那样怪异的返回值也就很合情合理了。</p><p>当然，<code>reduce</code>的调整也是很轻松的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="keyword">async</span> (accumulator, item) =&gt; <span class="keyword">await</span> accumulator + item, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// &gt; 6</span></span><br></pre></td></tr></table></figure><p>我们对<code>accumulator</code>调用<code>await</code>，然后再与当前<code>item</code>进行加和，在最后我们的<code>reduce</code>返回值也一定是一个<code>Promise</code>，所以我们在最外边也添加<code>await</code>的字样<br>也就是说我们每次<code>reduce</code>都会返回一个新的<code>Promise</code>对象，在对象内部都会获取上次<code>Promise</code>的结果。<br>我们调用<code>reduce</code>实际上得到的是类似这样的一个<code>Promise</code>对象：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> item = <span class="number">3</span></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> item = <span class="number">2</span></span><br><span class="line">      <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> item = <span class="number">1</span></span><br><span class="line">        <span class="built_in">Promise</span>.resolve(<span class="number">0</span>).then(<span class="function"><span class="params">result</span> =&gt;</span> resolve(item + result))</span><br><span class="line">      &#125;).then(<span class="function"><span class="params">result</span> =&gt;</span> resolve(item + result))</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">result</span> =&gt;</span> resolve(item + result))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h3><p>这个就没什么好说的了。。跟reduce只是执行顺序相反而已</p><h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h2><p><code>forEach</code>，这个应该是用得最多的遍历方法了，对应的函数签名：</p><ol><li><p><code>callback</code>，对每一个元素进行调用的函数</p><ol><li>currentValue，当前元素</li><li>index，当前元素下标</li><li>array，调用forEach的数组引用</li></ol></li><li>thisArg，一个可选的回调函数this指向</li></ol><p>我们有如下的操作：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取数组元素求平方后的值</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item ** <span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &gt; 1</span></span><br><span class="line"><span class="comment">// &gt; 4</span></span><br><span class="line"><span class="comment">// &gt; 9</span></span><br></pre></td></tr></table></figure><p>普通版本我们是可以直接这么输出的，但是如果遇到了<code>Promise</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取数组元素求平方后的值</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(<span class="keyword">async</span> item =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item ** <span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &gt; nothing</span></span><br></pre></td></tr></table></figure><p><code>forEach</code>并不关心回调函数的返回值，所以<code>forEach</code>只是执行了三个会返回<code>Promise</code>的函数<br>所以如果我们想要得到想要的效果，只能够自己进行增强对象属性了：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.forEachSync = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">callback, thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [index, item] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(<span class="keyword">this</span>)) &#123;</span><br><span class="line">    <span class="keyword">await</span> callback(item, index, <span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEachSync(<span class="keyword">async</span> item =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item ** <span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt; 1</span></span><br><span class="line"><span class="comment">// &gt; 4</span></span><br><span class="line"><span class="comment">// &gt; 9</span></span><br></pre></td></tr></table></figure><p><code>await</code>会忽略非<code>Promise</code>值，<code>await 0</code>、<code>await</code> <code>undefined</code>与普通代码无异</p><p>我们要进行一个奇数的筛选，所以我们这么写：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].filter(<span class="function"><span class="params">item</span> =&gt;</span> item % <span class="number">2</span> !== <span class="number">0</span>)</span><br><span class="line"><span class="comment">// &gt; [1, 3]</span></span><br></pre></td></tr></table></figure><p>然后我们改为<code>Promise</code>版本：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3].filter(async item =&gt; item % 2 !== 0)</span><br><span class="line">// &gt; [1, 2, 3]</span><br></pre></td></tr></table></figure><p>这会导致我们的筛选功能失效，因为<code>filter</code>的返回值匹配不是完全相等的匹配，只要是返回值能转换为<code>true</code>，就会被认定为通过筛选。<br><code>Promise</code>对象必然是<code>true</code>的，所以筛选失效。<br>所以我们的处理方式与上边的<code>forEach</code>类似，同样需要自己进行对象增强<br>但我们这里直接选择一个取巧的方式：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.filterSync = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">callback, thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> filterResult = <span class="keyword">await</span> <span class="built_in">Promise</span>.all(<span class="keyword">this</span>.map(callback))</span><br><span class="line">  <span class="comment">// &gt; [true, false, true]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.filter(<span class="function">(<span class="params">_, index</span>) =&gt;</span> filterResult[index])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].filterSync(<span class="function"><span class="params">item</span> =&gt;</span> item % <span class="number">2</span> !== <span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>我们可以直接在内部调用<code>map</code>方法，因为我们知道<code>map</code>会将所有的返回值返回为一个新的数组。<br>这也就意味着，我们<code>map</code>可以拿到我们对所有<code>item</code>进行筛选的结果，<code>true</code>或者<code>false</code>。<br>接下来对原数组每一项进行返回对应下标的结果即可。</p><h2 id="some"><a href="#some" class="headerlink" title="some"></a>some</h2><p><code>some</code>作为一个用来检测数组是否满足一些条件的函数存在，同样是可以用作遍历的<br>函数签名同<code>forEach</code>，有区别的是当任一<code>callback</code>返回值匹配为<code>true</code>则会直接返回<code>true</code>，如果所有的<code>callback</code>匹配均为<code>false</code>，则返回<code>false</code></p><p>我们要判断数组中是否有元素等于<code>2</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].some(<span class="function"><span class="params">item</span> =&gt;</span> item === <span class="number">2</span>)</span><br><span class="line"><span class="comment">// &gt; true</span></span><br></pre></td></tr></table></figure><p>然后我们将它改为<code>Promise</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].some(<span class="keyword">async</span> item =&gt; item === <span class="number">2</span>)</span><br><span class="line"><span class="comment">// &gt; true</span></span><br></pre></td></tr></table></figure><p>这个函数依然会返回<code>true</code>，但是却不是我们想要的，因为这个是<code>async</code>返回的<code>Promise</code>对象被认定为<code>true</code>。</p><p>所以，我们要进行如下处理：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.someSync = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">callback, thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [index, item] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(<span class="keyword">this</span>)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">await</span> callback(item, index, <span class="keyword">this</span>)) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">await</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].someSync(<span class="keyword">async</span> item =&gt; item === <span class="number">2</span>)</span><br><span class="line"><span class="comment">// &gt; true</span></span><br></pre></td></tr></table></figure><p>因为<code>some</code>在匹配到第一个<code>true</code>之后就会终止遍历，所以我们在这里边使用<code>forEach</code>的话是在性能上的一种浪费。<br>同样是利用了<code>await</code>会忽略普通表达式的优势，在内部使用<code>for-of</code>来实现我们的需求</p><h2 id="every"><a href="#every" class="headerlink" title="every"></a>every</h2><p>以及我们最后的一个<code>every</code>函数签名同样与<code>forEach</code>一样，<br>但是<code>callback</code>的处理还是有一些区别的。其实换一种角度考虑，<code>every</code>就是一个反向的<code>some</code>，<code>some</code>会在获取到第一个<code>true</code>时终止，而<code>every</code>会在获取到第一个<code>false</code>时终止，如果所有元素均为<code>true</code>，则返回<code>true</code></p><p>我们要判定数组中元素是否全部大于3</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].every(<span class="function"><span class="params">item</span> =&gt;</span> item &gt; <span class="number">3</span>)</span><br><span class="line"><span class="comment">// &gt; false</span></span><br></pre></td></tr></table></figure><p>很显然，一个都没有匹配到的，而且回调函数在执行到第一次时就已经终止了，不会继续执行下去。<br>我们改为<code>Promise</code>版本：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].every(<span class="function"><span class="params">async</span> =&gt;</span> item &gt; <span class="number">3</span>)</span><br><span class="line"><span class="comment">// &gt; true</span></span><br></pre></td></tr></table></figure><p>这个必然是<code>true</code>，因为我们判断的是<code>Promise</code>对象<br>所以我们拿上边的<code>someSync</code>实现稍微修改一下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.everySync = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">callback, thisArg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [index, item] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(<span class="keyword">this</span>)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">await</span> callback(item, index, <span class="keyword">this</span>)) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">await</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].everySync(<span class="keyword">async</span> item =&gt; item === <span class="number">2</span>)</span><br><span class="line"><span class="comment">// &gt; false</span></span><br></pre></td></tr></table></figure><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>关于数组的这几个遍历方法。因为<code>map</code>和<code>reduce</code>的特性，所以是在使用<code>async</code>时改动最小的函数。<br><code>reduce</code>的结果很像一个洋葱模型<br>但对于其他的遍历函数来说，目前来看就需要自己来实现了。</p><p>四个<code>*Sync</code>函数的实现：<a href="https://github.com/Jiasm/notebook/tree/master/array-sync" target="_blank" rel="noopener">https://github.com/Jiasm/notebook/tree/master/array-sync</a></p>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue中的双向数据绑定</title>
      <link href="/2018/05/03/Vue%E4%B8%AD%E7%9A%84%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/"/>
      <url>/2018/05/03/Vue%E4%B8%AD%E7%9A%84%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/</url>
      <content type="html"><![CDATA[<h2 id="1-原理"><a href="#1-原理" class="headerlink" title="1. 原理"></a>1. 原理</h2><p>Vue的双线数据绑定的原理主要是通过<code>Object</code>对象的<code>defineProperty</code>属性，重写<code>data</code>的<code>set</code>和<code>get</code>函数来实现的，这里通过一个实例来说明。主要实现v-model，v-bind和v-click三个命令，其他命令也可以自行补充。</p><a id="more"></a><p>添加网上的一张图</p><h2 id="2-实现"><a href="#2-实现" class="headerlink" title="2. 实现"></a>2. 实现</h2><p>页面结构很简单，如下</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">v-click</span>=<span class="string">"increment"</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>包含:</p><ol><li>一个input，使用v-model指令</li><li>一个button，使用v-click指令</li><li>一个h3，使用v-bind指令</li></ol><p>我们最后会通过类似与Vue的方式来使用我们的双向数据绑定，结合我们的数据结构添加注释：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> myVue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        number: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        increment: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.number++;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>首先我们需要定义一个myVue构造函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myVue</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为了初始化这个构造函数，给它添加一个<code>_init</code>属性：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myVue</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>._init(options);</span><br><span class="line">&#125;</span><br><span class="line">myVue.prototype._init = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.$options = options;</span><br><span class="line">    <span class="keyword">this</span>.$el = <span class="built_in">document</span>.querySelector(options.el);</span><br><span class="line">    <span class="keyword">this</span>.$data = options.data;</span><br><span class="line">    <span class="keyword">this</span>.$methods = options.methods;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来实现 <code>_obverse</code>函数，对data进行处理，重写data的set和get函数，并改造_init函数：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">myVue.prototype._obverse = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> value;</span><br><span class="line">    <span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">            value = obj[key];</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">'object'</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>._obverse(value);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">Object</span>.defineProperty(<span class="keyword">this</span>.$data, key, &#123;</span><br><span class="line">                enumerable: <span class="literal">true</span>,</span><br><span class="line">                configurable: <span class="literal">true</span>,</span><br><span class="line">                get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">`获取<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">                    <span class="keyword">return</span> value;</span><br><span class="line">                &#125;,</span><br><span class="line">                set: <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>) </span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">`更新<span class="subst">$&#123;newValue&#125;</span>`</span>);</span><br><span class="line">                    <span class="keyword">if</span> (value !== newValue) &#123;</span><br><span class="line">                        value = newValue;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myVue.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.$options = options;</span><br><span class="line">    <span class="keyword">this</span>.$el = <span class="built_in">document</span>.querySelector(options.el);</span><br><span class="line">    <span class="keyword">this</span>.$data = options.data;</span><br><span class="line">    <span class="keyword">this</span>.$methods = options.methods;</span><br><span class="line">    <span class="keyword">this</span>._obverse(<span class="keyword">this</span>.$data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来我们写一个指令类Watcher，用来绑定更新函数，实现对DOM元素的更新：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Watcher</span>(<span class="params">name, el, vm, exp, attr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.el = el;</span><br><span class="line">    <span class="keyword">this</span>.vm = vm;</span><br><span class="line">    <span class="keyword">this</span>.exp = exp;</span><br><span class="line">    <span class="keyword">this</span>.attr = attr;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.update();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Watcher.prototype.update = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.el[<span class="keyword">this</span>.attr] = <span class="keyword">this</span>.vm.$data[<span class="keyword">this</span>.exp];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>更新<code>_init</code>函数以及<code>_obverse</code>函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">myVue.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>._binding = &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myVue.prototype._obverse = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">        <span class="keyword">this</span>._binding[key] = &#123;</span><br><span class="line">            _directives: []</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> binding = <span class="keyword">this</span>._binding[key];</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(<span class="keyword">this</span>.$data, key, &#123;</span><br><span class="line">            set: <span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`更新<span class="subst">$&#123;newVal&#125;</span>`</span>);</span><br><span class="line">                <span class="keyword">if</span> (value !== newVal) &#123;</span><br><span class="line">                    value = newVal;</span><br><span class="line">                    binding._directives.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">                        item.update();</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>那么如何将view与model进行绑定呢？接下来我们定义一个<code>_compile</code>函数，用来解析我们的指令(v-bind, v-model, v-clicked)等，并在这个过程中对view与model进行绑定。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">myVue.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>._compile(<span class="keyword">this</span>.$el);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myVue.prototype._compile = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> nodes = root.children;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nodes.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> node = nodes[i];</span><br><span class="line">        <span class="keyword">if</span> (node.children.length) &#123;</span><br><span class="line">            <span class="keyword">this</span>._compile(node);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.hasAttribute(<span class="string">'v-click'</span>)) &#123;</span><br><span class="line">            node.onclick = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> attrVal = nodes[i].getAttribute(<span class="string">'v-click'</span>);</span><br><span class="line">                <span class="keyword">return</span> _this.$methods[attrVal].bind(_this.$data);</span><br><span class="line">            &#125;)();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.hasAttribute(<span class="string">'v-model'</span>) &amp;&amp; (node.tagName == <span class="string">'INPUT'</span> || node.tagName == <span class="string">'TEXTAREA'</span>)) &#123;</span><br><span class="line">            node.addEventListener(<span class="string">'input'</span>, (<span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> attrVal = node.getAttribute(<span class="string">'v-model'</span>);</span><br><span class="line">                _this._binding[attrVal]._directives.push(<span class="keyword">new</span> Watcher(</span><br><span class="line">                    <span class="string">'input'</span>,</span><br><span class="line">                    node,</span><br><span class="line">                    _this,</span><br><span class="line">                    attrVal,</span><br><span class="line">                    <span class="string">'value'</span></span><br><span class="line">                ))</span><br><span class="line">                <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    _this.$data[attrVal] = nodes[key].value;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.hasAttribute(<span class="string">'v-bind'</span>)) &#123;</span><br><span class="line">            <span class="keyword">var</span> attrVal = node.getAttribute(<span class="string">'v-bind'</span>);</span><br><span class="line">            _this._binding[attrVal]._directives.push(<span class="keyword">new</span> Watcher(</span><br><span class="line">                <span class="string">'text'</span>,</span><br><span class="line">                node,</span><br><span class="line">                _this,</span><br><span class="line">                attrVal,</span><br><span class="line">                <span class="string">'innerHTML'</span></span><br><span class="line">            ))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>至此，我们已经实现了一个简单vue的双向绑定功能，包括v-bind，v-model，v-click三个指令。效果如下</p><p>附上全部代码，不到150行</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>myVue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  #app &#123;</span></span><br><span class="line"><span class="undefined">      text-align: center;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">v-click</span>=<span class="string">"increment"</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-bind</span>=<span class="string">"number"</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">myVue</span>(<span class="params">options</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>._init(options);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="javascript">  myVue.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.$options = options;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.$el = <span class="built_in">document</span>.querySelector(options.el);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.$data = options.data;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.$methods = options.methods;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>._binding = &#123;&#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>._obverse(<span class="keyword">this</span>.$data);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>._compile(<span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="javascript">  myVue.prototype._obverse = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> value;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">this</span>._binding[key] = &#123;</span></span><br><span class="line"><span class="undefined">                  _directives: []</span></span><br><span class="line"><span class="undefined">              &#125;;</span></span><br><span class="line"><span class="undefined">              value = obj[key];</span></span><br><span class="line"><span class="javascript">              <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">'object'</span>) &#123;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">this</span>._obverse(value);</span></span><br><span class="line"><span class="undefined">              &#125;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">var</span> binding = <span class="keyword">this</span>._binding[key];</span></span><br><span class="line"><span class="javascript">              <span class="built_in">Object</span>.defineProperty(<span class="keyword">this</span>.$data, key, &#123;</span></span><br><span class="line"><span class="javascript">                  enumerable: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                  configurable: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                  get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                      <span class="built_in">console</span>.log(<span class="string">`获取<span class="subst">$&#123;value&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">                      <span class="keyword">return</span> value;</span></span><br><span class="line"><span class="undefined">                  &#125;,</span></span><br><span class="line"><span class="javascript">                  set: <span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                      <span class="built_in">console</span>.log(<span class="string">`更新<span class="subst">$&#123;newVal&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">                      <span class="keyword">if</span> (value !== newVal) &#123;</span></span><br><span class="line"><span class="undefined">                          value = newVal;</span></span><br><span class="line"><span class="javascript">                          binding._directives.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                              item.update();</span></span><br><span class="line"><span class="undefined">                          &#125;)</span></span><br><span class="line"><span class="undefined">                      &#125;</span></span><br><span class="line"><span class="undefined">                  &#125;</span></span><br><span class="line"><span class="undefined">              &#125;)</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="javascript">  myVue.prototype._compile = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> nodes = root.children;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nodes.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> node = nodes[i];</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (node.children.length) &#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">this</span>._comiple(node);</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (node.hasAttribute(<span class="string">'v-click'</span>)) &#123;</span></span><br><span class="line"><span class="javascript">              node.onclick = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">var</span> attrVal = nodes[i].getAttribute(<span class="string">'v-click'</span>);</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">return</span> _this.$methods[attrVal].bind(_this.$data);</span></span><br><span class="line"><span class="undefined">              &#125;)();</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (node.hasAttribute(<span class="string">'v-model'</span>) &amp;&amp; (node.tagName == <span class="string">'INPUT'</span> || node.tagName == <span class="string">'TEXTAREA'</span>)) &#123;</span></span><br><span class="line"><span class="javascript">              node.addEventListener(<span class="string">'input'</span>, (<span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">var</span> attrVal = node.getAttribute(<span class="string">'v-model'</span>);</span></span><br><span class="line"><span class="javascript">                  _this._binding[attrVal]._directives.push(<span class="keyword">new</span> Watcher(</span></span><br><span class="line"><span class="javascript">                      <span class="string">'input'</span>,</span></span><br><span class="line"><span class="undefined">                      node,</span></span><br><span class="line"><span class="undefined">                      _this,</span></span><br><span class="line"><span class="undefined">                      attrVal,</span></span><br><span class="line"><span class="javascript">                      <span class="string">'value'</span></span></span><br><span class="line"><span class="undefined">                  ))</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                      _this.$data[attrVal] = nodes[key].value;</span></span><br><span class="line"><span class="undefined">                  &#125;</span></span><br><span class="line"><span class="undefined">              &#125;)(i));</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (node.hasAttribute(<span class="string">'v-bind'</span>)) &#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">var</span> attrVal = node.getAttribute(<span class="string">'v-bind'</span>);</span></span><br><span class="line"><span class="javascript">              _this._binding[attrVal]._directives.push(<span class="keyword">new</span> Watcher(</span></span><br><span class="line"><span class="javascript">                  <span class="string">'text'</span>,</span></span><br><span class="line"><span class="undefined">                  node,</span></span><br><span class="line"><span class="undefined">                  _this,</span></span><br><span class="line"><span class="undefined">                  attrVal,</span></span><br><span class="line"><span class="javascript">                  <span class="string">'innerHTML'</span></span></span><br><span class="line"><span class="undefined">              ))</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">  </span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">Watcher</span>(<span class="params">name, el, vm, exp, attr</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.name = name;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.el = el;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.vm = vm;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.exp = exp;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.attr = attr;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.update();</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  Watcher.prototype.update = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.el[<span class="keyword">this</span>.attr] = <span class="keyword">this</span>.vm.$data[<span class="keyword">this</span>.exp];</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> app = <span class="keyword">new</span> myVue(&#123;</span></span><br><span class="line"><span class="javascript">          el: <span class="string">'#app'</span>,</span></span><br><span class="line"><span class="undefined">          data: &#123;</span></span><br><span class="line"><span class="undefined">              number: 0</span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="undefined">          methods: &#123;</span></span><br><span class="line"><span class="javascript">              increment: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">this</span>.number++;</span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">      &#125;)</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 027</title>
      <link href="/2018/04/20/LeetCode-Notes-027/"/>
      <url>/2018/04/20/LeetCode-Notes-027/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 026</title>
      <link href="/2018/04/14/LeetCode-Notes-026/"/>
      <url>/2018/04/14/LeetCode-Notes-026/</url>
      <content type="html"><![CDATA[<h3 id="Find-Minimum-in-Rotated-Sorted-Array"><a href="#Find-Minimum-in-Rotated-Sorted-Array" class="headerlink" title="Find Minimum in Rotated Sorted Array"></a>Find Minimum in Rotated Sorted Array</h3><p>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.</p><p>(i.e., <code>0 1 2 4 5 6 7</code> might become <code>4 5 6 7 0 1 2</code>).</p><p>Find the minimum element.</p><p>You may assume no duplicate exists in the array.</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> findMin = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, nums);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-Minimum-in-Rotated-Sorted-Array-II"><a href="#Find-Minimum-in-Rotated-Sorted-Array-II" class="headerlink" title="Find Minimum in Rotated Sorted Array II"></a>Find Minimum in Rotated Sorted Array II</h3><blockquote><p>Follow up for “Find Minimum in Rotated Sorted Array”:<br>What if duplicates are allowed?</p><p>Would this affect the run-time complexity? How and why?</p></blockquote><p>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.</p><p>(i.e., <code>0 1 2 4 5 6 7</code> might become <code>4 5 6 7 0 1 2</code>).</p><p>Find the minimum element.</p><p>The array may contain duplicates.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> findMin = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, nums);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-Mode-in-Binary-Search-Tree"><a href="#Find-Mode-in-Binary-Search-Tree" class="headerlink" title="Find Mode in Binary Search Tree"></a>Find Mode in Binary Search Tree</h3><p>Given a binary search tree (BST) with duplicates, find all the mode(s) (the most frequently occurred element) in the given BST.</p><p>Assume a BST is defined as follows:</p><ul><li>The left subtree of a node contains only nodes with keys less than or equal to the node’s key.</li><li>The right subtree of a node contains only nodes with keys greater than or equal to the node’s key.</li><li>Both the left and right subtrees must also be binary search trees.</li></ul><p>For example:<br>Given BST <code>[1,null,2,2]</code>,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line"> /</span><br><span class="line">2</span><br></pre></td></tr></table></figure><p>return [2].</p><p>Note: If a tree has more than one mode, you can return them in any order.</p><p>Follow up: Could you do that without using any extra space? (Assume that the implicit stack space incurred due to recursion does not count).</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findMode = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> hash = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> helper = <span class="function">(<span class="params">node</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> val = node.val;</span><br><span class="line">    hash[val] = (~~hash[val]) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (node.left)</span><br><span class="line">      helper(node.left);</span><br><span class="line">    <span class="keyword">if</span> (node.right)</span><br><span class="line">      helper(node.right);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  root &amp;&amp; helper(root);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line">  <span class="keyword">let</span> maxn = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> hash) &#123;</span><br><span class="line">    <span class="keyword">let</span> val = hash[key];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (val &gt; maxn) &#123;</span><br><span class="line">      maxn = val;</span><br><span class="line">      ans = [+key];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (val === maxn) &#123;</span><br><span class="line">      ans.push(+key);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-Peak-Element"><a href="#Find-Peak-Element" class="headerlink" title="Find Peak Element"></a>Find Peak Element</h3><p>A peak element is an element that is greater than its neighbors.</p><p>Given an input array where <code>num[i] ≠ num[i+1]</code>, find a peak element and return its index.</p><p>The array may contain multiple peaks, in that case return the index to any one of the peaks is fine.</p><p>You may imagine that <code>num[-1] = num[n] = -∞</code>.</p><p>For example, in array <code>[1, 2, 3, 1]</code>, 3 is a peak element and your function should return the index number 2.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> findPeakElement = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = nums.length;</span><br><span class="line">  nums[<span class="number">-1</span>] = nums[len] = -<span class="built_in">Number</span>.MAX_VALUE;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] &gt; nums[i - <span class="number">1</span>] &amp;&amp; nums[i] &gt; nums[i + <span class="number">1</span>])</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-Right-Interval"><a href="#Find-Right-Interval" class="headerlink" title="Find Right Interval"></a>Find Right Interval</h3><p>Given a set of intervals, for each of the interval i, check if there exists an interval j whose start point is bigger than or equal to the end point of the interval i, which can be called that j is on the “right” of i.</p><p>For any interval i, you need to store the minimum interval j’s index, which means that the interval j has the minimum start point to build the “right” relationship for interval i. If the interval j doesn’t exist, store -1 for the interval i. Finally, you need output the stored value of each interval as an array.</p><p><strong>Note</strong></p><ul><li>You may assume the interval’s end point is always bigger than its start point.</li><li>You may assume none of these intervals have the same start point.</li></ul><p><strong>Example1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [ [1,2] ]</span><br><span class="line"></span><br><span class="line">Output: [-1]</span><br><span class="line"></span><br><span class="line">Explanation: There is only one interval in the collection, so it outputs -1.</span><br></pre></td></tr></table></figure></p><p><strong>Example2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: [ [3,4], [2,3], [1,2] ]</span><br><span class="line"></span><br><span class="line">Output: [-1, 0, 1]</span><br><span class="line"></span><br><span class="line">Explanation: There is no satisfied &quot;right&quot; interval for [3,4].</span><br><span class="line">For [2,3], the interval [3,4] has minimum-&quot;right&quot; start point;</span><br><span class="line">For [1,2], the interval [2,3] has minimum-&quot;right&quot; start point.</span><br></pre></td></tr></table></figure></p><p><strong>Example3:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: [ [1,4], [2,3], [3,4] ]</span><br><span class="line"></span><br><span class="line">Output: [-1, 2, -1]</span><br><span class="line"></span><br><span class="line">Explanation: There is no satisfied &quot;right&quot; interval for [1,4] and [3,4].</span><br><span class="line">For [2,3], the interval [3,4] has minimum-&quot;right&quot; start point.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for an interval.</span></span><br><span class="line"><span class="comment"> * function Interval(start, end) &#123;</span></span><br><span class="line"><span class="comment"> *     this.start = start;</span></span><br><span class="line"><span class="comment"> *     this.end = end;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;Interval[]&#125; intervals</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findRightInterval = <span class="function"><span class="keyword">function</span>(<span class="params">intervals</span>) </span>&#123;</span><br><span class="line">  intervals.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">    item.index = index;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  intervals.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// different starting positions</span></span><br><span class="line">    <span class="keyword">return</span> a.start - b.start;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> len = intervals.length;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> f = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (intervals[j].start &gt;= intervals[i].end) &#123;</span><br><span class="line">        intervals[i].right = intervals[j].index;</span><br><span class="line">        f = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    f &amp;&amp; (intervals[i].right = <span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  intervals.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// different starting positions</span></span><br><span class="line">    <span class="keyword">return</span> a.index - b.index;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line">  intervals.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    ans.push(item.right);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ML-Lectures Perceptron</title>
      <link href="/2018/04/13/ML-Lectures-Perceptron/"/>
      <url>/2018/04/13/ML-Lectures-Perceptron/</url>
      <content type="html"><![CDATA[<h1 id="从感知机到简单神经网络"><a href="#从感知机到简单神经网络" class="headerlink" title="从感知机到简单神经网络"></a>从感知机到简单神经网络</h1><p>近年来，人工神经网络在深度学习的推动下获得了关注。什么是人造神经网络，它是由什么构成的？我想我们可能需要从感知器开始学起。</p><p>在这个讲座中，我们将严格推导感知机学习算法及其对偶理论，掌握一般的人工神经网络，并对单层甚至多层感知器进行编码实现。在几个实战例子中，我们采用人工神经元的最基本版本——感知器，来在超平面上对我们的数据集进行分类。</p><a id="more"></a><h2 id="0-什么是感知机？"><a href="#0-什么是感知机？" class="headerlink" title="0. 什么是感知机？"></a>0. 什么是感知机？</h2><p>感知机是<strong>二分类</strong>的线性分类模型，输入为实例的特征向量，输出为实例的类别（取+1和-1）。感知机对应于输入空间中<strong>将实例划分为两类</strong>的分离超平面。感知机属于判别模型(classifier)。</p><p>感知机旨在求出该超平面，为求得超平面导入了<strong>基于误分类的损失函数</strong>，利用<strong>梯度下降法</strong>对损失函数进行最优化。</p><h2 id="1-感知机模型"><a href="#1-感知机模型" class="headerlink" title="1. 感知机模型"></a>1. 感知机模型</h2><p>假设输入空间（特征向量）是 $\mathcal{X} \subseteq \mathbb{R}^n$，输出空间为 $\mathcal{Y} = {-1，+1}$. 输入 $X$ 表示实例的特征向量，对应于输入空间的点，输出 $y\in\mathcal{Y}$ 表示实例的类别，则由输入空间到输出空间的表达形式为：</p><p>$$<br>f(x) = \text{sign}(w \cdot x + b)<br>$$</p><p>其中 $w,b$ 称为模型的参数，$w$ 称为权值，$b$ 称为偏置，$ w\cdot x$表示为 $w,x$ 的内积. <code>sign</code>是符号函数</p><p>$$<br>\text{sign}(x) = \begin{cases}<br>+1 &amp; x &gt; 0 \<br>-1 &amp; x &lt; 0<br>\end{cases}<br>$$</p><p>如果我们将<code>sign</code>称之为激活函数的话，感知机与logistic regression的差别就是感知机激活函数是sign，logistic regression的激活函数是sigmoid.</p><p>$\text{sign}(x)​$ 将大于0的分为1，小于0的分为-1；sigmoid将大于0.5的分为1，小于0.5的分为0。因此sign又被称为单位阶跃函数，logistic regression也被看作是一种概率估计。(logistic后面会详细讲解)</p><p>感知机是一种线性分类模型，属于判别模型。感知机模型的假设空间是定义在特征空间中的所有线性分类模型(linear classification model)或线性分类器(linear classifier)，即函数集合 ${ f \mid f(x) = w \cdot x + b }$.</p><p>由感知机的线性方程表示 $w \cdot x + b = 0$ 可以看出它的几何意义：</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/perceptron-2.1.png" width="300"><br></div><p>对于特征空间 $\mathbb{R}^n$ 中的一个超平面 $S$ ，其中 $w$ 是超平面的法向量，$b$是超平面的截距。这个超平面 (seperating hyperplane) 将特征空间分为两部分，位于两部分的点(特征向量)分别被分为正、负两类。</p><p>我们其实就是在<strong>学习参数 $w$ 与 $b$</strong>，确定了 $w$ 与 $b$，图上的直线（高维空间下为超平面）也就确定了，那么以后来一个数据点，我们用训练好的模型进行预测判断，如果大于 $0$ 就分类到 $+1$，如果小于 $0$ 就分类到 $-1$。</p><p>能这么做的原因其实是<a href="https://en.wikipedia.org/wiki/Hyperplane_separation_theorem" target="_blank" rel="noopener">超平面分离定理</a>：超平面分离定理是应用凸集到最优化理论中的重要结果，这个结果在最优化理论中有重要的位置。所谓两个凸集分离，直观地看是指两个凸集合没有交叉和重合的部分，因此<strong>可以用一张超平面将两者隔在两边</strong>。</p><p>如下图所示，在大于0的时候，我将数据点分类成了D类，在小于0的时候，我将数据点分类成了C类</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/seperating.png" width="300"><br></div><h2 id="2-感知机学习策略"><a href="#2-感知机学习策略" class="headerlink" title="2. 感知机学习策略"></a>2. 感知机学习策略</h2><p>好了，上面我们已经知道感知机模型了，我们也知道他的任务是解决二分类问题，也知道了超平面的形式，那么下面关键是如何学习出超平面的参数 $w,b$，这就需要用到我们的学习策略。</p><p>我们知道机器学习模型，需要首先找到损失函数，然后转化为最优化问题，用梯度下降等方法进行更新，最终学习到我们模型的参数 $w,b$。</p><p>Ok, 我们开始来找感知机的损失函数:</p><p>我们很自然的会想到用误分类点的数目来作为损失函数，是的误分类点个数越来越少嘛，感知机本来也是做这种事的，只需要全部分对就好。</p><p>但是不幸的是，这样的损失函数并不是w，b连续可导（你根本就无法用函数形式来表达出误分类点的个数），无法进行优化。</p><p>于是我们想转为另一种选择，误分类点到超平面的总距离（直观来看，总距离越小越好）,距离公式如下</p><p>$$<br>\frac{1}{\Vert w \Vert} \vert w\cdot x_0 + b\vert<br>$$</p><p>而我们知道每一个<strong>误分类点</strong>都满足</p><p>$$<br>-y_i(w\cdot x_i + b) &gt; 0<br>$$</p><p>因为当我们数据点正确值为 $+1$ 的时候，你误分类了，那么你判断为 $-1$，则算出来$(w\cdot x_i+b)&lt;0$，可以将绝对值符号去掉，得到误分类点的距离为：</p><p>$$<br>-\frac{1}{\Vert w\Vert} y_i(w\cdot x_i + b)<br>$$</p><p>这样的话，假设超平面 $S$ 的误分类点集合为 $M$，那么所有误分类点到超平面 $S$ 的总距离为</p><p>$$<br>-\frac{1}{\Vert w\Vert} \sum_{x_i\in M} y_i(w\cdot x_i + b)<br>$$</p><p>不考虑 $\dfrac{1}{\Vert w\Vert}$，就得到了感知机学习的损失函数</p><p>$$<br>L(w, b) = -\sum_{x_i\in M} y_i(w\cdot x_i + b)<br>$$</p><p>其中 $M$ 为误分类点的数目，这个损失函数就是感知机学习的经验风险函数。</p><p><em>Question:</em><br>为什么可以不考虑 $\frac{1}{\Vert w\Vert}$，不用总距离表达式作为损失函数呢？</p><p><em>Answer:</em><br>感知机的任务是进行二分类工作，它最终并不关心得到的超平面离各点的距离有多少（所以我们最后才可以不考虑$\Vert w\Vert$），只是关心我最后是否已经正确分类正确（也就是考虑误分类点的个数），比如说下面红色与绿线，对于感知机来说，效果任务是一样好的。</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/640.png" width="250"><br></div><p>但是在SVM的评价标准中，绿线是要比红线好的。对比书中SVM示意图</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/svm.png" width="250"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/large_margin_intuition.jpg" width="300"><br></div><p>考虑这样右边的分类问题</p><p>可以看出</p><ul><li>感知机追求最大程度正确划分，最小化错误，效果类似紫线，很容易造成过拟合。</li><li>支持向量机追求在大致正确分类的同时，最大化margin，一定程度上避免了过拟合，效果类似黑线。margin可以理解为黑线到圈类和叉类之间的最短距离。</li><li>去掉距离限制的SVM，就是一种PLA，当然先不考虑核。</li></ul><p>这里我们可以不考虑 $\Vert w\Vert$，直接去掉它，因为这个时候我们只考虑误分类点，当一个误分类点出现的时候，我们进行梯度下降，对 $w,b$ 进行改变即可！</p><p>跟距离没有什么关系了，因为 $w$ 的范数始终是大于0，对于我们判断是否为误分类点（我们是通过 $-y_i(w\cdot x_i+b)&gt;0$ 来判断是否为误分类点）没有影响！</p><p>这也回到了我们最初始想要作为损失函数的误分类点的个数，<u>引入距离，只是将它推导出一个可导的形式！</u></p><p>最后说一句，我个人认为不去掉 $\Vert w\Vert$，也是一样可以得到最后的正确分类超平面，就是直接用距离来当做损失函数也是可以的，可能是求梯度比较复杂，或者是感知机本身就是用误分类点来区分，就没用这个损失函数了。</p><p>根据知乎吴洋文章中所做的实验，不考虑$\Vert w\Vert$ 的时候，结果如下:</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/noNorm.png" width="400"><br></div><p>考虑$\Vert w\Vert$ 的时候，结果如下:</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/hasNorm.png" width="400"><br></div><p>可以看到，无论是否考虑，实验收敛次数并没有改变！</p><p>那么好了，我们已经得到了损失函数了，后面直接讲解如何梯度下降，收敛到分类正确为止。</p><h2 id="3-感知机学习算法"><a href="#3-感知机学习算法" class="headerlink" title="3. 感知机学习算法"></a>3. 感知机学习算法</h2><h3 id="3-1-感知机学习算法的原始形式"><a href="#3-1-感知机学习算法的原始形式" class="headerlink" title="3.1 感知机学习算法的原始形式"></a>3.1 感知机学习算法的原始形式</h3><p>当我们已经有了一个目标是最小化损失函数，我们就可以用常用的梯度下降方法来进行更新，对w，b参数分别进行求偏导可得：</p><p>$$<br>\begin{split}<br>&amp;\nabla<em>w L(w,b) = -\sum</em>{x_i\in M} y_ix_i \<br>&amp;\nabla<em>b L(w,b) = -\sum</em>{x_i\in M} y_i<br>\end{split}<br>$$</p><p>那么我们任意初始化 $w, b$ 之后，碰到误分类点时，采取的权值更新为 $w,b$分别为：</p><p>$$<br>\begin{split}<br>&amp;w = w + \sum_{x_i\in M} y_ix<em>i \<br>&amp;b = b + \sum</em>{x_i\in M} y_i<br>\end{split}<br>$$</p><p>好了，当我们碰到误分类点的时候，我们就采取上面的更新步骤进行更新参数即可！但李航博士在书中并不是用到所有误分类点的数据点来进行更新，而是采取==随机梯度下降法==（stochastic gradient descent）。</p><p>步骤如下，首先，任取一个超平面 $w_0, b0$，然后用梯度下降法不断地极小化目标函数，极小化过程中<strong>不是一次使M中所有误分类点的梯度下降</strong>而是<strong>一次随机选取一个误分类点使其梯度下降</strong></p><p><strong>Remark:</strong><br>有证明可以证明随机梯度下降可以收敛，并且收敛速度快于批量梯度下降，在这里不是我们考虑的重点，我们默认为它能收敛到最优点即可</p><p>那么碰到误分类点的时候，采取的权值更新 $w, b$ 分别为:</p><p>$$<br>\begin{split}<br>&amp;w = w + \eta\, y_ix_i \<br>&amp;b = b + \eta\, y_i<br>\end{split}<br>$$</p><p>好了，至此我们可以给出整个感知机学习过程算法！如下：</p><h4 id="Algorithm-1"><a href="#Algorithm-1" class="headerlink" title="Algorithm 1:"></a><strong>Algorithm 1:</strong></h4><ol><li>选定初值 $w_0,b_0$，相当于初始给了一个超平面</li><li>在训练集中选取数据 $(x_i, y_i)$ (任意抽取数据点，判断是否所有数据点判断完成没有误分类点了，如果没有了，直接结束算法，如果还有进入3.)</li><li>若 $y_i(w \cdot x_i + b) \leq 0$，说明是误分类点，需要进行参数更新，更新方式如下<br>$$<br>\begin{split}<br>&amp;w = w + \eta\, y_ix_i \<br>&amp;b = b + \eta\, y_i<br>\end{split}<br>$$</li><li>转到2.，直到训练集中没有误分类点</li></ol><p>对于第三步的更新方式，我们有一个直观上的感觉，可视化如下图</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/update-1.png" width="150"><br></div><p>当我们数据点应该分类为 $y=+1$ 的时候，我们分错了，分成 $-1$，说明 $w\cdot x&lt;0$，代表 $w$ 与 $x$向量夹角大于90度，这个时候应该调整，更新过程为 $w=w+1\cdot x$，往$x$ 向量方向更接近了。</p><p>另一种更新情形如下图</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/update-2.png" width="150"><br></div><p>当我们数据点应该分类为 $y=-1$ 的时候，我们分错了，分成 $+1$，说明 $w\cdot x&gt;0$，代表 $w$ 与 $x$ 向量夹角小于90度，这个时候应该调整，更新过程为 $w=w-1\cdot x$，往远离 $x$ 向量方向更接近了。</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/tune.png" width="600"><br></div><p><strong>Example:</strong><br>如下图所示的训练数据集，其正实例点是 $x_1 = (3, 3)^T, x_2 = (4, 3)^T$，负实例点是 $x_3 = (1,1)^T$，用感知机学习方法的原始形式求感知机模型 $f(x) = \text{sign}(w\cdot x + b)$。记 $w = (w^{(1)}, w^{(2)})^T, x = (x^{(1)}, x^{(2)})^T$</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/perceptron-2.2.png" width="400"><br></div><p><strong>Solution:</strong><br>构建优化问题:</p><p>$$<br>\min<em>{w,b} L(w,b) = -\sum</em>{x_i\in M} y_i(w\cdot x_i + b)<br>$$</p><p>求解：$w, b, \eta=1$</p><ol><li>取初值 $w_0 = 0, b_0 = 0$</li><li>对 $x_1=(3,3)^T, y_1(w_0\cdot x_1 + b_0)=0$，未能被正常分类，更新 $w,b$<br>$$<br>w_1 = w_0+y_1x_1=(3,3)^T \qquad b_1=b_0+y_1=1<br>$$<br>得线性模型<br>$$<br>w_1\cdot x+b_1 = 3x^{(1)}+3x^{(2)}+1<br>$$</li><li>对 $x_1, x_2$，显然，$y_i(w_1\cdot x_i+b_1)&gt;0$，被正确分类，不修改 $w,b$:<br>对 $x_3=(1,1)^T, y_3(w_1\cdot x_3+b_1)&lt;0$，被误分类，更新 $w,b$.</li></ol><p>$$<br>w_2=w_1+y_3x_3=(2,2)^T \qquad b_2=b_1+y_3=0<br>$$</p><p>得到线性模型</p><p>$$<br>w_2\cdot x+b_2=2x^{(1)}+2x^{(2)}<br>$$</p><p>如此继续下去，直到</p><p>$$<br>\begin{split}<br>&amp;w_7=(1,1)^T \quad b_7=-3 \<br>&amp;w_7\cdot x+b_7=x^{(1)}+x^{(2)}-3<br>\end{split}<br>$$</p><p>对于所有数据点 $y_i(w_7\cdot x_i+b_7)&gt;0$，没有误分类点，损失函数达到极小.</p><p>分离超平面为</p><p>$$<br>x^{(1)} + x^{(2)} - 3 = 0<br>$$</p><p>感知机模型为</p><p>$$<br>f(x) = \text{sign}(x^{(1)}+x^{(2)}-3)<br>$$</p><p>迭代过程如下表</p><table><thead><tr><th>迭代次数</th><th>误分类点</th><th>$w$</th><th>$b$</th><th>$w\cdot x+b$</th></tr></thead><tbody><tr><td>0</td><td></td><td>0</td><td>0</td><td>0</td></tr><tr><td>1</td><td>$x_1$</td><td>$(3,3)^T$</td><td>1</td><td>$3x^{(1)}+3x^{(2)}+1$</td></tr><tr><td>2</td><td>$x_3$</td><td>$(2,2)^T$</td><td>0</td><td>$2x^{(1)}+2x^{(2)}$</td></tr><tr><td>3</td><td>$x_3$</td><td>$(1,1)^T$</td><td>-1</td><td>$x^{(1)}+x^{(2)}-1$</td></tr><tr><td>4</td><td>$x_3$</td><td>$(0,0)^T$</td><td>-2</td><td>-2</td></tr><tr><td>5</td><td>$x_1$</td><td>$(3,3)^T$</td><td>-1</td><td>$3x^{(1)}+3x^{(2)}-1$</td></tr><tr><td>6</td><td>$x_3$</td><td>$(2,2)^T$</td><td>-2</td><td>$2x^{(1)}+2x^{(2)}-2$</td></tr><tr><td>7</td><td>$x_3$</td><td>$(1,1)^T$</td><td>-3</td><td>$x^{(1)}+x^{(2)}-3$</td></tr><tr><td>8</td><td>0</td><td>$(1,1)^T$</td><td>-3</td><td>$x^{(1)}+x^{(2)}-3$</td></tr></tbody></table><p>根据上述例子和算法过程，可以用如下python代码实现计算。</p><p>核心算法流程图如下</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/alg.png" height="250"><br></div><ul><li><p>初始化训练数据以及参数 $w,b$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">train_set = [[(<span class="number">3</span>,<span class="number">3</span>), <span class="number">1</span>], [(<span class="number">4</span>,<span class="number">3</span>), <span class="number">1</span>], [(<span class="number">1</span>,<span class="number">1</span>), <span class="number">-1</span>]]</span><br><span class="line">w = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">b = <span class="number">0</span></span><br><span class="line">max_iter = <span class="number">1000</span></span><br></pre></td></tr></table></figure></li><li><p>main函数逻辑，如果在<code>max_iter</code>步之内全部正确分类给出提示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    all_correct = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(max_iter):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> misclassified():</span><br><span class="line">            all_correct = <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> all_correct:</span><br><span class="line">        print(<span class="string">"All points are correctly classified within max iterations!"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"Still not enough."</span>)</span><br></pre></td></tr></table></figure></li><li><p>编写<code>product()</code>函数用于计算 $y_i(w\cdot x_i+b)$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span><span class="params">(item)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(item[<span class="number">0</span>])):</span><br><span class="line">        sum += item[<span class="number">0</span>][i] * w[i]</span><br><span class="line">    sum += b</span><br><span class="line">    sum *= item[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> sum</span><br></pre></td></tr></table></figure></li><li><p>编写<code>misclassified()</code>函数用于判断是否误分类</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">misclassified</span><span class="params">()</span>:</span></span><br><span class="line">    is_correct = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> train_set:</span><br><span class="line">        <span class="keyword">if</span> product(item) &lt;= <span class="number">0</span>:</span><br><span class="line">            is_correct = <span class="keyword">True</span></span><br><span class="line">            update(item)</span><br><span class="line">    <span class="keyword">return</span> is_correct</span><br></pre></td></tr></table></figure></li><li><p>编写<code>update()</code>函数用于确定误分类之后的一步更新操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(item)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> w, b</span><br><span class="line">    w[<span class="number">0</span>] += <span class="number">1</span>*item[<span class="number">1</span>]*item[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    w[<span class="number">1</span>] += <span class="number">1</span>*item[<span class="number">1</span>]*item[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">    b += <span class="number">1</span>*item[<span class="number">1</span>]</span><br><span class="line">    print(<span class="string">"w = "</span>, w, <span class="string">"b = "</span>, b)</span><br></pre></td></tr></table></figure></li></ul><p>总的程序代码如下：<br><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">train_set = [[(<span class="number">3</span>,<span class="number">3</span>), <span class="number">1</span>], [(<span class="number">4</span>,<span class="number">3</span>), <span class="number">1</span>], [(<span class="number">1</span>,<span class="number">1</span>), <span class="number">-1</span>]]</span><br><span class="line">w = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">b = <span class="number">0</span></span><br><span class="line">max_iter = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span><span class="params">(item)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(item[<span class="number">0</span>])):</span><br><span class="line">        sum += item[<span class="number">0</span>][i] * w[i]</span><br><span class="line">    sum += b</span><br><span class="line">    sum *= item[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">misclassified</span><span class="params">()</span>:</span></span><br><span class="line">    is_correct = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> train_set:</span><br><span class="line">        <span class="keyword">if</span> product(item) &lt;= <span class="number">0</span>:</span><br><span class="line">            is_correct = <span class="keyword">True</span></span><br><span class="line">            update(item)</span><br><span class="line">    <span class="keyword">return</span> is_correct</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(item)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> w, b</span><br><span class="line">    w[<span class="number">0</span>] += <span class="number">1</span>*item[<span class="number">1</span>]*item[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    w[<span class="number">1</span>] += <span class="number">1</span>*item[<span class="number">1</span>]*item[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">    b += <span class="number">1</span>*item[<span class="number">1</span>]</span><br><span class="line">    print(<span class="string">"w = "</span>, w, <span class="string">"b = "</span>, b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    all_correct = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(max_iter):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> misclassified():</span><br><span class="line">            all_correct = <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> all_correct:</span><br><span class="line">        print(<span class="string">"All points are correctly classified within max iterations!"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"Still not enough."</span>)</span><br></pre></td></tr></table></figure></p><p>程序运行结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">w =  [3, 3] b =  1</span><br><span class="line">w =  [2, 2] b =  0</span><br><span class="line">w =  [1, 1] b =  -1</span><br><span class="line">w =  [0, 0] b =  -2</span><br><span class="line">w =  [3, 3] b =  -1</span><br><span class="line">w =  [2, 2] b =  -2</span><br><span class="line">w =  [1, 1] b =  -3</span><br><span class="line">All points are correctly classified within max iterations!</span><br></pre></td></tr></table></figure></p><p>这与我们书本上的结果是对应的。</p><p><strong>Remark:</strong></p><ol><li><p>上述结果是在误分类点先后取 $x_1, x_3, x_3, x_3, x_1, x_3, x_3$ 得到的分离超平面和感知机模型。如果在计算中误分类点依次取 $x_1, x_3, x_3, x_3, x_2, x_3, x_3, x_3, x_1, x_3, x_3$，那么得到的分离超平面是 $2x^{(1)}+x^{(2)}-5=0$.</p></li><li><p>可以发现，感知机方法对于不同初值或取不同的误分类点，解可以不同。</p></li><li><p>与SVM不同之处，感知机只能做到产生一个分割，但并不能产生一个很好的分割。对于分类问题，感知机是可用的，但如果用来预测新样本的属性，最好还是用SVM。</p></li></ol><p>至此，感知机学习算法以及简单的python实现已经讲完了，下面讲解一下感知机的对偶形式，以及证明一下感知机学习算法为什么在迭代有限次的时候可以收敛。</p><h3 id="3-2-算法收敛性"><a href="#3-2-算法收敛性" class="headerlink" title="3.2 算法收敛性"></a>3.2 算法收敛性</h3><p>现在证明，对于线性可分数据集，感知机方法原始形式收敛。也就是说，经过有限次迭代可以得到一个将训练数据集完全正确划分的分离超平面和感知机模型。</p><p>为了方便推导，将bias偏置 $b$ 并入权重向量 $w$ 中，记作 $\hat w = (w^T, b)^T$。这需要同时将输入向量加以扩充，补入常数 $1$，记作 $\hat x = (x^T, 1)^T$。这样，$\hat x\in\mathbb{R}^{n+1}, \hat w\in\mathbb{R}^{n+1}$，$\hat w\cdot \hat x = w\cdot x+b$。</p><p><strong>Novikoff’s Theorem:</strong><br>设训练数据集 $T = { (x_1, y_1), (x_2, y_2), \cdots, (x_N, y_N) }$ 是线性可分的，其中 $x_i\in\mathcal{X}=\mathbb{R}^n$，$y_i\in\mathcal{Y}={-1,+1}, i=1,2,\cdots,N$，则</p><ol><li>存在满足条件 $\Vert \hat w<em>{\text{opt}}\Vert = 1$ 的超平面 $\hat w</em>{\text{opt}}\cdot \hat x = w<em>{\text{opt}}\cdot x+b</em>{\text{opt}}$ 将训练数据集完全正确分开；且存在 $\gamma &gt; 0$，对所有的 $i=1,2,\cdots,N$<br>$$<br>y<em>i(\hat w</em>{\text{opt}} \cdot \hat x_i) = y<em>i(w</em>{\text{opt}}\cdot x<em>i + b</em>{\text{opt}}) \geq \gamma<br>$$</li><li>令 $R = \max\limits_{1\leq i\leq N}\Vert \hat x_i\Vert$，则感知机算法在训练数据集上的误分类次数 $k$ 满足不等式<br>$$<br>k \leq \left( \frac{R}{\gamma} \right)^2<br>$$</li></ol><p>上面定理直白来说就是，如果是一个线性可分的数据集，我们可以在有限 $k$ 次更新，得到一个将数据集完美分割好的超平面（感知机模型）。</p><p><strong>Proof:</strong></p><ol><li>由于训练数据集是线性可分的，存在超平面可将数据集完全正确分开，取此超平面为 $\hat w<em>{\text{opt}}\cdot \hat x = w</em>{\text{opt}}\cdot x + b<em>{\text{opt}} = 0$，使得 $\Vert \hat w</em>{\text{opt}} \Vert=1$.（ $w<em>{\text{opt}}$ 与 $b</em>{\text{opt}}$ 同时缩小或扩大不改变超平面）</li></ol><p>由于对有限的 $i=1,2,\cdots,N$，均有<br>$$<br>y<em>i(\hat w</em>{\text{opt}}\cdot \hat x_i) = y<em>i(w</em>{\text{opt}} \cdot x<em>i + b</em>{\text{opt}}) &gt; 0<br>$$<br>上式为已经全部分对情形，所以所有训练集上的数据点均满足上式。<br>对于有限个数据点，存在<br>$$<br>\gamma = \min\limits_i { y<em>i(w</em>{\text{opt}} \cdot x<em>i + b</em>{\text{opt}}) }<br>$$<br>使得<br>$$<br>y<em>i(\hat w</em>{\text{opt}} \cdot \hat x_i) = y<em>i(w</em>{\text{opt}}\cdot x<em>i + b</em>{\text{opt}}) \geq \gamma<br>$$</p><ol><li>感知机算法从 $\hat w<em>0 = 0$ 开始，如果实例被误分类，则更新权重。令 $\hat w</em>{k-1}$ 为第 $k$ 个误分类实例之前的扩充权重向量，即<br>$$<br>\hat w<em>{k-1} = (w</em>{k-1}^T, b_{k-1})^T<br>$$<br>则第 $k$ 个误分类实例的条件是<br>$$<br>y<em>i(\hat w</em>{k-1}\cdot \hat x_i) = y<em>i(w</em>{k-1}\cdot x<em>i+b</em>{k-1}) \leq 0<br>$$<br>若 $(x_i, y<em>i)$ 是被 $\hat w</em>{k-1} = (w<em>{k-1}^T, b</em>{k-1})^T$ 误分类的数据，则 $w$ 和 $b$ 的更新是<br>$$<br>\begin{split}<br>&amp;w<em>k \leftarrow w</em>{k-1} + \eta\,y_ix_i \<br>&amp;b<em>k \leftarrow b</em>{k-1} + \eta\,y_i<br>\end{split}<br>$$<br>即<br>$$<br>\hat w<em>k = \hat w</em>{k-1} + \eta\, y_i\hat x_i<br>$$<br>下面我们证明两个小结论<br>$$<br>\begin{split}<br>&amp;\hat w<em>k \cdot \hat w</em>{\text{opt}} \geq k\eta\,\gamma \<br>&amp;\Vert \hat w_k\Vert^2 \leq k\eta^2R^2<br>\end{split}<br>$$</li></ol><p>(1) 证明：<br>$$<br>\begin{split}<br>\hat w<em>k\cdot \hat w</em>{\text{opt}} &amp;= \hat w<em>{k-1}\cdot \hat w</em>{\text{opt}} + \eta\, y<em>i\hat w</em>{\text{opt}}\cdot \hat x<em>i \<br>&amp;\geq \hat w</em>{k-1}\cdot \hat w_{\text{opt}} + \eta\,\gamma<br>\end{split}<br>$$<br>由此递推得到不等式<br>$$<br>\hat w<em>k\cdot \hat w</em>{\text{opt}} \geq \hat w<em>{k-1}\cdot \hat w</em>{\text{opt}} + \eta\,\gamma \geq \hat w<em>{k-2}\cdot \hat w</em>{\text{opt}} + 2\eta\,\gamma \geq \cdots \geq k\eta\gamma<br>$$</p><p>(2) 证明：<br>$$<br>\begin{split}<br>\Vert \hat w<em>k\Vert^2 &amp;= \Vert \hat w</em>{k-1}\Vert^2 + 2\eta\,y<em>i\hat w</em>{k-1}\cdot \hat x_i + \eta^2\Vert \hat x<em>i\Vert^2 \<br>&amp;\leq \Vert \hat w</em>{k-1}\Vert^2 + \eta^2\Vert \hat x<em>i\Vert^2 \<br>&amp;\leq \Vert \hat w</em>{k-1}\Vert^2 + \eta^2 R^2 \<br>&amp;\leq \Vert \hat w_{k-2}\Vert^2 + 2\eta^2 R^2 \leq \cdots \<br>&amp;\leq k\,\eta^2 R^2<br>\end{split}<br>$$</p><p>结合以上，有<br>$$<br>\begin{split}<br>&amp;k\eta\,\gamma \leq \hat w<em>k\cdot \hat w</em>{\text{opt}} \leq \Vert \hat w<em>k\Vert\,\Vert w</em>{\text{opt}}\Vert \leq \sqrt{k}\eta R \<br>&amp;k^2 \gamma^2 \leq k R^2<br>\end{split}<br>$$</p><p><strong>Remark:</strong></p><ol><li>误分类的次数 $k$ 是上界的 $\implies$ 当训练数据集线性可分的时候，感知机学习算法原始迭代是收敛的。</li><li>感知机学习算法存在许多解，依赖于初值选择，也依赖于迭代过程中误分类点的选择顺序。</li><li>为了得到唯一的超平面，需要对分离超平面增加约束条件，SVM想法由此而来。</li><li>对于线性不可分的数据，SVM算法不能收敛，会产生震荡现象。<br>解决方法：<ul><li>规定最大迭代次数</li><li>每次更新算法的参数当且仅当在该参数下误分割的样本数量减少了</li></ul></li></ol><h3 id="3-3-感知机学习算法的对偶形式"><a href="#3-3-感知机学习算法的对偶形式" class="headerlink" title="3.3 感知机学习算法的对偶形式"></a>3.3 感知机学习算法的对偶形式</h3><p>对偶形式就是将参数 $w,b$ 表示为实例 $x_i$ 和 $y_i$ 的线性组合的形式，通过求解其系数而求得 $w$ 和 $b$。我们假设 $w_0,b_0$ 均为0，对误分类点 $(x_i, y_i)$ 通过：<br>$$<br>\begin{split}<br>&amp;w \leftarrow w + \eta\,y_ix_i \<br>&amp;b \leftarrow b + \eta\,y_i<br>\end{split}<br>$$<br>逐步修改 $w, b$，设修改了 $n$ 次，则 $w, b$ 关于 $(x_i, y_i)$ 的增量分别是 $\alpha_i y_i x_i$ 和 $\alpha_i y_i$，这里 $\alpha_i = n<em>i\,\eta$。这样，从学习过程可以得到最终学习到的 $w,b$ 分别为<br>$$<br>\begin{split}<br>&amp;w = \sum</em>{i=1}^N \alpha_i y_i x<em>i \<br>&amp;b = \sum</em>{i=1}^N \alpha_i y_i<br>\end{split}<br>$$<br>这里，$\alpha_i\geq 0$, $i=1,2,\cdots,N$，==当 $\eta=1$ 时，表示 $i$ 个实例点由于误分而进行更新的次数==。<u>实例点更新次数越多，意味着它距离分离超平面越近，也就越难正确分类（越容易分错，超平面移动不多就容易将这些点分错）换句话说，这样的实例对学习结果影响最大</u>（在SVM中，这些点代表着支持向量）</p><p>那么我们怎么得到它的对偶形式呢？将 $x_i, y<em>i$ 表达的 $w$ 代入原来感知机模型中，得到下面对偶感知机模型：<br>$$<br>f(x) = \text{sign}\left( \sum</em>{j=1}^N \alpha_j\, y_jx_j\cdot x+b \right)<br>$$<br>根据上面模型方程，我们可以看出与原始感知机模型不同的就是 $w$ 的形式有所改变，那么到底为什么有对偶形式出现呢？后面会讲原因！</p><h4 id="Algorithm-2"><a href="#Algorithm-2" class="headerlink" title="Algorithm 2:"></a><strong>Algorithm 2:</strong></h4><p>Input: 线性可分的数据集 $T = { (x_1, y_1), (x_2, y_2), \cdots, (x_N, y_N) }$，其中 $x_i\in\mathbb{R}^n, y<em>i\in{ -1, +1 }, i=1,2,\cdot,N$；学习率 $\eta, 0&lt;\eta\leq 1$<br>Output: $a, b$；感知机模型 $f(x) = \text{sign}\left( \sum</em>{j=1}^N \alpha_j\, y_jx_j\cdot x+b \right)$，其中 $\alpha = (\alpha_1, \alpha_2, \cdots, \alpha_N)^T$</p><ol><li>$\alpha \leftarrow 0, b \leftarrow 0$</li><li>在训练集中选取数据 $(x_i, y_i)$</li><li>如果 $y<em>i\left( \sum</em>{j=1}^N \alpha_j\,y_jx_j\cdot x_i + b \right) \leq 0$<br>$$<br>\begin{split}<br>&amp;\alpha_i \leftarrow \alpha_i + \eta \<br>&amp;b \leftarrow b + \eta\, y_i<br>\end{split}<br>$$</li><li>转到2. 直到没有误分类数据</li></ol><p><strong>Remark:</strong><br><u>这里的更新其实等价于 $\alpha_i = n<em>i\,\eta$，从 $\alpha</em>{i+1} = \alpha<em>{i} + \eta$ 可以推出 $n</em>{i+1}\eta = n<em>i\eta + \eta$ 进而 $n</em>{i+1} = n_i + 1$，表示如果该数据点分错了，那么更新次数加一，$b$ 的更新方式和原始感知机模型更新方式一样。</u></p><p>现在假设样本点 $(x_i, y_i)$ 在更新过程中被使用了 $n<em>i$ 次。因此，从原始形式的学习过程中可以得到，最后学习到的 $w,b$分别可以表示为<br>$$<br>\begin{split}<br>&amp;w = \sum</em>{i=1}^N n_i\,\eta y_ix<em>i \<br>&amp;b = \sum</em>{i=1}^N n_i\,\eta y_i<br>\end{split}<br>$$</p><p>考虑 $n_i$ 的含义：如果 $n_i$ 的值越大，那么意味着这个样本点经常被误分，也就说明该点离超平面很近。这种点其实就很可能是支持向量。</p><p>现将上式代入感知机模型中，可得：<br>$$<br>f(x) = \text{sign}(w\cdot x + b) = \text{sign}\left( \sum_{j=1}^N n_j\eta\, y_jx<em>j\cdot x + \sum</em>{j=1}^N n_j\eta\, y_j \right)<br>$$</p><p>此时，学习的目标不再是 $w,b$，而是 $n_i, i=1,2,\cdots, N.$ 相应的，训练过程变为：</p><ol><li>初始时刻 $n_i = 0 \quad \forall i = 1,2,\cdots, N$</li><li>在训练集中选取数据 $(x_i, y_i)$</li><li>如果 $y<em>i\left( \sum\limits</em>{j=1}^N n_j\eta\, y_jx_j\cdot x<em>i + \sum\limits</em>{j=1}^N n_j\eta\, y_j \right) \leq 0$，更新 $n_i \leftarrow n_i + 1$</li><li>转到 2. 直至没有误分类数据。</li></ol><p><em>Question:</em><br>为什么引入对偶形式?</p><p><em>Answer:</em><br>根据查阅到的资料，我能接受的观点如下：</p><ol><li>从对偶形式学习算法过程可以看出，样本点的特征向量以內积的形式存在于感知机对偶形式的训练算法中，凡是涉及到矩阵，向量內积的运算量就非常大（现实中特征维度很高），这里我们如果事先计算好所有的內积，存储于Gram矩阵中，以后碰到更新的点，直接从Gram矩阵中查找即可，相当于我就初始化运算一遍Gram矩阵，以后都是查询，大大加快了计算速度。</li></ol><blockquote><p>不妨假设特征空间是 $\mathbb{R}^n$，$n$很大，一共有 $N$ 个训练数据，$N$ 相对 $n$ 很小。我们考虑原始形式的感知机学习算法，每一轮迭代中我们至少都要判断某个输入实例是不是误判点，即对于 $x_i,y_i$，是否有 $y_i(w x_i + b) \leq 0$。这里的运算量主要集中在求输入实例 $x_i$ 和权值向量 $w$ 的內积上，$\Theta(n)$ 的时间复杂度，由于特征空间维度很高，所以很慢。</p><p>而在对偶形式的感知机学习算法中，对于输入实例 $(x_i, y_i)$ 是否误判的条件转变为了 $y<em>i\left( \sum</em>{j=1}^N \alpha_j\,y_jx_j\cdot x_i + b \right) \leq 0$。这里所有输入实例都仅仅以內积的形式出现，所以我们可以预先计算输入实例两两之间的內积，得到所谓的Gram矩阵 $G = [x_i\cdot x<em>j]</em>{N\times N}$。这样一来每次做误判检测的时候我们直接在Gram矩阵里查表就能拿到內积 $x_i\cdot x_j$，所以这个误判检测的时间复杂度是 $\Theta(N)$。</p><p>也就是说，对偶形式的感知机，把每轮迭代的时间复杂度的数据规模从特征空间维度 $n$ 转移到了训练集大小 $N$ 上，那么对于维度非常高的空间，自然可以提升性能了。</p></blockquote><ol><li>跟SVM的对偶形式其实有相似之处，后面讲到SVM的时候再说明。</li></ol><p><strong>Example:</strong><br>用感知机学习算法的对偶形式求解感知机模型，数据同上。</p><p>按照对偶算法框架，有：</p><ol><li>取 $\alpha_i = 0, i=1,2,3, b=0, \eta=1$</li><li>计算Gram矩阵<br>$$<br>G = \begin{bmatrix}<br>18 &amp; 21 &amp; 6 \<br>21 &amp; 25 &amp; 7 \<br>6 &amp; 7 &amp; 2<br>\end{bmatrix}<br>$$</li><li>误分条件<br>$$<br>y<em>i \left( \sum</em>{j=1}^N \alpha_j y_j x_j \cdot x_i + b \right) \leq 0<br>$$<br>参数更新<br>$$<br>\alpha_i \leftarrow \alpha_i+1 \quad b \leftarrow b + y_i<br>$$</li><li>迭代。</li><li>​<br>$$<br>\begin{split}<br>&amp;w = 2x_1 + 0x_2 - 5x_3 = (1,1)^T \<br>&amp;b = -3<br>\end{split}<br>$$<br>分离超平面<br>$$<br>x^{(1)} + x^{(2)} - 3 = 0<br>$$<br>感知机模型<br>$$<br>f(x) = \text{sign}(x^{(1)} + x^{(2)} - 3)<br>$$</li></ol><p>迭代过程中的参数变化如下表</p><table><thead><tr><th>$k$</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr></thead><tbody><tr><td></td><td></td><td>$x_1$</td><td>$x_3$</td><td>$x_3$</td><td>$x_3$</td><td>$x_1$</td><td>$x_3$</td><td>$x_3$</td></tr><tr><td>$\alpha_1$</td><td>0</td><td>1</td><td>1</td><td>1</td><td>1</td><td>2</td><td>2</td><td>2</td></tr><tr><td>$\alpha_2$</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>$\alpha_3$</td><td>0</td><td>0</td><td>1</td><td>2</td><td>3</td><td>3</td><td>4</td><td>5</td></tr><tr><td>$b$</td><td>0</td><td>1</td><td>0</td><td>-1</td><td>-2</td><td>-1</td><td>-2</td><td>-3</td></tr></tbody></table><p>对比原始形式的例子，可以发现结果一致且迭代步骤也是对应的。</p><p>用python实现该对偶问题的计算如下：</p><ul><li><p>初始化数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">train_set = np.array([[[<span class="number">3</span>, <span class="number">3</span>], <span class="number">1</span>], [[<span class="number">4</span>, <span class="number">3</span>], <span class="number">1</span>], [[<span class="number">1</span>, <span class="number">1</span>], <span class="number">-1</span>]])</span><br><span class="line"></span><br><span class="line">a = np.zeros(len(train_set), np.float)</span><br><span class="line">b = <span class="number">0.0</span></span><br><span class="line">max_iter = <span class="number">1000</span></span><br><span class="line">Gram = <span class="keyword">None</span></span><br><span class="line">y = np.array(train_set[:, <span class="number">1</span>])</span><br><span class="line">x = np.empty((len(train_set), <span class="number">2</span>), np.float)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">    x[i] = train_set[i][<span class="number">0</span>]</span><br></pre></td></tr></table></figure></li><li><p>主函数逻辑</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    Gram = cal_gram()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(max_iter):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> misclassified():</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure></li><li><p>编写<code>cal_gram()</code>函数计算Gram矩阵</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal_gram</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    calculate the Gram matrix</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    g = np.empty((len(train_set), len(train_set)), np.int)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">            g[i][j] = np.dot(train_set[i][<span class="number">0</span>], train_set[j][<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure></li><li><p>编写<code>misclassified()</code>函数判断是否分类正确</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">misclassified</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> a, b, x, y</span><br><span class="line">    is_correct = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">        <span class="keyword">if</span> product(i) &lt;= <span class="number">0</span>:</span><br><span class="line">            is_correct = <span class="keyword">True</span></span><br><span class="line">            update(i)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> is_correct:</span><br><span class="line">        w = np.dot(a * y, x)</span><br><span class="line">        print(<span class="string">"\nResult within max iterations:"</span>)</span><br><span class="line">        print(<span class="string">"w: "</span>, w, <span class="string">" b: "</span>, b)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure></li><li><p>编写<code>product()</code>函数计算误分条件左端值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> a, b, x, y</span><br><span class="line">    </span><br><span class="line">    sum = np.dot(a * y, Gram[i])</span><br><span class="line">    sum = (sum + b) * y[i]</span><br><span class="line">    <span class="keyword">return</span> sum</span><br></pre></td></tr></table></figure></li><li><p>编写<code>update()</code>函数用于更新参数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    update parameter using stochastic gradient descent</span></span><br><span class="line"><span class="string">    :param i:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">global</span> a, b</span><br><span class="line">    a[i] += <span class="number">1</span></span><br><span class="line">    b += y[i]</span><br><span class="line">    print(a, b)</span><br></pre></td></tr></table></figure></li></ul><p>程序运行结果如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[ 1.  0.  0.] 1.0</span><br><span class="line">[ 1.  0.  1.] 0.0</span><br><span class="line">[ 1.  0.  2.] -1.0</span><br><span class="line">[ 1.  0.  3.] -2.0</span><br><span class="line">[ 2.  0.  3.] -1.0</span><br><span class="line">[ 2.  0.  4.] -2.0</span><br><span class="line">[ 2.  0.  5.] -3.0</span><br><span class="line"></span><br><span class="line">Result within max iterations:</span><br><span class="line">w:  [1.0 1.0]  b:  -3.0</span><br></pre></td></tr></table></figure></p><p>完整的程序代码如下<br><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Dual problem solution</span></span><br><span class="line">train_set = np.array([[[<span class="number">3</span>, <span class="number">3</span>], <span class="number">1</span>], [[<span class="number">4</span>, <span class="number">3</span>], <span class="number">1</span>], [[<span class="number">1</span>, <span class="number">1</span>], <span class="number">-1</span>]])</span><br><span class="line"></span><br><span class="line">a = np.zeros(len(train_set), np.float)</span><br><span class="line">b = <span class="number">0.0</span></span><br><span class="line">max_iter = <span class="number">1000</span></span><br><span class="line">Gram = <span class="keyword">None</span></span><br><span class="line">y = np.array(train_set[:, <span class="number">1</span>])</span><br><span class="line">x = np.empty((len(train_set), <span class="number">2</span>), np.float)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">    x[i] = train_set[i][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal_gram</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    calculate the Gram matrix</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    g = np.empty((len(train_set), len(train_set)), np.int)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">            g[i][j] = np.dot(train_set[i][<span class="number">0</span>], train_set[j][<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">return</span> g</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    update parameter using stochastic gradient descent</span></span><br><span class="line"><span class="string">    :param i:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">global</span> a, b</span><br><span class="line">    a[i] += <span class="number">1</span></span><br><span class="line">    b += y[i]</span><br><span class="line">    print(a, b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> a, b, x, y</span><br><span class="line">    </span><br><span class="line">    sum = np.dot(a * y, Gram[i])</span><br><span class="line">    sum = (sum + b) * y[i]</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">misclassified</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> a, b, x, y</span><br><span class="line">    is_correct = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_set)):</span><br><span class="line">        <span class="keyword">if</span> product(i) &lt;= <span class="number">0</span>:</span><br><span class="line">            is_correct = <span class="keyword">True</span></span><br><span class="line">            update(i)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> is_correct:</span><br><span class="line">        w = np.dot(a * y, x)</span><br><span class="line">        print(<span class="string">"\nResult within max iterations:"</span>)</span><br><span class="line">        print(<span class="string">"w: "</span>, w, <span class="string">" b: "</span>, b)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    Gram = cal_gram()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(max_iter):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> misclassified():</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure></p><p><strong>Remark:</strong><br>与原始形式一样，感知机学习算法的对偶形式迭代也是收敛的，且存在多个解。</p><p><strong>Summary:</strong></p><ol><li>感知机是二类，线性分类模型。要求给定数据线性可分</li><li>感知机算法本质：求一个超平面，使得预定的损失函数最小化</li><li>感知机的模型, 策略, 算法分别为<ul><li>model: 超平面（对二维空间就是直线），线性模型。若样本维数为 $n$，假设空间 $\mathbb{R}^{n+1}$</li><li>strategy: 极小化损失函数</li><li>algorithm: gradient descent</li></ul></li><li>超平面方程：$w\cdot x+b=0$，$w,x$ 是与样本 $x$ 相同维数的向量</li><li>损失函数：$-\sum \frac{1}{\Vert w\Vert} y_i(w\cdot x_i+b)$，只考虑所有被错误分类的点。感知机算法即优化这样一个函数</li><li>感知机的形式：$\text{sign}(w\cdot x+b)$，$\text{sign}(x)$ 是符号函数</li></ol><h2 id="4-感知机学习算法应用实例"><a href="#4-感知机学习算法应用实例" class="headerlink" title="4. 感知机学习算法应用实例"></a>4. 感知机学习算法应用实例</h2><h3 id="4-1-鸢尾花数据集分类"><a href="#4-1-鸢尾花数据集分类" class="headerlink" title="4.1. 鸢尾花数据集分类"></a>4.1. 鸢尾花数据集分类</h3><h4 id="python源码实现感知机"><a href="#python源码实现感知机" class="headerlink" title="python源码实现感知机"></a>python源码实现感知机</h4><ul><li>加载需要用到的包</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd  <span class="comment"># pandas用数据提取与展示</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  <span class="comment"># numpy用于数组操作</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris  <span class="comment"># 从sklearn中导入数据集</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt  <span class="comment"># matplotlib用于制图可视化</span></span><br></pre></td></tr></table></figure><ul><li>数据提取</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iris = load_iris()  <span class="comment"># 加载iris数据集并命名</span></span><br><span class="line">df = pd.DataFrame(iris.data, columns=iris.feature_names)  <span class="comment"># 将数据集放入pandas数据框</span></span><br><span class="line">df[<span class="string">'label'</span>] = iris.target  <span class="comment"># 将iris的目标值记为名为label的列</span></span><br><span class="line">df  <span class="comment"># 可以看到数据框了，类似 150*50 的矩阵</span></span><br></pre></td></tr></table></figure><ul><li>简单数据统计</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.columns = [<span class="string">'sepal length'</span>, <span class="string">'sepal width'</span>, <span class="string">'petal length'</span>, <span class="string">'petal width'</span>, <span class="string">'label'</span>]  <span class="comment"># 对DataFrame的列重命名</span></span><br><span class="line">df.label.value_counts()  <span class="comment"># 对label的值进行简要的统计</span></span><br></pre></td></tr></table></figure><ul><li>可视化数据点</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(df[:<span class="number">50</span>][<span class="string">'sepal length'</span>], df[:<span class="number">50</span>][<span class="string">'sepal width'</span>], label=<span class="string">'0'</span>)  <span class="comment"># 选取前50个值，绘制散点图，横纵坐标分别为length, width</span></span><br><span class="line">plt.scatter(df[<span class="number">50</span>:<span class="number">100</span>][<span class="string">'sepal length'</span>], df[<span class="number">50</span>:<span class="number">100</span>][<span class="string">'sepal width'</span>], label=<span class="string">'1'</span>)  <span class="comment"># 选取后50个值，绘制散点图，同上</span></span><br><span class="line">plt.xlabel(<span class="string">'sepal length'</span>)  <span class="comment"># 给x轴加label</span></span><br><span class="line">plt.ylabel(<span class="string">'sepal width'</span>)  <span class="comment"># 给y轴加label</span></span><br><span class="line">plt.legend()  <span class="comment"># 加上图例</span></span><br></pre></td></tr></table></figure><ul><li><p>另一种选取数据方式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = np.array(df.iloc[:<span class="number">100</span>, [<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>]])  <span class="comment"># 选取第1,2和最后一列组成新的数据框</span></span><br><span class="line">X, y = data[:, :<span class="number">-1</span>], data[:, <span class="number">-1</span>]  <span class="comment"># X为除最后一列的所有，y为最后一列</span></span><br><span class="line">y = np.array([<span class="number">1</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="number">-1</span> <span class="keyword">for</span> i <span class="keyword">in</span> y])  <span class="comment"># 将y中所有0变为-1</span></span><br></pre></td></tr></table></figure></li><li><p>定义Perceptron类</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Perceptron</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.w = np.ones(len(data[<span class="number">0</span>])<span class="number">-1</span>, dtype=np.float32)</span><br><span class="line">        self.b = <span class="number">0</span></span><br><span class="line">        self.l_rate = <span class="number">0.1</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sign</span><span class="params">(self, x, w, b)</span>:</span></span><br><span class="line">        y = np.dot(x, w) + b</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X_train, y_train)</span>:</span></span><br><span class="line">        is_wrong = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> is_wrong:</span><br><span class="line">            wrong_count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> d <span class="keyword">in</span> range(len(X_train)):</span><br><span class="line">                X = X_train[d]</span><br><span class="line">                y = y_train[d]</span><br><span class="line">                <span class="keyword">if</span> y * self.sign(X, self.w, self.b) &lt;= <span class="number">0</span>:</span><br><span class="line">                    self.w = self.w + self.l_rate * np.dot(y, X)</span><br><span class="line">                    self.b = self.b + self.l_rate * y</span><br><span class="line">                    wrong_count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> wrong_count == <span class="number">0</span>:</span><br><span class="line">                is_wrong = <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">'Perceptron Model'</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><ul><li>用感知机模型训练数据</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">perceptron = Perceptron()  <span class="comment"># 创建Perceptron的一个实例</span></span><br><span class="line">perceptron.fit(X, y)  <span class="comment"># 传入数据开始训练</span></span><br></pre></td></tr></table></figure><ul><li>可视化训练得到的w和b</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x_points = np.linspace(<span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>)</span><br><span class="line">y_ = (perceptron.w[<span class="number">0</span>] * x_points + perceptron.b) / perceptron.w[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">plt.plot(x_points, y_)</span><br><span class="line">plt.plot(data[:<span class="number">50</span>, <span class="number">0</span>], data[:<span class="number">50</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'blue'</span>, label=<span class="string">'0'</span>)</span><br><span class="line">plt.plot(data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">0</span>], data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'orange'</span>, label=<span class="string">'1'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'sepal width'</span>)</span><br><span class="line">plt.legend()</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/iris_1.png" width="300"><br></div><p>从上图可以看到，训练结果近似符合预期，但还不够好，下面利用高度优化的<code>sklearn</code>包来进行感知机方法的训练。</p><p>完整的程序代码如下：<br><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line">df = pd.DataFrame(iris.data, columns=iris.feature_names)</span><br><span class="line">df[<span class="string">'label'</span>] = iris.target</span><br><span class="line"></span><br><span class="line">df.columns = [<span class="string">'sepal length'</span>, <span class="string">'sepal width'</span>,</span><br><span class="line">              <span class="string">'petal length'</span>, <span class="string">'petal width'</span>, <span class="string">'label'</span>]</span><br><span class="line">data = np.array(df.iloc[:<span class="number">100</span>, [<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>]])</span><br><span class="line">X, y = data[:, :<span class="number">-1</span>], data[:, <span class="number">-1</span>]</span><br><span class="line">y = np.array([<span class="number">1</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="number">-1</span> <span class="keyword">for</span> i <span class="keyword">in</span> y])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Perceptron</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.w = np.ones(len(data[<span class="number">0</span>]) - <span class="number">1</span>, dtype=np.float32)</span><br><span class="line">        self.b = <span class="number">0</span></span><br><span class="line">        self.l_rate = <span class="number">0.1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sign</span><span class="params">(self, x, w, b)</span>:</span></span><br><span class="line">        y = np.dot(x, w) + b</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X_train, y_train)</span>:</span></span><br><span class="line">        is_wrong = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> is_wrong:</span><br><span class="line">            wrong_count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> d <span class="keyword">in</span> range(len(X_train)):</span><br><span class="line">                X = X_train[d]</span><br><span class="line">                y = y_train[d]</span><br><span class="line">                <span class="keyword">if</span> y * self.sign(X, self.w, self.b) &lt;= <span class="number">0</span>:</span><br><span class="line">                    self.w = self.w + self.l_rate * np.dot(y, X)</span><br><span class="line">                    self.b = self.b + self.l_rate * y</span><br><span class="line">                    wrong_count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> wrong_count == <span class="number">0</span>:</span><br><span class="line">                is_wrong = <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">'Perceptron Model'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">perceptron = Perceptron()</span><br><span class="line">perceptron.fit(X, y)</span><br><span class="line"></span><br><span class="line">x_points = np.linspace(<span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>)</span><br><span class="line">y_ = (perceptron.w[<span class="number">0</span>] * x_points + perceptron.b) / perceptron.w[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">plt.plot(x_points, y_)</span><br><span class="line">plt.plot(data[:<span class="number">50</span>, <span class="number">0</span>], data[:<span class="number">50</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'blue'</span>, label=<span class="string">'0'</span>)</span><br><span class="line">plt.plot(data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">0</span>], data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'orange'</span>, label=<span class="string">'1'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'sepal width'</span>)</span><br><span class="line">plt.legend()</span><br></pre></td></tr></table></figure></p><h4 id="利用sklearn实现感知机方法"><a href="#利用sklearn实现感知机方法" class="headerlink" title="利用sklearn实现感知机方法"></a>利用sklearn实现感知机方法</h4><ul><li>导包</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Perceptron</span><br></pre></td></tr></table></figure><ul><li>定义一个分类器并开始训练</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">clf = Perceptron(fit_intercept=<span class="keyword">False</span>, n_iter=<span class="number">1000</span>, shuffle=<span class="keyword">False</span>)</span><br><span class="line">clf.fit(X, y)</span><br></pre></td></tr></table></figure><ul><li>查看训练结果</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(clf.coef_)  <span class="comment"># 训练得到的系数w</span></span><br><span class="line">print(clf.intercept_)  <span class="comment"># 训练得到的截距b</span></span><br></pre></td></tr></table></figure><ul><li>可视化呈现</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">x_points = np.arange(<span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line">y_ = -(clf.coef_[<span class="number">0</span>][<span class="number">0</span>] * x_points + clf.intercept_) / clf.coef_[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">plt.plot(x_points, y_)</span><br><span class="line"></span><br><span class="line">plt.plot(data[:<span class="number">50</span>, <span class="number">0</span>], data[:<span class="number">50</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'blue'</span>, label=<span class="string">'0'</span>)</span><br><span class="line">plt.plot(data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">0</span>], data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'orange'</span>, label=<span class="string">'1'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'sepal width'</span>)</span><br><span class="line">plt.legend()</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/iris_2.png" width="300"><br></div><p>完整代码如下：<br><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Perceptron</span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line">df = pd.DataFrame(iris.data, columns=iris.feature_names)</span><br><span class="line">df[<span class="string">'label'</span>] = iris.target</span><br><span class="line"></span><br><span class="line">df.columns = [<span class="string">'sepal length'</span>, <span class="string">'sepal width'</span>,</span><br><span class="line">              <span class="string">'petal length'</span>, <span class="string">'petal width'</span>, <span class="string">'label'</span>]</span><br><span class="line">data = np.array(df.iloc[:<span class="number">100</span>, [<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>]])</span><br><span class="line">X, y = data[:, :<span class="number">-1</span>], data[:, <span class="number">-1</span>]</span><br><span class="line">y = np.array([<span class="number">1</span> <span class="keyword">if</span> i == <span class="number">1</span> <span class="keyword">else</span> <span class="number">-1</span> <span class="keyword">for</span> i <span class="keyword">in</span> y])</span><br><span class="line"></span><br><span class="line">clf = Perceptron(fit_intercept=<span class="keyword">False</span>, n_iter=<span class="number">1000</span>, shuffle=<span class="keyword">False</span>)</span><br><span class="line">clf.fit(X, y)</span><br><span class="line"><span class="comment"># print(clf.coef_)</span></span><br><span class="line"><span class="comment"># print(clf.intercept_)</span></span><br><span class="line"></span><br><span class="line">x_points = np.arange(<span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line">y_ = -(clf.coef_[<span class="number">0</span>][<span class="number">0</span>] * x_points + clf.intercept_) / clf.coef_[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">plt.plot(x_points, y_)</span><br><span class="line"></span><br><span class="line">plt.plot(data[:<span class="number">50</span>, <span class="number">0</span>], data[:<span class="number">50</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'blue'</span>, label=<span class="string">'0'</span>)</span><br><span class="line">plt.plot(data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">0</span>], data[<span class="number">50</span>:<span class="number">100</span>, <span class="number">1</span>], <span class="string">'bo'</span>, color=<span class="string">'orange'</span>, label=<span class="string">'1'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'sepal width'</span>)</span><br><span class="line">plt.legend()</span><br></pre></td></tr></table></figure></p><h3 id="4-2-从感知机到人工神经网络ANN"><a href="#4-2-从感知机到人工神经网络ANN" class="headerlink" title="4.2. 从感知机到人工神经网络ANN"></a>4.2. 从感知机到人工神经网络ANN</h3><p>人造神经网络的概念主要受模拟大脑中神经元的目标的启发。但现在它变成了一个工程和计算机科学的主题，并且在大规模视觉识别和机器学习任务中显示出有前途的结果。<br>我们不需要过多考虑生物学的细节例如生物神经元与感知器的比较。因为了解生物神经元对于理解感知器的工作原理并不是绝对必要的。<br>只是为了理解，下面的图片是一个生物神经元，描述一个神经元做什么的流程。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/10/neuron.png" width="400"><br></div><p>神经科学界的共识是，人脑包含1000亿个神经元，每个神经元有1万个突触，数量巨大，组合方式复杂，联系广泛。也就是说，突触传递机制十分复杂。</p><p>现在已经发现和阐明的突触传递机制有：突触后兴奋、突触后抑制、突触前抑制、突触前兴奋，以及远程抑制等。</p><p>ANN人工神经网络是一种模仿生物神经网络结构和功能的数学模型，它使用大量的人工神经元连接来进行计算，该网络由大量的“神经元”相互连接构成，每个“神经元”代表一种特定的输出函数。又称激励函数。每两个“神经元”间的连接代表一个通过该连接信号的加权值，称之为权重，这相当于人工神经网络的记忆。网络的输出则根据网络的连接规则来确定，输出因权重值和激励函数的不同而不同。人工神经网络可以理解为对自然界某种算法或者函数的逼近。</p><p>下面是一种模拟上述生物神经元的感知器模型。图片来自于Andrej Karpathy在斯坦福课程<a href="http://cs231n.github.io/neural-networks-1/" target="_blank" rel="noopener">CS231n</a>上的讲座。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/10/neuron_model.jpeg" width="400"><br></div><p>我们可以看到每个神经元或者感知器执行一个带有输入和它的权重的点积，用它们加上偏差，然后应用非线性 $f(x)$，在这种情况下是sigmoid。这个非线性函数也被称为激活函数。</p><p>就上图而言，总输入是 $x = x_1 + x_2 + \ldots + x_N$，其中 $N$ 是输入的总数。类别预测取决于特定样本的激活是否导致 $f(z)$ 的输出大于预定阈值。该阈值包含在公式 $z = w_1 x_1 + w_2 x_2 + b$ 中，正如我们在上图中看到的那样，阈值 $b$ 又被称为偏差。为了使它更普遍，有时用 $w_0$ 代替，乘以一个对应的 $x_0$ 得到最终的样子 $z = w_0 x_0 + w_1 x_1 + w_2 x_2$。从图形上看，它看起来像下图，我们在数据中有两个特征 $x_1$ 和 $x_2$。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/10/linearly-separable.png" width="250"><br></div><p>对于更高维的数据，分界线将是一个超平面。</p><p>Rosenblatt感知机是由没过计算机科学家F.Rosenblatt于1957年提出的。F.Rosenblatt经过证明得出结论，如果两类模式是线性可分的，则算法一定收敛。Rosenblatt感知器特别适用于简单的模式分类问题，也可用于基于模式分类的学习控制。</p><h3 id="4-3-单层感知机求解AND-OR问题"><a href="#4-3-单层感知机求解AND-OR问题" class="headerlink" title="4.3. 单层感知机求解AND/OR问题"></a>4.3. 单层感知机求解AND/OR问题</h3><h4 id="原始解法"><a href="#原始解法" class="headerlink" title="原始解法"></a>原始解法</h4><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NUM_FEATURES = <span class="number">2</span></span><br><span class="line">NUM_ITER = <span class="number">2000</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>]], np.float32)  <span class="comment"># 4x2, input</span></span><br><span class="line">y = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], np.float32)  <span class="comment"># 4, correct output, AND operation</span></span><br><span class="line"><span class="comment"># y = np.array([0, 1, 1, 1], np.float32) # OR operation</span></span><br><span class="line"></span><br><span class="line">W = np.zeros(NUM_FEATURES, np.float32)  <span class="comment"># 2x1, weight</span></span><br><span class="line">b = np.zeros(<span class="number">1</span>, np.float32)  <span class="comment"># 1x1</span></span><br><span class="line"></span><br><span class="line">N, d = np.shape(x)  <span class="comment"># number of samples and number of features</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># process each sample separately</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(NUM_ITER):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(N):</span><br><span class="line">        yHat_j = x[j, :].dot(W) + b  <span class="comment"># 1x2, 2x1</span></span><br><span class="line">        yHat_j = <span class="number">1.0</span> / (<span class="number">1.0</span> + np.exp(-yHat_j))</span><br><span class="line"></span><br><span class="line">        err = y[j] - yHat_j  <span class="comment"># error term</span></span><br><span class="line">        deltaW = err * x[j, :]</span><br><span class="line">        deltaB = err</span><br><span class="line">        W = W + learning_rate * deltaW  <span class="comment"># if err = y - yHat, then W = W + lRate * deltW</span></span><br><span class="line">        b = b + learning_rate * deltaB</span><br><span class="line"></span><br><span class="line"><span class="comment"># Now plot the fitted line. We need only two points to plot the line</span></span><br><span class="line">plot_x = np.array([np.min(x[:, <span class="number">0</span>] - <span class="number">0.2</span>), np.max(x[:, <span class="number">1</span>] + <span class="number">0.2</span>)])</span><br><span class="line"><span class="comment"># comes from, w0*x + w1*y + b = 0 then y = (-1/w1) (w0*x + b)</span></span><br><span class="line">plot_y = - <span class="number">1</span> / W[<span class="number">1</span>] * (W[<span class="number">0</span>] * plot_x + b)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'W:'</span> + str(W))</span><br><span class="line">print(<span class="string">'b:'</span> + str(b))</span><br><span class="line">print(<span class="string">'plot_y: '</span> + str(plot_y))</span><br><span class="line"></span><br><span class="line">plt.scatter(x[:, <span class="number">0</span>], x[:, <span class="number">1</span>], c=y, s=<span class="number">100</span>, cmap=<span class="string">'viridis'</span>)</span><br><span class="line">plt.plot(plot_x, plot_y, color=<span class="string">'k'</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">plt.xlim([<span class="number">-0.2</span>, <span class="number">1.2</span>])</span><br><span class="line">plt.ylim([<span class="number">-0.2</span>, <span class="number">1.25</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>结果如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">W:[ 2.6949501   2.69091272]</span><br><span class="line">b:[-4.2682209]</span><br><span class="line">plot_y: [ 1.78646111  0.38436049]</span><br></pre></td></tr></table></figure></p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/AND_OR_1.png" width="300"><br></div><p>除了这种每次迭代中逐一处理每个样本的方法，我们可以对公式进行矢量化以减少额外的for循环，使程序运行得更快。下面给出等价的更加简单的实现。矢量化编程在机器学习中非常有用。</p><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NUM_FEATURES = <span class="number">2</span></span><br><span class="line">NUM_ITER = <span class="number">2000</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>]], np.float32)  <span class="comment"># 4x2, input</span></span><br><span class="line">y = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], np.float32)  <span class="comment"># 4, correct output, AND operation</span></span><br><span class="line"><span class="comment"># y = np.array([0, 1, 1, 1], np.float32) # OR operation</span></span><br><span class="line"></span><br><span class="line">W = np.zeros(NUM_FEATURES, np.float32)  <span class="comment"># 2x1, weight</span></span><br><span class="line">b = np.zeros(<span class="number">1</span>, np.float32)  <span class="comment"># 1x1</span></span><br><span class="line"></span><br><span class="line">N, d = np.shape(x)  <span class="comment"># number of samples and number of features</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(NUM_ITER):</span><br><span class="line">    yHat = x.dot(W) + b</span><br><span class="line">    yHat = <span class="number">1.0</span> / (<span class="number">1.0</span> + np.exp(-yHat))</span><br><span class="line"></span><br><span class="line">    err = y - yHat</span><br><span class="line"></span><br><span class="line">    deltaW = np.transpose(x).dot(err)  <span class="comment"># have to 2x1</span></span><br><span class="line">    deltaB = np.sum(err)  <span class="comment"># have to 1x1. collect error from all the 4 samples</span></span><br><span class="line">    W = W + learning_rate * deltaW  <span class="comment"># if err = y - yHat, then W = W + lRate * deltW</span></span><br><span class="line">    b = b + learning_rate * deltaB</span><br><span class="line"></span><br><span class="line"><span class="comment"># Now plot the fitted line. We need only two points to plot the line</span></span><br><span class="line">plot_x = np.array([np.min(x[:, <span class="number">0</span>] - <span class="number">0.2</span>), np.max(x[:, <span class="number">1</span>] + <span class="number">0.2</span>)])</span><br><span class="line"><span class="comment"># comes from, w0*x + w1*y + b = 0 then y = (-1/w1) (w0*x + b)</span></span><br><span class="line">plot_y = - <span class="number">1</span> / W[<span class="number">1</span>] * (W[<span class="number">0</span>] * plot_x + b)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'W:'</span> + str(W))</span><br><span class="line">print(<span class="string">'b:'</span> + str(b))</span><br><span class="line">print(<span class="string">'plot_y: '</span> + str(plot_y))</span><br><span class="line"></span><br><span class="line">plt.scatter(x[:, <span class="number">0</span>], x[:, <span class="number">1</span>], c=y, s=<span class="number">100</span>, cmap=<span class="string">'viridis'</span>)</span><br><span class="line">plt.plot(plot_x, plot_y, color=<span class="string">'k'</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">plt.xlim([<span class="number">-0.2</span>, <span class="number">1.2</span>])</span><br><span class="line">plt.ylim([<span class="number">-0.2</span>, <span class="number">1.25</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>要特别注意<code>deltaW</code>和<code>deltaB</code>，我们直接将输入<code>x</code>转进行转置，然后乘以误差项。这用到了一个简单的线性代数技巧。最简单的方法就是考虑矩阵大小，输入<code>x</code>是 $4\times 2$ 的，<code>err</code>是 $4\times 1$ 的，那么<code>weights</code>必须是 $2\times 1$ 的。为了得到 $2\times 1$ 矩阵，这里我们直接取了 $x^T\cdot (y-\hat y)$。对于<code>deltaB</code>我们直接求和，得到所有样本点的误差。程序运行求得结果与之前非常接近</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">W:[ 2.68957829  2.68957829]</span><br><span class="line">b:[-4.26430988]</span><br><span class="line">plot_y: [ 1.78549385  0.38549384]</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/AND_OR_2.png" width="300"><br></div><h4 id="利用TensorFlow求解single-perceptron"><a href="#利用TensorFlow求解single-perceptron" class="headerlink" title="利用TensorFlow求解single-perceptron"></a>利用TensorFlow求解single-perceptron</h4><p>现在，让我们使用tensorflow实现相同的感知器算法，看看利用TensorFlow来解决问题的基本流程。在面对海量数据的时候，TensorFlow将会是一个强大的工具。</p><p>在TensorFlow中，除了直接定义<code>x</code>和<code>y</code>以外，我们还需要在一个<code>session</code>下定义<code>x</code>和<code>y</code>对应的<code>placeholder</code>，而<code>Variable</code>被申明为TensorFlow中的变量，我们需要在程序运行过程中训练它。TensorFlow函数<code>Variable()</code>有一个名为<code>trainable=True</code>的默认值参数。默认为True时会将其放入计算图进行计算。这里起初并没有更改原先的<code>W</code>和<code>B</code>，而是利用了临时变量<code>W_</code>和<code>B_</code>，将每次迭代更新后得到的参数存储，然后再将它们的值<code>assign</code>到原始的变量<code>W</code>和<code>B</code>中。</p><p>完整的程序代码如下：<br><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NUM_FEATURES = <span class="number">2</span></span><br><span class="line">NUM_ITER = <span class="number">2000</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>]], np.float32)  <span class="comment"># 4x2, input</span></span><br><span class="line">y = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], np.float32)  <span class="comment"># 4, correct output, AND operation</span></span><br><span class="line"><span class="comment"># y = np.array([0, 1, 1, 1], np.float32) # OR operation</span></span><br><span class="line">y = np.reshape(y, [<span class="number">4</span>, <span class="number">1</span>])  <span class="comment"># convert to 4x1</span></span><br><span class="line"></span><br><span class="line">X = tf.placeholder(tf.float32, shape=[<span class="number">4</span>, <span class="number">2</span>])</span><br><span class="line">Y = tf.placeholder(tf.float32, shape=[<span class="number">4</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">W = tf.Variable(tf.zeros([NUM_FEATURES, <span class="number">1</span>]), tf.float32)</span><br><span class="line">B = tf.Variable(tf.zeros([<span class="number">1</span>, <span class="number">1</span>]), tf.float32)</span><br><span class="line"></span><br><span class="line">yHat = tf.sigmoid(tf.add(tf.matmul(X, W), B))  <span class="comment"># 4x1</span></span><br><span class="line">err = Y - yHat</span><br><span class="line">deltaW = tf.matmul(tf.transpose(X), err)  <span class="comment"># have to be 2x1</span></span><br><span class="line">deltaB = tf.reduce_sum(err, <span class="number">0</span>)  <span class="comment"># 4, have to 1x1. sum all the biases? yes</span></span><br><span class="line">W_ = W + learning_rate * deltaW</span><br><span class="line">B_ = B + learning_rate * deltaB</span><br><span class="line"></span><br><span class="line"><span class="comment"># to update the values of weights and biases.</span></span><br><span class="line">step = tf.group(W.assign(W_), B.assign(B_))</span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line">sess.run(init)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(NUM_ITER):</span><br><span class="line">    sess.run([step], feed_dict=&#123;X: x, Y: y&#125;)</span><br><span class="line"></span><br><span class="line">W = np.squeeze(sess.run(W))</span><br><span class="line">b = np.squeeze(sess.run(B))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Now plot the fitted line. We need only two points to plot the line</span></span><br><span class="line">plot_x = np.array([np.min(x[:, <span class="number">0</span>] - <span class="number">0.2</span>), np.max(x[:, <span class="number">1</span>] + <span class="number">0.2</span>)])</span><br><span class="line">plot_y = - <span class="number">1</span> / W[<span class="number">1</span>] * (W[<span class="number">0</span>] * plot_x + b)</span><br><span class="line">plot_y = np.reshape(plot_y, [<span class="number">2</span>, <span class="number">-1</span>])</span><br><span class="line">plot_y = np.squeeze(plot_y)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'W: '</span> + str(W))</span><br><span class="line">print(<span class="string">'b: '</span> + str(b))</span><br><span class="line">print(<span class="string">'plot_y: '</span> + str(plot_y))</span><br><span class="line"></span><br><span class="line">plt.scatter(x[:, <span class="number">0</span>], x[:, <span class="number">1</span>], c=y, s=<span class="number">100</span>, cmap=<span class="string">'viridis'</span>)</span><br><span class="line">plt.plot(plot_x, plot_y, color=<span class="string">'k'</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">plt.xlim([<span class="number">-0.2</span>, <span class="number">1.2</span>])</span><br><span class="line">plt.ylim([<span class="number">-0.2</span>, <span class="number">1.25</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p><p>程序运行结果如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">W: [ 2.68957829  2.68957829]</span><br><span class="line">b: -4.264309883117676</span><br><span class="line">plot_y: [ 1.78549385  0.38549384]</span><br></pre></td></tr></table></figure></p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/AND_OR_3.png" width="300"><br></div><p>从上图可以看到，单层感知机模型对于逻辑与/或问题，给出了很好的结果。</p><h4 id="多层感知机求解XOR问题"><a href="#多层感知机求解XOR问题" class="headerlink" title="多层感知机求解XOR问题"></a>多层感知机求解XOR问题</h4><p>下面我们从一个例子开始介绍多层感知机模型(multi-layer perceptron)。同样，多层感知机是一种监督学习方法。在面临XOR问题时，我们发现single-layer perceptron不起作用了！为了学习XOR问题的特征，我们需要一个至少两层的神经网络，因为XOR问题不能由简单一条直线进行区分。下面我们简单实现一个两层的神经网络来学习XOR模型。对于MNIST手写数字集，我们也可以用类似的多层感知机来进行分类。</p><p>对于如下逻辑门</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/11/xor_0.png?w=666&h=240" width="200"><br></div><p>将输入<code>A</code>和<code>B</code>记为<code>x</code>，输出记为<code>y</code>，异或问题在<code>x</code>中元素一致时取<code>0</code>，否则取<code>1</code>。</p><p>对于为什么需要两层神经网络有一个直观的理解，如下图</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/11/xor_11.png" width="300"><br></div><p>黄点为0，红点为1，那么我们需要两条线来将<code>0</code>和<code>1</code>划分。我们已经看到，神经元/感知器只给我们一条线，将输入空间分成两类。所以我们至少需要在我们第一个隐藏层中的两个神经元来学习异或。我们需要将这两个神经元并排放置在一个层中，而不是放在两个不同的层中，以便他们同时看到输入并学习如何分离输入空间。</p><p>下面实现以下最简单的两层神经网络来学习异或门。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/xor_2.png" width="300"><br></div><p><strong>Remark:</strong><br>值得注意的是，一个MLP可以包含任意数量的层和任意数量的神经元。这些通常被称作是超参数(hyperparameters)。如何选择超参数是一个算法设计问题，由实际问题的大小和难度来决定。例如，XOR是一个具有两个特征并且输入大小仅为4的玩具问题。因此，第一个隐藏层中具有2个单位的双层MLP就能够学习XOR函数。一个比较大的问题，例如对mnist数据集中的数字进行分类，将需要在每个layer中使用更多的神经元，后面有机会会讲到。</p><p><strong>MLP模型确立</strong><br>我们在单层感知器中已经看到输出是通过将输入x乘以权重w，加上偏差b并最终采用一个非线性sigmoid函数f来激活计算的。<br>如上图，我们有一个输入层，一个隐藏层和一个输出层，w中的上标表示图层编号。<br>多层感知器有时被称为普通神经网络(vanilla neural networks)，特别是当它们只有一个隐藏层时。</p><p>有趣的是，人工神经网络(ANN)的基本结构与单层感知器相似。我们将在所有层中进行相同的计算。<br>最初我们将我们的输入传到第一个隐藏层，然后第一层的输出被输入到第二层。也就是说，每次我们将当前层的输出视为下一层的输入并执行类似的计算。<br>隐藏层输出可以通过如下表示</p><p>$$<br>h = g(W^{(1)} x + b^{(1)})<br>$$<br>其中，$x$ 为inputs, $g$ 为一个non-linear的激活函数，$W^{(1)}$ 是第一层上的weights，$b$ 是bias。将隐藏层看做输入层，我们可以得到MLP最终层的输出</p><p>$$<br>\hat y = f(W^{(2)} h + b^{(2)})<br>$$</p><p>结合以上两个式子（这个过程称为feed-forward）可得</p><p>$$<br>\hat y = f(W^{(2)} g(W^{(1)} x + b^{(1)}) + b^{(2)})<br>$$</p><p>实际上，无论MLP中有多少图层，数学表达式都是单个方程，其中考虑了从输入开始的所有隐藏层。<br>简言之，每个多层感知器基于训练数据集学都了某个函数，并且能够将相似的输入序列映射到适当的输出。</p><p><strong>Remark:</strong></p><ol><li>在任何层中，由于权重 $W$ 用于将输入传递到输出，所以它被定义为前后神经元层数的矩阵。例如，在我们的MLP中，$W^{(1)}$是2×2，$W^{(2)}$是2×1。</li><li>非线性 $g$ 在神经网络中起着重要作用。最常见的非线性类型包括sigmoid，tanh，relu等，以及它们各自的优点和局限性。nonlinear也称为激活函数。</li><li>feed-forward图解</li></ol><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/feed_forward.png" height="500"><br></div><p><strong>python实现多层感知机求解异或问题</strong><br>不要忘记导入必要的包含和其他全局变量，如学习速率，迭代次数等等，重要的是要注意最小尺寸的MLP（2个输入，2个隐藏的神经元，1个输出神经元），正如我们在这里实现的，学习XOR可能会很棘手。<br>可能需要调整learning rate。太大的值（如0.1）是不常用，因为会使网络振荡overshoot。非常低的值（如0.0001）将导致网络学习非常缓慢，可能需要迭代数十万次。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>]], np.float32)</span><br><span class="line">y = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], np.float32)</span><br></pre></td></tr></table></figure><p>下面实现两层感知器模型的辅助函数<code>multi_layer_perceptron_xor</code>。我们使用S型非线性作为激活函数。也可以用其他非线性的函数例如tanh。</p><p><strong>Remark:</strong><br>观察显示tanh比sigmoid具有更高的收敛概率，但这里还是sigmoid。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multi_layer_perceptron_xor</span><span class="params">(x, weights, biases)</span>:</span></span><br><span class="line"></span><br><span class="line">    hidden_layer1 = tf.add(tf.matmul(x, weights[<span class="string">'w_h1'</span>]), biases[<span class="string">'b_h1'</span>])</span><br><span class="line">    hidden_layer1 = tf.nn.sigmoid(hidden_layer1)</span><br><span class="line"></span><br><span class="line">    out_layer = tf.add(tf.matmul(hidden_layer1, weights[<span class="string">'w_out'</span>]), biases[<span class="string">'b_out'</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> out_layer</span><br></pre></td></tr></table></figure><p>权重值的初始化对学习XOR也很重要。我们从一个随机正态分布中选择权重，其均值为0.0，标准差为1.0，并将weights的数据类型设成python字典。</p><p><strong>Remark:</strong></p><ol><li>sigmoid和tanh都有一个输出饱和的巨大区域。这些区域的梯度非常小，这在神经网络中不是好的性质。一般我们希望我们的权重在原点周围足够小，以使激活函数在其线性区域中运行，这部分梯度最大。</li><li>有时候随机初始化可能会遇到一种参数组合，该情形下很容易陷入局部最小值，并且网络不会学到任何东西。所以你在调整参数以减少迭代次数的时候，可能会遇到网络出现两条随机线而不是XOR的解决方案的情况。</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">weights = &#123;</span><br><span class="line">    <span class="string">'w_h1'</span> : tf.Variable(tf.random_normal([num_input, num_hidden1])), <span class="comment"># w1, from input layer to hidden layer 1</span></span><br><span class="line">    <span class="string">'w_out'</span>: tf.Variable(tf.random_normal([num_hidden1, num_output])) <span class="comment"># w2, from hidden layer 1 to output layer</span></span><br><span class="line">&#125;</span><br><span class="line">biases = &#123;</span><br><span class="line">    <span class="string">'b_h1'</span> : tf.Variable(tf.zeros([num_hidden1])),</span><br><span class="line">    <span class="string">'b_out'</span>: tf.Variable(tf.zeros([num_output]))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建模型:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model = multi_layer_perceptron_xor(X, weights, biases)</span><br></pre></td></tr></table></figure></p><p>现在我们需要训练模型。为此，我们定义了一个损失函数和优化器optimizer。由于这是一个二元分类问题，因此使用sigmoid交叉熵损失而不是softmax。<br>MLP利用一种称为反向传播（因为我们已有标签y）的监督学习方法进行训练。<u>反向传播是任何人工神经网络设计的核心。简而言之，它是通过计算成本函数(cost function)的梯度来调整神经元权重的一种方法。它从输出层开始，并将错误传播回第一层，以便神经元以减少前一次迭代的误差的方式来调整权重。通过这种方式，整个网络最终以一组权重值来较好的解释训练集。</u><br>反向传播是一个很大的话题，涉及大量的数学，值得在这方面发表一篇完整的文章。<br>TensorFlow在这里为我们完成所有这些后台计算，包括梯度，反向传播和权重更新的工作。在这里，我们只需要关注MLP如何工作。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">loss_func = tf.reduce_sum(tf.nn.sigmoid_cross_entropy_with_logits(logits=model, labels=Y))</span><br><span class="line">optimizer = tf.train.GradientDescentOptimizer(learning_rate=learning_rate).minimize(loss_func)</span><br></pre></td></tr></table></figure><p>用最初设置的迭代次数进行迭代。确保你用足够的迭代训练模型。XOR通常需要大量迭代才能收敛，推荐至少100,000次迭代。你可以使用不同的迭代次数来观察网络的行为。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(num_iter):</span><br><span class="line">    tmp_cost, _ = sess.run([loss_func, optimizer], feed_dict=&#123;X: x, Y: y&#125;)</span><br><span class="line">    <span class="keyword">if</span> k % display_step == <span class="number">0</span>:</span><br><span class="line">        <span class="comment">#print('output: ', sess.run(model, feed_dict=&#123;X:x&#125;))</span></span><br><span class="line">        print(<span class="string">'loss= '</span> + <span class="string">"&#123;:.5f&#125;"</span>.format(tmp_cost))</span><br></pre></td></tr></table></figure><p>通过output层，可以绘制出如下的拟合线</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/11/xor_3.png" width="300"><br></div><p>完整代码如下<br><figure class="highlight python"><figcaption><span>&#123;.line-numbers cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">num_features = <span class="number">2</span></span><br><span class="line">num_iter = <span class="number">10000</span></span><br><span class="line">display_step = int(num_iter / <span class="number">10</span>)</span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line"></span><br><span class="line">num_input = <span class="number">2</span>          <span class="comment"># units in the input layer 28x28 images</span></span><br><span class="line">num_hidden1 = <span class="number">2</span>        <span class="comment"># units in the first hidden layer</span></span><br><span class="line">num_output = <span class="number">1</span>         <span class="comment"># units in the output, only one output 0 or 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#%% mlp function</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multi_layer_perceptron_xor</span><span class="params">(x, weights, biases)</span>:</span></span><br><span class="line"></span><br><span class="line">    hidden_layer1 = tf.add(tf.matmul(x, weights[<span class="string">'w_h1'</span>]), biases[<span class="string">'b_h1'</span>])</span><br><span class="line">    hidden_layer1 = tf.nn.sigmoid(hidden_layer1)</span><br><span class="line"></span><br><span class="line">    out_layer = tf.add(tf.matmul(hidden_layer1, weights[<span class="string">'w_out'</span>]), biases[<span class="string">'b_out'</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> out_layer</span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">x = np.array([[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>]], np.float32)  <span class="comment"># 4x2, input</span></span><br><span class="line">y = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], np.float32)                      <span class="comment"># 4, correct output, AND operation</span></span><br><span class="line">y = np.reshape(y, [<span class="number">4</span>,<span class="number">1</span>])                                    <span class="comment"># convert to 4x1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># trainum_inputg data and labels</span></span><br><span class="line">X = tf.placeholder(<span class="string">'float'</span>, [<span class="keyword">None</span>, num_input])     <span class="comment"># training data</span></span><br><span class="line">Y = tf.placeholder(<span class="string">'float'</span>, [<span class="keyword">None</span>, num_output])    <span class="comment"># labels</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># weights and biases</span></span><br><span class="line">weights = &#123;</span><br><span class="line">    <span class="string">'w_h1'</span> : tf.Variable(tf.random_normal([num_input, num_hidden1])), <span class="comment"># w1, from input layer to hidden layer 1</span></span><br><span class="line">    <span class="string">'w_out'</span>: tf.Variable(tf.random_normal([num_hidden1, num_output])) <span class="comment"># w2, from hidden layer 1 to output layer</span></span><br><span class="line">&#125;</span><br><span class="line">biases = &#123;</span><br><span class="line">    <span class="string">'b_h1'</span> : tf.Variable(tf.zeros([num_hidden1])),</span><br><span class="line">    <span class="string">'b_out'</span>: tf.Variable(tf.zeros([num_output]))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">model = multi_layer_perceptron_xor(X, weights, biases)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">- cost function and optimization</span></span><br><span class="line"><span class="string">- sigmoid cross entropy -- single output</span></span><br><span class="line"><span class="string">- softmax cross entropy -- multiple output, normalized</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">loss_func = tf.reduce_sum(tf.nn.sigmoid_cross_entropy_with_logits(logits=model, labels=Y))</span><br><span class="line">optimizer = tf.train.GradientDescentOptimizer(learning_rate=learning_rate).minimize(loss_func)</span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line">sess.run(init)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(num_iter):</span><br><span class="line">    tmp_cost, _ = sess.run([loss_func, optimizer], feed_dict=&#123;X: x, Y: y&#125;)</span><br><span class="line">    <span class="keyword">if</span> k % display_step == <span class="number">0</span>:</span><br><span class="line">        <span class="comment">#print('output: ', sess.run(model, feed_dict=&#123;X:x&#125;))</span></span><br><span class="line">        print(<span class="string">'loss= '</span> + <span class="string">"&#123;:.5f&#125;"</span>.format(tmp_cost))</span><br><span class="line"></span><br><span class="line"><span class="comment"># separates the input space</span></span><br><span class="line">W = np.squeeze(sess.run(weights[<span class="string">'w_h1'</span>]))   <span class="comment"># 2x2</span></span><br><span class="line">b = np.squeeze(sess.run(biases[<span class="string">'b_h1'</span>]))    <span class="comment"># 2,</span></span><br><span class="line"></span><br><span class="line">sess.close()</span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># Now plot the fitted line. We need only two points to plot the line</span></span><br><span class="line">plot_x = np.array([np.min(x[:, <span class="number">0</span>] - <span class="number">0.2</span>), np.max(x[:, <span class="number">1</span>]+<span class="number">0.2</span>)])</span><br><span class="line">plot_y =  <span class="number">-1</span> / W[<span class="number">1</span>, <span class="number">0</span>] * (W[<span class="number">0</span>, <span class="number">0</span>] * plot_x + b[<span class="number">0</span>])</span><br><span class="line">plot_y = np.reshape(plot_y, [<span class="number">2</span>, <span class="number">-1</span>])</span><br><span class="line">plot_y = np.squeeze(plot_y)</span><br><span class="line"></span><br><span class="line">plot_y2 = <span class="number">-1</span> / W[<span class="number">1</span>, <span class="number">1</span>] * (W[<span class="number">0</span>, <span class="number">1</span>] * plot_x + b[<span class="number">1</span>])</span><br><span class="line">plot_y2 = np.reshape(plot_y2, [<span class="number">2</span>, <span class="number">-1</span>])</span><br><span class="line">plot_y2 = np.squeeze(plot_y2)</span><br><span class="line"></span><br><span class="line">plt.scatter(x[:, <span class="number">0</span>], x[:, <span class="number">1</span>], c=y, s=<span class="number">100</span>, cmap=<span class="string">'viridis'</span>)</span><br><span class="line">plt.plot(plot_x, plot_y, color=<span class="string">'k'</span>, linewidth=<span class="number">2</span>)    <span class="comment"># line 1</span></span><br><span class="line">plt.plot(plot_x, plot_y2, color=<span class="string">'k'</span>, linewidth=<span class="number">2</span>)   <span class="comment"># line 2</span></span><br><span class="line">plt.xlim([<span class="number">-0.2</span>, <span class="number">1.2</span>]); plt.ylim([<span class="number">-0.2</span>, <span class="number">1.25</span>]);</span><br><span class="line"><span class="comment">#plt.text(0.425, 1.05, 'XOR', fontsize=14)</span></span><br><span class="line">plt.xticks([<span class="number">0.0</span>, <span class="number">0.5</span>, <span class="number">1.0</span>]); plt.yticks([<span class="number">0.0</span>, <span class="number">0.5</span>, <span class="number">1.0</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p><p><strong>背后细节:</strong><br>我们已经看到了一个学习XOR的MLP模型。问题是，这个网络是怎样训练出两条可以很好地区分两种输入类型的线？让我们解码一个mlp的内幕。<br>遵照我们上面建立的XOR网络，我们可以解剖每个神经元的输出，如下面的逻辑表。这里有趣的一点是可以看到第一个隐藏层单元h1和h2学到了什么。</p><table><thead><tr><th>x1</th><th>x2</th><th>h1</th><th>h2</th><th>y</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td></tr></tbody></table><p>在下面的图中，暗区显示1，而亮区意味着0。第一隐藏单元h1学习权重，以便如下图（红色超平面）所示，它将输入序列中x1和x2均为0的输入与其余的分开。<br>h2以同样的方式分隔输入，如图蓝色超平面。<br>这种方式网络提出了以下两种中间解决方案。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/xor_41.png" width="300"><br></div><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/xor_52.png" width="300"><br></div><p>你会发现每个h1和h2实际上都是作为单层感知器工作的，其中每个单元实际上都学习了一个单独的线（或超平面）。</p><p><strong>Remark:</strong><br>你也可以把h1当作OR门，把h2当作NAND门。</p><p>再观察上面的逻辑表，这两个中间输出将作为输出神经元y的输入。输出单元在其两个输入（h1和h2）为1时响应1，否则保持沉默（或在生物学术语中不反应）。输出y组合了两个超平面，最后我们找到下面的图，它和我们已经看到的xor输出相同。其中，暗区指示1，亮区指示0。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/xor_6.png" width="300"><br></div><h3 id="4-4-利用多层感知机训练MNIST数据集"><a href="#4-4-利用多层感知机训练MNIST数据集" class="headerlink" title="4.4. 利用多层感知机训练MNIST数据集"></a>4.4. 利用多层感知机训练MNIST数据集</h3><p>上面，我们了一个简单的两层MLP来求解XOR问题。为了看到mlp的实际潜力，我们应该设计一个具有两层以上的适度更大的MLP并且看看它在真实世界数据集上是如何工作的。</p><p>我们选择mnist作为数据集来实现我们的mlp。尽管mnist被认为是机器学习社区中非常简单的数据集之一，但我们仍然选择这个数据集，因为这将使我们清楚地了解多层感知器的工作原理，并有助于使我们做好使用其他大数据集的准备。后面，我们还可以用mnist数据集来做其他一些很酷的事情，比如使用一些降维技术将每个图像视为2D空间中的一个点。让我们来谈谈关于mnist数据集的一些问题，因为我们在机器学习研究中经常遇到这些数据。</p><p>MNIST是手写数字的数据库，由Yann Lecun，Corinna Cortes和Christopher.J.C. Burges创建。有大约60000次训练和10000个测试图像/示例。它是一个名为NIST的更大集合的子集。这些数字已经进行了尺寸标准化并以固定尺寸的图像为中心。图像是 $28\times 28$ 尺寸大小的。作为一个测试平台，我们可以在MNIST数据集上尝试各种学习算法和模式识别方法，同时保持很低的预处理和格式化方面的开销，这使得MNIST成为机器学习中使用最广泛的数据集之一。我们不必担心自己下载数据集，只需要TensorFlow里的一条命令<code>tensorflow.examples.tutorials.mnist</code>就可以获取。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.examples.tutorials.mnist <span class="keyword">import</span> input_data</span><br><span class="line">mnist = input_data.read_data_sets(<span class="string">'/path/to/MNIST/'</span>, one_hot=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><p>首先，我们来看几个样例：</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/mlp2_2.png" width="300"><br></div><p>图像是 $28\times 28$ 大小的并且随机的。训练数据由 $55,000$ 个样本组成，因此大小是 $55000\times 784$。训练的labels是 $55000\times 10$ 大小的（10是类别数量0到9）而不是 $55000\times 1$。这是因为它们采用one-hot向量的格式，其中只有相应的位置标签为1，其余为零。例如，如果训练样本是2，则相应的单热矢量将是[0,0,1,0,0,0,0,0,0,0]。</p><p>下图是MNIST样本在2d空间中的快照。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/mlp2_mnist_vis.png" width="300"><br></div><p>我们看到10个集群，分别对应10位数字。一些集群相互交织在一起，这是因为有些数字看起来很相似。例如，数字“4”和数字“9”在手写中有时看起来相似。所以很可能这两个数字在像素空间中彼此靠近。<br>可视化是在将维数从784减少到2（使用t-SNE）之后创建的。后面有机会会讲一些维数降低技术。</p><p><strong>MLP模型:</strong><br>以下是我们要实施的mlp。我们有784个输入像素，用<code>x</code>表示，128个<code>h1</code>神经元，256个<code>h2</code>神经元和10个<code>y</code>或输出神经元。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/mlp2_model.png" width="300"><br></div><p>我们在单层感知器中已经看到，输出 $\hat y$ 是通过将输入 $x$ 乘以权重 $W$，加上偏差 $b$ 并最终采用非线性sigmoid函数 $f$ 来计算的。这里我们有一个输入层，两个隐藏层和一个输出层，如上图所示，$W$ 中的上标依旧表示网络层数编号。</p><p>ANN的基本构件与单层感知器相似。我们将在所有层中进行相同的计算。最初我们有我们的输入到第一个隐藏层，然后第一个隐藏层的输出被输入到第二个隐藏层。<br>每次我们将当前输出视为下一层的输入并执行类似的计算。隐藏层输出公式如下</p><p>$$<br>h1 = g(W^{(1)} x + b^{(1)})<br>$$</p><p>现在隐藏层输出<code>h1</code>将作为第二隐藏层<code>h2</code>的输入，并且<code>h2</code>层的输出作为输入到输出层<code>y</code>的输入。</p><p>$$<br>h2 = g(W^{(2)} h1 + b^{(2)})<br>$$</p><p>结合上式，有</p><p>$$<br>h2 = g(W^{(2)} g(W^{(1)} x + b(1)) + b^{(2)})<br>$$</p><p>得最后的输出</p><p>$$<br>\hat y = f(W^{(3)} h2 + b^{(3)})<br>$$</p><p>这里没有将它们全部结合起来，用x，h1和h2表示y。因为看起来会很杂乱。实际上，我们在前面已经说过，无论MLP中有多少图层，数学表达式都可以是输出的单个方程，其中包括了从输入开始的所有隐藏层。简言之，每个多层感知器基于训练数据集学习单个函数 $f(\cdot)$，并且能够将相似的输入序列映射到适当的输出。</p><p><strong>Remark:</strong><br>依然作为附注，在任何层中，由于权重<code>W</code>用于将输入传递到输出，所以它通常被定义为前后神经元层数之间的矩阵。例如，在我们的mlp中，<code>W1</code>是<code>784x128</code>，<code>W2</code>是<code>128x256</code>，<code>W3</code>是<code>256x10</code>。</p><p><strong>多层神经网络:</strong><br>MLP能做的不只是学习一个简单的异或门。基于以上，我们可以非常轻松地插入新layer来完成更苛刻的分类。让我们再添加一层到目前为止实现的层。</p><p>在XOR中，我们在输出层只有一个神经元，输出0或1。MNIST是一个数字的数据库，所以现在我们有10个输出神经元表示从0到9。</p><p>假设我们在第一个隐藏层中有128个神经元，第二个中有256个神经元。<br>现在我们有10个输出神经元，输入是784维，它们是图像的每个像素。<br>我们在每次迭代中一次处理100个图像，这就是为什么我们将批量大小设置为100（可以是小于图像总数的任何其他数字）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">batch_size = <span class="number">100</span></span><br><span class="line">num_input = <span class="number">784</span>  </span><br><span class="line">num_hidden1 = <span class="number">128</span></span><br><span class="line">num_hidden2 = <span class="number">256</span></span><br><span class="line">num_output = <span class="number">10</span></span><br></pre></td></tr></table></figure><p>以下我们定义神经网络的辅助函数。使用我们在上一篇文章中看到的相同的数学表达式，我们定义了1层，2层等等。你可以看到在另一个层增加一层很容易。这里我们在输出层之前添加了隐藏层2。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multi_layer_perceptron_mnist</span><span class="params">(x, weights, biases)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    MLP model with more than 2 hidden layers.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    hidden_layer1 = tf.add(tf.matmul(x, weights[<span class="string">'w_h1'</span>]), biases[<span class="string">'b_h1'</span>])</span><br><span class="line">    hidden_layer1 = tf.nn.relu(hidden_layer1)   <span class="comment"># apply ReLU non-linearity</span></span><br><span class="line">    hidden_layer2 = tf.add(tf.matmul(hidden_layer1, weights[<span class="string">'w_h2'</span>]), biases[<span class="string">'b_h2'</span>])</span><br><span class="line">    hidden_layer2 = tf.nn.relu(hidden_layer2)</span><br><span class="line"></span><br><span class="line">    out_layer = tf.add(tf.matmul(hidden_layer2, weights[<span class="string">'w_out'</span>]), biases[<span class="string">'b_out'</span>])  <span class="comment"># NO non-linearity in the output layer</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> out_layer</span><br></pre></td></tr></table></figure><p>对于我们的三层MLP，我们定义每个层的权重和偏差为python字典。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">weights = &#123;</span><br><span class="line">    <span class="string">'w_h1'</span> : tf.Variable(tf.random_normal([num_input, num_hidden1])),       <span class="comment"># w1, from input layer to hidden layer 1</span></span><br><span class="line">    <span class="string">'w_h2'</span> : tf.Variable(tf.random_normal([num_hidden1, num_hidden2])),     <span class="comment"># w2, from hidden layer 1 to hidden layer 2</span></span><br><span class="line">    <span class="string">'w_out'</span>: tf.Variable(tf.random_normal([num_hidden2, num_output]))       <span class="comment"># w3, from hidden layer 2 to output layer</span></span><br><span class="line">&#125;</span><br><span class="line">biases = &#123;</span><br><span class="line">    <span class="string">'b_h1'</span> : tf.Variable(tf.random_normal([num_hidden1])),                  <span class="comment"># b1, to hidden layer 1 units</span></span><br><span class="line">    <span class="string">'b_h2'</span> : tf.Variable(tf.random_normal([num_hidden2])),</span><br><span class="line">    <span class="string">'b_out'</span>: tf.Variable(tf.random_normal([num_output]))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意，在这里我们使用了一个不同的损失函数，<code>softmax</code>带logits的交叉熵，我们用来学习异或操作的东西是sigmoid。原因是这个数据集有两个以上的类。S形交叉熵损失仅用于二元分类问题。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">loss_func = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=model, labels=y))</span><br><span class="line">optimizer = tf.train.AdamOptimizer(learning_rate=learning_rate).minimize(loss_func)</span><br></pre></td></tr></table></figure><p>您可能会注意到，不是使用梯度下降作为优化器，而是使用adam作为优化器。adam代表自适应动量估计。它是随机梯度下降算法的替代方法之一，它自己为每个参数自适应地更新学习速率。adam是类似adagrad，adadelta，rmsprop等其他优化算法的升级，它计算每个参数的自适应学习速率。除了存储过去平方梯度的指数衰减平均值之外，它还保持与动量相似的过去梯度的指数衰减平均值。</p><p>现在训练模型进行一些迭代。一起处理55000个图像，这被称为批处理，在计算的上下文中是低效的。另一方面，逐一处理每个图像，这被称为随机处理，也有不利的一面。由于每个梯度都是基于单个训练样例进行计算的，因此误差比噪声梯度下降更大。在这两个极端情况下，我们提出了一种小批量技术，我们在这里称之为batch_size，在此处处理一大块图像。小批量学习可以理解为将批量梯度下降应用于训练数据的较小子集，例如一次100个样本。与批量梯度下降相比，优势在于通过小批量更快地达到收敛，因为更频繁的权重更新。没有关于将多少图像用作批量大小的定义规则。</p><p>正如我们在上一篇文章中提到的，MLP利用监督式学习（因为我们提供了标签）技术，称为反向传播训练。<u>反向传播是任何人工神经网络设计的核心。简而言之，它是通过计算成本函数的梯度来调整神经元权重的一种方法。它从输出层开始，并将错误传播回第一层，以便神经元以减少前一次迭代错误的方式调整权重。</u>通过这种方式，整个网络以一组权重值来确定训练集（希望测试集也是如此）。tensorflow强在幕后处理所有这些梯度计算，反向传播和权重更新。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> iter <span class="keyword">in</span> range(num_iter):</span><br><span class="line">    avg_cost = <span class="number">0.0</span></span><br><span class="line">    num_batch = int(mnist.train.num_examples / batch_size)   <span class="comment"># total number of batches</span></span><br><span class="line">    <span class="keyword">for</span> nB <span class="keyword">in</span> range(num_batch):</span><br><span class="line">        trainData, trainLabels = mnist.train.next_batch(batch_size=batch_size)</span><br><span class="line">        tmp_cost, _ = sess.run([loss_func, optimizer], feed_dict=&#123;x: trainData, y: trainLabels&#125;)</span><br><span class="line"></span><br><span class="line">        avg_cost = avg_cost + tmp_cost / num_batch</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> iter % display_step == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">'Epoch: %04d'</span> %(iter+<span class="number">1</span>), <span class="string">'cost= '</span> + <span class="string">"&#123;:.5f&#125;"</span>.format(avg_cost), <span class="string">'accuracy: '</span> + <span class="string">"&#123;:.5f&#125;"</span>.format(acc))</span><br></pre></td></tr></table></figure><p>随着迭代的进行，您将看到损失函数在下降，如下图所示。左图显示损失按照迭代进行下降，并在某个点几乎达到饱和。在右侧，准确度从大约90％开始。最初准确性急剧增加，这基本上是损失函数大幅下降的原因。在某个点上，准确度也会在一个很小的范围内得到修正。</p><div align="center"><br><img src="https://nasirml.files.wordpress.com/2017/12/mlp2_loss.png" width="200"><br><img src="https://nasirml.files.wordpress.com/2017/12/mlp2_accuracy.png" width="200"><br></div><p>我们看到我们的MLP在找到10位数类的非线性分类方面做得非常好。准确度在95.45％左右。每次运行情况可能会有所不同。你可以改变不同层次的单元/神经元的数量，批量大小等，并查看网络的行为。</p><p>完整代码如下:<br><figure class="highlight python"><figcaption><span>&#123;.line-numbers&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># %% data</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># read mnist data. If the data is there, it will not download again.</span></span><br><span class="line"><span class="keyword">from</span> tensorflow.examples.tutorials.mnist <span class="keyword">import</span> input_data</span><br><span class="line">mnist = input_data.read_data_sets(<span class="string">'/path/to/MNIST/'</span>, one_hot=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># look at some of the images. randomly</span></span><br><span class="line">rand_img = np.array([<span class="number">2500</span>, <span class="number">1001</span>, <span class="number">100</span>, <span class="number">500</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(np.size(rand_img, <span class="number">0</span>)):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">4</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.axis(<span class="string">'off'</span>)</span><br><span class="line">    plt.imshow(np.reshape(mnist.train.images[rand_img[i]], [<span class="number">28</span>, <span class="number">28</span>]), cmap=<span class="string">'gray'</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'Training data size : '</span>, mnist.train.images.shape)</span><br><span class="line">print(<span class="string">'Training label size: '</span>, mnist.train.labels.shape)  <span class="comment"># labels are in one-hot vector</span></span><br><span class="line"><span class="comment"># print(mnist.train.labels[rand_img])</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># %% create the MLP model</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multi_layer_perceptron_mnist</span><span class="params">(x, weights, biases)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    MLP model with more than 2 hidden layers.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    hidden_layer1 = tf.add(tf.matmul(x, weights[<span class="string">'w_h1'</span>]), biases[<span class="string">'b_h1'</span>])</span><br><span class="line">    hidden_layer1 = tf.nn.relu(hidden_layer1)   <span class="comment"># apply ReLU non-linearity</span></span><br><span class="line">    hidden_layer2 = tf.add(tf.matmul(hidden_layer1, weights[<span class="string">'w_h2'</span>]), biases[<span class="string">'b_h2'</span>])</span><br><span class="line">    hidden_layer2 = tf.nn.relu(hidden_layer2)</span><br><span class="line"></span><br><span class="line">    out_layer = tf.add(tf.matmul(hidden_layer2, weights[<span class="string">'w_out'</span>]), biases[<span class="string">'b_out'</span>])  <span class="comment"># NO non-linearity in the output layer</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> out_layer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># %% construct the MLP model</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hyper-parameters</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">num_iter = <span class="number">30</span></span><br><span class="line">batch_size = <span class="number">100</span></span><br><span class="line">display_step = <span class="number">10</span>       <span class="comment"># display the avg cost after this number of epochs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># variables</span></span><br><span class="line">num_input = <span class="number">784</span>         <span class="comment"># units in the input layer 28x28 images</span></span><br><span class="line">num_hidden1 = <span class="number">128</span>       <span class="comment"># units in the first hidden layer</span></span><br><span class="line">num_hidden2 = <span class="number">256</span></span><br><span class="line">num_output = <span class="number">10</span>         <span class="comment"># units in the output layer 0 to 9. OR nClasses</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># trainum_inputg data and labels</span></span><br><span class="line">x = tf.placeholder(<span class="string">'float'</span>, [<span class="keyword">None</span>, num_input])     <span class="comment"># training data</span></span><br><span class="line">y = tf.placeholder(<span class="string">'float'</span>, [<span class="keyword">None</span>, num_output])    <span class="comment"># labels</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># weights and biases</span></span><br><span class="line">weights = &#123;</span><br><span class="line">    <span class="string">'w_h1'</span>: tf.Variable(tf.random_normal([num_input, num_hidden1])),       <span class="comment"># w1, from input layer to hidden layer 1</span></span><br><span class="line">    <span class="string">'w_h2'</span>: tf.Variable(tf.random_normal([num_hidden1, num_hidden2])),     <span class="comment"># w2, from hidden layer 1 to hidden layer 2</span></span><br><span class="line">    <span class="string">'w_out'</span>: tf.Variable(tf.random_normal([num_hidden2, num_output]))       <span class="comment"># w3, from hidden layer 2 to output layer</span></span><br><span class="line">&#125;</span><br><span class="line">biases = &#123;</span><br><span class="line">    <span class="string">'b_h1'</span>: tf.Variable(tf.random_normal([num_hidden1])),                  <span class="comment"># b1, to hidden layer 1 units</span></span><br><span class="line">    <span class="string">'b_h2'</span>: tf.Variable(tf.random_normal([num_hidden2])),</span><br><span class="line">    <span class="string">'b_out'</span>: tf.Variable(tf.random_normal([num_output]))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># construct the model</span></span><br><span class="line">model = multi_layer_perceptron_mnist(x, weights, biases)</span><br><span class="line"></span><br><span class="line"><span class="comment"># cost function and optimization</span></span><br><span class="line">loss_func = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=model, labels=y))</span><br><span class="line">optimizer = tf.train.AdamOptimizer(learning_rate=learning_rate).minimize(loss_func)</span><br><span class="line"></span><br><span class="line"><span class="comment"># %% Train and test</span></span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line">sess.run(init)</span><br><span class="line"></span><br><span class="line">cost_all = np.array([])</span><br><span class="line">acc_all = np.array([])</span><br><span class="line"><span class="comment"># Train the model</span></span><br><span class="line"><span class="keyword">for</span> iter <span class="keyword">in</span> range(num_iter):</span><br><span class="line">    avg_cost = <span class="number">0.0</span></span><br><span class="line">    num_batch = int(mnist.train.num_examples / batch_size)   <span class="comment"># total number of batches</span></span><br><span class="line">    <span class="keyword">for</span> nB <span class="keyword">in</span> range(num_batch):</span><br><span class="line">        trainData, trainLabels = mnist.train.next_batch(batch_size=batch_size)</span><br><span class="line">        tmp_cost, _ = sess.run([loss_func, optimizer], feed_dict=&#123;x: trainData, y: trainLabels&#125;)</span><br><span class="line"></span><br><span class="line">        avg_cost = avg_cost + tmp_cost / num_batch</span><br><span class="line"></span><br><span class="line">    correct_pred = tf.equal(tf.arg_max(model, <span class="number">1</span>), tf.arg_max(y, <span class="number">1</span>))</span><br><span class="line">    accuracy = tf.reduce_mean(tf.cast(correct_pred, <span class="string">'float'</span>))</span><br><span class="line">    acc = accuracy.eval(session=sess, feed_dict=&#123;x: mnist.test.images, y: mnist.test.labels&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> iter % display_step == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">'Epoch: %04d'</span> % (iter+<span class="number">1</span>), <span class="string">'cost= '</span> + <span class="string">"&#123;:.5f&#125;"</span>.format(avg_cost), <span class="string">'accuracy: '</span> + <span class="string">"&#123;:.5f&#125;"</span>.format(acc))</span><br><span class="line">    cost_all = np.append(cost_all, avg_cost)</span><br><span class="line">    acc_all = np.append(acc_all, acc)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'Optimization done...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># plot the accuracy and loss</span></span><br><span class="line">x_data = range(num_iter)</span><br><span class="line">plt.plot(x_data, cost_all, color=<span class="string">'r'</span>)</span><br><span class="line">plt.xticks([<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])</span><br><span class="line">plt.yticks([<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>])</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(x_data, acc_all)</span><br><span class="line">plt.xticks([<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])</span><br><span class="line">plt.yticks([<span class="number">0.9</span>, <span class="number">0.95</span>, <span class="number">1.0</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p><p>今天内容就止步于此，相信关于感知机大家还有很多问题，比如就刚才这个问题，对3层MLP的简单扩展将会增加一层，看看它是否会改变网络的结果。从理论上讲，如果将这4层MLP应用于MNIST数据，分类准确性应该更高，至少略高一点。不过事实情况建议大家自己尝试。</p><h2 id="5-Exercise"><a href="#5-Exercise" class="headerlink" title="5. Exercise:"></a>5. Exercise:</h2><ol><li>用简单神经网络训练逻辑与的运算，尝试不同的学习率</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inputs = np.array([[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">labels = np.array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure><ol><li><p>将一组 $(x, y)$ 值划分为下面两类函数之一</p><ul><li>$2x+1=y$ 为第1类</li><li>$7x+1=y$ 为第2类</li></ul><p>训练数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inputs = np.array([[<span class="number">1</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">8</span>], [<span class="number">2</span>, <span class="number">15</span>], [<span class="number">3</span>, <span class="number">7</span>], [<span class="number">4</span>, <span class="number">29</span>]])</span><br><span class="line">labels = np.array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>])</span><br></pre></td></tr></table></figure><p>由函数定义可知，$[9, 19]$ 属于第1类，$[9, 64]$ 属于第2类。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">9 19 =&gt; 1</span><br><span class="line">9 64 =&gt; -1</span><br></pre></td></tr></table></figure><p>输出训练之后的神经网络权值参数，最后用 $[9, 19]$ 和 $[3, 22]$ 对训练成功的网络进行测试</p></li><li><p><a href="https://onlookerliu.github.io/2018/02/26/Simple-Perceptron-using-Processing/">可视化感知机训练过程</a></p></li><li>验证如下数据集上，Rosenblatt感知机算法的局限性</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inputs = np.array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">6</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">21</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">16</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">15</span>]])</span><br><span class="line">labels = np.array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>])</span><br></pre></td></tr></table></figure><p>Hint:</p><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/noLinearSep.png" width="300"><br></div><h2 id="6-Reference"><a href="#6-Reference" class="headerlink" title="6. Reference"></a>6. Reference</h2><ol><li><p><a href="http://p6xgwpfbb.bkt.clouddn.com/books/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%20%E6%9D%8E%E8%88%AA.pdf" target="_blank" rel="noopener">李航《统计学习方法》</a></p></li><li><p><a href="https://web.stanford.edu/~boyd/cvxbook/" target="_blank" rel="noopener">Stephen Boyd, Convex Optimization</a></p></li><li><p><a href="http://iamtrask.github.io/2015/07/12/basic-python-network/" target="_blank" rel="noopener">A bare bones neural network implementation to describe the inner workings of backpropagation</a></p></li><li><p><a href="http://natureofcode.com/book/chapter-10-neural-networks/" target="_blank" rel="noopener">The Nature of Code</a></p></li><li><p><a href="https://appliedgo.net/perceptron/" target="_blank" rel="noopener">Perceptrons - the most basic form of a neural network</a></p></li><li><p><a href="https://cognitivedemons.wordpress.com/2017/09/02/a-neural-network-in-10-lines-of-cuda-c-code/" target="_blank" rel="noopener">A Neural Network in 10 lines of CUDA C++ Code</a></p></li><li><p><a href="https://nasirml.wordpress.com/2017/11/19/single-layer-perceptron-in-tensorflow/" target="_blank" rel="noopener">Single-layer Perceptron in TensorFlow</a></p></li><li><p><a href="https://nasirml.wordpress.com/2017/12/08/multi-layer-perceptron-in-tensorflow-part-1-xor/" target="_blank" rel="noopener">Multilayer Perceptron in TensorFlow Part 1</a></p></li><li><p><a href="https://nasirml.wordpress.com/2017/12/16/multi-layer-perceptron-in-tensorflow-part-2-mnist/" target="_blank" rel="noopener">Multi-layer Perceptron in TensorFlow Part 2 MNIST</a></p></li><li><p><a href="https://github.com/serbanc94/mnist-perceptron" target="_blank" rel="noopener">mnist-perceptron</a></p></li><li><p><a href="https://aimatters.wordpress.com/2016/01/16/solving-xor-with-a-neural-network-in-tensorflow/#comments" target="_blank" rel="noopener">Solving XOR with a Neural Network in TensorFlow</a></p></li><li><p><a href="https://cseweb.ucsd.edu/~yfreund/papers/LargeMarginsUsingPerceptron.pdf" target="_blank" rel="noopener">Large Margin Classification Using the Perceptron Algorithm</a></p></li><li><p><a href="https://jizhi.im/blog/post/deep_learning_from_scratch_2" target="_blank" rel="noopener">土法神经网络Part II：感知机</a></p></li><li><p><a href="https://jizhi.im/blog/post/deep_learning_from_scratch_5" target="_blank" rel="noopener">土法神经网络Part V：多层感知机</a></p></li><li><p><a href="https://github.com/ClaudeCoulombe/GBC_book_DeepLearningBook" target="_blank" rel="noopener">https://github.com/ClaudeCoulombe/GBC_book_DeepLearningBook</a></p></li><li><p><a href="https://en.wikipedia.org/wiki/Feedforward_neural_network" target="_blank" rel="noopener">wiki - Feedforward neural network</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/21407711" target="_blank" rel="noopener">backpropagation</a></p></li></ol>]]></content>
      
      
        <tags>
            
            <tag> machine learning </tag>
            
            <tag> deep learning </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-029</title>
      <link href="/2018/04/13/Project-Euler-029/"/>
      <url>/2018/04/13/Project-Euler-029/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Consider all integer combinations of $a^b$ for $2 \leq a \leq 5$ and $2 \leq b \leq 5$:</p><p>$$\begin{aligned}<br>&amp; 2^2 = 4\text{, } 2^3 = 8\text{, } 2^4 = 16\text{, } 2^5 = 32 \<br>&amp; 3^2 = 9\text{, } 3^3 = 27\text{, } 3^4 = 81\text{, } 3^5 = 243 \<br>&amp; 4^2 = 16\text{, } 4^3 = 64\text{, } 4^4 = 256\text{, } 4^5 = 1024 \<br>&amp; 5^2 = 25\text{, } 5^3 = 125\text{, } 5^4 = 625\text{, } 5^5 = 3125<br>\end{aligned}$$</p><p>If they are then placed in numerical order, with any repeats removed, we<br>get the following sequence of 15 distinct terms:</p><p>$$4\text{, } 8\text{, } 9\text{, } 16\text{, } 25\text{, } 27\text{, } 32\text{, } 64\text{, } 81\text{, } 125\text{, } 243\text{, } 256\text{, } 625\text{, } 1024\text{, } 3125$$</p><p>How many distinct terms are in the sequence generated by $a^b$ for<br>$2 \leq a \leq 100$ and $2 \leq b \leq 100$?</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">9183</span><br></pre></td></tr></table></figure><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">print(len(set(a**b <span class="keyword">for</span> a,b <span class="keyword">in</span> itertools.product(list(range(<span class="number">2</span>,<span class="number">101</span>)), repeat=<span class="number">2</span>))))</span><br></pre></td></tr></table></figure><h4 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">puts (<span class="number">2</span>..<span class="number">100</span>).to_a.product((<span class="number">2</span>..<span class="number">100</span>).to_a).map &#123; <span class="params">|a,n|</span> a**n &#125;.uniq.count</span><br></pre></td></tr></table></figure><h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">nub</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ length $ nub [a^n | a &lt;- [<span class="number">2.</span><span class="number">.100</span>], n &lt;- [<span class="number">2.</span><span class="number">.100</span>]]</span><br></pre></td></tr></table></figure><h4 id="Mathematica"><a href="#Mathematica" class="headerlink" title="Mathematica"></a>Mathematica</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * We generate all possible powers in the given range, put the values in a flat list,</span></span><br><span class="line"><span class="comment"> * delete the duplicates of any value, and count the length of the remaining list.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"><span class="keyword">Length</span>[<span class="keyword">Union</span>[<span class="keyword">Flatten</span>[<span class="keyword">Table</span>[a^b, &#123;a, 2, 100&#125;, &#123;b, 2, 100&#125;]]]]</span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p029</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p029().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We generate all the possible powers in the given range, put each value</span></span><br><span class="line"><span class="comment"> * into a set, and let the set count the number of unique values present.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Set&lt;BigInteger&gt; generated = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">2</span>; a &lt;= <span class="number">100</span>; a++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> b = <span class="number">2</span>; b &lt;= <span class="number">100</span>; b++)</span><br><span class="line">generated.add(BigInteger.valueOf(a).pow(b));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(generated.size());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-028</title>
      <link href="/2018/04/12/Project-Euler-028/"/>
      <url>/2018/04/12/Project-Euler-028/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Starting with the number 1 and moving to the right in a clockwise direction a 5 by 5 spiral is formed as follows:</p><pre><code>21 22 23 24 2520  7  8  9 1019  6  1  2 1118  5  4  3 1217 16 15 14 13</code></pre><p>It can be verified that the sum of the numbers on the diagonals is 101.</p><p>What is the sum of the numbers on the diagonals in a 1001 by 1001 spiral formed in the same way?</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">669171001</span><br></pre></td></tr></table></figure><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_diagonals_of_spiral</span><span class="params">(size)</span>:</span></span><br><span class="line">    n = <span class="number">1</span></span><br><span class="line">    step = <span class="number">2</span></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    since_last = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &lt;= size**<span class="number">2</span>:</span><br><span class="line">        total += n</span><br><span class="line">        n += step</span><br><span class="line">        since_last += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> since_last == <span class="number">4</span>:</span><br><span class="line">            step += <span class="number">2</span></span><br><span class="line">            since_last = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line">print(sum_diagonals_of_spiral(<span class="number">1001</span>))</span><br></pre></td></tr></table></figure><h4 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">sum = i</span><br><span class="line">step = <span class="number">2</span></span><br><span class="line"><span class="keyword">until</span> i &gt;= <span class="number">1001</span>**<span class="number">2</span></span><br><span class="line">  <span class="number">4</span>.times &#123; sum += i += step &#125;</span><br><span class="line">  step += <span class="number">2</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts sum</span><br></pre></td></tr></table></figure><h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ foldr (+) <span class="number">1</span> [<span class="number">4</span>*n^<span class="number">2</span> - <span class="number">6</span>*n + <span class="number">6</span> | n &lt;- [<span class="number">3</span>,<span class="number">5.</span><span class="number">.1001</span>]]</span><br></pre></td></tr></table></figure><h4 id="Mathematica"><a href="#Mathematica" class="headerlink" title="Mathematica"></a>Mathematica</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * From the diagram, let's observe the four corners of an n * n square (where n is odd).</span></span><br><span class="line"><span class="comment"> * It's not hard to convince yourself that the top right corner always has the value n^2.</span></span><br><span class="line"><span class="comment"> * Working counterclockwise (backwards), the top left corner has the value n^2 - (n - 1),</span></span><br><span class="line"><span class="comment"> * the bottom left corner has the value n^2 - 2(n - 1), and the bottom right is n^2 - 3(n - 1).</span></span><br><span class="line"><span class="comment"> * Putting it all together, this outermost ring contributes 4n^2 - 6(n - 1) to the final sum.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Incidentally, the closed form of this sum is (4m^3 + 3m^2 + 8m - 9) / 6, where m = size.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line">size = <span class="number">1001</span>;  <span class="comment">(* Must be odd *)</span></span><br><span class="line"><span class="keyword">Sum</span>[<span class="keyword">Block</span>[&#123;n = 2k + 1&#125;, <span class="number">4</span> * n^<span class="number">2</span> - <span class="number">6</span> * (n - <span class="number">1</span>)], &#123;k, (size - 1) / 2&#125;] + <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p028</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p028().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * From the diagram, let's observe the four corners of an n * n square (where n is odd).</span></span><br><span class="line"><span class="comment"> * It's not hard to convince yourself that the top right corner always has the value n^2.</span></span><br><span class="line"><span class="comment"> * Working counterclockwise (backwards), the top left corner has the value n^2 - (n - 1),</span></span><br><span class="line"><span class="comment"> * the bottom left corner has the value n^2 - 2(n - 1), and the bottom right is n^2 - 3(n - 1).</span></span><br><span class="line"><span class="comment"> * Putting it all together, this outermost ring contributes 4n^2 - 6(n - 1) to the final sum.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Incidentally, the closed form of this sum is (4m^3 + 3m^2 + 8m - 9) / 6, where m = size.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SIZE = <span class="number">1001</span>;  <span class="comment">// Must be odd</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> sum = <span class="number">1</span>;  <span class="comment">// Special case for size 1</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">3</span>; n &lt;= SIZE; n += <span class="number">2</span>)</span><br><span class="line">sum += <span class="number">4</span> * n * n - <span class="number">6</span> * (n - <span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> Long.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-027</title>
      <link href="/2018/04/11/Project-Euler-027/"/>
      <url>/2018/04/11/Project-Euler-027/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Euler published the remarkable quadratic formula:</p><p>$$<br>n^2 + n + 41<br>$$</p><p>It turns out that the formula will produce 40 primes for the consecutive values n = 0 to 39. However, when n = 40, $40^2 + 40 + 41 = 40(40 + 1) + 41$ is divisible by 41, and certainly when n = 41, $41^2 + 41 + 41$ is clearly divisible by 41.</p><p>Using computers, the incredible formula  $n^2 - 79n + 1601$ was discovered, which produces 80 primes for the consecutive values n = 0 to 79. The product of the coefficients, 79 and 1601, is 126479.</p><p>Considering quadratics of the form:</p><p>$$<br>n^2 + an + b, \text{ where } |a| \lt 1000 \text{ and } |b| \lt 1000<br>$$</p><p>Find the product of the coefficients, a and b, for the quadratic expression that produces the maximum number of primes for consecutive values of n, starting with n = 0.</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-59231</span><br></pre></td></tr></table></figure><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> product</span><br><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> mul</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorize</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">'fact() argument should be &gt;= 1'</span>)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> []  <span class="comment"># special case</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="comment"># iterate over all even numbers first.</span></span><br><span class="line">    <span class="keyword">while</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        res.append(<span class="number">2</span>)</span><br><span class="line">        n //= <span class="number">2</span></span><br><span class="line">    <span class="comment"># try odd numbers up to sqrt(n)</span></span><br><span class="line">    limit = math.sqrt(n+<span class="number">1</span>)</span><br><span class="line">    i = <span class="number">3</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= limit:</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            res.append(i)</span><br><span class="line">            n //= i</span><br><span class="line">            limit = math.sqrt(n+i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i += <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> n != <span class="number">1</span>:</span><br><span class="line">        res.append(n)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">num_divisors</span><span class="params">(n)</span>:</span></span><br><span class="line">    factors = sorted(factorize(n))</span><br><span class="line">    histogram = defaultdict(int)</span><br><span class="line">    <span class="keyword">for</span> factor <span class="keyword">in</span> factors:</span><br><span class="line">        histogram[factor] += <span class="number">1</span></span><br><span class="line">    <span class="comment"># number of divisors is equal to product of </span></span><br><span class="line">    <span class="comment"># incremented exponents of prime factors</span></span><br><span class="line">    <span class="keyword">from</span> operator <span class="keyword">import</span> mul</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> reduce(mul, [exponent + <span class="number">1</span> <span class="keyword">for</span> exponent <span class="keyword">in</span> list(histogram.values())])</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">num_primes</span><span class="params">(formula)</span>:</span></span><br><span class="line">    num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">1000</span>):</span><br><span class="line">        res = formula(n)</span><br><span class="line">        <span class="keyword">if</span> res &lt; <span class="number">1</span> <span class="keyword">or</span> <span class="keyword">not</span> is_prime(res):</span><br><span class="line">            <span class="keyword">return</span> num</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            num += <span class="number">1</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span><span class="params">(num)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> num_divisors(num) == <span class="number">2</span> <span class="keyword">and</span> num &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    most = <span class="number">0</span></span><br><span class="line">    best = (<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> a, b <span class="keyword">in</span> product(list(range(<span class="number">-999</span>,<span class="number">1000</span>)), list(range(<span class="number">-999</span>, <span class="number">1000</span>))):</span><br><span class="line">        formula = <span class="keyword">lambda</span> n: n**<span class="number">2</span> + a*n + b</span><br><span class="line">        num = num_primes(formula) </span><br><span class="line">        <span class="keyword">if</span> num &gt; most:</span><br><span class="line">            most = num</span><br><span class="line">            best = (a, b)</span><br><span class="line">    print(mul(*best))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h4 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span></span><br><span class="line">puts (-<span class="number">999</span>..<span class="number">999</span>).to_a.product((-<span class="number">999</span>..<span class="number">999</span>).to_a).map &#123; <span class="params">|a, b|</span></span><br><span class="line">  [(<span class="number">0</span>..<span class="number">100</span>).take_while &#123; <span class="params">|n|</span> (n**<span class="number">2</span> + a*n + b).prime? &#125;.count, a * b]</span><br><span class="line">&#125;.max[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.Function (<span class="title">on</span>)</span><br><span class="line"><span class="keyword">import</span> Data.List (<span class="title">maximumBy</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">isPrime</span> :: <span class="type">Int</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isPrime</span> n | n &lt; <span class="number">1</span> = <span class="type">False</span></span><br><span class="line">          | otherwise = not $ or [n `rem` x == <span class="number">0</span> | x &lt;- [<span class="number">2.</span>.floor $ sqrt $ fromIntegral n]]</span><br><span class="line"> </span><br><span class="line"><span class="title">coefficients</span> :: [(<span class="type">Int</span>, <span class="type">Int</span>)]</span><br><span class="line"><span class="title">coefficients</span> = [(a, b) | a &lt;- [<span class="number">-999.</span><span class="number">.999</span>], b &lt;- filter isPrime [<span class="number">0.</span><span class="number">.999</span>]]</span><br><span class="line"></span><br><span class="line"><span class="title">primesProduced</span> :: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span></span><br><span class="line"><span class="title">primesProduced</span> (a, b) = length $ takeWhile isPrime [n^<span class="number">2</span> + a*n + b | n &lt;- [<span class="number">0.</span>.]]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ uncurry (*) $ maximumBy (compare `on` primesProduced) coefficients</span><br></pre></td></tr></table></figure><h4 id="Mathematica"><a href="#Mathematica" class="headerlink" title="Mathematica"></a>Mathematica</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CountConsecutivePrimes[a_, b_] := <span class="keyword">Block</span>[&#123;i&#125;, <span class="keyword">For</span>[i = <span class="number">0</span>, <span class="keyword">PrimeQ</span>[i^<span class="number">2</span> + a * i + b], i++]; i]</span><br><span class="line"></span><br><span class="line">maxConsecutive = <span class="number">0</span>;</span><br><span class="line">maxProduct = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">For</span>[a = <span class="number">-999</span>, a &lt; <span class="number">1000</span>, a++,</span><br><span class="line">  <span class="keyword">For</span>[b = <span class="number">-999</span>, b &lt; <span class="number">1000</span>, b++,</span><br><span class="line">    temp = CountConsecutivePrimes[a, b];</span><br><span class="line">    <span class="keyword">If</span>[temp &gt; maxConsecutive,</span><br><span class="line">      maxConsecutive = temp;</span><br><span class="line">      maxProduct = a * b]]]</span><br><span class="line">maxProduct</span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p027</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p027().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> bestNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> bestA = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> bestB = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> a = -<span class="number">1000</span>; a &lt;= <span class="number">1000</span>; a++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> b = -<span class="number">1000</span>; b &lt;= <span class="number">1000</span>; b++) &#123;</span><br><span class="line"><span class="keyword">int</span> num = numberOfConsecutivePrimesGenerated(a, b);</span><br><span class="line"><span class="keyword">if</span> (num &gt; bestNum) &#123;</span><br><span class="line">bestNum = num;</span><br><span class="line">bestA = a;</span><br><span class="line">bestB = b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(bestA * bestB);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">numberOfConsecutivePrimesGenerated</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; ; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> n = i * i + i * a + b;</span><br><span class="line"><span class="keyword">if</span> (n &lt; <span class="number">0</span> || !Library.isPrime(n))</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-026</title>
      <link href="/2018/04/11/Project-Euler-026/"/>
      <url>/2018/04/11/Project-Euler-026/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>A unit fraction contains 1 in the numerator. The decimal representation of the unit fractions with denominators 2 to 10 are given:</p><p>$$<br>\begin{aligned}<br>\frac{1}{2}&amp;=0.5 \\<br>\frac{1}{3}&amp;=0.\overline{3} \\<br>\frac{1}{4}&amp;=0.25 \\<br>\frac{1}{5}&amp;=0.2 \\<br>\frac{1}{6}&amp;=0.1\overline{6} \\<br>\frac{1}{7}&amp;=0.\overline{142857} \\<br>\frac{1}{8}&amp;=0.125 \\<br>\frac{1}{9}&amp;=0.\overline{1} \\<br>\frac{1}{10}&amp;=0.1<br>\end{aligned}<br>$$</p><p>Where $0.1\overline{6}$ means $0.1666…$, and has a 1-digit recurring cycle. It can be seen that $\frac{1}{7}$ has a 6-digit recurring cycle.</p><p>Find the value of $d &lt; 1000$ for which $\frac{1}{d}$ contains the longest recurring cycle in its decimal fraction part.</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">983</span><br></pre></td></tr></table></figure><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">recurring_cycle</span><span class="params">(n, d)</span>:</span></span><br><span class="line">    <span class="comment"># solve 10^s % d == 10^(s+t) % d</span></span><br><span class="line">    <span class="comment"># where t is length and s is start</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, d):</span><br><span class="line">        <span class="keyword">if</span> <span class="number">1</span> == <span class="number">10</span>**t % d:</span><br><span class="line">            <span class="keyword">return</span> t</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">longest = max(recurring_cycle(<span class="number">1</span>, i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">1001</span>))</span><br><span class="line">print([i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">1001</span>) <span class="keyword">if</span> recurring_cycle(<span class="number">1</span>, i) == longest][<span class="number">0</span>])</span><br></pre></td></tr></table></figure><h4 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">puts (<span class="number">0</span>..<span class="number">1000</span>).map &#123; <span class="params">|d|</span> </span><br><span class="line">  (<span class="number">1</span>..d).detect(lambda&#123;<span class="number">0</span>&#125;) &#123; <span class="params">|t|</span> (<span class="number">10</span>**t % d) == <span class="number">1</span> &#125; </span><br><span class="line">&#125;.each_with_index.max[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">maximumBy</span>)</span><br><span class="line"><span class="keyword">import</span> Data.Function (<span class="title">on</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">cycleLength</span> :: <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">cycleLength</span> n | even n = <span class="number">0</span></span><br><span class="line">              | n `rem` <span class="number">5</span> == <span class="number">0</span> = <span class="number">0</span></span><br><span class="line">              | otherwise = head [p | p &lt;- [<span class="number">1.</span>.], (<span class="number">10</span>^p - <span class="number">1</span>) `rem` n == <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ maximumBy (compare `on` cycleLength) [<span class="number">1</span>,<span class="number">3.</span><span class="number">.1000</span>]</span><br></pre></td></tr></table></figure><h4 id="Mathematica"><a href="#Mathematica" class="headerlink" title="Mathematica"></a>Mathematica</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CycleLength[x_] := <span class="keyword">Length</span>[<span class="keyword">Last</span>[<span class="keyword">First</span>[<span class="keyword">RealDigits</span>[x]]]]</span><br><span class="line">d = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">For</span>[i = <span class="number">1</span>, i &lt; <span class="number">1000</span>, i++,</span><br><span class="line">  <span class="keyword">If</span>[CycleLength[<span class="number">1</span> / i] &gt; CycleLength[<span class="number">1</span> / d], d = i]]</span><br><span class="line">d</span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p026</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p026().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> bestNumber = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> bestLength = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> len = getCycleLength(i);</span><br><span class="line"><span class="keyword">if</span> (len &gt; bestLength) &#123;</span><br><span class="line">bestNumber = i;</span><br><span class="line">bestLength = len;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(bestNumber);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getCycleLength</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">Map&lt;Integer,Integer&gt; stateToIter = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="keyword">int</span> state = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> iter = <span class="number">0</span>; ; iter++) &#123;</span><br><span class="line"><span class="keyword">if</span> (stateToIter.containsKey(state))</span><br><span class="line"><span class="keyword">return</span> iter - stateToIter.get(state);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">stateToIter.put(state, iter);</span><br><span class="line">state = state * <span class="number">10</span> % n;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-025</title>
      <link href="/2018/04/09/Project-Euler-025/"/>
      <url>/2018/04/09/Project-Euler-025/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>The Fibonacci sequence is defined by the recurrence relation:</p><p>$$<br>F<em>n = F</em>{n-1} + F_{n-2} \text{ where } F_1 = 1 \text{ and } F_2 = 1<br>$$</p><p>Hence the first 12 terms will be:</p><p>$$<br>\begin{split}<br>F_1 &amp;= 1 \<br>F_2 &amp;= 1 \<br>F_3 &amp;= 2 \<br>F_4 &amp;= 3 \<br>F_5 &amp;= 5 \<br>F_6 &amp;= 8 \<br>F_7 &amp;= 13 \<br>F_8 &amp;= 21 \<br>F<em>9 &amp;= 34 \<br>F</em>{10} &amp;= 55 \<br>F<em>{11} &amp;= 89 \<br>F</em>{12} &amp;= 144<br>\end{split}<br>$$</p><p>The 12th term, $F_{12}$, is the first term to contain three digits.</p><p>What is the first term in the Fibonacci sequence to contain 1000 digits?</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4782</span><br></pre></td></tr></table></figure><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Because the target number is relatively small, we simply compute each Fibonacci number starting</span></span><br><span class="line"><span class="comment"># from the beginning until we encounter one with exactly 1000 digits. The Fibonacci sequence grows</span></span><br><span class="line"><span class="comment"># exponentially with a base of about 1.618, so the numbers in base 10 will lengthen by one digit</span></span><br><span class="line"><span class="comment"># after every log10(1.618) ~= 4.78 steps on average. This means the answer is at index around 4780.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute</span><span class="params">()</span>:</span></span><br><span class="line">DIGITS = <span class="number">1000</span></span><br><span class="line">prev = <span class="number">1</span></span><br><span class="line">cur = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> itertools.count():</span><br><span class="line"><span class="comment"># At this point, prev = fibonacci(i - 1) and cur = fibonacci(i)</span></span><br><span class="line"><span class="keyword">if</span> len(str(cur)) &gt; DIGITS:</span><br><span class="line"><span class="keyword">raise</span> RuntimeError(<span class="string">"Not found"</span>)</span><br><span class="line"><span class="keyword">elif</span> len(str(cur)) == DIGITS:</span><br><span class="line"><span class="keyword">return</span> str(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Advance the Fibonacci sequence by one step</span></span><br><span class="line">prev, cur = cur, prev + cur</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">print(compute())</span><br></pre></td></tr></table></figure><h4 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">t1, t2 = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> t2.to_s.length &lt; <span class="number">1000</span></span><br><span class="line">  t1, t2 = t2, t1 + t2</span><br><span class="line">  i += <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts i</span><br></pre></td></tr></table></figure><h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">fibs</span> ::  [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">fibs</span> = <span class="number">0</span> : <span class="number">1</span> : zipWith (+) fibs (tail fibs)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ head [i | i &lt;- [<span class="number">1.</span>.], (==<span class="number">1000</span>) . length . show $ fibs !! i]</span><br></pre></td></tr></table></figure><h4 id="Clojure"><a href="#Clojure" class="headerlink" title="Clojure"></a>Clojure</h4><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> fibs</span><br><span class="line">  (<span class="name">lazy-cat</span> [(<span class="name">BigInteger/ZERO</span>) (<span class="name">BigInteger/ONE</span>)] (<span class="name"><span class="builtin-name">map</span></span> + fibs (<span class="name"><span class="builtin-name">rest</span></span> fibs))))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">count</span></span> (<span class="name"><span class="builtin-name">take-while</span></span> #(<span class="name"><span class="builtin-name">&lt;</span></span> % (<span class="name">.pow</span> (<span class="name">BigInteger/TEN</span>) <span class="number">999</span>)) fibs)))</span><br></pre></td></tr></table></figure><h4 id="Mathematica"><a href="#Mathematica" class="headerlink" title="Mathematica"></a>Mathematica</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * Because the target number is relatively small, we simply compute each Fibonacci number starting</span></span><br><span class="line"><span class="comment"> * from the beginning until we encounter one with exactly 1000 digits. The Fibonacci sequence grows</span></span><br><span class="line"><span class="comment"> * exponentially with a base of about 1.618, so the numbers in base 10 will lengthen by one digit</span></span><br><span class="line"><span class="comment"> * after every log10(1.618) ~= 4.78 steps on average. This means the answer is at index around 4780.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line">digits = <span class="number">1000</span>;</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">While</span>[<span class="keyword">Fibonacci</span>[i] &lt; <span class="number">10</span>^(digits<span class="number">-1</span>), i++]</span><br><span class="line">i</span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p025</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p025().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Because the target number is relatively small, we simply compute each Fibonacci number starting</span></span><br><span class="line"><span class="comment"> * from the beginning until we encounter one with exactly 1000 digits. The Fibonacci sequence grows</span></span><br><span class="line"><span class="comment"> * exponentially with a base of about 1.618, so the numbers in base 10 will lengthen by one digit</span></span><br><span class="line"><span class="comment"> * after every log10(1.618) ~= 4.78 steps on average. This means the answer is at index around 4780.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DIGITS = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">BigInteger lowerThres = BigInteger.TEN.pow(DIGITS - <span class="number">1</span>);</span><br><span class="line">BigInteger upperThres = BigInteger.TEN.pow(DIGITS);</span><br><span class="line">BigInteger prev = BigInteger.ONE;</span><br><span class="line">BigInteger cur = BigInteger.ZERO;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; ; i++) &#123;</span><br><span class="line"><span class="comment">// At this point, prev = fibonacci(i - 1) and cur = fibonacci(i)</span></span><br><span class="line"><span class="keyword">if</span> (cur.compareTo(upperThres) &gt;= <span class="number">0</span>)</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Not found"</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (cur.compareTo(lowerThres) &gt;= <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> Integer.toString(i);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Advance the Fibonacci sequence by one step</span></span><br><span class="line">BigInteger temp = cur.add(prev);</span><br><span class="line">prev = cur;</span><br><span class="line">cur = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Perceptron with Margin</title>
      <link href="/2018/04/07/Perceptron-with-Margin/"/>
      <url>/2018/04/07/Perceptron-with-Margin/</url>
      <content type="html"><![CDATA[<p>It is a simple simulation of Perceptron Algorithm using <a href="https://p5js.org/" target="_blank" rel="noopener">p5.js</a>.</p><p>You can insert the data-points belonging to two classes as well as change the Learning Rate and Threshold(or Margin) on canvas at runtime using Sliders and simulate how the Linear Seperater converges to classify the given data.</p><p>You can interact on web browsers by simply click the <code>index.html</code> file on your browser.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">width</span>=<span class="string">device-width,</span> <span class="attr">initial-scale</span>=<span class="string">1.0,</span> <span class="attr">maximum-scale</span>=<span class="string">1.0,</span> <span class="attr">user-scalable</span>=<span class="string">0</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"> body &#123;padding: 0; margin: 0;&#125; </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../p5.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../addons/p5.dom.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../addons/p5.sound.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"sketch.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">      body &#123;</span></span><br><span class="line"><span class="undefined">        padding: 0;</span></span><br><span class="line"><span class="undefined">        margin: 0;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">      canvas &#123;</span></span><br><span class="line"><span class="undefined">        vertical-align: top;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">      html &#123;</span></span><br><span class="line"><span class="undefined">        font-family: monospace;</span></span><br><span class="line"><span class="undefined">        color: #333;</span></span><br><span class="line"><span class="undefined">        font-size: 20px;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>User can insert the data-points belonging to two classes as well as change the <strong>Learning Rate</strong> and <strong>Threshold or Margin</strong> on canvas at runtime using Sliders and simulate how the Linear Separater converges to classify the given data. <code>sketch.js</code> contains the core logic for the simulation.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">instruction = <span class="string">"Tap on the Screen to Insert Data Points..."</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> epsilonSlider, epsilonSpan;</span><br><span class="line"><span class="keyword">var</span> minPointsSlider;</span><br><span class="line"><span class="keyword">var</span> changeColor;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Data</span></span><br><span class="line">X1 = [];</span><br><span class="line">X2 = [];</span><br><span class="line">Y  = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Hyperparameters</span></span><br><span class="line">b = <span class="number">0.0</span>;</span><br><span class="line">w1 = <span class="number">0.0</span>;</span><br><span class="line">w2 = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> threshold = <span class="number">100.0</span>;</span><br><span class="line"><span class="keyword">var</span> learning_rate = <span class="number">0.1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Parameters</span></span><br><span class="line"><span class="keyword">var</span> x1, x2;</span><br><span class="line"><span class="keyword">var</span> y1, y2;</span><br><span class="line"><span class="keyword">var</span> m, b;</span><br><span class="line"><span class="keyword">var</span> type = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  createCanvas(windowWidth, windowHeight - <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">  createSpan(<span class="string">"Learning Rate: "</span>);</span><br><span class="line">  epsilonSlider = createSlider(<span class="number">0</span>, <span class="number">100</span>, <span class="number">10</span>);</span><br><span class="line">  epsilonSpan = createSpan(epsilonSlider.value());</span><br><span class="line">  createSpan(<span class="string">" | "</span>);</span><br><span class="line">  createSpan(<span class="string">"Threshold: "</span>);</span><br><span class="line">  minPointsSlider = createSlider(<span class="number">0</span>, <span class="number">300</span>, <span class="number">100</span>);</span><br><span class="line">  minPointsSpan = createSpan(epsilonSlider.value());</span><br><span class="line">  createSpan(<span class="string">" | "</span>);</span><br><span class="line">  changeColor = createButton(<span class="string">"Change Color"</span>);</span><br><span class="line">  changeColor.mousePressed(swap);</span><br><span class="line">  createSpan(<span class="string">" | "</span>);</span><br><span class="line">  train = createButton(<span class="string">"Start Training"</span>);</span><br><span class="line">  train.mousePressed(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  background(<span class="number">51</span>);</span><br><span class="line"></span><br><span class="line">  learning_rate = epsilonSlider.value() / <span class="number">1000</span>;</span><br><span class="line">  epsilonSpan.html(learning_rate.toString());</span><br><span class="line">  threshold = minPointsSlider.value();</span><br><span class="line">  minPointsSpan.html(threshold.toString());</span><br><span class="line"></span><br><span class="line">  fill(<span class="number">250</span>);</span><br><span class="line">  noStroke();</span><br><span class="line">  textFont(<span class="string">'monospace'</span>);</span><br><span class="line">  textSize(<span class="number">25</span>);</span><br><span class="line">  text(<span class="string">"Perceptron with Margin"</span>, <span class="number">15</span>, <span class="number">40</span>);</span><br><span class="line">  textSize(<span class="number">20</span>);</span><br><span class="line">  text(instruction, <span class="number">15</span>, windowHeight - <span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">  noStroke();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; X1.length; i++) &#123;</span><br><span class="line">    Y[i] == <span class="number">1</span> ? fill(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>) : fill(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line">    ellipse(X1[i], X2[i], <span class="number">8</span>, <span class="number">8</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    fit();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  drawLine();</span><br><span class="line">  stroke(<span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line">  line(x1, y1+threshold, x2, y2+threshold);</span><br><span class="line">  line(x1, y1-threshold, x2, y2-threshold);</span><br><span class="line"></span><br><span class="line">  stroke(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">  line(x1, y1, x2, y2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mouseClicked</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  X1.push(mouseX);</span><br><span class="line">  X2.push(mouseY);</span><br><span class="line">  Y.push(type);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  type = -type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">activate</span>(<span class="params">y, threshold</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (y &gt; threshold) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (y &lt;= -threshold) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; X1.length; i++) &#123;</span><br><span class="line">    y = w1 * X1[i] + w2 * X2[i] + b;</span><br><span class="line">    y = activate(y, threshold);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">" "</span> + y + <span class="string">" "</span> + Y[i]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (y != Y[i]) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"Here"</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> x1 = map(X1[i], <span class="number">0</span>, width, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">var</span> x2 = map(X2[i], <span class="number">0</span>, height, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">      w1 += learning_rate * Y[i] * x1;</span><br><span class="line">      w2 += learning_rate * Y[i] * x2;</span><br><span class="line">      b += learning_rate * Y[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">keyPressed</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (keyCode == ENTER) &#123;</span><br><span class="line">    swap();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (keyCode == ESCAPE) &#123;</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawLine</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  x1 = <span class="number">0</span>;</span><br><span class="line">  x2 = width;</span><br><span class="line"></span><br><span class="line">  m = -(w1 / w2);</span><br><span class="line">  c = -(b / w2);</span><br><span class="line"></span><br><span class="line">  y1 = m * x1 + c;</span><br><span class="line">  y2 = m * x2 + c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://p6xgwpfbb.bkt.clouddn.com/perceptron/perceptron_with_margin.gif" width="60%"><br></div>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> p5js </tag>
            
            <tag> perceptron </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 025</title>
      <link href="/2018/04/06/LeetCode-Notes-025/"/>
      <url>/2018/04/06/LeetCode-Notes-025/</url>
      <content type="html"><![CDATA[<h3 id="Find-All-Numbers-Disappeared-in-an-Array"><a href="#Find-All-Numbers-Disappeared-in-an-Array" class="headerlink" title="Find All Numbers Disappeared in an Array"></a>Find All Numbers Disappeared in an Array</h3><p>Given an array of integers where $1 ≤ a[i] ≤ n$ (n = size of array), some elements appear twice and others appear once.</p><p>Find all the elements of $[1, n]$ inclusive that do not appear in this array.</p><p>Could you do it without extra space and in $O(n)$ runtime? You may assume the returned list does not count as extra space.</p><a id="more"></a><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[4,3,2,7,8,2,3,1]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[5,6]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findDisappearedNumbers = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> len = nums.length;</span><br><span class="line">  <span class="keyword">let</span> hash = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line"></span><br><span class="line">  nums.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    hash[item] = <span class="literal">true</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= len; i++)</span><br><span class="line">    !hash[i] &amp;&amp; (ans.push(i));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-Bottom-Left-Tree-Value"><a href="#Find-Bottom-Left-Tree-Value" class="headerlink" title="Find Bottom Left Tree Value"></a>Find Bottom Left Tree Value</h3><p>Given a binary tree, find the leftmost value in the last row of the tree.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line"></span><br><span class="line">    2</span><br><span class="line">   / \</span><br><span class="line">  1   3</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">1</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line"></span><br><span class="line">        1</span><br><span class="line">       / \</span><br><span class="line">      2   3</span><br><span class="line">     /   / \</span><br><span class="line">    4   5   6</span><br><span class="line">       /</span><br><span class="line">      7</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">7</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong> You may assume the tree (i.e., the given root node) is not NULL.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findBottomLeftValue = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> dfs = <span class="function">(<span class="params">node, step</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (res[step] === <span class="literal">undefined</span>)</span><br><span class="line">      res[step] = node.val;</span><br><span class="line"></span><br><span class="line">    node.left &amp;&amp; dfs(node.left, step + <span class="number">1</span>);</span><br><span class="line">    node.right &amp;&amp; dfs(node.right, step + <span class="number">1</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  dfs(root, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> res.pop();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-K-Pairs-with-Smallest-Sums"><a href="#Find-K-Pairs-with-Smallest-Sums" class="headerlink" title="Find K Pairs with Smallest Sums"></a>Find K Pairs with Smallest Sums</h3><p>You are given two integer arrays nums1 and nums2 sorted in ascending order and an integer k.</p><p>Define a pair (u,v) which consists of one element from the first array and one element from the second array.</p><p>Find the k pairs (u1,v1),(u2,v2) …(uk,vk) with the smallest sums.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given nums1 = [1,7,11], nums2 = [2,4,6],  k = 3</span><br><span class="line"></span><br><span class="line">Return: [1,2],[1,4],[1,6]</span><br><span class="line"></span><br><span class="line">The first 3 pairs are returned from the sequence:</span><br><span class="line">[1,2],[1,4],[1,6],[7,2],[7,4],[11,2],[7,6],[11,4],[11,6]</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given nums1 = [1,1,2], nums2 = [1,2,3],  k = 2</span><br><span class="line"></span><br><span class="line">Return: [1,1],[1,1]</span><br><span class="line"></span><br><span class="line">The first 2 pairs are returned from the sequence:</span><br><span class="line">[1,1],[1,1],[1,2],[2,1],[1,2],[2,2],[1,3],[1,3],[2,3]</span><br></pre></td></tr></table></figure></p><p><strong>Example 3:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given nums1 = [1,2], nums2 = [3],  k = 3 </span><br><span class="line"></span><br><span class="line">Return: [1,3],[2,3]</span><br><span class="line"></span><br><span class="line">All possible pairs are returned from the sequence:</span><br><span class="line">[1,3],[2,3]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums1</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums2</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; k</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> kSmallestPairs = <span class="function"><span class="keyword">function</span>(<span class="params">nums1, nums2, k</span>) </span>&#123;</span><br><span class="line">  k = <span class="built_in">Math</span>.min(nums1.length * nums2.length, k);</span><br><span class="line">  <span class="keyword">var</span> len = nums1.length;</span><br><span class="line">  <span class="keyword">var</span> a = [];</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    a[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (k--) &#123;</span><br><span class="line">    <span class="keyword">var</span> minn = <span class="literal">Infinity</span>;</span><br><span class="line">    <span class="keyword">var</span> index;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (a[i] === nums2.length)</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      <span class="keyword">var</span> sum = nums1[i] + nums2[a[i]];</span><br><span class="line">      <span class="keyword">if</span> (sum &lt; minn) &#123;</span><br><span class="line">        minn = sum;</span><br><span class="line">        index = i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans.push([nums1[index], nums2[a[index]]]);</span><br><span class="line">    a[index]++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-Largest-Value-in-Each-Tree-Row"><a href="#Find-Largest-Value-in-Each-Tree-Row" class="headerlink" title="Find Largest Value in Each Tree Row"></a>Find Largest Value in Each Tree Row</h3><p>You need to find the largest value in each row of a binary tree.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">          1</span><br><span class="line">         / \</span><br><span class="line">        3   2</span><br><span class="line">       / \   \  </span><br><span class="line">      5   3   9 </span><br><span class="line"></span><br><span class="line">Output: [1, 3, 9]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> largestValues = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> maxn = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> getMax = <span class="function">(<span class="params">a, b = -<span class="built_in">Number</span>.MAX_VALUE</span>) =&gt;</span> <span class="built_in">Math</span>.max(a, b);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> dfs = <span class="function">(<span class="params">node, step</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!node) <span class="keyword">return</span>;</span><br><span class="line">    maxn[step] = getMax(node.val, maxn[step]);</span><br><span class="line">    dfs(node.left, step + <span class="number">1</span>);</span><br><span class="line">    dfs(node.right, step + <span class="number">1</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  dfs(root, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> maxn;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-Median-from-Data-Stream"><a href="#Find-Median-from-Data-Stream" class="headerlink" title="Find Median from Data Stream"></a>Find Median from Data Stream</h3><p>Median is the middle value in an ordered integer list. If the size of the list is even, there is no middle value. So the median is the mean of the two middle value.</p><p>Examples:<br><code>[2,3,4]</code> , the median is <code>3</code></p><p><code>[2,3]</code>, the median is <code>(2 + 3) / 2 = 2.5</code></p><p>Design a data structure that supports the following two operations:</p><ul><li>void addNum(int num) - Add a integer number from the data stream to the data structure.</li><li>double findMedian() - Return the median of all elements so far.</li></ul><p>For example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addNum(1)</span><br><span class="line">addNum(2)</span><br><span class="line">findMedian() -&gt; 1.5</span><br><span class="line">addNum(3) </span><br><span class="line">findMedian() -&gt; 2</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params">a, target</span>) </span>&#123;</span><br><span class="line">  target += <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> start = <span class="number">0</span></span><br><span class="line">    , end = a.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(start &lt;= end) &#123;</span><br><span class="line">    <span class="keyword">var</span> mid = ~~((start + end) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (a[mid] &gt;= target)</span><br><span class="line">      end = mid - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">      start = mid + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @constructor</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> MedianFinder = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.num = [];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;integer&#125; word</span></span><br><span class="line"><span class="comment"> * @return &#123;void&#125;</span></span><br><span class="line"><span class="comment"> * Adds a num into the data structure.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">MedianFinder.prototype.addNum = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> index = binarySearch(<span class="keyword">this</span>.num, num);</span><br><span class="line">  <span class="keyword">this</span>.num.splice(index, <span class="number">0</span>, num);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @return &#123;double&#125;</span></span><br><span class="line"><span class="comment"> * Return median of current data stream</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">MedianFinder.prototype.findMedian = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = <span class="keyword">this</span>.num.length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (len &amp; <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.num[~~(len / <span class="number">2</span>)];</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> (<span class="keyword">this</span>.num[len / <span class="number">2</span>] + <span class="keyword">this</span>.num[len / <span class="number">2</span> - <span class="number">1</span>]) / <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MedianFinder object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * var mf = new MedianFinder();</span></span><br><span class="line"><span class="comment"> * mf.addNum(1);</span></span><br><span class="line"><span class="comment"> * mf.findMedian();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-024</title>
      <link href="/2018/04/06/Project-Euler-024/"/>
      <url>/2018/04/06/Project-Euler-024/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>A permutation is an ordered arrangement of objects. For example, 3124 is one possible permutation of the digits 1, 2, 3 and 4. If all of the permutations are listed numerically or alphabetically, we call it lexicographic order. The lexicographic permutations of 0, 1 and 2 are:</p><p>$$012, 021, 102, 120, 201, 210$$</p><p>What is the millionth lexicographic permutation of the digits 0, 1, 2, 3, 4, 5, 6, 7, 8 and 9?</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2783915460</span><br></pre></td></tr></table></figure><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> islice, permutations</span><br><span class="line">print(<span class="string">''</span>.join(next(islice(permutations(list(map(str, list(range(<span class="number">10</span>))))), <span class="number">999999</span>, <span class="keyword">None</span>))))</span><br></pre></td></tr></table></figure><h4 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">puts (<span class="number">0</span>..<span class="number">9</span>).to_a.permutation(<span class="number">10</span>).to_a[<span class="number">999999</span>].join</span><br></pre></td></tr></table></figure><h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">sort</span>, <span class="title">permutations</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = putStrLn $ (sort $ permutations ['<span class="number">0</span>'..'<span class="number">9</span>']) !! <span class="number">999999</span></span><br></pre></td></tr></table></figure><h4 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">permutate</span>(<span class="params">n, array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> al = array.length</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> k, l</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; al - <span class="number">1</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (array[j] &lt; array[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        k = j</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = k; j &lt; al; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (array[k] &lt; array[j]) &#123;</span><br><span class="line">        l = j</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> tmp = array[k]</span><br><span class="line">    array[k] = array[l]</span><br><span class="line">    array[l] = tmp</span><br><span class="line">    <span class="keyword">let</span> begin = k + <span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> end = al - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">      tmp = array[begin]</span><br><span class="line">      array[begin] = array[end]</span><br><span class="line">      array[end] = tmp</span><br><span class="line">      begin += <span class="number">1</span></span><br><span class="line">      end -= <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(permutate(<span class="number">1000000</span>, [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]).join(<span class="string">""</span>))</span><br></pre></td></tr></table></figure><h4 id="Mathematica"><a href="#Mathematica" class="headerlink" title="Mathematica"></a>Mathematica</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * We generate all 10! permutations of the sequence (0,1,2,3,4,5,6,7,8,9)</span></span><br><span class="line"><span class="comment"> * into memory, and select the 1 000 000th element (1-based indexing).</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"><span class="keyword">FromDigits</span>[<span class="keyword">Permutations</span>[<span class="keyword">Range</span>[<span class="number">0</span>, <span class="number">9</span>]][[<span class="number">1000000</span>]]]</span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p024</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p024().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We initialize an array as the lowest permutation of the given digits, which is the sequence</span></span><br><span class="line"><span class="comment"> * (0,1,2,3,4,5,6,7,8,9). Then we call the next permutation algorithm on it 999 999 times</span></span><br><span class="line"><span class="comment"> * (because the index in the problem is 1-based), and stringify the resulting sequence.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * The next permutation algorithm is well-known and a bit long to explain.</span></span><br><span class="line"><span class="comment"> * See: https://www.nayuki.io/page/next-lexicographical-permutation-algorithm</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// Initialize</span></span><br><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++)</span><br><span class="line">array[i] = i;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Permute</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">999999</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!Library.nextPermutation(array))</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> AssertionError();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Format output</span></span><br><span class="line">String ans = <span class="string">""</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++)</span><br><span class="line">ans += array[i];</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 024</title>
      <link href="/2018/04/05/LeetCode-Notes-024/"/>
      <url>/2018/04/05/LeetCode-Notes-024/</url>
      <content type="html"><![CDATA[<h3 id="Excel-Sheet-Column-Number"><a href="#Excel-Sheet-Column-Number" class="headerlink" title="Excel Sheet Column Number"></a>Excel Sheet Column Number</h3><p>Related to question Excel <a href="https://leetcode.com/problems/excel-sheet-column-title/" target="_blank" rel="noopener">Sheet Column Title</a></p><p>Given a column title as appear in an Excel sheet, return its corresponding column number.</p><p>For example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; 1</span><br><span class="line">B -&gt; 2</span><br><span class="line">C -&gt; 3</span><br><span class="line">...</span><br><span class="line">Z -&gt; 26</span><br><span class="line">AA -&gt; 27</span><br><span class="line">AB -&gt; 28</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> titleToNumber = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = s.split(<span class="string">''</span>).reverse();</span><br><span class="line">  s = a.join(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">var</span> ans = a.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre, item, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre + <span class="built_in">Math</span>.pow(<span class="number">26</span>, index) * (s.charCodeAt(index) - <span class="number">64</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Excel-Sheet-Column-Title"><a href="#Excel-Sheet-Column-Title" class="headerlink" title="Excel Sheet Column Title"></a>Excel Sheet Column Title</h3><p>Given a positive integer, return its corresponding column title as appear in an Excel sheet.</p><p>For example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1 -&gt; A</span><br><span class="line">2 -&gt; B</span><br><span class="line">3 -&gt; C</span><br><span class="line">...</span><br><span class="line">26 -&gt; Z</span><br><span class="line">27 -&gt; AA</span><br><span class="line">28 -&gt; AB</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> convertToTitle = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">26</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      ans += <span class="built_in">String</span>.fromCharCode(<span class="number">26</span> + <span class="number">64</span>);</span><br><span class="line">      n = (n / <span class="number">26</span>) - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      ans += <span class="built_in">String</span>.fromCharCode(n % <span class="number">26</span> + <span class="number">64</span>);</span><br><span class="line">      n = ~~(n / <span class="number">26</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Factorial-Trailing-Zeroes"><a href="#Factorial-Trailing-Zeroes" class="headerlink" title="Factorial Trailing Zeroes"></a>Factorial Trailing Zeroes</h3><p>Given an integer n, return the number of trailing zeroes in n!.</p><p>Note: Your solution should be in logarithmic time complexity.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> trailingZeroes = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">  ans += ~~(n / <span class="number">5</span>);</span><br><span class="line">  n /= <span class="number">5</span>;</span><br><span class="line">  n = ~~n;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-All-Anagrams-in-a-String"><a href="#Find-All-Anagrams-in-a-String" class="headerlink" title="Find All Anagrams in a String"></a>Find All Anagrams in a String</h3><p>Given a string s and a non-empty string p, find all the start indices of p’s anagrams in s.</p><p>Strings consists of lowercase English letters only and the length of both strings s and p will not be larger than 20,100.</p><p>The order of output does not matter.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">s: &quot;cbaebabacd&quot; p: &quot;abc&quot;</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[0, 6]</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">The substring with start index = 0 is &quot;cba&quot;, which is an anagram of &quot;abc&quot;.</span><br><span class="line">The substring with start index = 6 is &quot;bac&quot;, which is an anagram of &quot;abc&quot;.</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">s: &quot;abab&quot; p: &quot;ab&quot;</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[0, 1, 2]</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">The substring with start index = 0 is &quot;ab&quot;, which is an anagram of &quot;ab&quot;.</span><br><span class="line">The substring with start index = 1 is &quot;ba&quot;, which is an anagram of &quot;ab&quot;.</span><br><span class="line">The substring with start index = 2 is &quot;ab&quot;, which is an anagram of &quot;ab&quot;.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; p</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findAnagrams = <span class="function"><span class="keyword">function</span>(<span class="params">s, p</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> len = p.length;</span><br><span class="line">  <span class="keyword">let</span> hash = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> ans = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> ret = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, l = p.length; i &lt; l; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> index = p.charCodeAt(i) - <span class="number">97</span>;</span><br><span class="line">    ans[index] = ~~ans[index] + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, l = s.length; i &lt; l; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> index = s.charCodeAt(i) - <span class="number">97</span>;</span><br><span class="line">    hash[index] = ~~hash[index] + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (i &gt;= len) &#123; <span class="comment">// remove</span></span><br><span class="line">      <span class="keyword">let</span> index = s.charCodeAt(i - len) - <span class="number">97</span>;</span><br><span class="line">      hash[index] = ~~hash[index] - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (i + <span class="number">1</span> &gt;= len) &#123; <span class="comment">// can compare</span></span><br><span class="line">      help() &amp;&amp; ret.push(i - len + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">help</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (~~hash[i] !== ~~ans[i])</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Find-All-Duplicates-in-an-Array"><a href="#Find-All-Duplicates-in-an-Array" class="headerlink" title="Find All Duplicates in an Array"></a>Find All Duplicates in an Array</h3><p>Given an array of integers, $1 ≤ a[i] ≤ n$ (n = size of array), some elements appear twice and others appear once.</p><p>Find all the elements that appear twice in this array.</p><p>Could you do it without extra space and in $O(n)$ runtime?</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[4,3,2,7,8,2,3,1]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[2,3]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findDuplicates = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> len = nums.length;</span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> item = nums[i];</span><br><span class="line">    <span class="keyword">let</span> val = <span class="built_in">Math</span>.abs(item) - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nums[val] &lt; <span class="number">0</span>)</span><br><span class="line">      ans.push(val + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      nums[val] *= <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 023</title>
      <link href="/2018/04/04/LeetCode-Notes-023/"/>
      <url>/2018/04/04/LeetCode-Notes-023/</url>
      <content type="html"><![CDATA[<h3 id="Diagonal-Traverse"><a href="#Diagonal-Traverse" class="headerlink" title="Diagonal Traverse"></a>Diagonal Traverse</h3><p>Given a matrix of M x N elements (M rows, N columns), return all elements of the matrix in diagonal order as shown in the below image.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line"> [ 1, 2, 3 ],</span><br><span class="line"> [ 4, 5, 6 ],</span><br><span class="line"> [ 7, 8, 9 ]</span><br><span class="line">]</span><br><span class="line">Output:  [1,2,4,7,5,3,6,8,9]</span><br></pre></td></tr></table></figure></p><p>Explanation:</p><div align="center"><br><img src="https://leetcode.com/static/images/problemset/diagonal_traverse.png" width="200"><br></div><p><strong>Note:</strong></p><ol><li>The total number of elements of the given matrix will not exceed 10,000.</li></ol><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[][]&#125; matrix</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findDiagonalOrder = <span class="function"><span class="keyword">function</span>(<span class="params">matrix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> M = matrix.length;</span><br><span class="line">  <span class="keyword">if</span> (!M) <span class="keyword">return</span> [];</span><br><span class="line">  <span class="keyword">let</span> N = matrix[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// first row</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">0</span></span><br><span class="line">      , y = i</span><br><span class="line">      , tmp = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">      tmp.push(matrix[x][y]);</span><br><span class="line">      x++;</span><br><span class="line">      y--;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= M || y &lt; <span class="number">0</span> || y &gt;= N)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res.push(tmp);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// last column</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; M; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> x = i</span><br><span class="line">      , y = N - <span class="number">1</span></span><br><span class="line">      , tmp = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">      tmp.push(matrix[x][y]);</span><br><span class="line">      x++;</span><br><span class="line">      y--;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= M || y &lt; <span class="number">0</span> || y &gt;= N)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res.push(tmp);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line">  res.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!(index &amp; <span class="number">1</span>)) &#123;</span><br><span class="line">      ans.push(...item.reverse());</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ans.push(...item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Diameter-of-Binary-Tree"><a href="#Diameter-of-Binary-Tree" class="headerlink" title="Diameter of Binary Tree"></a>Diameter of Binary Tree</h3><p>Given a binary tree, you need to compute the length of the diameter of the tree. The diameter of a binary tree is the length of the longest path between any two nodes in a tree. This path may or may not pass through the root.</p><p><strong>Example:</strong></p><p>Given a binary tree<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   3</span><br><span class="line"> / \     </span><br><span class="line">4   5</span><br></pre></td></tr></table></figure></p><p>Return 3, which is the length of the path [4,2,1,3] or [5,2,1,3].</p><p><strong>Note:</strong> The length of path between two nodes is represented by the number of edges between them.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode(object):</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">diameterOfBinaryTree</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">getHeight</span><span class="params">(node, depth)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> node == <span class="keyword">None</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                left = getHeight(node.left, depth) + <span class="number">1</span></span><br><span class="line">                right = getHeight(node.right, depth) + <span class="number">1</span></span><br><span class="line">                getHeight.ans = max(getHeight.ans, left + right)</span><br><span class="line">                <span class="keyword">return</span> max(left, right)</span><br><span class="line"></span><br><span class="line">        getHeight.ans = <span class="number">0</span></span><br><span class="line">        getHeight(root, <span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> getHeight.ans</span><br></pre></td></tr></table></figure><h3 id="Differrent-Ways-to-Add-Parentheses"><a href="#Differrent-Ways-to-Add-Parentheses" class="headerlink" title="Differrent Ways to Add Parentheses"></a>Differrent Ways to Add Parentheses</h3><p>Given a string of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. The valid operators are <code>+</code>, <code>-</code> and <code>*</code>.</p><p><strong>Example 1:</strong><br>Input: <code>&quot;2-1-1&quot;</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">((2-1)-1) = 0</span><br><span class="line">(2-(1-1)) = 2</span><br></pre></td></tr></table></figure></p><p>Output: <code>[0, 2]</code></p><p><strong>Example 2:</strong><br>Input: <code>&quot;2*3-4*5&quot;</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(2*(3-(4*5))) = -34</span><br><span class="line">((2*3)-(4*5)) = -14</span><br><span class="line">((2*(3-4))*5) = -10</span><br><span class="line">(2*((3-4)*5)) = -10</span><br><span class="line">(((2*3)-4)*5) = 10</span><br></pre></td></tr></table></figure></p><p>Output: <code>[-34, -14, -10, -10, 10]</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; input</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> diffWaysToCompute = <span class="function"><span class="keyword">function</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 暴力递归求解</span></span><br><span class="line">  dfs([], [], <span class="number">0</span>, <span class="number">0</span>, input);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">numStack, symStack, num, index, input</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index === input.length) &#123;</span><br><span class="line">      numStack.push(num);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (symStack.length) &#123;</span><br><span class="line">        <span class="keyword">var</span> b = numStack.pop();</span><br><span class="line">        <span class="keyword">var</span> a = numStack.pop();</span><br><span class="line">        <span class="keyword">var</span> sym = symStack.pop();</span><br><span class="line"></span><br><span class="line">        numStack.push(<span class="built_in">eval</span>(<span class="string">'('</span> + a + <span class="string">')'</span> + sym + <span class="string">'('</span> + b + <span class="string">')'</span> ));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ans.push(numStack[<span class="number">0</span>]);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> item = input[index];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">'-+*'</span>.indexOf(item) !== <span class="number">-1</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 不处理</span></span><br><span class="line">      <span class="keyword">var</span> _numStack = numStack.concat();</span><br><span class="line">      <span class="keyword">var</span> _symStack = symStack.concat();</span><br><span class="line">      _numStack.push(num);</span><br><span class="line">      _symStack.push(item);</span><br><span class="line">      dfs(_numStack, _symStack, <span class="number">0</span>, index + <span class="number">1</span>, input);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 处理</span></span><br><span class="line">      _numStack = numStack.concat();</span><br><span class="line">      _numStack.push(num);</span><br><span class="line">      _symStack = symStack.concat();</span><br><span class="line">      <span class="keyword">while</span> (_symStack.length) &#123;</span><br><span class="line">        <span class="keyword">var</span> b = _numStack.pop();</span><br><span class="line">        <span class="keyword">var</span> a = _numStack.pop();</span><br><span class="line">        <span class="keyword">var</span> sym = _symStack.pop();</span><br><span class="line"></span><br><span class="line">        _numStack.push(<span class="built_in">eval</span>(<span class="string">'('</span> + a + <span class="string">')'</span> + sym + <span class="string">'('</span> + b + <span class="string">')'</span> ));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> newNumStack = _numStack.concat();</span><br><span class="line">        <span class="keyword">var</span> newSymStack = _symStack.concat();</span><br><span class="line">        newSymStack.push(item);</span><br><span class="line">        dfs(newNumStack, newSymStack, <span class="number">0</span>, index + <span class="number">1</span>, input);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      dfs(numStack.concat(), symStack.concat(), num * <span class="number">10</span> + +item, index + <span class="number">1</span>, input);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; input</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> diffWaysToCompute = <span class="function"><span class="keyword">function</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// save the possible values from the string input</span></span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = input.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = input[i];</span><br><span class="line">    <span class="keyword">if</span> (~<span class="string">'+-*'</span>.indexOf(item)) &#123;</span><br><span class="line">      <span class="keyword">var</span> left = diffWaysToCompute(input.substring(<span class="number">0</span>, i));</span><br><span class="line">      <span class="keyword">var</span> right = diffWaysToCompute(input.substring(i + <span class="number">1</span>));</span><br><span class="line">      left.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        right.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">          ans.push(<span class="built_in">eval</span>(<span class="string">'('</span> + a + <span class="string">')'</span> + item + <span class="string">'('</span> + b + <span class="string">')'</span>));</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  !ans.length &amp;&amp; ans.push(+input);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Divide-Two-Integers"><a href="#Divide-Two-Integers" class="headerlink" title="Divide Two Integers"></a>Divide Two Integers</h3><p>Divide two integers without using multiplication, division and mod operator.</p><p>If it is overflow, return MAX_INT.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; dividend</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; divisor</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> divide = <span class="function"><span class="keyword">function</span>(<span class="params">dividend, divisor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> MAX_POSITIVE_INT = ~(<span class="number">1</span> &lt;&lt; <span class="number">31</span>);</span><br><span class="line">  <span class="keyword">var</span> MAX_NEGATIVE_INT = (<span class="number">1</span> &lt;&lt; <span class="number">31</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = <span class="built_in">Math</span>.floor(dividend / divisor);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (ans &lt; MAX_NEGATIVE_INT)</span><br><span class="line">    ans = MAX_NEGATIVE_INT;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (ans &gt; MAX_POSITIVE_INT)</span><br><span class="line">    ans = MAX_POSITIVE_INT;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Encode-and-Decode-TinyURL"><a href="#Encode-and-Decode-TinyURL" class="headerlink" title="Encode and Decode TinyURL"></a>Encode and Decode TinyURL</h3><p>TinyURL is a URL shortening service where you enter a URL such as <code>https://leetcode.com/problems/design-tinyurl</code> and it returns a short URL such as <code>http://tinyurl.com/4e9iAk</code>.</p><p>Design the <code>encode</code> and <code>decode</code> methods for the TinyURL service. There is no restriction on how your encode/decode algorithm should work. You just need to ensure that a URL can be encoded to a tiny URL and the tiny URL can be decoded to the original URL.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [p, index] = [<span class="keyword">new</span> <span class="built_in">Map</span>(), <span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> base62 = <span class="function">(<span class="params">n</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> str = <span class="string">'0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'</span>;</span><br><span class="line">  <span class="keyword">let</span> len = str.length;</span><br><span class="line">  <span class="keyword">let</span> ret = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    ret += str[n % len];</span><br><span class="line">    n = ~~(n / len);</span><br><span class="line">  &#125; <span class="keyword">while</span> (n);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Encodes a URL to a shortened URL.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; longUrl</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> encode = <span class="function"><span class="keyword">function</span>(<span class="params">longUrl</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> shortUrl = base62(index++);</span><br><span class="line">  p.set(shortUrl, longUrl);</span><br><span class="line">  <span class="keyword">return</span> shortUrl;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Decodes a shortened URL to its original URL.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; shortUrl</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> decode = <span class="function"><span class="keyword">function</span>(<span class="params">shortUrl</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> p.get(shortUrl);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-023</title>
      <link href="/2018/04/03/Project-Euler-023/"/>
      <url>/2018/04/03/Project-Euler-023/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>A perfect number is a number for which the sum of its proper divisors is exactly equal to the number. For example, the sum of the proper divisors of 28 would be 1 + 2 + 4 + 7 + 14 = 28, which means that 28 is a perfect number.</p><p>A number n is called deficient if the sum of its proper divisors is less than n and it is called abundant if this sum exceeds n.</p><p>As 12 is the smallest abundant number, 1 + 2 + 3 + 4 + 6 = 16, the smallest number that can be written as the sum of two abundant numbers is 24. By mathematical analysis, it can be shown that all integers greater than 28123 can be written as the sum of two abundant numbers. However, this upper limit cannot be reduced any further by analysis even though it is known that the greatest number that cannot be expressed as the sum of two abundant numbers is less than this limit.</p><p>Find the sum of all the positive integers which cannot be written as the sum of two abundant numbers.</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4179871</span><br></pre></td></tr></table></figure><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorize</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">'fact() argument should be &gt;= 1'</span>)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> []  <span class="comment"># special case</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="comment"># iterate over all even numbers first.</span></span><br><span class="line">    <span class="keyword">while</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        res.append(<span class="number">2</span>)</span><br><span class="line">        n //= <span class="number">2</span></span><br><span class="line">    <span class="comment"># try odd numbers up to sqrt(n)</span></span><br><span class="line">    limit = math.sqrt(n+<span class="number">1</span>)</span><br><span class="line">    i = <span class="number">3</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= limit:</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            res.append(i)</span><br><span class="line">            n //= i</span><br><span class="line">            limit = math.sqrt(n+i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i += <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> n != <span class="number">1</span>:</span><br><span class="line">        res.append(n)</span><br><span class="line">    factors = sorted(res)</span><br><span class="line">    histogram = defaultdict(int)</span><br><span class="line">    <span class="keyword">for</span> factor <span class="keyword">in</span> factors:</span><br><span class="line">        histogram[factor] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> list(histogram.items())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divisors</span><span class="params">(n)</span>:</span></span><br><span class="line">    factors = factorize(n)</span><br><span class="line">    nfactors = len(factors)</span><br><span class="line">    f = [<span class="number">0</span>] * nfactors</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        <span class="keyword">yield</span> reduce(<span class="keyword">lambda</span> x, y: x*y, [factors[x][<span class="number">0</span>]**f[x] <span class="keyword">for</span> x <span class="keyword">in</span> range(nfactors)], <span class="number">1</span>)</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">            f[i] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> f[i] &lt;= factors[i][<span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            f[i] = <span class="number">0</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i &gt;= nfactors:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">proper_divisors</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> list(divisors(n))[:<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classify</span><span class="params">(n)</span>:</span></span><br><span class="line">    total = sum(proper_divisors(n))</span><br><span class="line">    <span class="keyword">if</span> total == n:</span><br><span class="line">        <span class="comment"># perfect</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> total &gt; n:</span><br><span class="line">        <span class="comment"># abundant</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># deficient</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    abundant = set(number <span class="keyword">for</span> number <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">30000</span>) <span class="keyword">if</span> classify(number) == <span class="number">1</span>)</span><br><span class="line">    sums = sorted(set(sum(c) <span class="keyword">for</span> c <span class="keyword">in</span> combinations_with_replacement(abundant, <span class="number">2</span>)))</span><br><span class="line">    print((sum(number <span class="keyword">for</span> number <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">30000</span>) <span class="keyword">if</span> number <span class="keyword">not</span> <span class="keyword">in</span> sums)))</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h4 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span> </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span> </span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">divisors</span></span></span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>] <span class="keyword">if</span> <span class="keyword">self</span> == <span class="number">1</span></span><br><span class="line">    primes, powers = <span class="keyword">self</span>.prime_division.transpose </span><br><span class="line">    exponents = powers.map&#123;<span class="params">|i|</span> (<span class="number">0</span>..i).to_a&#125; </span><br><span class="line">    divisors = exponents.shift.product(*exponents).map <span class="keyword">do</span> <span class="params">|powers|</span> </span><br><span class="line">      primes.zip(powers).map&#123;<span class="params">|prime, power|</span> prime ** power&#125;.inject(<span class="symbol">:*</span>) </span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line">    divisors.take divisors.length - <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">abundant?</span></span></span><br><span class="line">    <span class="keyword">self</span>.divisors.reduce(<span class="symbol">:+</span>) &gt; <span class="keyword">self</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">abundants = (<span class="number">1</span>..<span class="number">28213</span>).select &#123; <span class="params">|n|</span> n.abundant? &#125;</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">sums = []</span><br><span class="line">abundants.each <span class="keyword">do</span> <span class="params">|x|</span></span><br><span class="line">  abundants[i..abundants.length].each <span class="keyword">do</span> <span class="params">|y|</span></span><br><span class="line">    sum = x + y</span><br><span class="line">    sums &lt;&lt; sum <span class="keyword">unless</span> sum &gt; <span class="number">28213</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  i += <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">sums.uniq!</span><br><span class="line">puts (<span class="number">1</span>..<span class="number">28213</span>).reject &#123; <span class="params">|n|</span> sums.<span class="keyword">include</span>? n &#125;.reduce(<span class="symbol">:+</span>)</span><br></pre></td></tr></table></figure><h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">sort</span>, <span class="title">group</span>, <span class="title">union</span>)</span><br><span class="line"><span class="keyword">import</span> Data.Array</span><br><span class="line"></span><br><span class="line"><span class="title">pairwise</span> :: (a -&gt; a -&gt; a) -&gt; [a] -&gt; [a]</span><br><span class="line"><span class="title">pairwise</span> f (xs:ys:t) = f xs ys : pairwise f t</span><br><span class="line"><span class="title">pairwise</span> _ t = t</span><br><span class="line"></span><br><span class="line"><span class="title">primes</span> :: [<span class="type">Int</span>]</span><br><span class="line"><span class="title">primes</span> = <span class="number">2</span> : _Y ((<span class="number">3</span> :) . gaps <span class="number">5</span> . _U . map (\p-&gt; [p*p, p*p+<span class="number">2</span>*p..]))</span><br><span class="line">    <span class="keyword">where</span></span><br><span class="line">        _Y g = g (_Y g)                      <span class="comment">-- recursion, Y combinator</span></span><br><span class="line">        _U ((x:xs):t) = x : (union xs . _U . pairwise union) t   <span class="comment">-- ~= nub.sort.concat</span></span><br><span class="line">        gaps k s@(x:xs) </span><br><span class="line">            | k &lt; x     = k : gaps (k+<span class="number">2</span>) s    <span class="comment">-- ~= [k,k+2..]\\s, when</span></span><br><span class="line">            | otherwise =     gaps (k+<span class="number">2</span>) xs   <span class="comment">--  k &lt;= head s &amp;&amp; null(s\\[k,k+2..])</span></span><br><span class="line"></span><br><span class="line"><span class="title">factorize</span> :: <span class="type">Int</span> -&gt; [<span class="type">Int</span>]</span><br><span class="line"><span class="title">factorize</span> n = primeFactors n primes <span class="keyword">where</span></span><br><span class="line">    primeFactors <span class="number">1</span> _ = []</span><br><span class="line">    primeFactors _ [] = []</span><br><span class="line">    primeFactors m (p:ps) | m &lt; p * p = [m]</span><br><span class="line">                          | r == <span class="number">0</span> = p : primeFactors q (p:ps)</span><br><span class="line">                          | otherwise = primeFactors m ps</span><br><span class="line">                          <span class="keyword">where</span> (q, r) = quotRem m p</span><br><span class="line"></span><br><span class="line"><span class="title">primePowers</span> :: <span class="type">Int</span> -&gt; [(<span class="type">Int</span>, <span class="type">Int</span>)]</span><br><span class="line"><span class="title">primePowers</span> n = [(head x, length x) | x &lt;- group $ factorize n]</span><br><span class="line"></span><br><span class="line"><span class="title">divisors</span> :: <span class="type">Int</span> -&gt; [<span class="type">Int</span>]</span><br><span class="line"><span class="title">divisors</span> n = filter (&lt;n) $ map product $ sequence</span><br><span class="line">    [take (k+<span class="number">1</span>) $ iterate (p*) <span class="number">1</span> | (p, k) &lt;- primePowers n]</span><br><span class="line"></span><br><span class="line"><span class="title">upperBound</span> :: <span class="type">Int</span></span><br><span class="line"><span class="title">upperBound</span> = <span class="number">20161</span></span><br><span class="line"></span><br><span class="line"><span class="title">abundant</span> :: <span class="type">Int</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">abundant</span> n = (sum . divisors) n &gt; n</span><br><span class="line"></span><br><span class="line"><span class="title">abundantsArray</span> :: <span class="type">Array</span> <span class="type">Int</span> <span class="type">Bool</span></span><br><span class="line"><span class="title">abundantsArray</span> = listArray (<span class="number">1</span>, upperBound) $ map abundant [<span class="number">1.</span>.upperBound]</span><br><span class="line"></span><br><span class="line"><span class="title">abundants</span> :: [<span class="type">Int</span>]</span><br><span class="line"><span class="title">abundants</span> = filter (abundantsArray !) [<span class="number">1.</span>.upperBound]</span><br><span class="line"></span><br><span class="line"><span class="title">remainders</span> :: <span class="type">Int</span> -&gt; [<span class="type">Int</span>]</span><br><span class="line"><span class="title">remainders</span> x = map (x-) $ takeWhile (&lt;= x `quot` <span class="number">2</span>) abundants</span><br><span class="line"></span><br><span class="line"><span class="title">sums</span> :: [<span class="type">Int</span>]</span><br><span class="line"><span class="title">sums</span> = filter (any (abundantsArray !) . remainders) [<span class="number">1.</span>.upperBound]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ sum [<span class="number">1.</span>.upperBound] - sum sums</span><br></pre></td></tr></table></figure><h4 id="Clojure"><a href="#Clojure" class="headerlink" title="Clojure"></a>Clojure</h4><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> divisors [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n %) <span class="number">0</span>) (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> n)))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> perfect? [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name">divisors</span> n)) n))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> abundant? [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">&gt;</span></span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name">divisors</span> n)) n))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> deficient? [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">&lt;</span></span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name">divisors</span> n)) n))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">filter</span></span> abundant? (<span class="name"><span class="builtin-name">range</span></span> <span class="number">15000</span>)))</span><br></pre></td></tr></table></figure><h4 id="Mathematica"><a href="#Mathematica" class="headerlink" title="Mathematica"></a>Mathematica</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">lim = <span class="number">28123</span>;</span><br><span class="line"></span><br><span class="line">isAbundant = <span class="keyword">Table</span>[<span class="keyword">DivisorSigma</span>[<span class="number">1</span>, n] - n &gt; n, &#123;n, lim&#125;];</span><br><span class="line">abundants = <span class="keyword">Pick</span>[<span class="keyword">Range</span>[lim], isAbundant];</span><br><span class="line">NotSumOfTwoAbundantsQ[n_] := <span class="keyword">Block</span>[&#123;i&#125;,</span><br><span class="line">  <span class="keyword">For</span>[i = <span class="number">1</span>, i &lt; <span class="keyword">Length</span>[abundants] &amp;&amp; abundants[[i]] &lt; n, i++,</span><br><span class="line">    <span class="keyword">If</span>[isAbundant[[n - abundants[[i]]]],</span><br><span class="line">      <span class="keyword">Return</span>[<span class="keyword">False</span>]]];</span><br><span class="line">  <span class="keyword">True</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">Total</span>[<span class="keyword">Select</span>[<span class="keyword">Range</span>[lim], NotSumOfTwoAbundantsQ]]</span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p023</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p023().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> LIMIT = <span class="number">28123</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span>[] isAbundant = <span class="keyword">new</span> <span class="keyword">boolean</span>[LIMIT + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// Compute look-up table</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; isAbundant.length; i++)</span><br><span class="line">isAbundant[i] = isAbundant(i);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= LIMIT; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!isSumOf2Abundants(i))</span><br><span class="line">sum += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isSumOf2Abundants</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (isAbundant[i] &amp;&amp; isAbundant[n - i])</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isAbundant</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n &lt; <span class="number">1</span>)</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">1</span>;  <span class="comment">// Sum of factors less than n</span></span><br><span class="line"><span class="keyword">int</span> end = Library.sqrt(n);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= end; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line">sum += i + n / i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (end * end == n)</span><br><span class="line">sum -= end;</span><br><span class="line"><span class="keyword">return</span> sum &gt; n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 022</title>
      <link href="/2018/04/02/LeetCode-Notes-022/"/>
      <url>/2018/04/02/LeetCode-Notes-022/</url>
      <content type="html"><![CDATA[<h3 id="Decode-String"><a href="#Decode-String" class="headerlink" title="Decode String"></a>Decode String</h3><p>Given an encoded string, return it’s decoded string.</p><p>The encoding rule is: <code>k[encoded_string]</code>, where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer.</p><p>You may assume that the input string is always valid; No extra white spaces, square brackets are well-formed, etc.</p><p>Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there won’t be input like <code>3a</code> or <code>2[4]</code>.</p><a id="more"></a><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = &quot;3[a]2[bc]&quot;, return &quot;aaabcbc&quot;.</span><br><span class="line">s = &quot;3[a2[c]]&quot;, return &quot;accaccacc&quot;.</span><br><span class="line">s = &quot;2[abc]3[cd]ef&quot;, return &quot;abcabccdcdcdef&quot;.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> decodeString = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> nums = []; <span class="comment">// 保存数字</span></span><br><span class="line">  <span class="keyword">let</span> ss   = []; <span class="comment">// 保存需要 repeat 的字符串</span></span><br><span class="line">  <span class="keyword">let</span> str  = <span class="string">''</span>; <span class="comment">// 当前字符串</span></span><br><span class="line">  <span class="keyword">let</span> ans  = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = s.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> item = s[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/[0-9]/</span>.test(item)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i === <span class="number">0</span> || <span class="regexp">/[0-9]/</span>.test(s[i - <span class="number">1</span>])) &#123;</span><br><span class="line">        str += item;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// s =&gt; 2[2[b]]</span></span><br><span class="line">        <span class="keyword">if</span> (str || s[i - <span class="number">1</span>] === <span class="string">'['</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (nums.length)</span><br><span class="line">            ss.push(str);</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">            ans += str;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        str = item;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">'['</span>) &#123;</span><br><span class="line">      nums.push(+str);</span><br><span class="line">      str = <span class="string">''</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">']'</span>) &#123;</span><br><span class="line">      str &amp;&amp; ss.push(str);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> count = nums.pop();</span><br><span class="line">      <span class="keyword">let</span> a     = ss.pop();</span><br><span class="line">      <span class="keyword">let</span> tmp   = a.repeat(count);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (ss.length) &#123;  <span class="comment">// 当前有 ss[] 栈</span></span><br><span class="line">        <span class="keyword">let</span> last = ss.pop();</span><br><span class="line">        ss.push(last + tmp);</span><br><span class="line">      &#125; <span class="keyword">else</span></span><br><span class="line">        ans += tmp;</span><br><span class="line"></span><br><span class="line">      str = <span class="string">''</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      str += item;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans + str;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Decode-Ways"><a href="#Decode-Ways" class="headerlink" title="Decode Ways"></a>Decode Ways</h3><p>A message containing letters from <code>A-Z</code> is being encoded to numbers using the following mapping:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&apos;A&apos; -&gt; 1</span><br><span class="line">&apos;B&apos; -&gt; 2</span><br><span class="line">...</span><br><span class="line">&apos;Z&apos; -&gt; 26</span><br></pre></td></tr></table></figure><p>Given an encoded message containing digits, determine the total number of ways to decode it.</p><p>For example,<br>Given encoded message <code>&quot;12&quot;</code>, it could be decoded as <code>&quot;AB&quot;</code> (1 2) or <code>&quot;L&quot;</code> (12).</p><p>The number of ways decoding <code>&quot;12&quot;</code> is 2.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> numDecodings = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!s.length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (s[<span class="number">0</span>] === <span class="string">'0'</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = s.length</span><br><span class="line">    , dp = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    dp[i] = [];</span><br><span class="line">    <span class="keyword">if</span> (i === <span class="number">0</span>) &#123;</span><br><span class="line">      dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">      dp[i][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      dp[i][<span class="number">0</span>] = dp[i - <span class="number">1</span>][<span class="number">1</span>],</span><br><span class="line">      dp[i][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (s[i] !== <span class="string">'0'</span>)</span><br><span class="line">        dp[i][<span class="number">1</span>] += dp[i - <span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (s[i - <span class="number">1</span>] !== <span class="string">'0'</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> num = <span class="built_in">Number</span>(s[i - <span class="number">1</span>] + s[i]);</span><br><span class="line">        <span class="keyword">if</span> (num &gt;= <span class="number">1</span> &amp;&amp; num &lt;= <span class="number">26</span>)</span><br><span class="line">          dp[i][<span class="number">1</span>] += dp[i - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> dp[len - <span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Delete-Node-in-a-Linked-List"><a href="#Delete-Node-in-a-Linked-List" class="headerlink" title="Delete Node in a Linked List"></a>Delete Node in a Linked List</h3><p>Write a function to delete a node (except the tail) in a singly linked list, given only access to that node.</p><p>Supposed the linked list is <code>1 -&gt; 2 -&gt; 3 -&gt; 4</code> and you are given the third node with value <code>3</code>, the linked list should become <code>1 -&gt; 2 -&gt; 4</code> after calling your function.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.next = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; node</span></span><br><span class="line"><span class="comment"> * @return &#123;void&#125; Do not return anything, modify node in-place instead.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> deleteNode = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">  node.val = node.next.val;</span><br><span class="line">  <span class="keyword">var</span> tmp = node.next;</span><br><span class="line">  node.next = node.next.next;</span><br><span class="line">  tmp = <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Detect-Capital"><a href="#Detect-Capital" class="headerlink" title="Detect Capital"></a>Detect Capital</h3><p>Given a word, you need to judge whether the usage of capitals in it is right or not.</p><p>We define the usage of capitals in a word to be right when one of the following cases holds:</p><ol><li>All letters in this word are capitals, like “USA”.</li><li>All letters in this word are not capitals, like “leetcode”.</li><li>Only the first letter in this word is capital if it has more than one letter, like “Google”.</li></ol><p>Otherwise, we define that this word doesn’t use capitals in a right way.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;USA&quot;</span><br><span class="line">Output: True</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;FlaG&quot;</span><br><span class="line">Output: False</span><br></pre></td></tr></table></figure></p><p>Note: The input will be a non-empty word consisting of uppercase and lowercase latin letters.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; word</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> detectCapitalUse = <span class="function"><span class="keyword">function</span>(<span class="params">word</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> p = <span class="regexp">/^([a-z]+|[A-Z]+|[A-Z]&#123;1&#125;[a-z]+)$/</span>;</span><br><span class="line">  <span class="keyword">return</span> p.test(word);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-022</title>
      <link href="/2018/04/02/Project-Euler-022/"/>
      <url>/2018/04/02/Project-Euler-022/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Using <a href="http://p6xgwpfbb.bkt.clouddn.com/euler/names.txt" target="_blank" rel="noopener">names.txt</a>, a 46K text file containing over five-thousand first names, begin by sorting it into alphabetical order. Then working out the alphabetical value for each name, multiply this value by its alphabetical position in the list to obtain a name score.</p><p>For example, when the list is sorted into alphabetical order, COLIN, which is worth 3 + 15 + 12 + 9 + 14 = 53, is the 938th name in the list. So, COLIN would obtain a score of 938 * 53 = 49714.</p><p>What is the total of all the name scores in the file?</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">871198282</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> string <span class="keyword">import</span> ascii_uppercase</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calculate_score</span><span class="params">(name, index)</span>:</span></span><br><span class="line">    alpha_score = sum(ascii_uppercase.index(letter)+<span class="number">1</span> <span class="keyword">for</span> letter <span class="keyword">in</span> name)</span><br><span class="line">    <span class="keyword">return</span> index * alpha_score</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    names_file = open(os.path.join(os.path.dirname(__file__), <span class="string">'names.txt'</span>))</span><br><span class="line">    names_string = names_file.read()</span><br><span class="line">    names = [name.strip(<span class="string">'"'</span>) <span class="keyword">for</span> name <span class="keyword">in</span> names_string.split(<span class="string">','</span>)] </span><br><span class="line">    names.sort()</span><br><span class="line">    print(sum(calculate_score(name, index+<span class="number">1</span>) <span class="keyword">for</span> index, name <span class="keyword">in</span> enumerate(names)))</span><br><span class="line">    names_file.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line">names = File.open(File.dirname(__FILE_<span class="number">_</span>) + <span class="string">'/names.txt'</span>).read.scan(<span class="regexp">/\w+/</span>).sort</span><br><span class="line">puts names.map &#123; <span class="params">|name|</span> </span><br><span class="line">  word_score = name.each_byte.map &#123; <span class="params">|c|</span> c - <span class="number">64</span> &#125;.reduce(<span class="symbol">:+</span>)</span><br><span class="line">  (names.index(name) + <span class="number">1</span>) * word_score</span><br><span class="line">&#125;.reduce(<span class="symbol">:+</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">sort</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">parse</span> :: <span class="type">String</span> -&gt; [<span class="type">String</span>]</span><br><span class="line"><span class="title">parse</span> = words . map replaceComma . filter notQuote <span class="keyword">where</span></span><br><span class="line">    replaceComma ',' = ' '</span><br><span class="line">    replaceComma c = c</span><br><span class="line">    notQuote = (/= '<span class="string">"')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">alphaIndex :: Char -&gt; Int</span></span><br><span class="line"><span class="string">alphaIndex c = fromEnum c - 64</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">alphaScore :: String -&gt; Int</span></span><br><span class="line"><span class="string">alphaScore = sum . map alphaIndex</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">totalScore :: [String] -&gt; Int</span></span><br><span class="line"><span class="string">totalScore names = sum $ zipWith (*) (map alphaScore $ sort names) [1..]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">main :: IO ()</span></span><br><span class="line"><span class="string">main = do</span></span><br><span class="line"><span class="string">        str &lt;- readFile "</span>/home/zach/code/euler/<span class="number">022</span>/names.txt<span class="string">"</span></span><br><span class="line"><span class="string">        print $ totalScore $ parse str</span></span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * We apply straightforward algorithms to sort the names, sum the letter values, and multiply by the position.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"></span><br><span class="line">peoplenames = &#123;  (* 10 strings per line, except final line *)</span><br><span class="line">"MARY", "PATRICIA", "LINDA", "BARBARA", "ELIZABETH", "JENNIFER", "MARIA", "SUSAN", "MARGARET", "DOROTHY",</span><br><span class="line">"LISA", "NANCY", "KAREN", "BETTY", "HELEN", "SANDRA", "DONNA", "CAROL", "RUTH", "SHARON",</span><br><span class="line">"MICHELLE", "LAURA", "SARAH", "KIMBERLY", "DEBORAH", "JESSICA", "SHIRLEY", "CYNTHIA", "ANGELA", "MELISSA",</span><br><span class="line">"BRENDA", "AMY", "ANNA", "REBECCA", "VIRGINIA", "KATHLEEN", "PAMELA", "MARTHA", "DEBRA", "AMANDA",</span><br><span class="line">"STEPHANIE", "CAROLYN", "CHRISTINE", "MARIE", "JANET", "CATHERINE", "FRANCES", "ANN", "JOYCE", "DIANE",</span><br><span class="line">"ALICE", "JULIE", "HEATHER", "TERESA", "DORIS", "GLORIA", "EVELYN", "JEAN", "CHERYL", "MILDRED",</span><br><span class="line">"KATHERINE", "JOAN", "ASHLEY", "JUDITH", "ROSE", "JANICE", "KELLY", "NICOLE", "JUDY", "CHRISTINA",</span><br><span class="line">"KATHY", "THERESA", "BEVERLY", "DENISE", "TAMMY", "IRENE", "JANE", "LORI", "RACHEL", "MARILYN",</span><br><span class="line">"ANDREA", "KATHRYN", "LOUISE", "SARA", "ANNE", "JACQUELINE", "WANDA", "BONNIE", "JULIA", "RUBY",</span><br><span class="line">"LOIS", "TINA", "PHYLLIS", "NORMA", "PAULA", "DIANA", "ANNIE", "LILLIAN", "EMILY", "ROBIN",</span><br><span class="line">"PEGGY", "CRYSTAL", "GLADYS", "RITA", "DAWN", "CONNIE", "FLORENCE", "TRACY", "EDNA", "TIFFANY",</span><br><span class="line">"CARMEN", "ROSA", "CINDY", "GRACE", "WENDY", "VICTORIA", "EDITH", "KIM", "SHERRY", "SYLVIA",</span><br><span class="line">"JOSEPHINE", "THELMA", "SHANNON", "SHEILA", "ETHEL", "ELLEN", "ELAINE", "MARJORIE", "CARRIE", "CHARLOTTE",</span><br><span class="line">"MONICA", "ESTHER", "PAULINE", "EMMA", "JUANITA", "ANITA", "RHONDA", "HAZEL", "AMBER", "EVA",</span><br><span class="line">"DEBBIE", "APRIL", "LESLIE", "CLARA", "LUCILLE", "JAMIE", "JOANNE", "ELEANOR", "VALERIE", "DANIELLE",</span><br><span class="line">"MEGAN", "ALICIA", "SUZANNE", "MICHELE", "GAIL", "BERTHA", "DARLENE", "VERONICA", "JILL", "ERIN",</span><br><span class="line">"GERALDINE", "LAUREN", "CATHY", "JOANN", "LORRAINE", "LYNN", "SALLY", "REGINA", "ERICA", "BEATRICE",</span><br><span class="line">"DOLORES", "BERNICE", "AUDREY", "YVONNE", "ANNETTE", "JUNE", "SAMANTHA", "MARION", "DANA", "STACY",</span><br><span class="line">"ANA", "RENEE", "IDA", "VIVIAN", "ROBERTA", "HOLLY", "BRITTANY", "MELANIE", "LORETTA", "YOLANDA",</span><br><span class="line">"JEANETTE", "LAURIE", "KATIE", "KRISTEN", "VANESSA", "ALMA", "SUE", "ELSIE", "BETH", "JEANNE",</span><br><span class="line">"VICKI", "CARLA", "TARA", "ROSEMARY", "EILEEN", "TERRI", "GERTRUDE", "LUCY", "TONYA", "ELLA",</span><br><span class="line">"STACEY", "WILMA", "GINA", "KRISTIN", "JESSIE", "NATALIE", "AGNES", "VERA", "WILLIE", "CHARLENE",</span><br><span class="line">"BESSIE", "DELORES", "MELINDA", "PEARL", "ARLENE", "MAUREEN", "COLLEEN", "ALLISON", "TAMARA", "JOY",</span><br><span class="line">"GEORGIA", "CONSTANCE", "LILLIE", "CLAUDIA", "JACKIE", "MARCIA", "TANYA", "NELLIE", "MINNIE", "MARLENE",</span><br><span class="line">"HEIDI", "GLENDA", "LYDIA", "VIOLA", "COURTNEY", "MARIAN", "STELLA", "CAROLINE", "DORA", "JO",</span><br><span class="line">"VICKIE", "MATTIE", "TERRY", "MAXINE", "IRMA", "MABEL", "MARSHA", "MYRTLE", "LENA", "CHRISTY",</span><br><span class="line">"DEANNA", "PATSY", "HILDA", "GWENDOLYN", "JENNIE", "NORA", "MARGIE", "NINA", "CASSANDRA", "LEAH",</span><br><span class="line">"PENNY", "KAY", "PRISCILLA", "NAOMI", "CAROLE", "BRANDY", "OLGA", "BILLIE", "DIANNE", "TRACEY",</span><br><span class="line">"LEONA", "JENNY", "FELICIA", "SONIA", "MIRIAM", "VELMA", "BECKY", "BOBBIE", "VIOLET", "KRISTINA",</span><br><span class="line">"TONI", "MISTY", "MAE", "SHELLY", "DAISY", "RAMONA", "SHERRI", "ERIKA", "KATRINA", "CLAIRE",</span><br><span class="line">"LINDSEY", "LINDSAY", "GENEVA", "GUADALUPE", "BELINDA", "MARGARITA", "SHERYL", "CORA", "FAYE", "ADA",</span><br><span class="line">"NATASHA", "SABRINA", "ISABEL", "MARGUERITE", "HATTIE", "HARRIET", "MOLLY", "CECILIA", "KRISTI", "BRANDI",</span><br><span class="line">"BLANCHE", "SANDY", "ROSIE", "JOANNA", "IRIS", "EUNICE", "ANGIE", "INEZ", "LYNDA", "MADELINE",</span><br><span class="line">"AMELIA", "ALBERTA", "GENEVIEVE", "MONIQUE", "JODI", "JANIE", "MAGGIE", "KAYLA", "SONYA", "JAN",</span><br><span class="line">"LEE", "KRISTINE", "CANDACE", "FANNIE", "MARYANN", "OPAL", "ALISON", "YVETTE", "MELODY", "LUZ",</span><br><span class="line">"SUSIE", "OLIVIA", "FLORA", "SHELLEY", "KRISTY", "MAMIE", "LULA", "LOLA", "VERNA", "BEULAH",</span><br><span class="line">"ANTOINETTE", "CANDICE", "JUANA", "JEANNETTE", "PAM", "KELLI", "HANNAH", "WHITNEY", "BRIDGET", "KARLA",</span><br><span class="line">"CELIA", "LATOYA", "PATTY", "SHELIA", "GAYLE", "DELLA", "VICKY", "LYNNE", "SHERI", "MARIANNE",</span><br><span class="line">"KARA", "JACQUELYN", "ERMA", "BLANCA", "MYRA", "LETICIA", "PAT", "KRISTA", "ROXANNE", "ANGELICA",</span><br><span class="line">"JOHNNIE", "ROBYN", "FRANCIS", "ADRIENNE", "ROSALIE", "ALEXANDRA", "BROOKE", "BETHANY", "SADIE", "BERNADETTE",</span><br><span class="line">"TRACI", "JODY", "KENDRA", "JASMINE", "NICHOLE", "RACHAEL", "CHELSEA", "MABLE", "ERNESTINE", "MURIEL",</span><br><span class="line">"MARCELLA", "ELENA", "KRYSTAL", "ANGELINA", "NADINE", "KARI", "ESTELLE", "DIANNA", "PAULETTE", "LORA",</span><br><span class="line">"MONA", "DOREEN", "ROSEMARIE", "ANGEL", "DESIREE", "ANTONIA", "HOPE", "GINGER", "JANIS", "BETSY",</span><br><span class="line">"CHRISTIE", "FREDA", "MERCEDES", "MEREDITH", "LYNETTE", "TERI", "CRISTINA", "EULA", "LEIGH", "MEGHAN",</span><br><span class="line">"SOPHIA", "ELOISE", "ROCHELLE", "GRETCHEN", "CECELIA", "RAQUEL", "HENRIETTA", "ALYSSA", "JANA", "KELLEY",</span><br><span class="line">"GWEN", "KERRY", "JENNA", "TRICIA", "LAVERNE", "OLIVE", "ALEXIS", "TASHA", "SILVIA", "ELVIRA",</span><br><span class="line">"CASEY", "DELIA", "SOPHIE", "KATE", "PATTI", "LORENA", "KELLIE", "SONJA", "LILA", "LANA",</span><br><span class="line">"DARLA", "MAY", "MINDY", "ESSIE", "MANDY", "LORENE", "ELSA", "JOSEFINA", "JEANNIE", "MIRANDA",</span><br><span class="line">"DIXIE", "LUCIA", "MARTA", "FAITH", "LELA", "JOHANNA", "SHARI", "CAMILLE", "TAMI", "SHAWNA",</span><br><span class="line">"ELISA", "EBONY", "MELBA", "ORA", "NETTIE", "TABITHA", "OLLIE", "JAIME", "WINIFRED", "KRISTIE",</span><br><span class="line">"MARINA", "ALISHA", "AIMEE", "RENA", "MYRNA", "MARLA", "TAMMIE", "LATASHA", "BONITA", "PATRICE",</span><br><span class="line">"RONDA", "SHERRIE", "ADDIE", "FRANCINE", "DELORIS", "STACIE", "ADRIANA", "CHERI", "SHELBY", "ABIGAIL",</span><br><span class="line">"CELESTE", "JEWEL", "CARA", "ADELE", "REBEKAH", "LUCINDA", "DORTHY", "CHRIS", "EFFIE", "TRINA",</span><br><span class="line">"REBA", "SHAWN", "SALLIE", "AURORA", "LENORA", "ETTA", "LOTTIE", "KERRI", "TRISHA", "NIKKI",</span><br><span class="line">"ESTELLA", "FRANCISCA", "JOSIE", "TRACIE", "MARISSA", "KARIN", "BRITTNEY", "JANELLE", "LOURDES", "LAUREL",</span><br><span class="line">"HELENE", "FERN", "ELVA", "CORINNE", "KELSEY", "INA", "BETTIE", "ELISABETH", "AIDA", "CAITLIN",</span><br><span class="line">"INGRID", "IVA", "EUGENIA", "CHRISTA", "GOLDIE", "CASSIE", "MAUDE", "JENIFER", "THERESE", "FRANKIE",</span><br><span class="line">"DENA", "LORNA", "JANETTE", "LATONYA", "CANDY", "MORGAN", "CONSUELO", "TAMIKA", "ROSETTA", "DEBORA",</span><br><span class="line">"CHERIE", "POLLY", "DINA", "JEWELL", "FAY", "JILLIAN", "DOROTHEA", "NELL", "TRUDY", "ESPERANZA",</span><br><span class="line">"PATRICA", "KIMBERLEY", "SHANNA", "HELENA", "CAROLINA", "CLEO", "STEFANIE", "ROSARIO", "OLA", "JANINE",</span><br><span class="line">"MOLLIE", "LUPE", "ALISA", "LOU", "MARIBEL", "SUSANNE", "BETTE", "SUSANA", "ELISE", "CECILE",</span><br><span class="line">"ISABELLE", "LESLEY", "JOCELYN", "PAIGE", "JONI", "RACHELLE", "LEOLA", "DAPHNE", "ALTA", "ESTER",</span><br><span class="line">"PETRA", "GRACIELA", "IMOGENE", "JOLENE", "KEISHA", "LACEY", "GLENNA", "GABRIELA", "KERI", "URSULA",</span><br><span class="line">"LIZZIE", "KIRSTEN", "SHANA", "ADELINE", "MAYRA", "JAYNE", "JACLYN", "GRACIE", "SONDRA", "CARMELA",</span><br><span class="line">"MARISA", "ROSALIND", "CHARITY", "TONIA", "BEATRIZ", "MARISOL", "CLARICE", "JEANINE", "SHEENA", "ANGELINE",</span><br><span class="line">"FRIEDA", "LILY", "ROBBIE", "SHAUNA", "MILLIE", "CLAUDETTE", "CATHLEEN", "ANGELIA", "GABRIELLE", "AUTUMN",</span><br><span class="line">"KATHARINE", "SUMMER", "JODIE", "STACI", "LEA", "CHRISTI", "JIMMIE", "JUSTINE", "ELMA", "LUELLA",</span><br><span class="line">"MARGRET", "DOMINIQUE", "SOCORRO", "RENE", "MARTINA", "MARGO", "MAVIS", "CALLIE", "BOBBI", "MARITZA",</span><br><span class="line">"LUCILE", "LEANNE", "JEANNINE", "DEANA", "AILEEN", "LORIE", "LADONNA", "WILLA", "MANUELA", "GALE",</span><br><span class="line">"SELMA", "DOLLY", "SYBIL", "ABBY", "LARA", "DALE", "IVY", "DEE", "WINNIE", "MARCY",</span><br><span class="line">"LUISA", "JERI", "MAGDALENA", "OFELIA", "MEAGAN", "AUDRA", "MATILDA", "LEILA", "CORNELIA", "BIANCA",</span><br><span class="line">"SIMONE", "BETTYE", "RANDI", "VIRGIE", "LATISHA", "BARBRA", "GEORGINA", "ELIZA", "LEANN", "BRIDGETTE",</span><br><span class="line">"RHODA", "HALEY", "ADELA", "NOLA", "BERNADINE", "FLOSSIE", "ILA", "GRETA", "RUTHIE", "NELDA",</span><br><span class="line">"MINERVA", "LILLY", "TERRIE", "LETHA", "HILARY", "ESTELA", "VALARIE", "BRIANNA", "ROSALYN", "EARLINE",</span><br><span class="line">"CATALINA", "AVA", "MIA", "CLARISSA", "LIDIA", "CORRINE", "ALEXANDRIA", "CONCEPCION", "TIA", "SHARRON",</span><br><span class="line">"RAE", "DONA", "ERICKA", "JAMI", "ELNORA", "CHANDRA", "LENORE", "NEVA", "MARYLOU", "MELISA",</span><br><span class="line">"TABATHA", "SERENA", "AVIS", "ALLIE", "SOFIA", "JEANIE", "ODESSA", "NANNIE", "HARRIETT", "LORAINE",</span><br><span class="line">"PENELOPE", "MILAGROS", "EMILIA", "BENITA", "ALLYSON", "ASHLEE", "TANIA", "TOMMIE", "ESMERALDA", "KARINA",</span><br><span class="line">"EVE", "PEARLIE", "ZELMA", "MALINDA", "NOREEN", "TAMEKA", "SAUNDRA", "HILLARY", "AMIE", "ALTHEA",</span><br><span class="line">"ROSALINDA", "JORDAN", "LILIA", "ALANA", "GAY", "CLARE", "ALEJANDRA", "ELINOR", "MICHAEL", "LORRIE",</span><br><span class="line">"JERRI", "DARCY", "EARNESTINE", "CARMELLA", "TAYLOR", "NOEMI", "MARCIE", "LIZA", "ANNABELLE", "LOUISA",</span><br><span class="line">"EARLENE", "MALLORY", "CARLENE", "NITA", "SELENA", "TANISHA", "KATY", "JULIANNE", "JOHN", "LAKISHA",</span><br><span class="line">"EDWINA", "MARICELA", "MARGERY", "KENYA", "DOLLIE", "ROXIE", "ROSLYN", "KATHRINE", "NANETTE", "CHARMAINE",</span><br><span class="line">"LAVONNE", "ILENE", "KRIS", "TAMMI", "SUZETTE", "CORINE", "KAYE", "JERRY", "MERLE", "CHRYSTAL",</span><br><span class="line">"LINA", "DEANNE", "LILIAN", "JULIANA", "ALINE", "LUANN", "KASEY", "MARYANNE", "EVANGELINE", "COLETTE",</span><br><span class="line">"MELVA", "LAWANDA", "YESENIA", "NADIA", "MADGE", "KATHIE", "EDDIE", "OPHELIA", "VALERIA", "NONA",</span><br><span class="line">"MITZI", "MARI", "GEORGETTE", "CLAUDINE", "FRAN", "ALISSA", "ROSEANN", "LAKEISHA", "SUSANNA", "REVA",</span><br><span class="line">"DEIDRE", "CHASITY", "SHEREE", "CARLY", "JAMES", "ELVIA", "ALYCE", "DEIRDRE", "GENA", "BRIANA",</span><br><span class="line">"ARACELI", "KATELYN", "ROSANNE", "WENDI", "TESSA", "BERTA", "MARVA", "IMELDA", "MARIETTA", "MARCI",</span><br><span class="line">"LEONOR", "ARLINE", "SASHA", "MADELYN", "JANNA", "JULIETTE", "DEENA", "AURELIA", "JOSEFA", "AUGUSTA",</span><br><span class="line">"LILIANA", "YOUNG", "CHRISTIAN", "LESSIE", "AMALIA", "SAVANNAH", "ANASTASIA", "VILMA", "NATALIA", "ROSELLA",</span><br><span class="line">"LYNNETTE", "CORINA", "ALFREDA", "LEANNA", "CAREY", "AMPARO", "COLEEN", "TAMRA", "AISHA", "WILDA",</span><br><span class="line">"KARYN", "CHERRY", "QUEEN", "MAURA", "MAI", "EVANGELINA", "ROSANNA", "HALLIE", "ERNA", "ENID",</span><br><span class="line">"MARIANA", "LACY", "JULIET", "JACKLYN", "FREIDA", "MADELEINE", "MARA", "HESTER", "CATHRYN", "LELIA",</span><br><span class="line">"CASANDRA", "BRIDGETT", "ANGELITA", "JANNIE", "DIONNE", "ANNMARIE", "KATINA", "BERYL", "PHOEBE", "MILLICENT",</span><br><span class="line">"KATHERYN", "DIANN", "CARISSA", "MARYELLEN", "LIZ", "LAURI", "HELGA", "GILDA", "ADRIAN", "RHEA",</span><br><span class="line">"MARQUITA", "HOLLIE", "TISHA", "TAMERA", "ANGELIQUE", "FRANCESCA", "BRITNEY", "KAITLIN", "LOLITA", "FLORINE",</span><br><span class="line">"ROWENA", "REYNA", "TWILA", "FANNY", "JANELL", "INES", "CONCETTA", "BERTIE", "ALBA", "BRIGITTE",</span><br><span class="line">"ALYSON", "VONDA", "PANSY", "ELBA", "NOELLE", "LETITIA", "KITTY", "DEANN", "BRANDIE", "LOUELLA",</span><br><span class="line">"LETA", "FELECIA", "SHARLENE", "LESA", "BEVERLEY", "ROBERT", "ISABELLA", "HERMINIA", "TERRA", "CELINA",</span><br><span class="line">"TORI", "OCTAVIA", "JADE", "DENICE", "GERMAINE", "SIERRA", "MICHELL", "CORTNEY", "NELLY", "DORETHA",</span><br><span class="line">"SYDNEY", "DEIDRA", "MONIKA", "LASHONDA", "JUDI", "CHELSEY", "ANTIONETTE", "MARGOT", "BOBBY", "ADELAIDE",</span><br><span class="line">"NAN", "LEEANN", "ELISHA", "DESSIE", "LIBBY", "KATHI", "GAYLA", "LATANYA", "MINA", "MELLISA",</span><br><span class="line">"KIMBERLEE", "JASMIN", "RENAE", "ZELDA", "ELDA", "MA", "JUSTINA", "GUSSIE", "EMILIE", "CAMILLA",</span><br><span class="line">"ABBIE", "ROCIO", "KAITLYN", "JESSE", "EDYTHE", "ASHLEIGH", "SELINA", "LAKESHA", "GERI", "ALLENE",</span><br><span class="line">"PAMALA", "MICHAELA", "DAYNA", "CARYN", "ROSALIA", "SUN", "JACQULINE", "REBECA", "MARYBETH", "KRYSTLE",</span><br><span class="line">"IOLA", "DOTTIE", "BENNIE", "BELLE", "AUBREY", "GRISELDA", "ERNESTINA", "ELIDA", "ADRIANNE", "DEMETRIA",</span><br><span class="line">"DELMA", "CHONG", "JAQUELINE", "DESTINY", "ARLEEN", "VIRGINA", "RETHA", "FATIMA", "TILLIE", "ELEANORE",</span><br><span class="line">"CARI", "TREVA", "BIRDIE", "WILHELMINA", "ROSALEE", "MAURINE", "LATRICE", "YONG", "JENA", "TARYN",</span><br><span class="line">"ELIA", "DEBBY", "MAUDIE", "JEANNA", "DELILAH", "CATRINA", "SHONDA", "HORTENCIA", "THEODORA", "TERESITA",</span><br><span class="line">"ROBBIN", "DANETTE", "MARYJANE", "FREDDIE", "DELPHINE", "BRIANNE", "NILDA", "DANNA", "CINDI", "BESS",</span><br><span class="line">"IONA", "HANNA", "ARIEL", "WINONA", "VIDA", "ROSITA", "MARIANNA", "WILLIAM", "RACHEAL", "GUILLERMINA",</span><br><span class="line">"ELOISA", "CELESTINE", "CAREN", "MALISSA", "LONA", "CHANTEL", "SHELLIE", "MARISELA", "LEORA", "AGATHA",</span><br><span class="line">"SOLEDAD", "MIGDALIA", "IVETTE", "CHRISTEN", "ATHENA", "JANEL", "CHLOE", "VEDA", "PATTIE", "TESSIE",</span><br><span class="line">"TERA", "MARILYNN", "LUCRETIA", "KARRIE", "DINAH", "DANIELA", "ALECIA", "ADELINA", "VERNICE", "SHIELA",</span><br><span class="line">"PORTIA", "MERRY", "LASHAWN", "DEVON", "DARA", "TAWANA", "OMA", "VERDA", "CHRISTIN", "ALENE",</span><br><span class="line">"ZELLA", "SANDI", "RAFAELA", "MAYA", "KIRA", "CANDIDA", "ALVINA", "SUZAN", "SHAYLA", "LYN",</span><br><span class="line">"LETTIE", "ALVA", "SAMATHA", "ORALIA", "MATILDE", "MADONNA", "LARISSA", "VESTA", "RENITA", "INDIA",</span><br><span class="line">"DELOIS", "SHANDA", "PHILLIS", "LORRI", "ERLINDA", "CRUZ", "CATHRINE", "BARB", "ZOE", "ISABELL",</span><br><span class="line">"IONE", "GISELA", "CHARLIE", "VALENCIA", "ROXANNA", "MAYME", "KISHA", "ELLIE", "MELLISSA", "DORRIS",</span><br><span class="line">"DALIA", "BELLA", "ANNETTA", "ZOILA", "RETA", "REINA", "LAURETTA", "KYLIE", "CHRISTAL", "PILAR",</span><br><span class="line">"CHARLA", "ELISSA", "TIFFANI", "TANA", "PAULINA", "LEOTA", "BREANNA", "JAYME", "CARMEL", "VERNELL",</span><br><span class="line">"TOMASA", "MANDI", "DOMINGA", "SANTA", "MELODIE", "LURA", "ALEXA", "TAMELA", "RYAN", "MIRNA",</span><br><span class="line">"KERRIE", "VENUS", "NOEL", "FELICITA", "CRISTY", "CARMELITA", "BERNIECE", "ANNEMARIE", "TIARA", "ROSEANNE",</span><br><span class="line">"MISSY", "CORI", "ROXANA", "PRICILLA", "KRISTAL", "JUNG", "ELYSE", "HAYDEE", "ALETHA", "BETTINA",</span><br><span class="line">"MARGE", "GILLIAN", "FILOMENA", "CHARLES", "ZENAIDA", "HARRIETTE", "CARIDAD", "VADA", "UNA", "ARETHA",</span><br><span class="line">"PEARLINE", "MARJORY", "MARCELA", "FLOR", "EVETTE", "ELOUISE", "ALINA", "TRINIDAD", "DAVID", "DAMARIS",</span><br><span class="line">"CATHARINE", "CARROLL", "BELVA", "NAKIA", "MARLENA", "LUANNE", "LORINE", "KARON", "DORENE", "DANITA",</span><br><span class="line">"BRENNA", "TATIANA", "SAMMIE", "LOUANN", "LOREN", "JULIANNA", "ANDRIA", "PHILOMENA", "LUCILA", "LEONORA",</span><br><span class="line">"DOVIE", "ROMONA", "MIMI", "JACQUELIN", "GAYE", "TONJA", "MISTI", "JOE", "GENE", "CHASTITY",</span><br><span class="line">"STACIA", "ROXANN", "MICAELA", "NIKITA", "MEI", "VELDA", "MARLYS", "JOHNNA", "AURA", "LAVERN",</span><br><span class="line">"IVONNE", "HAYLEY", "NICKI", "MAJORIE", "HERLINDA", "GEORGE", "ALPHA", "YADIRA", "PERLA", "GREGORIA",</span><br><span class="line">"DANIEL", "ANTONETTE", "SHELLI", "MOZELLE", "MARIAH", "JOELLE", "CORDELIA", "JOSETTE", "CHIQUITA", "TRISTA",</span><br><span class="line">"LOUIS", "LAQUITA", "GEORGIANA", "CANDI", "SHANON", "LONNIE", "HILDEGARD", "CECIL", "VALENTINA", "STEPHANY",</span><br><span class="line">"MAGDA", "KAROL", "GERRY", "GABRIELLA", "TIANA", "ROMA", "RICHELLE", "RAY", "PRINCESS", "OLETA",</span><br><span class="line">"JACQUE", "IDELLA", "ALAINA", "SUZANNA", "JOVITA", "BLAIR", "TOSHA", "RAVEN", "NEREIDA", "MARLYN",</span><br><span class="line">"KYLA", "JOSEPH", "DELFINA", "TENA", "STEPHENIE", "SABINA", "NATHALIE", "MARCELLE", "GERTIE", "DARLEEN",</span><br><span class="line">"THEA", "SHARONDA", "SHANTEL", "BELEN", "VENESSA", "ROSALINA", "ONA", "GENOVEVA", "COREY", "CLEMENTINE",</span><br><span class="line">"ROSALBA", "RENATE", "RENATA", "MI", "IVORY", "GEORGIANNA", "FLOY", "DORCAS", "ARIANA", "TYRA",</span><br><span class="line">"THEDA", "MARIAM", "JULI", "JESICA", "DONNIE", "VIKKI", "VERLA", "ROSELYN", "MELVINA", "JANNETTE",</span><br><span class="line">"GINNY", "DEBRAH", "CORRIE", "ASIA", "VIOLETA", "MYRTIS", "LATRICIA", "COLLETTE", "CHARLEEN", "ANISSA",</span><br><span class="line">"VIVIANA", "TWYLA", "PRECIOUS", "NEDRA", "LATONIA", "LAN", "HELLEN", "FABIOLA", "ANNAMARIE", "ADELL",</span><br><span class="line">"SHARYN", "CHANTAL", "NIKI", "MAUD", "LIZETTE", "LINDY", "KIA", "KESHA", "JEANA", "DANELLE",</span><br><span class="line">"CHARLINE", "CHANEL", "CARROL", "VALORIE", "LIA", "DORTHA", "CRISTAL", "SUNNY", "LEONE", "LEILANI",</span><br><span class="line">"GERRI", "DEBI", "ANDRA", "KESHIA", "IMA", "EULALIA", "EASTER", "DULCE", "NATIVIDAD", "LINNIE",</span><br><span class="line">"KAMI", "GEORGIE", "CATINA", "BROOK", "ALDA", "WINNIFRED", "SHARLA", "RUTHANN", "MEAGHAN", "MAGDALENE",</span><br><span class="line">"LISSETTE", "ADELAIDA", "VENITA", "TRENA", "SHIRLENE", "SHAMEKA", "ELIZEBETH", "DIAN", "SHANTA", "MICKEY",</span><br><span class="line">"LATOSHA", "CARLOTTA", "WINDY", "SOON", "ROSINA", "MARIANN", "LEISA", "JONNIE", "DAWNA", "CATHIE",</span><br><span class="line">"BILLY", "ASTRID", "SIDNEY", "LAUREEN", "JANEEN", "HOLLI", "FAWN", "VICKEY", "TERESSA", "SHANTE",</span><br><span class="line">"RUBYE", "MARCELINA", "CHANDA", "CARY", "TERESE", "SCARLETT", "MARTY", "MARNIE", "LULU", "LISETTE",</span><br><span class="line">"JENIFFER", "ELENOR", "DORINDA", "DONITA", "CARMAN", "BERNITA", "ALTAGRACIA", "ALETA", "ADRIANNA", "ZORAIDA",</span><br><span class="line">"RONNIE", "NICOLA", "LYNDSEY", "KENDALL", "JANINA", "CHRISSY", "AMI", "STARLA", "PHYLIS", "PHUONG",</span><br><span class="line">"KYRA", "CHARISSE", "BLANCH", "SANJUANITA", "RONA", "NANCI", "MARILEE", "MARANDA", "CORY", "BRIGETTE",</span><br><span class="line">"SANJUANA", "MARITA", "KASSANDRA", "JOYCELYN", "IRA", "FELIPA", "CHELSIE", "BONNY", "MIREYA", "LORENZA",</span><br><span class="line">"KYONG", "ILEANA", "CANDELARIA", "TONY", "TOBY", "SHERIE", "OK", "MARK", "LUCIE", "LEATRICE",</span><br><span class="line">"LAKESHIA", "GERDA", "EDIE", "BAMBI", "MARYLIN", "LAVON", "HORTENSE", "GARNET", "EVIE", "TRESSA",</span><br><span class="line">"SHAYNA", "LAVINA", "KYUNG", "JEANETTA", "SHERRILL", "SHARA", "PHYLISS", "MITTIE", "ANABEL", "ALESIA",</span><br><span class="line">"THUY", "TAWANDA", "RICHARD", "JOANIE", "TIFFANIE", "LASHANDA", "KARISSA", "ENRIQUETA", "DARIA", "DANIELLA",</span><br><span class="line">"CORINNA", "ALANNA", "ABBEY", "ROXANE", "ROSEANNA", "MAGNOLIA", "LIDA", "KYLE", "JOELLEN", "ERA",</span><br><span class="line">"CORAL", "CARLEEN", "TRESA", "PEGGIE", "NOVELLA", "NILA", "MAYBELLE", "JENELLE", "CARINA", "NOVA",</span><br><span class="line">"MELINA", "MARQUERITE", "MARGARETTE", "JOSEPHINA", "EVONNE", "DEVIN", "CINTHIA", "ALBINA", "TOYA", "TAWNYA",</span><br><span class="line">"SHERITA", "SANTOS", "MYRIAM", "LIZABETH", "LISE", "KEELY", "JENNI", "GISELLE", "CHERYLE", "ARDITH",</span><br><span class="line">"ARDIS", "ALESHA", "ADRIANE", "SHAINA", "LINNEA", "KAROLYN", "HONG", "FLORIDA", "FELISHA", "DORI",</span><br><span class="line">"DARCI", "ARTIE", "ARMIDA", "ZOLA", "XIOMARA", "VERGIE", "SHAMIKA", "NENA", "NANNETTE", "MAXIE",</span><br><span class="line">"LOVIE", "JEANE", "JAIMIE", "INGE", "FARRAH", "ELAINA", "CAITLYN", "STARR", "FELICITAS", "CHERLY",</span><br><span class="line">"CARYL", "YOLONDA", "YASMIN", "TEENA", "PRUDENCE", "PENNIE", "NYDIA", "MACKENZIE", "ORPHA", "MARVEL",</span><br><span class="line">"LIZBETH", "LAURETTE", "JERRIE", "HERMELINDA", "CAROLEE", "TIERRA", "MIRIAN", "META", "MELONY", "KORI",</span><br><span class="line">"JENNETTE", "JAMILA", "ENA", "ANH", "YOSHIKO", "SUSANNAH", "SALINA", "RHIANNON", "JOLEEN", "CRISTINE",</span><br><span class="line">"ASHTON", "ARACELY", "TOMEKA", "SHALONDA", "MARTI", "LACIE", "KALA", "JADA", "ILSE", "HAILEY",</span><br><span class="line">"BRITTANI", "ZONA", "SYBLE", "SHERRYL", "RANDY", "NIDIA", "MARLO", "KANDICE", "KANDI", "DEB",</span><br><span class="line">"DEAN", "AMERICA", "ALYCIA", "TOMMY", "RONNA", "NORENE", "MERCY", "JOSE", "INGEBORG", "GIOVANNA",</span><br><span class="line">"GEMMA", "CHRISTEL", "AUDRY", "ZORA", "VITA", "VAN", "TRISH", "STEPHAINE", "SHIRLEE", "SHANIKA",</span><br><span class="line">"MELONIE", "MAZIE", "JAZMIN", "INGA", "HOA", "HETTIE", "GERALYN", "FONDA", "ESTRELLA", "ADELLA",</span><br><span class="line">"SU", "SARITA", "RINA", "MILISSA", "MARIBETH", "GOLDA", "EVON", "ETHELYN", "ENEDINA", "CHERISE",</span><br><span class="line">"CHANA", "VELVA", "TAWANNA", "SADE", "MIRTA", "LI", "KARIE", "JACINTA", "ELNA", "DAVINA",</span><br><span class="line">"CIERRA", "ASHLIE", "ALBERTHA", "TANESHA", "STEPHANI", "NELLE", "MINDI", "LU", "LORINDA", "LARUE",</span><br><span class="line">"FLORENE", "DEMETRA", "DEDRA", "CIARA", "CHANTELLE", "ASHLY", "SUZY", "ROSALVA", "NOELIA", "LYDA",</span><br><span class="line">"LEATHA", "KRYSTYNA", "KRISTAN", "KARRI", "DARLINE", "DARCIE", "CINDA", "CHEYENNE", "CHERRIE", "AWILDA",</span><br><span class="line">"ALMEDA", "ROLANDA", "LANETTE", "JERILYN", "GISELE", "EVALYN", "CYNDI", "CLETA", "CARIN", "ZINA",</span><br><span class="line">"ZENA", "VELIA", "TANIKA", "PAUL", "CHARISSA", "THOMAS", "TALIA", "MARGARETE", "LAVONDA", "KAYLEE",</span><br><span class="line">"KATHLENE", "JONNA", "IRENA", "ILONA", "IDALIA", "CANDIS", "CANDANCE", "BRANDEE", "ANITRA", "ALIDA",</span><br><span class="line">"SIGRID", "NICOLETTE", "MARYJO", "LINETTE", "HEDWIG", "CHRISTIANA", "CASSIDY", "ALEXIA", "TRESSIE", "MODESTA",</span><br><span class="line">"LUPITA", "LITA", "GLADIS", "EVELIA", "DAVIDA", "CHERRI", "CECILY", "ASHELY", "ANNABEL", "AGUSTINA",</span><br><span class="line">"WANITA", "SHIRLY", "ROSAURA", "HULDA", "EUN", "BAILEY", "YETTA", "VERONA", "THOMASINA", "SIBYL",</span><br><span class="line">"SHANNAN", "MECHELLE", "LUE", "LEANDRA", "LANI", "KYLEE", "KANDY", "JOLYNN", "FERNE", "EBONI",</span><br><span class="line">"CORENE", "ALYSIA", "ZULA", "NADA", "MOIRA", "LYNDSAY", "LORRETTA", "JUAN", "JAMMIE", "HORTENSIA",</span><br><span class="line">"GAYNELL", "CAMERON", "ADRIA", "VINA", "VICENTA", "TANGELA", "STEPHINE", "NORINE", "NELLA", "LIANA",</span><br><span class="line">"LESLEE", "KIMBERELY", "ILIANA", "GLORY", "FELICA", "EMOGENE", "ELFRIEDE", "EDEN", "EARTHA", "CARMA",</span><br><span class="line">"BEA", "OCIE", "MARRY", "LENNIE", "KIARA", "JACALYN", "CARLOTA", "ARIELLE", "YU", "STAR",</span><br><span class="line">"OTILIA", "KIRSTIN", "KACEY", "JOHNETTA", "JOEY", "JOETTA", "JERALDINE", "JAUNITA", "ELANA", "DORTHEA",</span><br><span class="line">"CAMI", "AMADA", "ADELIA", "VERNITA", "TAMAR", "SIOBHAN", "RENEA", "RASHIDA", "OUIDA", "ODELL",</span><br><span class="line">"NILSA", "MERYL", "KRISTYN", "JULIETA", "DANICA", "BREANNE", "AUREA", "ANGLEA", "SHERRON", "ODETTE",</span><br><span class="line">"MALIA", "LORELEI", "LIN", "LEESA", "KENNA", "KATHLYN", "FIONA", "CHARLETTE", "SUZIE", "SHANTELL",</span><br><span class="line">"SABRA", "RACQUEL", "MYONG", "MIRA", "MARTINE", "LUCIENNE", "LAVADA", "JULIANN", "JOHNIE", "ELVERA",</span><br><span class="line">"DELPHIA", "CLAIR", "CHRISTIANE", "CHAROLETTE", "CARRI", "AUGUSTINE", "ASHA", "ANGELLA", "PAOLA", "NINFA",</span><br><span class="line">"LEDA", "LAI", "EDA", "SUNSHINE", "STEFANI", "SHANELL", "PALMA", "MACHELLE", "LISSA", "KECIA",</span><br><span class="line">"KATHRYNE", "KARLENE", "JULISSA", "JETTIE", "JENNIFFER", "HUI", "CORRINA", "CHRISTOPHER", "CAROLANN", "ALENA",</span><br><span class="line">"TESS", "ROSARIA", "MYRTICE", "MARYLEE", "LIANE", "KENYATTA", "JUDIE", "JANEY", "IN", "ELMIRA",</span><br><span class="line">"ELDORA", "DENNA", "CRISTI", "CATHI", "ZAIDA", "VONNIE", "VIVA", "VERNIE", "ROSALINE", "MARIELA",</span><br><span class="line">"LUCIANA", "LESLI", "KARAN", "FELICE", "DENEEN", "ADINA", "WYNONA", "TARSHA", "SHERON", "SHASTA",</span><br><span class="line">"SHANITA", "SHANI", "SHANDRA", "RANDA", "PINKIE", "PARIS", "NELIDA", "MARILOU", "LYLA", "LAURENE",</span><br><span class="line">"LACI", "JOI", "JANENE", "DOROTHA", "DANIELE", "DANI", "CAROLYNN", "CARLYN", "BERENICE", "AYESHA",</span><br><span class="line">"ANNELIESE", "ALETHEA", "THERSA", "TAMIKO", "RUFINA", "OLIVA", "MOZELL", "MARYLYN", "MADISON", "KRISTIAN",</span><br><span class="line">"KATHYRN", "KASANDRA", "KANDACE", "JANAE", "GABRIEL", "DOMENICA", "DEBBRA", "DANNIELLE", "CHUN", "BUFFY",</span><br><span class="line">"BARBIE", "ARCELIA", "AJA", "ZENOBIA", "SHAREN", "SHAREE", "PATRICK", "PAGE", "MY", "LAVINIA",</span><br><span class="line">"KUM", "KACIE", "JACKELINE", "HUONG", "FELISA", "EMELIA", "ELEANORA", "CYTHIA", "CRISTIN", "CLYDE",</span><br><span class="line">"CLARIBEL", "CARON", "ANASTACIA", "ZULMA", "ZANDRA", "YOKO", "TENISHA", "SUSANN", "SHERILYN", "SHAY",</span><br><span class="line">"SHAWANDA", "SABINE", "ROMANA", "MATHILDA", "LINSEY", "KEIKO", "JOANA", "ISELA", "GRETTA", "GEORGETTA",</span><br><span class="line">"EUGENIE", "DUSTY", "DESIRAE", "DELORA", "CORAZON", "ANTONINA", "ANIKA", "WILLENE", "TRACEE", "TAMATHA",</span><br><span class="line">"REGAN", "NICHELLE", "MICKIE", "MAEGAN", "LUANA", "LANITA", "KELSIE", "EDELMIRA", "BREE", "AFTON",</span><br><span class="line">"TEODORA", "TAMIE", "SHENA", "MEG", "LINH", "KELI", "KACI", "DANYELLE", "BRITT", "ARLETTE",</span><br><span class="line">"ALBERTINE", "ADELLE", "TIFFINY", "STORMY", "SIMONA", "NUMBERS", "NICOLASA", "NICHOL", "NIA", "NAKISHA",</span><br><span class="line">"MEE", "MAIRA", "LOREEN", "KIZZY", "JOHNNY", "JAY", "FALLON", "CHRISTENE", "BOBBYE", "ANTHONY",</span><br><span class="line">"YING", "VINCENZA", "TANJA", "RUBIE", "RONI", "QUEENIE", "MARGARETT", "KIMBERLI", "IRMGARD", "IDELL",</span><br><span class="line">"HILMA", "EVELINA", "ESTA", "EMILEE", "DENNISE", "DANIA", "CARL", "CARIE", "ANTONIO", "WAI",</span><br><span class="line">"SANG", "RISA", "RIKKI", "PARTICIA", "MUI", "MASAKO", "MARIO", "LUVENIA", "LOREE", "LONI",</span><br><span class="line">"LIEN", "KEVIN", "GIGI", "FLORENCIA", "DORIAN", "DENITA", "DALLAS", "CHI", "BILLYE", "ALEXANDER",</span><br><span class="line">"TOMIKA", "SHARITA", "RANA", "NIKOLE", "NEOMA", "MARGARITE", "MADALYN", "LUCINA", "LAILA", "KALI",</span><br><span class="line">"JENETTE", "GABRIELE", "EVELYNE", "ELENORA", "CLEMENTINA", "ALEJANDRINA", "ZULEMA", "VIOLETTE", "VANNESSA", "THRESA",</span><br><span class="line">"RETTA", "PIA", "PATIENCE", "NOELLA", "NICKIE", "JONELL", "DELTA", "CHUNG", "CHAYA", "CAMELIA",</span><br><span class="line">"BETHEL", "ANYA", "ANDREW", "THANH", "SUZANN", "SPRING", "SHU", "MILA", "LILLA", "LAVERNA",</span><br><span class="line">"KEESHA", "KATTIE", "GIA", "GEORGENE", "EVELINE", "ESTELL", "ELIZBETH", "VIVIENNE", "VALLIE", "TRUDIE",</span><br><span class="line">"STEPHANE", "MICHEL", "MAGALY", "MADIE", "KENYETTA", "KARREN", "JANETTA", "HERMINE", "HARMONY", "DRUCILLA",</span><br><span class="line">"DEBBI", "CELESTINA", "CANDIE", "BRITNI", "BECKIE", "AMINA", "ZITA", "YUN", "YOLANDE", "VIVIEN",</span><br><span class="line">"VERNETTA", "TRUDI", "SOMMER", "PEARLE", "PATRINA", "OSSIE", "NICOLLE", "LOYCE", "LETTY", "LARISA",</span><br><span class="line">"KATHARINA", "JOSELYN", "JONELLE", "JENELL", "IESHA", "HEIDE", "FLORINDA", "FLORENTINA", "FLO", "ELODIA",</span><br><span class="line">"DORINE", "BRUNILDA", "BRIGID", "ASHLI", "ARDELLA", "TWANA", "THU", "TARAH", "SUNG", "SHEA",</span><br><span class="line">"SHAVON", "SHANE", "SERINA", "RAYNA", "RAMONITA", "NGA", "MARGURITE", "LUCRECIA", "KOURTNEY", "KATI",</span><br><span class="line">"JESUS", "JESENIA", "DIAMOND", "CRISTA", "AYANA", "ALICA", "ALIA", "VINNIE", "SUELLEN", "ROMELIA",</span><br><span class="line">"RACHELL", "PIPER", "OLYMPIA", "MICHIKO", "KATHALEEN", "JOLIE", "JESSI", "JANESSA", "HANA", "HA",</span><br><span class="line">"ELEASE", "CARLETTA", "BRITANY", "SHONA", "SALOME", "ROSAMOND", "REGENA", "RAINA", "NGOC", "NELIA",</span><br><span class="line">"LOUVENIA", "LESIA", "LATRINA", "LATICIA", "LARHONDA", "JINA", "JACKI", "HOLLIS", "HOLLEY", "EMMY",</span><br><span class="line">"DEEANN", "CORETTA", "ARNETTA", "VELVET", "THALIA", "SHANICE", "NETA", "MIKKI", "MICKI", "LONNA",</span><br><span class="line">"LEANA", "LASHUNDA", "KILEY", "JOYE", "JACQULYN", "IGNACIA", "HYUN", "HIROKO", "HENRY", "HENRIETTE",</span><br><span class="line">"ELAYNE", "DELINDA", "DARNELL", "DAHLIA", "COREEN", "CONSUELA", "CONCHITA", "CELINE", "BABETTE", "AYANNA",</span><br><span class="line">"ANETTE", "ALBERTINA", "SKYE", "SHAWNEE", "SHANEKA", "QUIANA", "PAMELIA", "MIN", "MERRI", "MERLENE",</span><br><span class="line">"MARGIT", "KIESHA", "KIERA", "KAYLENE", "JODEE", "JENISE", "ERLENE", "EMMIE", "ELSE", "DARYL",</span><br><span class="line">"DALILA", "DAISEY", "CODY", "CASIE", "BELIA", "BABARA", "VERSIE", "VANESA", "SHELBA", "SHAWNDA",</span><br><span class="line">"SAM", "NORMAN", "NIKIA", "NAOMA", "MARNA", "MARGERET", "MADALINE", "LAWANA", "KINDRA", "JUTTA",</span><br><span class="line">"JAZMINE", "JANETT", "HANNELORE", "GLENDORA", "GERTRUD", "GARNETT", "FREEDA", "FREDERICA", "FLORANCE", "FLAVIA",</span><br><span class="line">"DENNIS", "CARLINE", "BEVERLEE", "ANJANETTE", "VALDA", "TRINITY", "TAMALA", "STEVIE", "SHONNA", "SHA",</span><br><span class="line">"SARINA", "ONEIDA", "MICAH", "MERILYN", "MARLEEN", "LURLINE", "LENNA", "KATHERIN", "JIN", "JENI",</span><br><span class="line">"HAE", "GRACIA", "GLADY", "FARAH", "ERIC", "ENOLA", "EMA", "DOMINQUE", "DEVONA", "DELANA",</span><br><span class="line">"CECILA", "CAPRICE", "ALYSHA", "ALI", "ALETHIA", "VENA", "THERESIA", "TAWNY", "SONG", "SHAKIRA",</span><br><span class="line">"SAMARA", "SACHIKO", "RACHELE", "PAMELLA", "NICKY", "MARNI", "MARIEL", "MAREN", "MALISA", "LIGIA",</span><br><span class="line">"LERA", "LATORIA", "LARAE", "KIMBER", "KATHERN", "KAREY", "JENNEFER", "JANETH", "HALINA", "FREDIA",</span><br><span class="line">"DELISA", "DEBROAH", "CIERA", "CHIN", "ANGELIKA", "ANDREE", "ALTHA", "YEN", "VIVAN", "TERRESA",</span><br><span class="line">"TANNA", "SUK", "SUDIE", "SOO", "SIGNE", "SALENA", "RONNI", "REBBECCA", "MYRTIE", "MCKENZIE",</span><br><span class="line">"MALIKA", "MAIDA", "LOAN", "LEONARDA", "KAYLEIGH", "FRANCE", "ETHYL", "ELLYN", "DAYLE", "CAMMIE",</span><br><span class="line">"BRITTNI", "BIRGIT", "AVELINA", "ASUNCION", "ARIANNA", "AKIKO", "VENICE", "TYESHA", "TONIE", "TIESHA",</span><br><span class="line">"TAKISHA", "STEFFANIE", "SINDY", "SANTANA", "MEGHANN", "MANDA", "MACIE", "LADY", "KELLYE", "KELLEE",</span><br><span class="line">"JOSLYN", "JASON", "INGER", "INDIRA", "GLINDA", "GLENNIS", "FERNANDA", "FAUSTINA", "ENEIDA", "ELICIA",</span><br><span class="line">"DOT", "DIGNA", "DELL", "ARLETTA", "ANDRE", "WILLIA", "TAMMARA", "TABETHA", "SHERRELL", "SARI",</span><br><span class="line">"REFUGIO", "REBBECA", "PAULETTA", "NIEVES", "NATOSHA", "NAKITA", "MAMMIE", "KENISHA", "KAZUKO", "KASSIE",</span><br><span class="line">"GARY", "EARLEAN", "DAPHINE", "CORLISS", "CLOTILDE", "CAROLYNE", "BERNETTA", "AUGUSTINA", "AUDREA", "ANNIS",</span><br><span class="line">"ANNABELL", "YAN", "TENNILLE", "TAMICA", "SELENE", "SEAN", "ROSANA", "REGENIA", "QIANA", "MARKITA",</span><br><span class="line">"MACY", "LEEANNE", "LAURINE", "KYM", "JESSENIA", "JANITA", "GEORGINE", "GENIE", "EMIKO", "ELVIE",</span><br><span class="line">"DEANDRA", "DAGMAR", "CORIE", "COLLEN", "CHERISH", "ROMAINE", "PORSHA", "PEARLENE", "MICHELINE", "MERNA",</span><br><span class="line">"MARGORIE", "MARGARETTA", "LORE", "KENNETH", "JENINE", "HERMINA", "FREDERICKA", "ELKE", "DRUSILLA", "DORATHY",</span><br><span class="line">"DIONE", "DESIRE", "CELENA", "BRIGIDA", "ANGELES", "ALLEGRA", "THEO", "TAMEKIA", "SYNTHIA", "STEPHEN",</span><br><span class="line">"SOOK", "SLYVIA", "ROSANN", "REATHA", "RAYE", "MARQUETTA", "MARGART", "LING", "LAYLA", "KYMBERLY",</span><br><span class="line">"KIANA", "KAYLEEN", "KATLYN", "KARMEN", "JOELLA", "IRINA", "EMELDA", "ELENI", "DETRA", "CLEMMIE",</span><br><span class="line">"CHERYLL", "CHANTELL", "CATHEY", "ARNITA", "ARLA", "ANGLE", "ANGELIC", "ALYSE", "ZOFIA", "THOMASINE",</span><br><span class="line">"TENNIE", "SON", "SHERLY", "SHERLEY", "SHARYL", "REMEDIOS", "PETRINA", "NICKOLE", "MYUNG", "MYRLE",</span><br><span class="line">"MOZELLA", "LOUANNE", "LISHA", "LATIA", "LANE", "KRYSTA", "JULIENNE", "JOEL", "JEANENE", "JACQUALINE",</span><br><span class="line">"ISAURA", "GWENDA", "EARLEEN", "DONALD", "CLEOPATRA", "CARLIE", "AUDIE", "ANTONIETTA", "ALISE", "ALEX",</span><br><span class="line">"VERDELL", "VAL", "TYLER", "TOMOKO", "THAO", "TALISHA", "STEVEN", "SO", "SHEMIKA", "SHAUN",</span><br><span class="line">"SCARLET", "SAVANNA", "SANTINA", "ROSIA", "RAEANN", "ODILIA", "NANA", "MINNA", "MAGAN", "LYNELLE",</span><br><span class="line">"LE", "KARMA", "JOEANN", "IVANA", "INELL", "ILANA", "HYE", "HONEY", "HEE", "GUDRUN",</span><br><span class="line">"FRANK", "DREAMA", "CRISSY", "CHANTE", "CARMELINA", "ARVILLA", "ARTHUR", "ANNAMAE", "ALVERA", "ALEIDA",</span><br><span class="line">"AARON", "YEE", "YANIRA", "VANDA", "TIANNA", "TAM", "STEFANIA", "SHIRA", "PERRY", "NICOL",</span><br><span class="line">"NANCIE", "MONSERRATE", "MINH", "MELYNDA", "MELANY", "MATTHEW", "LOVELLA", "LAURE", "KIRBY", "KACY",</span><br><span class="line">"JACQUELYNN", "HYON", "GERTHA", "FRANCISCO", "ELIANA", "CHRISTENA", "CHRISTEEN", "CHARISE", "CATERINA", "CARLEY",</span><br><span class="line">"CANDYCE", "ARLENA", "AMMIE", "YANG", "WILLETTE", "VANITA", "TUYET", "TINY", "SYREETA", "SILVA",</span><br><span class="line">"SCOTT", "RONALD", "PENNEY", "NYLA", "MICHAL", "MAURICE", "MARYAM", "MARYA", "MAGEN", "LUDIE",</span><br><span class="line">"LOMA", "LIVIA", "LANELL", "KIMBERLIE", "JULEE", "DONETTA", "DIEDRA", "DENISHA", "DEANE", "DAWNE",</span><br><span class="line">"CLARINE", "CHERRYL", "BRONWYN", "BRANDON", "ALLA", "VALERY", "TONDA", "SUEANN", "SORAYA", "SHOSHANA",</span><br><span class="line">"SHELA", "SHARLEEN", "SHANELLE", "NERISSA", "MICHEAL", "MERIDITH", "MELLIE", "MAYE", "MAPLE", "MAGARET",</span><br><span class="line">"LUIS", "LILI", "LEONILA", "LEONIE", "LEEANNA", "LAVONIA", "LAVERA", "KRISTEL", "KATHEY", "KATHE",</span><br><span class="line">"JUSTIN", "JULIAN", "JIMMY", "JANN", "ILDA", "HILDRED", "HILDEGARDE", "GENIA", "FUMIKO", "EVELIN",</span><br><span class="line">"ERMELINDA", "ELLY", "DUNG", "DOLORIS", "DIONNA", "DANAE", "BERNEICE", "ANNICE", "ALIX", "VERENA",</span><br><span class="line">"VERDIE", "TRISTAN", "SHAWNNA", "SHAWANA", "SHAUNNA", "ROZELLA", "RANDEE", "RANAE", "MILAGRO", "LYNELL",</span><br><span class="line">"LUISE", "LOUIE", "LOIDA", "LISBETH", "KARLEEN", "JUNITA", "JONA", "ISIS", "HYACINTH", "HEDY",</span><br><span class="line">"GWENN", "ETHELENE", "ERLINE", "EDWARD", "DONYA", "DOMONIQUE", "DELICIA", "DANNETTE", "CICELY", "BRANDA",</span><br><span class="line">"BLYTHE", "BETHANN", "ASHLYN", "ANNALEE", "ALLINE", "YUKO", "VELLA", "TRANG", "TOWANDA", "TESHA",</span><br><span class="line">"SHERLYN", "NARCISA", "MIGUELINA", "MERI", "MAYBELL", "MARLANA", "MARGUERITA", "MADLYN", "LUNA", "LORY",</span><br><span class="line">"LORIANN", "LIBERTY", "LEONORE", "LEIGHANN", "LAURICE", "LATESHA", "LARONDA", "KATRICE", "KASIE", "KARL",</span><br><span class="line">"KALEY", "JADWIGA", "GLENNIE", "GEARLDINE", "FRANCINA", "EPIFANIA", "DYAN", "DORIE", "DIEDRE", "DENESE",</span><br><span class="line">"DEMETRICE", "DELENA", "DARBY", "CRISTIE", "CLEORA", "CATARINA", "CARISA", "BERNIE", "BARBERA", "ALMETA",</span><br><span class="line">"TRULA", "TEREASA", "SOLANGE", "SHEILAH", "SHAVONNE", "SANORA", "ROCHELL", "MATHILDE", "MARGARETA", "MAIA",</span><br><span class="line">"LYNSEY", "LAWANNA", "LAUNA", "KENA", "KEENA", "KATIA", "JAMEY", "GLYNDA", "GAYLENE", "ELVINA",</span><br><span class="line">"ELANOR", "DANUTA", "DANIKA", "CRISTEN", "CORDIE", "COLETTA", "CLARITA", "CARMON", "BRYNN", "AZUCENA",</span><br><span class="line">"AUNDREA", "ANGELE", "YI", "WALTER", "VERLIE", "VERLENE", "TAMESHA", "SILVANA", "SEBRINA", "SAMIRA",</span><br><span class="line">"REDA", "RAYLENE", "PENNI", "PANDORA", "NORAH", "NOMA", "MIREILLE", "MELISSIA", "MARYALICE", "LARAINE",</span><br><span class="line">"KIMBERY", "KARYL", "KARINE", "KAM", "JOLANDA", "JOHANA", "JESUSA", "JALEESA", "JAE", "JACQUELYNE",</span><br><span class="line">"IRISH", "ILUMINADA", "HILARIA", "HANH", "GENNIE", "FRANCIE", "FLORETTA", "EXIE", "EDDA", "DREMA",</span><br><span class="line">"DELPHA", "BEV", "BARBAR", "ASSUNTA", "ARDELL", "ANNALISA", "ALISIA", "YUKIKO", "YOLANDO", "WONDA",</span><br><span class="line">"WEI", "WALTRAUD", "VETA", "TEQUILA", "TEMEKA", "TAMEIKA", "SHIRLEEN", "SHENITA", "PIEDAD", "OZELLA",</span><br><span class="line">"MIRTHA", "MARILU", "KIMIKO", "JULIANE", "JENICE", "JEN", "JANAY", "JACQUILINE", "HILDE", "FE",</span><br><span class="line">"FAE", "EVAN", "EUGENE", "ELOIS", "ECHO", "DEVORAH", "CHAU", "BRINDA", "BETSEY", "ARMINDA",</span><br><span class="line">"ARACELIS", "APRYL", "ANNETT", "ALISHIA", "VEOLA", "USHA", "TOSHIKO", "THEOLA", "TASHIA", "TALITHA",</span><br><span class="line">"SHERY", "RUDY", "RENETTA", "REIKO", "RASHEEDA", "OMEGA", "OBDULIA", "MIKA", "MELAINE", "MEGGAN",</span><br><span class="line">"MARTIN", "MARLEN", "MARGET", "MARCELINE", "MANA", "MAGDALEN", "LIBRADA", "LEZLIE", "LEXIE", "LATASHIA",</span><br><span class="line">"LASANDRA", "KELLE", "ISIDRA", "ISA", "INOCENCIA", "GWYN", "FRANCOISE", "ERMINIA", "ERINN", "DIMPLE",</span><br><span class="line">"DEVORA", "CRISELDA", "ARMANDA", "ARIE", "ARIANE", "ANGELO", "ANGELENA", "ALLEN", "ALIZA", "ADRIENE",</span><br><span class="line">"ADALINE", "XOCHITL", "TWANNA", "TRAN", "TOMIKO", "TAMISHA", "TAISHA", "SUSY", "SIU", "RUTHA",</span><br><span class="line">"ROXY", "RHONA", "RAYMOND", "OTHA", "NORIKO", "NATASHIA", "MERRIE", "MELVIN", "MARINDA", "MARIKO",</span><br><span class="line">"MARGERT", "LORIS", "LIZZETTE", "LEISHA", "KAILA", "KA", "JOANNIE", "JERRICA", "JENE", "JANNET",</span><br><span class="line">"JANEE", "JACINDA", "HERTA", "ELENORE", "DORETTA", "DELAINE", "DANIELL", "CLAUDIE", "CHINA", "BRITTA",</span><br><span class="line">"APOLONIA", "AMBERLY", "ALEASE", "YURI", "YUK", "WEN", "WANETA", "UTE", "TOMI", "SHARRI",</span><br><span class="line">"SANDIE", "ROSELLE", "REYNALDA", "RAGUEL", "PHYLICIA", "PATRIA", "OLIMPIA", "ODELIA", "MITZIE", "MITCHELL",</span><br><span class="line">"MISS", "MINDA", "MIGNON", "MICA", "MENDY", "MARIVEL", "MAILE", "LYNETTA", "LAVETTE", "LAURYN",</span><br><span class="line">"LATRISHA", "LAKIESHA", "KIERSTEN", "KARY", "JOSPHINE", "JOLYN", "JETTA", "JANISE", "JACQUIE", "IVELISSE",</span><br><span class="line">"GLYNIS", "GIANNA", "GAYNELLE", "EMERALD", "DEMETRIUS", "DANYELL", "DANILLE", "DACIA", "CORALEE", "CHER",</span><br><span class="line">"CEOLA", "BRETT", "BELL", "ARIANNE", "ALESHIA", "YUNG", "WILLIEMAE", "TROY", "TRINH", "THORA",</span><br><span class="line">"TAI", "SVETLANA", "SHERIKA", "SHEMEKA", "SHAUNDA", "ROSELINE", "RICKI", "MELDA", "MALLIE", "LAVONNA",</span><br><span class="line">"LATINA", "LARRY", "LAQUANDA", "LALA", "LACHELLE", "KLARA", "KANDIS", "JOHNA", "JEANMARIE", "JAYE",</span><br><span class="line">"HANG", "GRAYCE", "GERTUDE", "EMERITA", "EBONIE", "CLORINDA", "CHING", "CHERY", "CAROLA", "BREANN",</span><br><span class="line">"BLOSSOM", "BERNARDINE", "BECKI", "ARLETHA", "ARGELIA", "ARA", "ALITA", "YULANDA", "YON", "YESSENIA",</span><br><span class="line">"TOBI", "TASIA", "SYLVIE", "SHIRL", "SHIRELY", "SHERIDAN", "SHELLA", "SHANTELLE", "SACHA", "ROYCE",</span><br><span class="line">"REBECKA", "REAGAN", "PROVIDENCIA", "PAULENE", "MISHA", "MIKI", "MARLINE", "MARICA", "LORITA", "LATOYIA",</span><br><span class="line">"LASONYA", "KERSTIN", "KENDA", "KEITHA", "KATHRIN", "JAYMIE", "JACK", "GRICELDA", "GINETTE", "ERYN",</span><br><span class="line">"ELINA", "ELFRIEDA", "DANYEL", "CHEREE", "CHANELLE", "BARRIE", "AVERY", "AURORE", "ANNAMARIA", "ALLEEN",</span><br><span class="line">"AILENE", "AIDE", "YASMINE", "VASHTI", "VALENTINE", "TREASA", "TORY", "TIFFANEY", "SHERYLL", "SHARIE",</span><br><span class="line">"SHANAE", "SAU", "RAISA", "PA", "NEDA", "MITSUKO", "MIRELLA", "MILDA", "MARYANNA", "MARAGRET",</span><br><span class="line">"MABELLE", "LUETTA", "LORINA", "LETISHA", "LATARSHA", "LANELLE", "LAJUANA", "KRISSY", "KARLY", "KARENA",</span><br><span class="line">"JON", "JESSIKA", "JERICA", "JEANELLE", "JANUARY", "JALISA", "JACELYN", "IZOLA", "IVEY", "GREGORY",</span><br><span class="line">"EUNA", "ETHA", "DREW", "DOMITILA", "DOMINICA", "DAINA", "CREOLA", "CARLI", "CAMIE", "BUNNY",</span><br><span class="line">"BRITTNY", "ASHANTI", "ANISHA", "ALEEN", "ADAH", "YASUKO", "WINTER", "VIKI", "VALRIE", "TONA",</span><br><span class="line">"TINISHA", "THI", "TERISA", "TATUM", "TANEKA", "SIMONNE", "SHALANDA", "SERITA", "RESSIE", "REFUGIA",</span><br><span class="line">"PAZ", "OLENE", "NA", "MERRILL", "MARGHERITA", "MANDIE", "MAN", "MAIRE", "LYNDIA", "LUCI",</span><br><span class="line">"LORRIANE", "LORETA", "LEONIA", "LAVONA", "LASHAWNDA", "LAKIA", "KYOKO", "KRYSTINA", "KRYSTEN", "KENIA",</span><br><span class="line">"KELSI", "JUDE", "JEANICE", "ISOBEL", "GEORGIANN", "GENNY", "FELICIDAD", "EILENE", "DEON", "DELOISE",</span><br><span class="line">"DEEDEE", "DANNIE", "CONCEPTION", "CLORA", "CHERILYN", "CHANG", "CALANDRA", "BERRY", "ARMANDINA", "ANISA",</span><br><span class="line">"ULA", "TIMOTHY", "TIERA", "THERESSA", "STEPHANIA", "SIMA", "SHYLA", "SHONTA", "SHERA", "SHAQUITA",</span><br><span class="line">"SHALA", "SAMMY", "ROSSANA", "NOHEMI", "NERY", "MORIAH", "MELITA", "MELIDA", "MELANI", "MARYLYNN",</span><br><span class="line">"MARISHA", "MARIETTE", "MALORIE", "MADELENE", "LUDIVINA", "LORIA", "LORETTE", "LORALEE", "LIANNE", "LEON",</span><br><span class="line">"LAVENIA", "LAURINDA", "LASHON", "KIT", "KIMI", "KEILA", "KATELYNN", "KAI", "JONE", "JOANE",</span><br><span class="line">"JI", "JAYNA", "JANELLA", "JA", "HUE", "HERTHA", "FRANCENE", "ELINORE", "DESPINA", "DELSIE",</span><br><span class="line">"DEEDRA", "CLEMENCIA", "CARRY", "CAROLIN", "CARLOS", "BULAH", "BRITTANIE", "BOK", "BLONDELL", "BIBI",</span><br><span class="line">"BEAULAH", "BEATA", "ANNITA", "AGRIPINA", "VIRGEN", "VALENE", "UN", "TWANDA", "TOMMYE", "TOI",</span><br><span class="line">"TARRA", "TARI", "TAMMERA", "SHAKIA", "SADYE", "RUTHANNE", "ROCHEL", "RIVKA", "PURA", "NENITA",</span><br><span class="line">"NATISHA", "MING", "MERRILEE", "MELODEE", "MARVIS", "LUCILLA", "LEENA", "LAVETA", "LARITA", "LANIE",</span><br><span class="line">"KEREN", "ILEEN", "GEORGEANN", "GENNA", "GENESIS", "FRIDA", "EWA", "EUFEMIA", "EMELY", "ELA",</span><br><span class="line">"EDYTH", "DEONNA", "DEADRA", "DARLENA", "CHANELL", "CHAN", "CATHERN", "CASSONDRA", "CASSAUNDRA", "BERNARDA",</span><br><span class="line">"BERNA", "ARLINDA", "ANAMARIA", "ALBERT", "WESLEY", "VERTIE", "VALERI", "TORRI", "TATYANA", "STASIA",</span><br><span class="line">"SHERISE", "SHERILL", "SEASON", "SCOTTIE", "SANDA", "RUTHE", "ROSY", "ROBERTO", "ROBBI", "RANEE",</span><br><span class="line">"QUYEN", "PEARLY", "PALMIRA", "ONITA", "NISHA", "NIESHA", "NIDA", "NEVADA", "NAM", "MERLYN",</span><br><span class="line">"MAYOLA", "MARYLOUISE", "MARYLAND", "MARX", "MARTH", "MARGENE", "MADELAINE", "LONDA", "LEONTINE", "LEOMA",</span><br><span class="line">"LEIA", "LAWRENCE", "LAURALEE", "LANORA", "LAKITA", "KIYOKO", "KETURAH", "KATELIN", "KAREEN", "JONIE",</span><br><span class="line">"JOHNETTE", "JENEE", "JEANETT", "IZETTA", "HIEDI", "HEIKE", "HASSIE", "HAROLD", "GIUSEPPINA", "GEORGANN",</span><br><span class="line">"FIDELA", "FERNANDE", "ELWANDA", "ELLAMAE", "ELIZ", "DUSTI", "DOTTY", "CYNDY", "CORALIE", "CELESTA",</span><br><span class="line">"ARGENTINA", "ALVERTA", "XENIA", "WAVA", "VANETTA", "TORRIE", "TASHINA", "TANDY", "TAMBRA", "TAMA",</span><br><span class="line">"STEPANIE", "SHILA", "SHAUNTA", "SHARAN", "SHANIQUA", "SHAE", "SETSUKO", "SERAFINA", "SANDEE", "ROSAMARIA",</span><br><span class="line">"PRISCILA", "OLINDA", "NADENE", "MUOI", "MICHELINA", "MERCEDEZ", "MARYROSE", "MARIN", "MARCENE", "MAO",</span><br><span class="line">"MAGALI", "MAFALDA", "LOGAN", "LINN", "LANNIE", "KAYCE", "KAROLINE", "KAMILAH", "KAMALA", "JUSTA",</span><br><span class="line">"JOLINE", "JENNINE", "JACQUETTA", "IRAIDA", "GERALD", "GEORGEANNA", "FRANCHESCA", "FAIRY", "EMELINE", "ELANE",</span><br><span class="line">"EHTEL", "EARLIE", "DULCIE", "DALENE", "CRIS", "CLASSIE", "CHERE", "CHARIS", "CAROYLN", "CARMINA",</span><br><span class="line">"CARITA", "BRIAN", "BETHANIE", "AYAKO", "ARICA", "AN", "ALYSA", "ALESSANDRA", "AKILAH", "ADRIEN",</span><br><span class="line">"ZETTA", "YOULANDA", "YELENA", "YAHAIRA", "XUAN", "WENDOLYN", "VICTOR", "TIJUANA", "TERRELL", "TERINA",</span><br><span class="line">"TERESIA", "SUZI", "SUNDAY", "SHERELL", "SHAVONDA", "SHAUNTE", "SHARDA", "SHAKITA", "SENA", "RYANN",</span><br><span class="line">"RUBI", "RIVA", "REGINIA", "REA", "RACHAL", "PARTHENIA", "PAMULA", "MONNIE", "MONET", "MICHAELE",</span><br><span class="line">"MELIA", "MARINE", "MALKA", "MAISHA", "LISANDRA", "LEO", "LEKISHA", "LEAN", "LAURENCE", "LAKENDRA",</span><br><span class="line">"KRYSTIN", "KORTNEY", "KIZZIE", "KITTIE", "KERA", "KENDAL", "KEMBERLY", "KANISHA", "JULENE", "JULE",</span><br><span class="line">"JOSHUA", "JOHANNE", "JEFFREY", "JAMEE", "HAN", "HALLEY", "GIDGET", "GALINA", "FREDRICKA", "FLETA",</span><br><span class="line">"FATIMAH", "EUSEBIA", "ELZA", "ELEONORE", "DORTHEY", "DORIA", "DONELLA", "DINORAH", "DELORSE", "CLARETHA",</span><br><span class="line">"CHRISTINIA", "CHARLYN", "BONG", "BELKIS", "AZZIE", "ANDERA", "AIKO", "ADENA", "YER", "YAJAIRA",</span><br><span class="line">"WAN", "VANIA", "ULRIKE", "TOSHIA", "TIFANY", "STEFANY", "SHIZUE", "SHENIKA", "SHAWANNA", "SHAROLYN",</span><br><span class="line">"SHARILYN", "SHAQUANA", "SHANTAY", "SEE", "ROZANNE", "ROSELEE", "RICKIE", "REMONA", "REANNA", "RAELENE",</span><br><span class="line">"QUINN", "PHUNG", "PETRONILA", "NATACHA", "NANCEY", "MYRL", "MIYOKO", "MIESHA", "MERIDETH", "MARVELLA",</span><br><span class="line">"MARQUITTA", "MARHTA", "MARCHELLE", "LIZETH", "LIBBIE", "LAHOMA", "LADAWN", "KINA", "KATHELEEN", "KATHARYN",</span><br><span class="line">"KARISA", "KALEIGH", "JUNIE", "JULIEANN", "JOHNSIE", "JANEAN", "JAIMEE", "JACKQUELINE", "HISAKO", "HERMA",</span><br><span class="line">"HELAINE", "GWYNETH", "GLENN", "GITA", "EUSTOLIA", "EMELINA", "ELIN", "EDRIS", "DONNETTE", "DONNETTA",</span><br><span class="line">"DIERDRE", "DENAE", "DARCEL", "CLAUDE", "CLARISA", "CINDERELLA", "CHIA", "CHARLESETTA", "CHARITA", "CELSA",</span><br><span class="line">"CASSY", "CASSI", "CARLEE", "BRUNA", "BRITTANEY", "BRANDE", "BILLI", "BAO", "ANTONETTA", "ANGLA",</span><br><span class="line">"ANGELYN", "ANALISA", "ALANE", "WENONA", "WENDIE", "VERONIQUE", "VANNESA", "TOBIE", "TEMPIE", "SUMIKO",</span><br><span class="line">"SULEMA", "SPARKLE", "SOMER", "SHEBA", "SHAYNE", "SHARICE", "SHANEL", "SHALON", "SAGE", "ROY",</span><br><span class="line">"ROSIO", "ROSELIA", "RENAY", "REMA", "REENA", "PORSCHE", "PING", "PEG", "OZIE", "ORETHA",</span><br><span class="line">"ORALEE", "ODA", "NU", "NGAN", "NAKESHA", "MILLY", "MARYBELLE", "MARLIN", "MARIS", "MARGRETT",</span><br><span class="line">"MARAGARET", "MANIE", "LURLENE", "LILLIA", "LIESELOTTE", "LAVELLE", "LASHAUNDA", "LAKEESHA", "KEITH", "KAYCEE",</span><br><span class="line">"KALYN", "JOYA", "JOETTE", "JENAE", "JANIECE", "ILLA", "GRISEL", "GLAYDS", "GENEVIE", "GALA",</span><br><span class="line">"FREDDA", "FRED", "ELMER", "ELEONOR", "DEBERA", "DEANDREA", "DAN", "CORRINNE", "CORDIA", "CONTESSA",</span><br><span class="line">"COLENE", "CLEOTILDE", "CHARLOTT", "CHANTAY", "CECILLE", "BEATRIS", "AZALEE", "ARLEAN", "ARDATH", "ANJELICA",</span><br><span class="line">"ANJA", "ALFREDIA", "ALEISHA", "ADAM", "ZADA", "YUONNE", "XIAO", "WILLODEAN", "WHITLEY", "VENNIE",</span><br><span class="line">"VANNA", "TYISHA", "TOVA", "TORIE", "TONISHA", "TILDA", "TIEN", "TEMPLE", "SIRENA", "SHERRIL",</span><br><span class="line">"SHANTI", "SHAN", "SENAIDA", "SAMELLA", "ROBBYN", "RENDA", "REITA", "PHEBE", "PAULITA", "NOBUKO",</span><br><span class="line">"NGUYET", "NEOMI", "MOON", "MIKAELA", "MELANIA", "MAXIMINA", "MARG", "MAISIE", "LYNNA", "LILLI",</span><br><span class="line">"LAYNE", "LASHAUN", "LAKENYA", "LAEL", "KIRSTIE", "KATHLINE", "KASHA", "KARLYN", "KARIMA", "JOVAN",</span><br><span class="line">"JOSEFINE", "JENNELL", "JACQUI", "JACKELYN", "HYO", "HIEN", "GRAZYNA", "FLORRIE", "FLORIA", "ELEONORA",</span><br><span class="line">"DWANA", "DORLA", "DONG", "DELMY", "DEJA", "DEDE", "DANN", "CRYSTA", "CLELIA", "CLARIS",</span><br><span class="line">"CLARENCE", "CHIEKO", "CHERLYN", "CHERELLE", "CHARMAIN", "CHARA", "CAMMY", "BEE", "ARNETTE", "ARDELLE",</span><br><span class="line">"ANNIKA", "AMIEE", "AMEE", "ALLENA", "YVONE", "YUKI", "YOSHIE", "YEVETTE", "YAEL", "WILLETTA",</span><br><span class="line">"VONCILE", "VENETTA", "TULA", "TONETTE", "TIMIKA", "TEMIKA", "TELMA", "TEISHA", "TAREN", "TA",</span><br><span class="line">"STACEE", "SHIN", "SHAWNTA", "SATURNINA", "RICARDA", "POK", "PASTY", "ONIE", "NUBIA", "MORA",</span><br><span class="line">"MIKE", "MARIELLE", "MARIELLA", "MARIANELA", "MARDELL", "MANY", "LUANNA", "LOISE", "LISABETH", "LINDSY",</span><br><span class="line">"LILLIANA", "LILLIAM", "LELAH", "LEIGHA", "LEANORA", "LANG", "KRISTEEN", "KHALILAH", "KEELEY", "KANDRA",</span><br><span class="line">"JUNKO", "JOAQUINA", "JERLENE", "JANI", "JAMIKA", "JAME", "HSIU", "HERMILA", "GOLDEN", "GENEVIVE",</span><br><span class="line">"EVIA", "EUGENA", "EMMALINE", "ELFREDA", "ELENE", "DONETTE", "DELCIE", "DEEANNA", "DARCEY", "CUC",</span><br><span class="line">"CLARINDA", "CIRA", "CHAE", "CELINDA", "CATHERYN", "CATHERIN", "CASIMIRA", "CARMELIA", "CAMELLIA", "BREANA",</span><br><span class="line">"BOBETTE", "BERNARDINA", "BEBE", "BASILIA", "ARLYNE", "AMAL", "ALAYNA", "ZONIA", "ZENIA", "YURIKO",</span><br><span class="line">"YAEKO", "WYNELL", "WILLOW", "WILLENA", "VERNIA", "TU", "TRAVIS", "TORA", "TERRILYN", "TERICA",</span><br><span class="line">"TENESHA", "TAWNA", "TAJUANA", "TAINA", "STEPHNIE", "SONA", "SOL", "SINA", "SHONDRA", "SHIZUKO",</span><br><span class="line">"SHERLENE", "SHERICE", "SHARIKA", "ROSSIE", "ROSENA", "RORY", "RIMA", "RIA", "RHEBA", "RENNA",</span><br><span class="line">"PETER", "NATALYA", "NANCEE", "MELODI", "MEDA", "MAXIMA", "MATHA", "MARKETTA", "MARICRUZ", "MARCELENE",</span><br><span class="line">"MALVINA", "LUBA", "LOUETTA", "LEIDA", "LECIA", "LAURAN", "LASHAWNA", "LAINE", "KHADIJAH", "KATERINE",</span><br><span class="line">"KASI", "KALLIE", "JULIETTA", "JESUSITA", "JESTINE", "JESSIA", "JEREMY", "JEFFIE", "JANYCE", "ISADORA",</span><br><span class="line">"GEORGIANNE", "FIDELIA", "EVITA", "EURA", "EULAH", "ESTEFANA", "ELSY", "ELIZABET", "ELADIA", "DODIE",</span><br><span class="line">"DION", "DIA", "DENISSE", "DELORAS", "DELILA", "DAYSI", "DAKOTA", "CURTIS", "CRYSTLE", "CONCHA",</span><br><span class="line">"COLBY", "CLARETTA", "CHU", "CHRISTIA", "CHARLSIE", "CHARLENA", "CARYLON", "BETTYANN", "ASLEY", "ASHLEA",</span><br><span class="line">"AMIRA", "AI", "AGUEDA", "AGNUS", "YUETTE", "VINITA", "VICTORINA", "TYNISHA", "TREENA", "TOCCARA",</span><br><span class="line">"TISH", "THOMASENA", "TEGAN", "SOILA", "SHILOH", "SHENNA", "SHARMAINE", "SHANTAE", "SHANDI", "SEPTEMBER",</span><br><span class="line">"SARAN", "SARAI", "SANA", "SAMUEL", "SALLEY", "ROSETTE", "ROLANDE", "REGINE", "OTELIA", "OSCAR",</span><br><span class="line">"OLEVIA", "NICHOLLE", "NECOLE", "NAIDA", "MYRTA", "MYESHA", "MITSUE", "MINTA", "MERTIE", "MARGY",</span><br><span class="line">"MAHALIA", "MADALENE", "LOVE", "LOURA", "LOREAN", "LEWIS", "LESHA", "LEONIDA", "LENITA", "LAVONE",</span><br><span class="line">"LASHELL", "LASHANDRA", "LAMONICA", "KIMBRA", "KATHERINA", "KARRY", "KANESHA", "JULIO", "JONG", "JENEVA",</span><br><span class="line">"JAQUELYN", "HWA", "GILMA", "GHISLAINE", "GERTRUDIS", "FRANSISCA", "FERMINA", "ETTIE", "ETSUKO", "ELLIS",</span><br><span class="line">"ELLAN", "ELIDIA", "EDRA", "DORETHEA", "DOREATHA", "DENYSE", "DENNY", "DEETTA", "DAINE", "CYRSTAL",</span><br><span class="line">"CORRIN", "CAYLA", "CARLITA", "CAMILA", "BURMA", "BULA", "BUENA", "BLAKE", "BARABARA", "AVRIL",</span><br><span class="line">"AUSTIN", "ALAINE", "ZANA", "WILHEMINA", "WANETTA", "VIRGIL", "VI", "VERONIKA", "VERNON", "VERLINE",</span><br><span class="line">"VASILIKI", "TONITA", "TISA", "TEOFILA", "TAYNA", "TAUNYA", "TANDRA", "TAKAKO", "SUNNI", "SUANNE",</span><br><span class="line">"SIXTA", "SHARELL", "SEEMA", "RUSSELL", "ROSENDA", "ROBENA", "RAYMONDE", "PEI", "PAMILA", "OZELL",</span><br><span class="line">"NEIDA", "NEELY", "MISTIE", "MICHA", "MERISSA", "MAURITA", "MARYLN", "MARYETTA", "MARSHALL", "MARCELL",</span><br><span class="line">"MALENA", "MAKEDA", "MADDIE", "LOVETTA", "LOURIE", "LORRINE", "LORILEE", "LESTER", "LAURENA", "LASHAY",</span><br><span class="line">"LARRAINE", "LAREE", "LACRESHA", "KRISTLE", "KRISHNA", "KEVA", "KEIRA", "KAROLE", "JOIE", "JINNY",</span><br><span class="line">"JEANNETTA", "JAMA", "HEIDY", "GILBERTE", "GEMA", "FAVIOLA", "EVELYNN", "ENDA", "ELLI", "ELLENA",</span><br><span class="line">"DIVINA", "DAGNY", "COLLENE", "CODI", "CINDIE", "CHASSIDY", "CHASIDY", "CATRICE", "CATHERINA", "CASSEY",</span><br><span class="line">"CAROLL", "CARLENA", "CANDRA", "CALISTA", "BRYANNA", "BRITTENY", "BEULA", "BARI", "AUDRIE", "AUDRIA",</span><br><span class="line">"ARDELIA", "ANNELLE", "ANGILA", "ALONA", "ALLYN", "DOUGLAS", "ROGER", "JONATHAN", "RALPH", "NICHOLAS",</span><br><span class="line">"BENJAMIN", "BRUCE", "HARRY", "WAYNE", "STEVE", "HOWARD", "ERNEST", "PHILLIP", "TODD", "CRAIG",</span><br><span class="line">"ALAN", "PHILIP", "EARL", "DANNY", "BRYAN", "STANLEY", "LEONARD", "NATHAN", "MANUEL", "RODNEY",</span><br><span class="line">"MARVIN", "VINCENT", "JEFFERY", "JEFF", "CHAD", "JACOB", "ALFRED", "BRADLEY", "HERBERT", "FREDERICK",</span><br><span class="line">"EDWIN", "DON", "RICKY", "RANDALL", "BARRY", "BERNARD", "LEROY", "MARCUS", "THEODORE", "CLIFFORD",</span><br><span class="line">"MIGUEL", "JIM", "TOM", "CALVIN", "BILL", "LLOYD", "DEREK", "WARREN", "DARRELL", "JEROME",</span><br><span class="line">"FLOYD", "ALVIN", "TIM", "GORDON", "GREG", "JORGE", "DUSTIN", "PEDRO", "DERRICK", "ZACHARY",</span><br><span class="line">"HERMAN", "GLEN", "HECTOR", "RICARDO", "RICK", "BRENT", "RAMON", "GILBERT", "MARC", "REGINALD",</span><br><span class="line">"RUBEN", "NATHANIEL", "RAFAEL", "EDGAR", "MILTON", "RAUL", "BEN", "CHESTER", "DUANE", "FRANKLIN",</span><br><span class="line">"BRAD", "RON", "ROLAND", "ARNOLD", "HARVEY", "JARED", "ERIK", "DARRYL", "NEIL", "JAVIER",</span><br><span class="line">"FERNANDO", "CLINTON", "TED", "MATHEW", "TYRONE", "DARREN", "LANCE", "KURT", "ALLAN", "NELSON",</span><br><span class="line">"GUY", "CLAYTON", "HUGH", "MAX", "DWAYNE", "DWIGHT", "ARMANDO", "FELIX", "EVERETT", "IAN",</span><br><span class="line">"WALLACE", "KEN", "BOB", "ALFREDO", "ALBERTO", "DAVE", "IVAN", "BYRON", "ISAAC", "MORRIS",</span><br><span class="line">"CLIFTON", "WILLARD", "ROSS", "ANDY", "SALVADOR", "KIRK", "SERGIO", "SETH", "KENT", "TERRANCE",</span><br><span class="line">"EDUARDO", "TERRENCE", "ENRIQUE", "WADE", "STUART", "FREDRICK", "ARTURO", "ALEJANDRO", "NICK", "LUTHER",</span><br><span class="line">"WENDELL", "JEREMIAH", "JULIUS", "OTIS", "TREVOR", "OLIVER", "LUKE", "HOMER", "GERARD", "DOUG",</span><br><span class="line">"KENNY", "HUBERT", "LYLE", "MATT", "ALFONSO", "ORLANDO", "REX", "CARLTON", "ERNESTO", "NEAL",</span><br><span class="line">"PABLO", "LORENZO", "OMAR", "WILBUR", "GRANT", "HORACE", "RODERICK", "ABRAHAM", "WILLIS", "RICKEY",</span><br><span class="line">"ANDRES", "CESAR", "JOHNATHAN", "MALCOLM", "RUDOLPH", "DAMON", "KELVIN", "PRESTON", "ALTON", "ARCHIE",</span><br><span class="line">"MARCO", "WM", "PETE", "RANDOLPH", "GARRY", "GEOFFREY", "JONATHON", "FELIPE", "GERARDO", "ED",</span><br><span class="line">"DOMINIC", "DELBERT", "COLIN", "GUILLERMO", "EARNEST", "LUCAS", "BENNY", "SPENCER", "RODOLFO", "MYRON",</span><br><span class="line">"EDMUND", "GARRETT", "SALVATORE", "CEDRIC", "LOWELL", "GREGG", "SHERMAN", "WILSON", "SYLVESTER", "ROOSEVELT",</span><br><span class="line">"ISRAEL", "JERMAINE", "FORREST", "WILBERT", "LELAND", "SIMON", "CLARK", "IRVING", "BRYANT", "OWEN",</span><br><span class="line">"RUFUS", "WOODROW", "KRISTOPHER", "MACK", "LEVI", "MARCOS", "GUSTAVO", "JAKE", "LIONEL", "GILBERTO",</span><br><span class="line">"CLINT", "NICOLAS", "ISMAEL", "ORVILLE", "ERVIN", "DEWEY", "AL", "WILFRED", "JOSH", "HUGO",</span><br><span class="line">"IGNACIO", "CALEB", "TOMAS", "SHELDON", "ERICK", "STEWART", "DOYLE", "DARREL", "ROGELIO", "TERENCE",</span><br><span class="line">"SANTIAGO", "ALONZO", "ELIAS", "BERT", "ELBERT", "RAMIRO", "CONRAD", "NOAH", "GRADY", "PHIL",</span><br><span class="line">"CORNELIUS", "LAMAR", "ROLANDO", "CLAY", "PERCY", "DEXTER", "BRADFORD", "DARIN", "AMOS", "MOSES",</span><br><span class="line">"IRVIN", "SAUL", "ROMAN", "RANDAL", "TIMMY", "DARRIN", "WINSTON", "BRENDAN", "ABEL", "DOMINICK",</span><br><span class="line">"BOYD", "EMILIO", "ELIJAH", "DOMINGO", "EMMETT", "MARLON", "EMANUEL", "JERALD", "EDMOND", "EMIL",</span><br><span class="line">"DEWAYNE", "WILL", "OTTO", "TEDDY", "REYNALDO", "BRET", "JESS", "TRENT", "HUMBERTO", "EMMANUEL",</span><br><span class="line">"STEPHAN", "VICENTE", "LAMONT", "GARLAND", "MILES", "EFRAIN", "HEATH", "RODGER", "HARLEY", "ETHAN",</span><br><span class="line">"ELDON", "ROCKY", "PIERRE", "JUNIOR", "FREDDY", "ELI", "BRYCE", "ANTOINE", "STERLING", "CHASE",</span><br><span class="line">"GROVER", "ELTON", "CLEVELAND", "DYLAN", "CHUCK", "DAMIAN", "REUBEN", "STAN", "AUGUST", "LEONARDO",</span><br><span class="line">"JASPER", "RUSSEL", "ERWIN", "BENITO", "HANS", "MONTE", "BLAINE", "ERNIE", "CURT", "QUENTIN",</span><br><span class="line">"AGUSTIN", "MURRAY", "JAMAL", "ADOLFO", "HARRISON", "TYSON", "BURTON", "BRADY", "ELLIOTT", "WILFREDO",</span><br><span class="line">"BART", "JARROD", "VANCE", "DENIS", "DAMIEN", "JOAQUIN", "HARLAN", "DESMOND", "ELLIOT", "DARWIN",</span><br><span class="line">"GREGORIO", "BUDDY", "XAVIER", "KERMIT", "ROSCOE", "ESTEBAN", "ANTON", "SOLOMON", "SCOTTY", "NORBERT",</span><br><span class="line">"ELVIN", "WILLIAMS", "NOLAN", "ROD", "QUINTON", "HAL", "BRAIN", "ROB", "ELWOOD", "KENDRICK",</span><br><span class="line">"DARIUS", "MOISES", "FIDEL", "THADDEUS", "CLIFF", "MARCEL", "JACKSON", "RAPHAEL", "BRYON", "ARMAND",</span><br><span class="line">"ALVARO", "JEFFRY", "DANE", "JOESPH", "THURMAN", "NED", "RUSTY", "MONTY", "FABIAN", "REGGIE",</span><br><span class="line">"MASON", "GRAHAM", "ISAIAH", "VAUGHN", "GUS", "LOYD", "DIEGO", "ADOLPH", "NORRIS", "MILLARD",</span><br><span class="line">"ROCCO", "GONZALO", "DERICK", "RODRIGO", "WILEY", "RIGOBERTO", "ALPHONSO", "TY", "NOE", "VERN",</span><br><span class="line">"REED", "JEFFERSON", "ELVIS", "BERNARDO", "MAURICIO", "HIRAM", "DONOVAN", "BASIL", "RILEY", "NICKOLAS",</span><br><span class="line">"MAYNARD", "SCOT", "VINCE", "QUINCY", "EDDY", "SEBASTIAN", "FEDERICO", "ULYSSES", "HERIBERTO", "DONNELL",</span><br><span class="line">"COLE", "DAVIS", "GAVIN", "EMERY", "WARD", "ROMEO", "JAYSON", "DANTE", "CLEMENT", "COY",</span><br><span class="line">"MAXWELL", "JARVIS", "BRUNO", "ISSAC", "DUDLEY", "BROCK", "SANFORD", "CARMELO", "BARNEY", "NESTOR",</span><br><span class="line">"STEFAN", "DONNY", "ART", "LINWOOD", "BEAU", "WELDON", "GALEN", "ISIDRO", "TRUMAN", "DELMAR",</span><br><span class="line">"JOHNATHON", "SILAS", "FREDERIC", "DICK", "IRWIN", "MERLIN", "CHARLEY", "MARCELINO", "HARRIS", "CARLO",</span><br><span class="line">"TRENTON", "KURTIS", "HUNTER", "AURELIO", "WINFRED", "VITO", "COLLIN", "DENVER", "CARTER", "LEONEL",</span><br><span class="line">"EMORY", "PASQUALE", "MOHAMMAD", "MARIANO", "DANIAL", "LANDON", "DIRK", "BRANDEN", "ADAN", "BUFORD",</span><br><span class="line">"GERMAN", "WILMER", "EMERSON", "ZACHERY", "FLETCHER", "JACQUES", "ERROL", "DALTON", "MONROE", "JOSUE",</span><br><span class="line">"EDWARDO", "BOOKER", "WILFORD", "SONNY", "SHELTON", "CARSON", "THERON", "RAYMUNDO", "DAREN", "HOUSTON",</span><br><span class="line">"ROBBY", "LINCOLN", "GENARO", "BENNETT", "OCTAVIO", "CORNELL", "HUNG", "ARRON", "ANTONY", "HERSCHEL",</span><br><span class="line">"GIOVANNI", "GARTH", "CYRUS", "CYRIL", "RONNY", "LON", "FREEMAN", "DUNCAN", "KENNITH", "CARMINE",</span><br><span class="line">"ERICH", "CHADWICK", "WILBURN", "RUSS", "REID", "MYLES", "ANDERSON", "MORTON", "JONAS", "FOREST",</span><br><span class="line">"MITCHEL", "MERVIN", "ZANE", "RICH", "JAMEL", "LAZARO", "ALPHONSE", "RANDELL", "MAJOR", "JARRETT",</span><br><span class="line">"BROOKS", "ABDUL", "LUCIANO", "SEYMOUR", "EUGENIO", "MOHAMMED", "VALENTIN", "CHANCE", "ARNULFO", "LUCIEN",</span><br><span class="line">"FERDINAND", "THAD", "EZRA", "ALDO", "RUBIN", "ROYAL", "MITCH", "EARLE", "ABE", "WYATT",</span><br><span class="line">"MARQUIS", "LANNY", "KAREEM", "JAMAR", "BORIS", "ISIAH", "EMILE", "ELMO", "ARON", "LEOPOLDO",</span><br><span class="line">"EVERETTE", "JOSEF", "ELOY", "RODRICK", "REINALDO", "LUCIO", "JERROD", "WESTON", "HERSHEL", "BARTON",</span><br><span class="line">"PARKER", "LEMUEL", "BURT", "JULES", "GIL", "ELISEO", "AHMAD", "NIGEL", "EFREN", "ANTWAN",</span><br><span class="line">"ALDEN", "MARGARITO", "COLEMAN", "DINO", "OSVALDO", "LES", "DEANDRE", "NORMAND", "KIETH", "TREY",</span><br><span class="line">"NORBERTO", "NAPOLEON", "JEROLD", "FRITZ", "ROSENDO", "MILFORD", "CHRISTOPER", "ALFONZO", "LYMAN", "JOSIAH",</span><br><span class="line">"BRANT", "WILTON", "RICO", "JAMAAL", "DEWITT", "BRENTON", "OLIN", "FOSTER", "FAUSTINO", "CLAUDIO",</span><br><span class="line">"JUDSON", "GINO", "EDGARDO", "ALEC", "TANNER", "JARRED", "DONN", "TAD", "PRINCE", "PORFIRIO",</span><br><span class="line">"ODIS", "LENARD", "CHAUNCEY", "TOD", "MEL", "MARCELO", "KORY", "AUGUSTUS", "KEVEN", "HILARIO",</span><br><span class="line">"BUD", "SAL", "ORVAL", "MAURO", "ZACHARIAH", "OLEN", "ANIBAL", "MILO", "JED", "DILLON",</span><br><span class="line">"AMADO", "NEWTON", "LENNY", "RICHIE", "HORACIO", "BRICE", "MOHAMED", "DELMER", "DARIO", "REYES",</span><br><span class="line">"MAC", "JONAH", "JERROLD", "ROBT", "HANK", "RUPERT", "ROLLAND", "KENTON", "DAMION", "ANTONE",</span><br><span class="line">"WALDO", "FREDRIC", "BRADLY", "KIP", "BURL", "WALKER", "TYREE", "JEFFEREY", "AHMED", "WILLY",</span><br><span class="line">"STANFORD", "OREN", "NOBLE", "MOSHE", "MIKEL", "ENOCH", "BRENDON", "QUINTIN", "JAMISON", "FLORENCIO",</span><br><span class="line">"DARRICK", "TOBIAS", "HASSAN", "GIUSEPPE", "DEMARCUS", "CLETUS", "TYRELL", "LYNDON", "KEENAN", "WERNER",</span><br><span class="line">"GERALDO", "COLUMBUS", "CHET", "BERTRAM", "MARKUS", "HUEY", "HILTON", "DWAIN", "DONTE", "TYRON",</span><br><span class="line">"OMER", "ISAIAS", "HIPOLITO", "FERMIN", "ADALBERTO", "BO", "BARRETT", "TEODORO", "MCKINLEY", "MAXIMO",</span><br><span class="line">"GARFIELD", "RALEIGH", "LAWERENCE", "ABRAM", "RASHAD", "KING", "EMMITT", "DARON", "SAMUAL", "MIQUEL",</span><br><span class="line">"EUSEBIO", "DOMENIC", "DARRON", "BUSTER", "WILBER", "RENATO", "JC", "HOYT", "HAYWOOD", "EZEKIEL",</span><br><span class="line">"CHAS", "FLORENTINO", "ELROY", "CLEMENTE", "ARDEN", "NEVILLE", "EDISON", "DESHAWN", "NATHANIAL", "JORDON",</span><br><span class="line">"DANILO", "CLAUD", "SHERWOOD", "RAYMON", "RAYFORD", "CRISTOBAL", "AMBROSE", "TITUS", "HYMAN", "FELTON",</span><br><span class="line">"EZEQUIEL", "ERASMO", "STANTON", "LONNY", "LEN", "IKE", "MILAN", "LINO", "JAROD", "HERB",</span><br><span class="line">"ANDREAS", "WALTON", "RHETT", "PALMER", "DOUGLASS", "CORDELL", "OSWALDO", "ELLSWORTH", "VIRGILIO", "TONEY",</span><br><span class="line">"NATHANAEL", "DEL", "BENEDICT", "MOSE", "JOHNSON", "ISREAL", "GARRET", "FAUSTO", "ASA", "ARLEN",</span><br><span class="line">"ZACK", "WARNER", "MODESTO", "FRANCESCO", "MANUAL", "GAYLORD", "GASTON", "FILIBERTO", "DEANGELO", "MICHALE",</span><br><span class="line">"GRANVILLE", "WES", "MALIK", "ZACKARY", "TUAN", "ELDRIDGE", "CRISTOPHER", "CORTEZ", "ANTIONE", "MALCOM",</span><br><span class="line">"LONG", "KOREY", "JOSPEH", "COLTON", "WAYLON", "VON", "HOSEA", "SHAD", "SANTO", "RUDOLF",</span><br><span class="line">"ROLF", "REY", "RENALDO", "MARCELLUS", "LUCIUS", "KRISTOFER", "BOYCE", "BENTON", "HAYDEN", "HARLAND",</span><br><span class="line">"ARNOLDO", "RUEBEN", "LEANDRO", "KRAIG", "JERRELL", "JEROMY", "HOBERT", "CEDRICK", "ARLIE", "WINFORD",</span><br><span class="line">"WALLY", "LUIGI", "KENETH", "JACINTO", "GRAIG", "FRANKLYN", "EDMUNDO", "SID", "PORTER", "LEIF",</span><br><span class="line">"JERAMY", "BUCK", "WILLIAN", "VINCENZO", "SHON", "LYNWOOD", "JERE", "HAI", "ELDEN", "DORSEY",</span><br><span class="line">"DARELL", "BRODERICK", "ALONSO"&#125;;</span><br><span class="line"></span><br><span class="line">StringSum[s_] := <span class="keyword">Total</span>[<span class="keyword">ToCharacterCode</span>[s] - (<span class="keyword">ToCharacterCode</span>[<span class="string">"A"</span>][[<span class="number">1</span>]] - <span class="number">1</span>)]</span><br><span class="line">sorted = <span class="keyword">Sort</span>[peoplenames];</span><br><span class="line"><span class="keyword">Sum</span>[i * StringSum[sorted[[i]]], &#123;i, Length[sorted]&#125;]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p022</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p022().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We apply straightforward algorithms to sort the names, sum the letter values, and multiply by the position.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Arrays.sort(names);</span><br><span class="line"><span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; names.length; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> value = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; names[i].length(); j++)</span><br><span class="line">value += names[i].charAt(j) - <span class="string">'A'</span> + <span class="number">1</span>;</span><br><span class="line">sum += value * (i + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Long.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String[] names = &#123;  <span class="comment">// 10 strings per line, except final line. Mutable array</span></span><br><span class="line"><span class="string">"MARY"</span>, <span class="string">"PATRICIA"</span>, <span class="string">"LINDA"</span>, <span class="string">"BARBARA"</span>, <span class="string">"ELIZABETH"</span>, <span class="string">"JENNIFER"</span>, <span class="string">"MARIA"</span>, <span class="string">"SUSAN"</span>, <span class="string">"MARGARET"</span>, <span class="string">"DOROTHY"</span>,</span><br><span class="line"><span class="string">"LISA"</span>, <span class="string">"NANCY"</span>, <span class="string">"KAREN"</span>, <span class="string">"BETTY"</span>, <span class="string">"HELEN"</span>, <span class="string">"SANDRA"</span>, <span class="string">"DONNA"</span>, <span class="string">"CAROL"</span>, <span class="string">"RUTH"</span>, <span class="string">"SHARON"</span>,</span><br><span class="line"><span class="string">"MICHELLE"</span>, <span class="string">"LAURA"</span>, <span class="string">"SARAH"</span>, <span class="string">"KIMBERLY"</span>, <span class="string">"DEBORAH"</span>, <span class="string">"JESSICA"</span>, <span class="string">"SHIRLEY"</span>, <span class="string">"CYNTHIA"</span>, <span class="string">"ANGELA"</span>, <span class="string">"MELISSA"</span>,</span><br><span class="line"><span class="string">"BRENDA"</span>, <span class="string">"AMY"</span>, <span class="string">"ANNA"</span>, <span class="string">"REBECCA"</span>, <span class="string">"VIRGINIA"</span>, <span class="string">"KATHLEEN"</span>, <span class="string">"PAMELA"</span>, <span class="string">"MARTHA"</span>, <span class="string">"DEBRA"</span>, <span class="string">"AMANDA"</span>,</span><br><span class="line"><span class="string">"STEPHANIE"</span>, <span class="string">"CAROLYN"</span>, <span class="string">"CHRISTINE"</span>, <span class="string">"MARIE"</span>, <span class="string">"JANET"</span>, <span class="string">"CATHERINE"</span>, <span class="string">"FRANCES"</span>, <span class="string">"ANN"</span>, <span class="string">"JOYCE"</span>, <span class="string">"DIANE"</span>,</span><br><span class="line"><span class="string">"ALICE"</span>, <span class="string">"JULIE"</span>, <span class="string">"HEATHER"</span>, <span class="string">"TERESA"</span>, <span class="string">"DORIS"</span>, <span class="string">"GLORIA"</span>, <span class="string">"EVELYN"</span>, <span class="string">"JEAN"</span>, <span class="string">"CHERYL"</span>, <span class="string">"MILDRED"</span>,</span><br><span class="line"><span class="string">"KATHERINE"</span>, <span class="string">"JOAN"</span>, <span class="string">"ASHLEY"</span>, <span class="string">"JUDITH"</span>, <span class="string">"ROSE"</span>, <span class="string">"JANICE"</span>, <span class="string">"KELLY"</span>, <span class="string">"NICOLE"</span>, <span class="string">"JUDY"</span>, <span class="string">"CHRISTINA"</span>,</span><br><span class="line"><span class="string">"KATHY"</span>, <span class="string">"THERESA"</span>, <span class="string">"BEVERLY"</span>, <span class="string">"DENISE"</span>, <span class="string">"TAMMY"</span>, <span class="string">"IRENE"</span>, <span class="string">"JANE"</span>, <span class="string">"LORI"</span>, <span class="string">"RACHEL"</span>, <span class="string">"MARILYN"</span>,</span><br><span class="line"><span class="string">"ANDREA"</span>, <span class="string">"KATHRYN"</span>, <span class="string">"LOUISE"</span>, <span class="string">"SARA"</span>, <span class="string">"ANNE"</span>, <span class="string">"JACQUELINE"</span>, <span class="string">"WANDA"</span>, <span class="string">"BONNIE"</span>, <span class="string">"JULIA"</span>, <span class="string">"RUBY"</span>,</span><br><span class="line"><span class="string">"LOIS"</span>, <span class="string">"TINA"</span>, <span class="string">"PHYLLIS"</span>, <span class="string">"NORMA"</span>, <span class="string">"PAULA"</span>, <span class="string">"DIANA"</span>, <span class="string">"ANNIE"</span>, <span class="string">"LILLIAN"</span>, <span class="string">"EMILY"</span>, <span class="string">"ROBIN"</span>,</span><br><span class="line"><span class="string">"PEGGY"</span>, <span class="string">"CRYSTAL"</span>, <span class="string">"GLADYS"</span>, <span class="string">"RITA"</span>, <span class="string">"DAWN"</span>, <span class="string">"CONNIE"</span>, <span class="string">"FLORENCE"</span>, <span class="string">"TRACY"</span>, <span class="string">"EDNA"</span>, <span class="string">"TIFFANY"</span>,</span><br><span class="line"><span class="string">"CARMEN"</span>, <span class="string">"ROSA"</span>, <span class="string">"CINDY"</span>, <span class="string">"GRACE"</span>, <span class="string">"WENDY"</span>, <span class="string">"VICTORIA"</span>, <span class="string">"EDITH"</span>, <span class="string">"KIM"</span>, <span class="string">"SHERRY"</span>, <span class="string">"SYLVIA"</span>,</span><br><span class="line"><span class="string">"JOSEPHINE"</span>, <span class="string">"THELMA"</span>, <span class="string">"SHANNON"</span>, <span class="string">"SHEILA"</span>, <span class="string">"ETHEL"</span>, <span class="string">"ELLEN"</span>, <span class="string">"ELAINE"</span>, <span class="string">"MARJORIE"</span>, <span class="string">"CARRIE"</span>, <span class="string">"CHARLOTTE"</span>,</span><br><span class="line"><span class="string">"MONICA"</span>, <span class="string">"ESTHER"</span>, <span class="string">"PAULINE"</span>, <span class="string">"EMMA"</span>, <span class="string">"JUANITA"</span>, <span class="string">"ANITA"</span>, <span class="string">"RHONDA"</span>, <span class="string">"HAZEL"</span>, <span class="string">"AMBER"</span>, <span class="string">"EVA"</span>,</span><br><span class="line"><span class="string">"DEBBIE"</span>, <span class="string">"APRIL"</span>, <span class="string">"LESLIE"</span>, <span class="string">"CLARA"</span>, <span class="string">"LUCILLE"</span>, <span class="string">"JAMIE"</span>, <span class="string">"JOANNE"</span>, <span class="string">"ELEANOR"</span>, <span class="string">"VALERIE"</span>, <span class="string">"DANIELLE"</span>,</span><br><span class="line"><span class="string">"MEGAN"</span>, <span class="string">"ALICIA"</span>, <span class="string">"SUZANNE"</span>, <span class="string">"MICHELE"</span>, <span class="string">"GAIL"</span>, <span class="string">"BERTHA"</span>, <span class="string">"DARLENE"</span>, <span class="string">"VERONICA"</span>, <span class="string">"JILL"</span>, <span class="string">"ERIN"</span>,</span><br><span class="line"><span class="string">"GERALDINE"</span>, <span class="string">"LAUREN"</span>, <span class="string">"CATHY"</span>, <span class="string">"JOANN"</span>, <span class="string">"LORRAINE"</span>, <span class="string">"LYNN"</span>, <span class="string">"SALLY"</span>, <span class="string">"REGINA"</span>, <span class="string">"ERICA"</span>, <span class="string">"BEATRICE"</span>,</span><br><span class="line"><span class="string">"DOLORES"</span>, <span class="string">"BERNICE"</span>, <span class="string">"AUDREY"</span>, <span class="string">"YVONNE"</span>, <span class="string">"ANNETTE"</span>, <span class="string">"JUNE"</span>, <span class="string">"SAMANTHA"</span>, <span class="string">"MARION"</span>, <span class="string">"DANA"</span>, <span class="string">"STACY"</span>,</span><br><span class="line"><span class="string">"ANA"</span>, <span class="string">"RENEE"</span>, <span class="string">"IDA"</span>, <span class="string">"VIVIAN"</span>, <span class="string">"ROBERTA"</span>, <span class="string">"HOLLY"</span>, <span class="string">"BRITTANY"</span>, <span class="string">"MELANIE"</span>, <span class="string">"LORETTA"</span>, <span class="string">"YOLANDA"</span>,</span><br><span class="line"><span class="string">"JEANETTE"</span>, <span class="string">"LAURIE"</span>, <span class="string">"KATIE"</span>, <span class="string">"KRISTEN"</span>, <span class="string">"VANESSA"</span>, <span class="string">"ALMA"</span>, <span class="string">"SUE"</span>, <span class="string">"ELSIE"</span>, <span class="string">"BETH"</span>, <span class="string">"JEANNE"</span>,</span><br><span class="line"><span class="string">"VICKI"</span>, <span class="string">"CARLA"</span>, <span class="string">"TARA"</span>, <span class="string">"ROSEMARY"</span>, <span class="string">"EILEEN"</span>, <span class="string">"TERRI"</span>, <span class="string">"GERTRUDE"</span>, <span class="string">"LUCY"</span>, <span class="string">"TONYA"</span>, <span class="string">"ELLA"</span>,</span><br><span class="line"><span class="string">"STACEY"</span>, <span class="string">"WILMA"</span>, <span class="string">"GINA"</span>, <span class="string">"KRISTIN"</span>, <span class="string">"JESSIE"</span>, <span class="string">"NATALIE"</span>, <span class="string">"AGNES"</span>, <span class="string">"VERA"</span>, <span class="string">"WILLIE"</span>, <span class="string">"CHARLENE"</span>,</span><br><span class="line"><span class="string">"BESSIE"</span>, <span class="string">"DELORES"</span>, <span class="string">"MELINDA"</span>, <span class="string">"PEARL"</span>, <span class="string">"ARLENE"</span>, <span class="string">"MAUREEN"</span>, <span class="string">"COLLEEN"</span>, <span class="string">"ALLISON"</span>, <span class="string">"TAMARA"</span>, <span class="string">"JOY"</span>,</span><br><span class="line"><span class="string">"GEORGIA"</span>, <span class="string">"CONSTANCE"</span>, <span class="string">"LILLIE"</span>, <span class="string">"CLAUDIA"</span>, <span class="string">"JACKIE"</span>, <span class="string">"MARCIA"</span>, <span class="string">"TANYA"</span>, <span class="string">"NELLIE"</span>, <span class="string">"MINNIE"</span>, <span class="string">"MARLENE"</span>,</span><br><span class="line"><span class="string">"HEIDI"</span>, <span class="string">"GLENDA"</span>, <span class="string">"LYDIA"</span>, <span class="string">"VIOLA"</span>, <span class="string">"COURTNEY"</span>, <span class="string">"MARIAN"</span>, <span class="string">"STELLA"</span>, <span class="string">"CAROLINE"</span>, <span class="string">"DORA"</span>, <span class="string">"JO"</span>,</span><br><span class="line"><span class="string">"VICKIE"</span>, <span class="string">"MATTIE"</span>, <span class="string">"TERRY"</span>, <span class="string">"MAXINE"</span>, <span class="string">"IRMA"</span>, <span class="string">"MABEL"</span>, <span class="string">"MARSHA"</span>, <span class="string">"MYRTLE"</span>, <span class="string">"LENA"</span>, <span class="string">"CHRISTY"</span>,</span><br><span class="line"><span class="string">"DEANNA"</span>, <span class="string">"PATSY"</span>, <span class="string">"HILDA"</span>, <span class="string">"GWENDOLYN"</span>, <span class="string">"JENNIE"</span>, <span class="string">"NORA"</span>, <span class="string">"MARGIE"</span>, <span class="string">"NINA"</span>, <span class="string">"CASSANDRA"</span>, <span class="string">"LEAH"</span>,</span><br><span class="line"><span class="string">"PENNY"</span>, <span class="string">"KAY"</span>, <span class="string">"PRISCILLA"</span>, <span class="string">"NAOMI"</span>, <span class="string">"CAROLE"</span>, <span class="string">"BRANDY"</span>, <span class="string">"OLGA"</span>, <span class="string">"BILLIE"</span>, <span class="string">"DIANNE"</span>, <span class="string">"TRACEY"</span>,</span><br><span class="line"><span class="string">"LEONA"</span>, <span class="string">"JENNY"</span>, <span class="string">"FELICIA"</span>, <span class="string">"SONIA"</span>, <span class="string">"MIRIAM"</span>, <span class="string">"VELMA"</span>, <span class="string">"BECKY"</span>, <span class="string">"BOBBIE"</span>, <span class="string">"VIOLET"</span>, <span class="string">"KRISTINA"</span>,</span><br><span class="line"><span class="string">"TONI"</span>, <span class="string">"MISTY"</span>, <span class="string">"MAE"</span>, <span class="string">"SHELLY"</span>, <span class="string">"DAISY"</span>, <span class="string">"RAMONA"</span>, <span class="string">"SHERRI"</span>, <span class="string">"ERIKA"</span>, <span class="string">"KATRINA"</span>, <span class="string">"CLAIRE"</span>,</span><br><span class="line"><span class="string">"LINDSEY"</span>, <span class="string">"LINDSAY"</span>, <span class="string">"GENEVA"</span>, <span class="string">"GUADALUPE"</span>, <span class="string">"BELINDA"</span>, <span class="string">"MARGARITA"</span>, <span class="string">"SHERYL"</span>, <span class="string">"CORA"</span>, <span class="string">"FAYE"</span>, <span class="string">"ADA"</span>,</span><br><span class="line"><span class="string">"NATASHA"</span>, <span class="string">"SABRINA"</span>, <span class="string">"ISABEL"</span>, <span class="string">"MARGUERITE"</span>, <span class="string">"HATTIE"</span>, <span class="string">"HARRIET"</span>, <span class="string">"MOLLY"</span>, <span class="string">"CECILIA"</span>, <span class="string">"KRISTI"</span>, <span class="string">"BRANDI"</span>,</span><br><span class="line"><span class="string">"BLANCHE"</span>, <span class="string">"SANDY"</span>, <span class="string">"ROSIE"</span>, <span class="string">"JOANNA"</span>, <span class="string">"IRIS"</span>, <span class="string">"EUNICE"</span>, <span class="string">"ANGIE"</span>, <span class="string">"INEZ"</span>, <span class="string">"LYNDA"</span>, <span class="string">"MADELINE"</span>,</span><br><span class="line"><span class="string">"AMELIA"</span>, <span class="string">"ALBERTA"</span>, <span class="string">"GENEVIEVE"</span>, <span class="string">"MONIQUE"</span>, <span class="string">"JODI"</span>, <span class="string">"JANIE"</span>, <span class="string">"MAGGIE"</span>, <span class="string">"KAYLA"</span>, <span class="string">"SONYA"</span>, <span class="string">"JAN"</span>,</span><br><span class="line"><span class="string">"LEE"</span>, <span class="string">"KRISTINE"</span>, <span class="string">"CANDACE"</span>, <span class="string">"FANNIE"</span>, <span class="string">"MARYANN"</span>, <span class="string">"OPAL"</span>, <span class="string">"ALISON"</span>, <span class="string">"YVETTE"</span>, <span class="string">"MELODY"</span>, <span class="string">"LUZ"</span>,</span><br><span class="line"><span class="string">"SUSIE"</span>, <span class="string">"OLIVIA"</span>, <span class="string">"FLORA"</span>, <span class="string">"SHELLEY"</span>, <span class="string">"KRISTY"</span>, <span class="string">"MAMIE"</span>, <span class="string">"LULA"</span>, <span class="string">"LOLA"</span>, <span class="string">"VERNA"</span>, <span class="string">"BEULAH"</span>,</span><br><span class="line"><span class="string">"ANTOINETTE"</span>, <span class="string">"CANDICE"</span>, <span class="string">"JUANA"</span>, <span class="string">"JEANNETTE"</span>, <span class="string">"PAM"</span>, <span class="string">"KELLI"</span>, <span class="string">"HANNAH"</span>, <span class="string">"WHITNEY"</span>, <span class="string">"BRIDGET"</span>, <span class="string">"KARLA"</span>,</span><br><span class="line"><span class="string">"CELIA"</span>, <span class="string">"LATOYA"</span>, <span class="string">"PATTY"</span>, <span class="string">"SHELIA"</span>, <span class="string">"GAYLE"</span>, <span class="string">"DELLA"</span>, <span class="string">"VICKY"</span>, <span class="string">"LYNNE"</span>, <span class="string">"SHERI"</span>, <span class="string">"MARIANNE"</span>,</span><br><span class="line"><span class="string">"KARA"</span>, <span class="string">"JACQUELYN"</span>, <span class="string">"ERMA"</span>, <span class="string">"BLANCA"</span>, <span class="string">"MYRA"</span>, <span class="string">"LETICIA"</span>, <span class="string">"PAT"</span>, <span class="string">"KRISTA"</span>, <span class="string">"ROXANNE"</span>, <span class="string">"ANGELICA"</span>,</span><br><span class="line"><span class="string">"JOHNNIE"</span>, <span class="string">"ROBYN"</span>, <span class="string">"FRANCIS"</span>, <span class="string">"ADRIENNE"</span>, <span class="string">"ROSALIE"</span>, <span class="string">"ALEXANDRA"</span>, <span class="string">"BROOKE"</span>, <span class="string">"BETHANY"</span>, <span class="string">"SADIE"</span>, <span class="string">"BERNADETTE"</span>,</span><br><span class="line"><span class="string">"TRACI"</span>, <span class="string">"JODY"</span>, <span class="string">"KENDRA"</span>, <span class="string">"JASMINE"</span>, <span class="string">"NICHOLE"</span>, <span class="string">"RACHAEL"</span>, <span class="string">"CHELSEA"</span>, <span class="string">"MABLE"</span>, <span class="string">"ERNESTINE"</span>, <span class="string">"MURIEL"</span>,</span><br><span class="line"><span class="string">"MARCELLA"</span>, <span class="string">"ELENA"</span>, <span class="string">"KRYSTAL"</span>, <span class="string">"ANGELINA"</span>, <span class="string">"NADINE"</span>, <span class="string">"KARI"</span>, <span class="string">"ESTELLE"</span>, <span class="string">"DIANNA"</span>, <span class="string">"PAULETTE"</span>, <span class="string">"LORA"</span>,</span><br><span class="line"><span class="string">"MONA"</span>, <span class="string">"DOREEN"</span>, <span class="string">"ROSEMARIE"</span>, <span class="string">"ANGEL"</span>, <span class="string">"DESIREE"</span>, <span class="string">"ANTONIA"</span>, <span class="string">"HOPE"</span>, <span class="string">"GINGER"</span>, <span class="string">"JANIS"</span>, <span class="string">"BETSY"</span>,</span><br><span class="line"><span class="string">"CHRISTIE"</span>, <span class="string">"FREDA"</span>, <span class="string">"MERCEDES"</span>, <span class="string">"MEREDITH"</span>, <span class="string">"LYNETTE"</span>, <span class="string">"TERI"</span>, <span class="string">"CRISTINA"</span>, <span class="string">"EULA"</span>, <span class="string">"LEIGH"</span>, <span class="string">"MEGHAN"</span>,</span><br><span class="line"><span class="string">"SOPHIA"</span>, <span class="string">"ELOISE"</span>, <span class="string">"ROCHELLE"</span>, <span class="string">"GRETCHEN"</span>, <span class="string">"CECELIA"</span>, <span class="string">"RAQUEL"</span>, <span class="string">"HENRIETTA"</span>, <span class="string">"ALYSSA"</span>, <span class="string">"JANA"</span>, <span class="string">"KELLEY"</span>,</span><br><span class="line"><span class="string">"GWEN"</span>, <span class="string">"KERRY"</span>, <span class="string">"JENNA"</span>, <span class="string">"TRICIA"</span>, <span class="string">"LAVERNE"</span>, <span class="string">"OLIVE"</span>, <span class="string">"ALEXIS"</span>, <span class="string">"TASHA"</span>, <span class="string">"SILVIA"</span>, <span class="string">"ELVIRA"</span>,</span><br><span class="line"><span class="string">"CASEY"</span>, <span class="string">"DELIA"</span>, <span class="string">"SOPHIE"</span>, <span class="string">"KATE"</span>, <span class="string">"PATTI"</span>, <span class="string">"LORENA"</span>, <span class="string">"KELLIE"</span>, <span class="string">"SONJA"</span>, <span class="string">"LILA"</span>, <span class="string">"LANA"</span>,</span><br><span class="line"><span class="string">"DARLA"</span>, <span class="string">"MAY"</span>, <span class="string">"MINDY"</span>, <span class="string">"ESSIE"</span>, <span class="string">"MANDY"</span>, <span class="string">"LORENE"</span>, <span class="string">"ELSA"</span>, <span class="string">"JOSEFINA"</span>, <span class="string">"JEANNIE"</span>, <span class="string">"MIRANDA"</span>,</span><br><span class="line"><span class="string">"DIXIE"</span>, <span class="string">"LUCIA"</span>, <span class="string">"MARTA"</span>, <span class="string">"FAITH"</span>, <span class="string">"LELA"</span>, <span class="string">"JOHANNA"</span>, <span class="string">"SHARI"</span>, <span class="string">"CAMILLE"</span>, <span class="string">"TAMI"</span>, <span class="string">"SHAWNA"</span>,</span><br><span class="line"><span class="string">"ELISA"</span>, <span class="string">"EBONY"</span>, <span class="string">"MELBA"</span>, <span class="string">"ORA"</span>, <span class="string">"NETTIE"</span>, <span class="string">"TABITHA"</span>, <span class="string">"OLLIE"</span>, <span class="string">"JAIME"</span>, <span class="string">"WINIFRED"</span>, <span class="string">"KRISTIE"</span>,</span><br><span class="line"><span class="string">"MARINA"</span>, <span class="string">"ALISHA"</span>, <span class="string">"AIMEE"</span>, <span class="string">"RENA"</span>, <span class="string">"MYRNA"</span>, <span class="string">"MARLA"</span>, <span class="string">"TAMMIE"</span>, <span class="string">"LATASHA"</span>, <span class="string">"BONITA"</span>, <span class="string">"PATRICE"</span>,</span><br><span class="line"><span class="string">"RONDA"</span>, <span class="string">"SHERRIE"</span>, <span class="string">"ADDIE"</span>, <span class="string">"FRANCINE"</span>, <span class="string">"DELORIS"</span>, <span class="string">"STACIE"</span>, <span class="string">"ADRIANA"</span>, <span class="string">"CHERI"</span>, <span class="string">"SHELBY"</span>, <span class="string">"ABIGAIL"</span>,</span><br><span class="line"><span class="string">"CELESTE"</span>, <span class="string">"JEWEL"</span>, <span class="string">"CARA"</span>, <span class="string">"ADELE"</span>, <span class="string">"REBEKAH"</span>, <span class="string">"LUCINDA"</span>, <span class="string">"DORTHY"</span>, <span class="string">"CHRIS"</span>, <span class="string">"EFFIE"</span>, <span class="string">"TRINA"</span>,</span><br><span class="line"><span class="string">"REBA"</span>, <span class="string">"SHAWN"</span>, <span class="string">"SALLIE"</span>, <span class="string">"AURORA"</span>, <span class="string">"LENORA"</span>, <span class="string">"ETTA"</span>, <span class="string">"LOTTIE"</span>, <span class="string">"KERRI"</span>, <span class="string">"TRISHA"</span>, <span class="string">"NIKKI"</span>,</span><br><span class="line"><span class="string">"ESTELLA"</span>, <span class="string">"FRANCISCA"</span>, <span class="string">"JOSIE"</span>, <span class="string">"TRACIE"</span>, <span class="string">"MARISSA"</span>, <span class="string">"KARIN"</span>, <span class="string">"BRITTNEY"</span>, <span class="string">"JANELLE"</span>, <span class="string">"LOURDES"</span>, <span class="string">"LAUREL"</span>,</span><br><span class="line"><span class="string">"HELENE"</span>, <span class="string">"FERN"</span>, <span class="string">"ELVA"</span>, <span class="string">"CORINNE"</span>, <span class="string">"KELSEY"</span>, <span class="string">"INA"</span>, <span class="string">"BETTIE"</span>, <span class="string">"ELISABETH"</span>, <span class="string">"AIDA"</span>, <span class="string">"CAITLIN"</span>,</span><br><span class="line"><span class="string">"INGRID"</span>, <span class="string">"IVA"</span>, <span class="string">"EUGENIA"</span>, <span class="string">"CHRISTA"</span>, <span class="string">"GOLDIE"</span>, <span class="string">"CASSIE"</span>, <span class="string">"MAUDE"</span>, <span class="string">"JENIFER"</span>, <span class="string">"THERESE"</span>, <span class="string">"FRANKIE"</span>,</span><br><span class="line"><span class="string">"DENA"</span>, <span class="string">"LORNA"</span>, <span class="string">"JANETTE"</span>, <span class="string">"LATONYA"</span>, <span class="string">"CANDY"</span>, <span class="string">"MORGAN"</span>, <span class="string">"CONSUELO"</span>, <span class="string">"TAMIKA"</span>, <span class="string">"ROSETTA"</span>, <span class="string">"DEBORA"</span>,</span><br><span class="line"><span class="string">"CHERIE"</span>, <span class="string">"POLLY"</span>, <span class="string">"DINA"</span>, <span class="string">"JEWELL"</span>, <span class="string">"FAY"</span>, <span class="string">"JILLIAN"</span>, <span class="string">"DOROTHEA"</span>, <span class="string">"NELL"</span>, <span class="string">"TRUDY"</span>, <span class="string">"ESPERANZA"</span>,</span><br><span class="line"><span class="string">"PATRICA"</span>, <span class="string">"KIMBERLEY"</span>, <span class="string">"SHANNA"</span>, <span class="string">"HELENA"</span>, <span class="string">"CAROLINA"</span>, <span class="string">"CLEO"</span>, <span class="string">"STEFANIE"</span>, <span class="string">"ROSARIO"</span>, <span class="string">"OLA"</span>, <span class="string">"JANINE"</span>,</span><br><span class="line"><span class="string">"MOLLIE"</span>, <span class="string">"LUPE"</span>, <span class="string">"ALISA"</span>, <span class="string">"LOU"</span>, <span class="string">"MARIBEL"</span>, <span class="string">"SUSANNE"</span>, <span class="string">"BETTE"</span>, <span class="string">"SUSANA"</span>, <span class="string">"ELISE"</span>, <span class="string">"CECILE"</span>,</span><br><span class="line"><span class="string">"ISABELLE"</span>, <span class="string">"LESLEY"</span>, <span class="string">"JOCELYN"</span>, <span class="string">"PAIGE"</span>, <span class="string">"JONI"</span>, <span class="string">"RACHELLE"</span>, <span class="string">"LEOLA"</span>, <span class="string">"DAPHNE"</span>, <span class="string">"ALTA"</span>, <span class="string">"ESTER"</span>,</span><br><span class="line"><span class="string">"PETRA"</span>, <span class="string">"GRACIELA"</span>, <span class="string">"IMOGENE"</span>, <span class="string">"JOLENE"</span>, <span class="string">"KEISHA"</span>, <span class="string">"LACEY"</span>, <span class="string">"GLENNA"</span>, <span class="string">"GABRIELA"</span>, <span class="string">"KERI"</span>, <span class="string">"URSULA"</span>,</span><br><span class="line"><span class="string">"LIZZIE"</span>, <span class="string">"KIRSTEN"</span>, <span class="string">"SHANA"</span>, <span class="string">"ADELINE"</span>, <span class="string">"MAYRA"</span>, <span class="string">"JAYNE"</span>, <span class="string">"JACLYN"</span>, <span class="string">"GRACIE"</span>, <span class="string">"SONDRA"</span>, <span class="string">"CARMELA"</span>,</span><br><span class="line"><span class="string">"MARISA"</span>, <span class="string">"ROSALIND"</span>, <span class="string">"CHARITY"</span>, <span class="string">"TONIA"</span>, <span class="string">"BEATRIZ"</span>, <span class="string">"MARISOL"</span>, <span class="string">"CLARICE"</span>, <span class="string">"JEANINE"</span>, <span class="string">"SHEENA"</span>, <span class="string">"ANGELINE"</span>,</span><br><span class="line"><span class="string">"FRIEDA"</span>, <span class="string">"LILY"</span>, <span class="string">"ROBBIE"</span>, <span class="string">"SHAUNA"</span>, <span class="string">"MILLIE"</span>, <span class="string">"CLAUDETTE"</span>, <span class="string">"CATHLEEN"</span>, <span class="string">"ANGELIA"</span>, <span class="string">"GABRIELLE"</span>, <span class="string">"AUTUMN"</span>,</span><br><span class="line"><span class="string">"KATHARINE"</span>, <span class="string">"SUMMER"</span>, <span class="string">"JODIE"</span>, <span class="string">"STACI"</span>, <span class="string">"LEA"</span>, <span class="string">"CHRISTI"</span>, <span class="string">"JIMMIE"</span>, <span class="string">"JUSTINE"</span>, <span class="string">"ELMA"</span>, <span class="string">"LUELLA"</span>,</span><br><span class="line"><span class="string">"MARGRET"</span>, <span class="string">"DOMINIQUE"</span>, <span class="string">"SOCORRO"</span>, <span class="string">"RENE"</span>, <span class="string">"MARTINA"</span>, <span class="string">"MARGO"</span>, <span class="string">"MAVIS"</span>, <span class="string">"CALLIE"</span>, <span class="string">"BOBBI"</span>, <span class="string">"MARITZA"</span>,</span><br><span class="line"><span class="string">"LUCILE"</span>, <span class="string">"LEANNE"</span>, <span class="string">"JEANNINE"</span>, <span class="string">"DEANA"</span>, <span class="string">"AILEEN"</span>, <span class="string">"LORIE"</span>, <span class="string">"LADONNA"</span>, <span class="string">"WILLA"</span>, <span class="string">"MANUELA"</span>, <span class="string">"GALE"</span>,</span><br><span class="line"><span class="string">"SELMA"</span>, <span class="string">"DOLLY"</span>, <span class="string">"SYBIL"</span>, <span class="string">"ABBY"</span>, <span class="string">"LARA"</span>, <span class="string">"DALE"</span>, <span class="string">"IVY"</span>, <span class="string">"DEE"</span>, <span class="string">"WINNIE"</span>, <span class="string">"MARCY"</span>,</span><br><span class="line"><span class="string">"LUISA"</span>, <span class="string">"JERI"</span>, <span class="string">"MAGDALENA"</span>, <span class="string">"OFELIA"</span>, <span class="string">"MEAGAN"</span>, <span class="string">"AUDRA"</span>, <span class="string">"MATILDA"</span>, <span class="string">"LEILA"</span>, <span class="string">"CORNELIA"</span>, <span class="string">"BIANCA"</span>,</span><br><span class="line"><span class="string">"SIMONE"</span>, <span class="string">"BETTYE"</span>, <span class="string">"RANDI"</span>, <span class="string">"VIRGIE"</span>, <span class="string">"LATISHA"</span>, <span class="string">"BARBRA"</span>, <span class="string">"GEORGINA"</span>, <span class="string">"ELIZA"</span>, <span class="string">"LEANN"</span>, <span class="string">"BRIDGETTE"</span>,</span><br><span class="line"><span class="string">"RHODA"</span>, <span class="string">"HALEY"</span>, <span class="string">"ADELA"</span>, <span class="string">"NOLA"</span>, <span class="string">"BERNADINE"</span>, <span class="string">"FLOSSIE"</span>, <span class="string">"ILA"</span>, <span class="string">"GRETA"</span>, <span class="string">"RUTHIE"</span>, <span class="string">"NELDA"</span>,</span><br><span class="line"><span class="string">"MINERVA"</span>, <span class="string">"LILLY"</span>, <span class="string">"TERRIE"</span>, <span class="string">"LETHA"</span>, <span class="string">"HILARY"</span>, <span class="string">"ESTELA"</span>, <span class="string">"VALARIE"</span>, <span class="string">"BRIANNA"</span>, <span class="string">"ROSALYN"</span>, <span class="string">"EARLINE"</span>,</span><br><span class="line"><span class="string">"CATALINA"</span>, <span class="string">"AVA"</span>, <span class="string">"MIA"</span>, <span class="string">"CLARISSA"</span>, <span class="string">"LIDIA"</span>, <span class="string">"CORRINE"</span>, <span class="string">"ALEXANDRIA"</span>, <span class="string">"CONCEPCION"</span>, <span class="string">"TIA"</span>, <span class="string">"SHARRON"</span>,</span><br><span class="line"><span class="string">"RAE"</span>, <span class="string">"DONA"</span>, <span class="string">"ERICKA"</span>, <span class="string">"JAMI"</span>, <span class="string">"ELNORA"</span>, <span class="string">"CHANDRA"</span>, <span class="string">"LENORE"</span>, <span class="string">"NEVA"</span>, <span class="string">"MARYLOU"</span>, <span class="string">"MELISA"</span>,</span><br><span class="line"><span class="string">"TABATHA"</span>, <span class="string">"SERENA"</span>, <span class="string">"AVIS"</span>, <span class="string">"ALLIE"</span>, <span class="string">"SOFIA"</span>, <span class="string">"JEANIE"</span>, <span class="string">"ODESSA"</span>, <span class="string">"NANNIE"</span>, <span class="string">"HARRIETT"</span>, <span class="string">"LORAINE"</span>,</span><br><span class="line"><span class="string">"PENELOPE"</span>, <span class="string">"MILAGROS"</span>, <span class="string">"EMILIA"</span>, <span class="string">"BENITA"</span>, <span class="string">"ALLYSON"</span>, <span class="string">"ASHLEE"</span>, <span class="string">"TANIA"</span>, <span class="string">"TOMMIE"</span>, <span class="string">"ESMERALDA"</span>, <span class="string">"KARINA"</span>,</span><br><span class="line"><span class="string">"EVE"</span>, <span class="string">"PEARLIE"</span>, <span class="string">"ZELMA"</span>, <span class="string">"MALINDA"</span>, <span class="string">"NOREEN"</span>, <span class="string">"TAMEKA"</span>, <span class="string">"SAUNDRA"</span>, <span class="string">"HILLARY"</span>, <span class="string">"AMIE"</span>, <span class="string">"ALTHEA"</span>,</span><br><span class="line"><span class="string">"ROSALINDA"</span>, <span class="string">"JORDAN"</span>, <span class="string">"LILIA"</span>, <span class="string">"ALANA"</span>, <span class="string">"GAY"</span>, <span class="string">"CLARE"</span>, <span class="string">"ALEJANDRA"</span>, <span class="string">"ELINOR"</span>, <span class="string">"MICHAEL"</span>, <span class="string">"LORRIE"</span>,</span><br><span class="line"><span class="string">"JERRI"</span>, <span class="string">"DARCY"</span>, <span class="string">"EARNESTINE"</span>, <span class="string">"CARMELLA"</span>, <span class="string">"TAYLOR"</span>, <span class="string">"NOEMI"</span>, <span class="string">"MARCIE"</span>, <span class="string">"LIZA"</span>, <span class="string">"ANNABELLE"</span>, <span class="string">"LOUISA"</span>,</span><br><span class="line"><span class="string">"EARLENE"</span>, <span class="string">"MALLORY"</span>, <span class="string">"CARLENE"</span>, <span class="string">"NITA"</span>, <span class="string">"SELENA"</span>, <span class="string">"TANISHA"</span>, <span class="string">"KATY"</span>, <span class="string">"JULIANNE"</span>, <span class="string">"JOHN"</span>, <span class="string">"LAKISHA"</span>,</span><br><span class="line"><span class="string">"EDWINA"</span>, <span class="string">"MARICELA"</span>, <span class="string">"MARGERY"</span>, <span class="string">"KENYA"</span>, <span class="string">"DOLLIE"</span>, <span class="string">"ROXIE"</span>, <span class="string">"ROSLYN"</span>, <span class="string">"KATHRINE"</span>, <span class="string">"NANETTE"</span>, <span class="string">"CHARMAINE"</span>,</span><br><span class="line"><span class="string">"LAVONNE"</span>, <span class="string">"ILENE"</span>, <span class="string">"KRIS"</span>, <span class="string">"TAMMI"</span>, <span class="string">"SUZETTE"</span>, <span class="string">"CORINE"</span>, <span class="string">"KAYE"</span>, <span class="string">"JERRY"</span>, <span class="string">"MERLE"</span>, <span class="string">"CHRYSTAL"</span>,</span><br><span class="line"><span class="string">"LINA"</span>, <span class="string">"DEANNE"</span>, <span class="string">"LILIAN"</span>, <span class="string">"JULIANA"</span>, <span class="string">"ALINE"</span>, <span class="string">"LUANN"</span>, <span class="string">"KASEY"</span>, <span class="string">"MARYANNE"</span>, <span class="string">"EVANGELINE"</span>, <span class="string">"COLETTE"</span>,</span><br><span class="line"><span class="string">"MELVA"</span>, <span class="string">"LAWANDA"</span>, <span class="string">"YESENIA"</span>, <span class="string">"NADIA"</span>, <span class="string">"MADGE"</span>, <span class="string">"KATHIE"</span>, <span class="string">"EDDIE"</span>, <span class="string">"OPHELIA"</span>, <span class="string">"VALERIA"</span>, <span class="string">"NONA"</span>,</span><br><span class="line"><span class="string">"MITZI"</span>, <span class="string">"MARI"</span>, <span class="string">"GEORGETTE"</span>, <span class="string">"CLAUDINE"</span>, <span class="string">"FRAN"</span>, <span class="string">"ALISSA"</span>, <span class="string">"ROSEANN"</span>, <span class="string">"LAKEISHA"</span>, <span class="string">"SUSANNA"</span>, <span class="string">"REVA"</span>,</span><br><span class="line"><span class="string">"DEIDRE"</span>, <span class="string">"CHASITY"</span>, <span class="string">"SHEREE"</span>, <span class="string">"CARLY"</span>, <span class="string">"JAMES"</span>, <span class="string">"ELVIA"</span>, <span class="string">"ALYCE"</span>, <span class="string">"DEIRDRE"</span>, <span class="string">"GENA"</span>, <span class="string">"BRIANA"</span>,</span><br><span class="line"><span class="string">"ARACELI"</span>, <span class="string">"KATELYN"</span>, <span class="string">"ROSANNE"</span>, <span class="string">"WENDI"</span>, <span class="string">"TESSA"</span>, <span class="string">"BERTA"</span>, <span class="string">"MARVA"</span>, <span class="string">"IMELDA"</span>, <span class="string">"MARIETTA"</span>, <span class="string">"MARCI"</span>,</span><br><span class="line"><span class="string">"LEONOR"</span>, <span class="string">"ARLINE"</span>, <span class="string">"SASHA"</span>, <span class="string">"MADELYN"</span>, <span class="string">"JANNA"</span>, <span class="string">"JULIETTE"</span>, <span class="string">"DEENA"</span>, <span class="string">"AURELIA"</span>, <span class="string">"JOSEFA"</span>, <span class="string">"AUGUSTA"</span>,</span><br><span class="line"><span class="string">"LILIANA"</span>, <span class="string">"YOUNG"</span>, <span class="string">"CHRISTIAN"</span>, <span class="string">"LESSIE"</span>, <span class="string">"AMALIA"</span>, <span class="string">"SAVANNAH"</span>, <span class="string">"ANASTASIA"</span>, <span class="string">"VILMA"</span>, <span class="string">"NATALIA"</span>, <span class="string">"ROSELLA"</span>,</span><br><span class="line"><span class="string">"LYNNETTE"</span>, <span class="string">"CORINA"</span>, <span class="string">"ALFREDA"</span>, <span class="string">"LEANNA"</span>, <span class="string">"CAREY"</span>, <span class="string">"AMPARO"</span>, <span class="string">"COLEEN"</span>, <span class="string">"TAMRA"</span>, <span class="string">"AISHA"</span>, <span class="string">"WILDA"</span>,</span><br><span class="line"><span class="string">"KARYN"</span>, <span class="string">"CHERRY"</span>, <span class="string">"QUEEN"</span>, <span class="string">"MAURA"</span>, <span class="string">"MAI"</span>, <span class="string">"EVANGELINA"</span>, <span class="string">"ROSANNA"</span>, <span class="string">"HALLIE"</span>, <span class="string">"ERNA"</span>, <span class="string">"ENID"</span>,</span><br><span class="line"><span class="string">"MARIANA"</span>, <span class="string">"LACY"</span>, <span class="string">"JULIET"</span>, <span class="string">"JACKLYN"</span>, <span class="string">"FREIDA"</span>, <span class="string">"MADELEINE"</span>, <span class="string">"MARA"</span>, <span class="string">"HESTER"</span>, <span class="string">"CATHRYN"</span>, <span class="string">"LELIA"</span>,</span><br><span class="line"><span class="string">"CASANDRA"</span>, <span class="string">"BRIDGETT"</span>, <span class="string">"ANGELITA"</span>, <span class="string">"JANNIE"</span>, <span class="string">"DIONNE"</span>, <span class="string">"ANNMARIE"</span>, <span class="string">"KATINA"</span>, <span class="string">"BERYL"</span>, <span class="string">"PHOEBE"</span>, <span class="string">"MILLICENT"</span>,</span><br><span class="line"><span class="string">"KATHERYN"</span>, <span class="string">"DIANN"</span>, <span class="string">"CARISSA"</span>, <span class="string">"MARYELLEN"</span>, <span class="string">"LIZ"</span>, <span class="string">"LAURI"</span>, <span class="string">"HELGA"</span>, <span class="string">"GILDA"</span>, <span class="string">"ADRIAN"</span>, <span class="string">"RHEA"</span>,</span><br><span class="line"><span class="string">"MARQUITA"</span>, <span class="string">"HOLLIE"</span>, <span class="string">"TISHA"</span>, <span class="string">"TAMERA"</span>, <span class="string">"ANGELIQUE"</span>, <span class="string">"FRANCESCA"</span>, <span class="string">"BRITNEY"</span>, <span class="string">"KAITLIN"</span>, <span class="string">"LOLITA"</span>, <span class="string">"FLORINE"</span>,</span><br><span class="line"><span class="string">"ROWENA"</span>, <span class="string">"REYNA"</span>, <span class="string">"TWILA"</span>, <span class="string">"FANNY"</span>, <span class="string">"JANELL"</span>, <span class="string">"INES"</span>, <span class="string">"CONCETTA"</span>, <span class="string">"BERTIE"</span>, <span class="string">"ALBA"</span>, <span class="string">"BRIGITTE"</span>,</span><br><span class="line"><span class="string">"ALYSON"</span>, <span class="string">"VONDA"</span>, <span class="string">"PANSY"</span>, <span class="string">"ELBA"</span>, <span class="string">"NOELLE"</span>, <span class="string">"LETITIA"</span>, <span class="string">"KITTY"</span>, <span class="string">"DEANN"</span>, <span class="string">"BRANDIE"</span>, <span class="string">"LOUELLA"</span>,</span><br><span class="line"><span class="string">"LETA"</span>, <span class="string">"FELECIA"</span>, <span class="string">"SHARLENE"</span>, <span class="string">"LESA"</span>, <span class="string">"BEVERLEY"</span>, <span class="string">"ROBERT"</span>, <span class="string">"ISABELLA"</span>, <span class="string">"HERMINIA"</span>, <span class="string">"TERRA"</span>, <span class="string">"CELINA"</span>,</span><br><span class="line"><span class="string">"TORI"</span>, <span class="string">"OCTAVIA"</span>, <span class="string">"JADE"</span>, <span class="string">"DENICE"</span>, <span class="string">"GERMAINE"</span>, <span class="string">"SIERRA"</span>, <span class="string">"MICHELL"</span>, <span class="string">"CORTNEY"</span>, <span class="string">"NELLY"</span>, <span class="string">"DORETHA"</span>,</span><br><span class="line"><span class="string">"SYDNEY"</span>, <span class="string">"DEIDRA"</span>, <span class="string">"MONIKA"</span>, <span class="string">"LASHONDA"</span>, <span class="string">"JUDI"</span>, <span class="string">"CHELSEY"</span>, <span class="string">"ANTIONETTE"</span>, <span class="string">"MARGOT"</span>, <span class="string">"BOBBY"</span>, <span class="string">"ADELAIDE"</span>,</span><br><span class="line"><span class="string">"NAN"</span>, <span class="string">"LEEANN"</span>, <span class="string">"ELISHA"</span>, <span class="string">"DESSIE"</span>, <span class="string">"LIBBY"</span>, <span class="string">"KATHI"</span>, <span class="string">"GAYLA"</span>, <span class="string">"LATANYA"</span>, <span class="string">"MINA"</span>, <span class="string">"MELLISA"</span>,</span><br><span class="line"><span class="string">"KIMBERLEE"</span>, <span class="string">"JASMIN"</span>, <span class="string">"RENAE"</span>, <span class="string">"ZELDA"</span>, <span class="string">"ELDA"</span>, <span class="string">"MA"</span>, <span class="string">"JUSTINA"</span>, <span class="string">"GUSSIE"</span>, <span class="string">"EMILIE"</span>, <span class="string">"CAMILLA"</span>,</span><br><span class="line"><span class="string">"ABBIE"</span>, <span class="string">"ROCIO"</span>, <span class="string">"KAITLYN"</span>, <span class="string">"JESSE"</span>, <span class="string">"EDYTHE"</span>, <span class="string">"ASHLEIGH"</span>, <span class="string">"SELINA"</span>, <span class="string">"LAKESHA"</span>, <span class="string">"GERI"</span>, <span class="string">"ALLENE"</span>,</span><br><span class="line"><span class="string">"PAMALA"</span>, <span class="string">"MICHAELA"</span>, <span class="string">"DAYNA"</span>, <span class="string">"CARYN"</span>, <span class="string">"ROSALIA"</span>, <span class="string">"SUN"</span>, <span class="string">"JACQULINE"</span>, <span class="string">"REBECA"</span>, <span class="string">"MARYBETH"</span>, <span class="string">"KRYSTLE"</span>,</span><br><span class="line"><span class="string">"IOLA"</span>, <span class="string">"DOTTIE"</span>, <span class="string">"BENNIE"</span>, <span class="string">"BELLE"</span>, <span class="string">"AUBREY"</span>, <span class="string">"GRISELDA"</span>, <span class="string">"ERNESTINA"</span>, <span class="string">"ELIDA"</span>, <span class="string">"ADRIANNE"</span>, <span class="string">"DEMETRIA"</span>,</span><br><span class="line"><span class="string">"DELMA"</span>, <span class="string">"CHONG"</span>, <span class="string">"JAQUELINE"</span>, <span class="string">"DESTINY"</span>, <span class="string">"ARLEEN"</span>, <span class="string">"VIRGINA"</span>, <span class="string">"RETHA"</span>, <span class="string">"FATIMA"</span>, <span class="string">"TILLIE"</span>, <span class="string">"ELEANORE"</span>,</span><br><span class="line"><span class="string">"CARI"</span>, <span class="string">"TREVA"</span>, <span class="string">"BIRDIE"</span>, <span class="string">"WILHELMINA"</span>, <span class="string">"ROSALEE"</span>, <span class="string">"MAURINE"</span>, <span class="string">"LATRICE"</span>, <span class="string">"YONG"</span>, <span class="string">"JENA"</span>, <span class="string">"TARYN"</span>,</span><br><span class="line"><span class="string">"ELIA"</span>, <span class="string">"DEBBY"</span>, <span class="string">"MAUDIE"</span>, <span class="string">"JEANNA"</span>, <span class="string">"DELILAH"</span>, <span class="string">"CATRINA"</span>, <span class="string">"SHONDA"</span>, <span class="string">"HORTENCIA"</span>, <span class="string">"THEODORA"</span>, <span class="string">"TERESITA"</span>,</span><br><span class="line"><span class="string">"ROBBIN"</span>, <span class="string">"DANETTE"</span>, <span class="string">"MARYJANE"</span>, <span class="string">"FREDDIE"</span>, <span class="string">"DELPHINE"</span>, <span class="string">"BRIANNE"</span>, <span class="string">"NILDA"</span>, <span class="string">"DANNA"</span>, <span class="string">"CINDI"</span>, <span class="string">"BESS"</span>,</span><br><span class="line"><span class="string">"IONA"</span>, <span class="string">"HANNA"</span>, <span class="string">"ARIEL"</span>, <span class="string">"WINONA"</span>, <span class="string">"VIDA"</span>, <span class="string">"ROSITA"</span>, <span class="string">"MARIANNA"</span>, <span class="string">"WILLIAM"</span>, <span class="string">"RACHEAL"</span>, <span class="string">"GUILLERMINA"</span>,</span><br><span class="line"><span class="string">"ELOISA"</span>, <span class="string">"CELESTINE"</span>, <span class="string">"CAREN"</span>, <span class="string">"MALISSA"</span>, <span class="string">"LONA"</span>, <span class="string">"CHANTEL"</span>, <span class="string">"SHELLIE"</span>, <span class="string">"MARISELA"</span>, <span class="string">"LEORA"</span>, <span class="string">"AGATHA"</span>,</span><br><span class="line"><span class="string">"SOLEDAD"</span>, <span class="string">"MIGDALIA"</span>, <span class="string">"IVETTE"</span>, <span class="string">"CHRISTEN"</span>, <span class="string">"ATHENA"</span>, <span class="string">"JANEL"</span>, <span class="string">"CHLOE"</span>, <span class="string">"VEDA"</span>, <span class="string">"PATTIE"</span>, <span class="string">"TESSIE"</span>,</span><br><span class="line"><span class="string">"TERA"</span>, <span class="string">"MARILYNN"</span>, <span class="string">"LUCRETIA"</span>, <span class="string">"KARRIE"</span>, <span class="string">"DINAH"</span>, <span class="string">"DANIELA"</span>, <span class="string">"ALECIA"</span>, <span class="string">"ADELINA"</span>, <span class="string">"VERNICE"</span>, <span class="string">"SHIELA"</span>,</span><br><span class="line"><span class="string">"PORTIA"</span>, <span class="string">"MERRY"</span>, <span class="string">"LASHAWN"</span>, <span class="string">"DEVON"</span>, <span class="string">"DARA"</span>, <span class="string">"TAWANA"</span>, <span class="string">"OMA"</span>, <span class="string">"VERDA"</span>, <span class="string">"CHRISTIN"</span>, <span class="string">"ALENE"</span>,</span><br><span class="line"><span class="string">"ZELLA"</span>, <span class="string">"SANDI"</span>, <span class="string">"RAFAELA"</span>, <span class="string">"MAYA"</span>, <span class="string">"KIRA"</span>, <span class="string">"CANDIDA"</span>, <span class="string">"ALVINA"</span>, <span class="string">"SUZAN"</span>, <span class="string">"SHAYLA"</span>, <span class="string">"LYN"</span>,</span><br><span class="line"><span class="string">"LETTIE"</span>, <span class="string">"ALVA"</span>, <span class="string">"SAMATHA"</span>, <span class="string">"ORALIA"</span>, <span class="string">"MATILDE"</span>, <span class="string">"MADONNA"</span>, <span class="string">"LARISSA"</span>, <span class="string">"VESTA"</span>, <span class="string">"RENITA"</span>, <span class="string">"INDIA"</span>,</span><br><span class="line"><span class="string">"DELOIS"</span>, <span class="string">"SHANDA"</span>, <span class="string">"PHILLIS"</span>, <span class="string">"LORRI"</span>, <span class="string">"ERLINDA"</span>, <span class="string">"CRUZ"</span>, <span class="string">"CATHRINE"</span>, <span class="string">"BARB"</span>, <span class="string">"ZOE"</span>, <span class="string">"ISABELL"</span>,</span><br><span class="line"><span class="string">"IONE"</span>, <span class="string">"GISELA"</span>, <span class="string">"CHARLIE"</span>, <span class="string">"VALENCIA"</span>, <span class="string">"ROXANNA"</span>, <span class="string">"MAYME"</span>, <span class="string">"KISHA"</span>, <span class="string">"ELLIE"</span>, <span class="string">"MELLISSA"</span>, <span class="string">"DORRIS"</span>,</span><br><span class="line"><span class="string">"DALIA"</span>, <span class="string">"BELLA"</span>, <span class="string">"ANNETTA"</span>, <span class="string">"ZOILA"</span>, <span class="string">"RETA"</span>, <span class="string">"REINA"</span>, <span class="string">"LAURETTA"</span>, <span class="string">"KYLIE"</span>, <span class="string">"CHRISTAL"</span>, <span class="string">"PILAR"</span>,</span><br><span class="line"><span class="string">"CHARLA"</span>, <span class="string">"ELISSA"</span>, <span class="string">"TIFFANI"</span>, <span class="string">"TANA"</span>, <span class="string">"PAULINA"</span>, <span class="string">"LEOTA"</span>, <span class="string">"BREANNA"</span>, <span class="string">"JAYME"</span>, <span class="string">"CARMEL"</span>, <span class="string">"VERNELL"</span>,</span><br><span class="line"><span class="string">"TOMASA"</span>, <span class="string">"MANDI"</span>, <span class="string">"DOMINGA"</span>, <span class="string">"SANTA"</span>, <span class="string">"MELODIE"</span>, <span class="string">"LURA"</span>, <span class="string">"ALEXA"</span>, <span class="string">"TAMELA"</span>, <span class="string">"RYAN"</span>, <span class="string">"MIRNA"</span>,</span><br><span class="line"><span class="string">"KERRIE"</span>, <span class="string">"VENUS"</span>, <span class="string">"NOEL"</span>, <span class="string">"FELICITA"</span>, <span class="string">"CRISTY"</span>, <span class="string">"CARMELITA"</span>, <span class="string">"BERNIECE"</span>, <span class="string">"ANNEMARIE"</span>, <span class="string">"TIARA"</span>, <span class="string">"ROSEANNE"</span>,</span><br><span class="line"><span class="string">"MISSY"</span>, <span class="string">"CORI"</span>, <span class="string">"ROXANA"</span>, <span class="string">"PRICILLA"</span>, <span class="string">"KRISTAL"</span>, <span class="string">"JUNG"</span>, <span class="string">"ELYSE"</span>, <span class="string">"HAYDEE"</span>, <span class="string">"ALETHA"</span>, <span class="string">"BETTINA"</span>,</span><br><span class="line"><span class="string">"MARGE"</span>, <span class="string">"GILLIAN"</span>, <span class="string">"FILOMENA"</span>, <span class="string">"CHARLES"</span>, <span class="string">"ZENAIDA"</span>, <span class="string">"HARRIETTE"</span>, <span class="string">"CARIDAD"</span>, <span class="string">"VADA"</span>, <span class="string">"UNA"</span>, <span class="string">"ARETHA"</span>,</span><br><span class="line"><span class="string">"PEARLINE"</span>, <span class="string">"MARJORY"</span>, <span class="string">"MARCELA"</span>, <span class="string">"FLOR"</span>, <span class="string">"EVETTE"</span>, <span class="string">"ELOUISE"</span>, <span class="string">"ALINA"</span>, <span class="string">"TRINIDAD"</span>, <span class="string">"DAVID"</span>, <span class="string">"DAMARIS"</span>,</span><br><span class="line"><span class="string">"CATHARINE"</span>, <span class="string">"CARROLL"</span>, <span class="string">"BELVA"</span>, <span class="string">"NAKIA"</span>, <span class="string">"MARLENA"</span>, <span class="string">"LUANNE"</span>, <span class="string">"LORINE"</span>, <span class="string">"KARON"</span>, <span class="string">"DORENE"</span>, <span class="string">"DANITA"</span>,</span><br><span class="line"><span class="string">"BRENNA"</span>, <span class="string">"TATIANA"</span>, <span class="string">"SAMMIE"</span>, <span class="string">"LOUANN"</span>, <span class="string">"LOREN"</span>, <span class="string">"JULIANNA"</span>, <span class="string">"ANDRIA"</span>, <span class="string">"PHILOMENA"</span>, <span class="string">"LUCILA"</span>, <span class="string">"LEONORA"</span>,</span><br><span class="line"><span class="string">"DOVIE"</span>, <span class="string">"ROMONA"</span>, <span class="string">"MIMI"</span>, <span class="string">"JACQUELIN"</span>, <span class="string">"GAYE"</span>, <span class="string">"TONJA"</span>, <span class="string">"MISTI"</span>, <span class="string">"JOE"</span>, <span class="string">"GENE"</span>, <span class="string">"CHASTITY"</span>,</span><br><span class="line"><span class="string">"STACIA"</span>, <span class="string">"ROXANN"</span>, <span class="string">"MICAELA"</span>, <span class="string">"NIKITA"</span>, <span class="string">"MEI"</span>, <span class="string">"VELDA"</span>, <span class="string">"MARLYS"</span>, <span class="string">"JOHNNA"</span>, <span class="string">"AURA"</span>, <span class="string">"LAVERN"</span>,</span><br><span class="line"><span class="string">"IVONNE"</span>, <span class="string">"HAYLEY"</span>, <span class="string">"NICKI"</span>, <span class="string">"MAJORIE"</span>, <span class="string">"HERLINDA"</span>, <span class="string">"GEORGE"</span>, <span class="string">"ALPHA"</span>, <span class="string">"YADIRA"</span>, <span class="string">"PERLA"</span>, <span class="string">"GREGORIA"</span>,</span><br><span class="line"><span class="string">"DANIEL"</span>, <span class="string">"ANTONETTE"</span>, <span class="string">"SHELLI"</span>, <span class="string">"MOZELLE"</span>, <span class="string">"MARIAH"</span>, <span class="string">"JOELLE"</span>, <span class="string">"CORDELIA"</span>, <span class="string">"JOSETTE"</span>, <span class="string">"CHIQUITA"</span>, <span class="string">"TRISTA"</span>,</span><br><span class="line"><span class="string">"LOUIS"</span>, <span class="string">"LAQUITA"</span>, <span class="string">"GEORGIANA"</span>, <span class="string">"CANDI"</span>, <span class="string">"SHANON"</span>, <span class="string">"LONNIE"</span>, <span class="string">"HILDEGARD"</span>, <span class="string">"CECIL"</span>, <span class="string">"VALENTINA"</span>, <span class="string">"STEPHANY"</span>,</span><br><span class="line"><span class="string">"MAGDA"</span>, <span class="string">"KAROL"</span>, <span class="string">"GERRY"</span>, <span class="string">"GABRIELLA"</span>, <span class="string">"TIANA"</span>, <span class="string">"ROMA"</span>, <span class="string">"RICHELLE"</span>, <span class="string">"RAY"</span>, <span class="string">"PRINCESS"</span>, <span class="string">"OLETA"</span>,</span><br><span class="line"><span class="string">"JACQUE"</span>, <span class="string">"IDELLA"</span>, <span class="string">"ALAINA"</span>, <span class="string">"SUZANNA"</span>, <span class="string">"JOVITA"</span>, <span class="string">"BLAIR"</span>, <span class="string">"TOSHA"</span>, <span class="string">"RAVEN"</span>, <span class="string">"NEREIDA"</span>, <span class="string">"MARLYN"</span>,</span><br><span class="line"><span class="string">"KYLA"</span>, <span class="string">"JOSEPH"</span>, <span class="string">"DELFINA"</span>, <span class="string">"TENA"</span>, <span class="string">"STEPHENIE"</span>, <span class="string">"SABINA"</span>, <span class="string">"NATHALIE"</span>, <span class="string">"MARCELLE"</span>, <span class="string">"GERTIE"</span>, <span class="string">"DARLEEN"</span>,</span><br><span class="line"><span class="string">"THEA"</span>, <span class="string">"SHARONDA"</span>, <span class="string">"SHANTEL"</span>, <span class="string">"BELEN"</span>, <span class="string">"VENESSA"</span>, <span class="string">"ROSALINA"</span>, <span class="string">"ONA"</span>, <span class="string">"GENOVEVA"</span>, <span class="string">"COREY"</span>, <span class="string">"CLEMENTINE"</span>,</span><br><span class="line"><span class="string">"ROSALBA"</span>, <span class="string">"RENATE"</span>, <span class="string">"RENATA"</span>, <span class="string">"MI"</span>, <span class="string">"IVORY"</span>, <span class="string">"GEORGIANNA"</span>, <span class="string">"FLOY"</span>, <span class="string">"DORCAS"</span>, <span class="string">"ARIANA"</span>, <span class="string">"TYRA"</span>,</span><br><span class="line"><span class="string">"THEDA"</span>, <span class="string">"MARIAM"</span>, <span class="string">"JULI"</span>, <span class="string">"JESICA"</span>, <span class="string">"DONNIE"</span>, <span class="string">"VIKKI"</span>, <span class="string">"VERLA"</span>, <span class="string">"ROSELYN"</span>, <span class="string">"MELVINA"</span>, <span class="string">"JANNETTE"</span>,</span><br><span class="line"><span class="string">"GINNY"</span>, <span class="string">"DEBRAH"</span>, <span class="string">"CORRIE"</span>, <span class="string">"ASIA"</span>, <span class="string">"VIOLETA"</span>, <span class="string">"MYRTIS"</span>, <span class="string">"LATRICIA"</span>, <span class="string">"COLLETTE"</span>, <span class="string">"CHARLEEN"</span>, <span class="string">"ANISSA"</span>,</span><br><span class="line"><span class="string">"VIVIANA"</span>, <span class="string">"TWYLA"</span>, <span class="string">"PRECIOUS"</span>, <span class="string">"NEDRA"</span>, <span class="string">"LATONIA"</span>, <span class="string">"LAN"</span>, <span class="string">"HELLEN"</span>, <span class="string">"FABIOLA"</span>, <span class="string">"ANNAMARIE"</span>, <span class="string">"ADELL"</span>,</span><br><span class="line"><span class="string">"SHARYN"</span>, <span class="string">"CHANTAL"</span>, <span class="string">"NIKI"</span>, <span class="string">"MAUD"</span>, <span class="string">"LIZETTE"</span>, <span class="string">"LINDY"</span>, <span class="string">"KIA"</span>, <span class="string">"KESHA"</span>, <span class="string">"JEANA"</span>, <span class="string">"DANELLE"</span>,</span><br><span class="line"><span class="string">"CHARLINE"</span>, <span class="string">"CHANEL"</span>, <span class="string">"CARROL"</span>, <span class="string">"VALORIE"</span>, <span class="string">"LIA"</span>, <span class="string">"DORTHA"</span>, <span class="string">"CRISTAL"</span>, <span class="string">"SUNNY"</span>, <span class="string">"LEONE"</span>, <span class="string">"LEILANI"</span>,</span><br><span class="line"><span class="string">"GERRI"</span>, <span class="string">"DEBI"</span>, <span class="string">"ANDRA"</span>, <span class="string">"KESHIA"</span>, <span class="string">"IMA"</span>, <span class="string">"EULALIA"</span>, <span class="string">"EASTER"</span>, <span class="string">"DULCE"</span>, <span class="string">"NATIVIDAD"</span>, <span class="string">"LINNIE"</span>,</span><br><span class="line"><span class="string">"KAMI"</span>, <span class="string">"GEORGIE"</span>, <span class="string">"CATINA"</span>, <span class="string">"BROOK"</span>, <span class="string">"ALDA"</span>, <span class="string">"WINNIFRED"</span>, <span class="string">"SHARLA"</span>, <span class="string">"RUTHANN"</span>, <span class="string">"MEAGHAN"</span>, <span class="string">"MAGDALENE"</span>,</span><br><span class="line"><span class="string">"LISSETTE"</span>, <span class="string">"ADELAIDA"</span>, <span class="string">"VENITA"</span>, <span class="string">"TRENA"</span>, <span class="string">"SHIRLENE"</span>, <span class="string">"SHAMEKA"</span>, <span class="string">"ELIZEBETH"</span>, <span class="string">"DIAN"</span>, <span class="string">"SHANTA"</span>, <span class="string">"MICKEY"</span>,</span><br><span class="line"><span class="string">"LATOSHA"</span>, <span class="string">"CARLOTTA"</span>, <span class="string">"WINDY"</span>, <span class="string">"SOON"</span>, <span class="string">"ROSINA"</span>, <span class="string">"MARIANN"</span>, <span class="string">"LEISA"</span>, <span class="string">"JONNIE"</span>, <span class="string">"DAWNA"</span>, <span class="string">"CATHIE"</span>,</span><br><span class="line"><span class="string">"BILLY"</span>, <span class="string">"ASTRID"</span>, <span class="string">"SIDNEY"</span>, <span class="string">"LAUREEN"</span>, <span class="string">"JANEEN"</span>, <span class="string">"HOLLI"</span>, <span class="string">"FAWN"</span>, <span class="string">"VICKEY"</span>, <span class="string">"TERESSA"</span>, <span class="string">"SHANTE"</span>,</span><br><span class="line"><span class="string">"RUBYE"</span>, <span class="string">"MARCELINA"</span>, <span class="string">"CHANDA"</span>, <span class="string">"CARY"</span>, <span class="string">"TERESE"</span>, <span class="string">"SCARLETT"</span>, <span class="string">"MARTY"</span>, <span class="string">"MARNIE"</span>, <span class="string">"LULU"</span>, <span class="string">"LISETTE"</span>,</span><br><span class="line"><span class="string">"JENIFFER"</span>, <span class="string">"ELENOR"</span>, <span class="string">"DORINDA"</span>, <span class="string">"DONITA"</span>, <span class="string">"CARMAN"</span>, <span class="string">"BERNITA"</span>, <span class="string">"ALTAGRACIA"</span>, <span class="string">"ALETA"</span>, <span class="string">"ADRIANNA"</span>, <span class="string">"ZORAIDA"</span>,</span><br><span class="line"><span class="string">"RONNIE"</span>, <span class="string">"NICOLA"</span>, <span class="string">"LYNDSEY"</span>, <span class="string">"KENDALL"</span>, <span class="string">"JANINA"</span>, <span class="string">"CHRISSY"</span>, <span class="string">"AMI"</span>, <span class="string">"STARLA"</span>, <span class="string">"PHYLIS"</span>, <span class="string">"PHUONG"</span>,</span><br><span class="line"><span class="string">"KYRA"</span>, <span class="string">"CHARISSE"</span>, <span class="string">"BLANCH"</span>, <span class="string">"SANJUANITA"</span>, <span class="string">"RONA"</span>, <span class="string">"NANCI"</span>, <span class="string">"MARILEE"</span>, <span class="string">"MARANDA"</span>, <span class="string">"CORY"</span>, <span class="string">"BRIGETTE"</span>,</span><br><span class="line"><span class="string">"SANJUANA"</span>, <span class="string">"MARITA"</span>, <span class="string">"KASSANDRA"</span>, <span class="string">"JOYCELYN"</span>, <span class="string">"IRA"</span>, <span class="string">"FELIPA"</span>, <span class="string">"CHELSIE"</span>, <span class="string">"BONNY"</span>, <span class="string">"MIREYA"</span>, <span class="string">"LORENZA"</span>,</span><br><span class="line"><span class="string">"KYONG"</span>, <span class="string">"ILEANA"</span>, <span class="string">"CANDELARIA"</span>, <span class="string">"TONY"</span>, <span class="string">"TOBY"</span>, <span class="string">"SHERIE"</span>, <span class="string">"OK"</span>, <span class="string">"MARK"</span>, <span class="string">"LUCIE"</span>, <span class="string">"LEATRICE"</span>,</span><br><span class="line"><span class="string">"LAKESHIA"</span>, <span class="string">"GERDA"</span>, <span class="string">"EDIE"</span>, <span class="string">"BAMBI"</span>, <span class="string">"MARYLIN"</span>, <span class="string">"LAVON"</span>, <span class="string">"HORTENSE"</span>, <span class="string">"GARNET"</span>, <span class="string">"EVIE"</span>, <span class="string">"TRESSA"</span>,</span><br><span class="line"><span class="string">"SHAYNA"</span>, <span class="string">"LAVINA"</span>, <span class="string">"KYUNG"</span>, <span class="string">"JEANETTA"</span>, <span class="string">"SHERRILL"</span>, <span class="string">"SHARA"</span>, <span class="string">"PHYLISS"</span>, <span class="string">"MITTIE"</span>, <span class="string">"ANABEL"</span>, <span class="string">"ALESIA"</span>,</span><br><span class="line"><span class="string">"THUY"</span>, <span class="string">"TAWANDA"</span>, <span class="string">"RICHARD"</span>, <span class="string">"JOANIE"</span>, <span class="string">"TIFFANIE"</span>, <span class="string">"LASHANDA"</span>, <span class="string">"KARISSA"</span>, <span class="string">"ENRIQUETA"</span>, <span class="string">"DARIA"</span>, <span class="string">"DANIELLA"</span>,</span><br><span class="line"><span class="string">"CORINNA"</span>, <span class="string">"ALANNA"</span>, <span class="string">"ABBEY"</span>, <span class="string">"ROXANE"</span>, <span class="string">"ROSEANNA"</span>, <span class="string">"MAGNOLIA"</span>, <span class="string">"LIDA"</span>, <span class="string">"KYLE"</span>, <span class="string">"JOELLEN"</span>, <span class="string">"ERA"</span>,</span><br><span class="line"><span class="string">"CORAL"</span>, <span class="string">"CARLEEN"</span>, <span class="string">"TRESA"</span>, <span class="string">"PEGGIE"</span>, <span class="string">"NOVELLA"</span>, <span class="string">"NILA"</span>, <span class="string">"MAYBELLE"</span>, <span class="string">"JENELLE"</span>, <span class="string">"CARINA"</span>, <span class="string">"NOVA"</span>,</span><br><span class="line"><span class="string">"MELINA"</span>, <span class="string">"MARQUERITE"</span>, <span class="string">"MARGARETTE"</span>, <span class="string">"JOSEPHINA"</span>, <span class="string">"EVONNE"</span>, <span class="string">"DEVIN"</span>, <span class="string">"CINTHIA"</span>, <span class="string">"ALBINA"</span>, <span class="string">"TOYA"</span>, <span class="string">"TAWNYA"</span>,</span><br><span class="line"><span class="string">"SHERITA"</span>, <span class="string">"SANTOS"</span>, <span class="string">"MYRIAM"</span>, <span class="string">"LIZABETH"</span>, <span class="string">"LISE"</span>, <span class="string">"KEELY"</span>, <span class="string">"JENNI"</span>, <span class="string">"GISELLE"</span>, <span class="string">"CHERYLE"</span>, <span class="string">"ARDITH"</span>,</span><br><span class="line"><span class="string">"ARDIS"</span>, <span class="string">"ALESHA"</span>, <span class="string">"ADRIANE"</span>, <span class="string">"SHAINA"</span>, <span class="string">"LINNEA"</span>, <span class="string">"KAROLYN"</span>, <span class="string">"HONG"</span>, <span class="string">"FLORIDA"</span>, <span class="string">"FELISHA"</span>, <span class="string">"DORI"</span>,</span><br><span class="line"><span class="string">"DARCI"</span>, <span class="string">"ARTIE"</span>, <span class="string">"ARMIDA"</span>, <span class="string">"ZOLA"</span>, <span class="string">"XIOMARA"</span>, <span class="string">"VERGIE"</span>, <span class="string">"SHAMIKA"</span>, <span class="string">"NENA"</span>, <span class="string">"NANNETTE"</span>, <span class="string">"MAXIE"</span>,</span><br><span class="line"><span class="string">"LOVIE"</span>, <span class="string">"JEANE"</span>, <span class="string">"JAIMIE"</span>, <span class="string">"INGE"</span>, <span class="string">"FARRAH"</span>, <span class="string">"ELAINA"</span>, <span class="string">"CAITLYN"</span>, <span class="string">"STARR"</span>, <span class="string">"FELICITAS"</span>, <span class="string">"CHERLY"</span>,</span><br><span class="line"><span class="string">"CARYL"</span>, <span class="string">"YOLONDA"</span>, <span class="string">"YASMIN"</span>, <span class="string">"TEENA"</span>, <span class="string">"PRUDENCE"</span>, <span class="string">"PENNIE"</span>, <span class="string">"NYDIA"</span>, <span class="string">"MACKENZIE"</span>, <span class="string">"ORPHA"</span>, <span class="string">"MARVEL"</span>,</span><br><span class="line"><span class="string">"LIZBETH"</span>, <span class="string">"LAURETTE"</span>, <span class="string">"JERRIE"</span>, <span class="string">"HERMELINDA"</span>, <span class="string">"CAROLEE"</span>, <span class="string">"TIERRA"</span>, <span class="string">"MIRIAN"</span>, <span class="string">"META"</span>, <span class="string">"MELONY"</span>, <span class="string">"KORI"</span>,</span><br><span class="line"><span class="string">"JENNETTE"</span>, <span class="string">"JAMILA"</span>, <span class="string">"ENA"</span>, <span class="string">"ANH"</span>, <span class="string">"YOSHIKO"</span>, <span class="string">"SUSANNAH"</span>, <span class="string">"SALINA"</span>, <span class="string">"RHIANNON"</span>, <span class="string">"JOLEEN"</span>, <span class="string">"CRISTINE"</span>,</span><br><span class="line"><span class="string">"ASHTON"</span>, <span class="string">"ARACELY"</span>, <span class="string">"TOMEKA"</span>, <span class="string">"SHALONDA"</span>, <span class="string">"MARTI"</span>, <span class="string">"LACIE"</span>, <span class="string">"KALA"</span>, <span class="string">"JADA"</span>, <span class="string">"ILSE"</span>, <span class="string">"HAILEY"</span>,</span><br><span class="line"><span class="string">"BRITTANI"</span>, <span class="string">"ZONA"</span>, <span class="string">"SYBLE"</span>, <span class="string">"SHERRYL"</span>, <span class="string">"RANDY"</span>, <span class="string">"NIDIA"</span>, <span class="string">"MARLO"</span>, <span class="string">"KANDICE"</span>, <span class="string">"KANDI"</span>, <span class="string">"DEB"</span>,</span><br><span class="line"><span class="string">"DEAN"</span>, <span class="string">"AMERICA"</span>, <span class="string">"ALYCIA"</span>, <span class="string">"TOMMY"</span>, <span class="string">"RONNA"</span>, <span class="string">"NORENE"</span>, <span class="string">"MERCY"</span>, <span class="string">"JOSE"</span>, <span class="string">"INGEBORG"</span>, <span class="string">"GIOVANNA"</span>,</span><br><span class="line"><span class="string">"GEMMA"</span>, <span class="string">"CHRISTEL"</span>, <span class="string">"AUDRY"</span>, <span class="string">"ZORA"</span>, <span class="string">"VITA"</span>, <span class="string">"VAN"</span>, <span class="string">"TRISH"</span>, <span class="string">"STEPHAINE"</span>, <span class="string">"SHIRLEE"</span>, <span class="string">"SHANIKA"</span>,</span><br><span class="line"><span class="string">"MELONIE"</span>, <span class="string">"MAZIE"</span>, <span class="string">"JAZMIN"</span>, <span class="string">"INGA"</span>, <span class="string">"HOA"</span>, <span class="string">"HETTIE"</span>, <span class="string">"GERALYN"</span>, <span class="string">"FONDA"</span>, <span class="string">"ESTRELLA"</span>, <span class="string">"ADELLA"</span>,</span><br><span class="line"><span class="string">"SU"</span>, <span class="string">"SARITA"</span>, <span class="string">"RINA"</span>, <span class="string">"MILISSA"</span>, <span class="string">"MARIBETH"</span>, <span class="string">"GOLDA"</span>, <span class="string">"EVON"</span>, <span class="string">"ETHELYN"</span>, <span class="string">"ENEDINA"</span>, <span class="string">"CHERISE"</span>,</span><br><span class="line"><span class="string">"CHANA"</span>, <span class="string">"VELVA"</span>, <span class="string">"TAWANNA"</span>, <span class="string">"SADE"</span>, <span class="string">"MIRTA"</span>, <span class="string">"LI"</span>, <span class="string">"KARIE"</span>, <span class="string">"JACINTA"</span>, <span class="string">"ELNA"</span>, <span class="string">"DAVINA"</span>,</span><br><span class="line"><span class="string">"CIERRA"</span>, <span class="string">"ASHLIE"</span>, <span class="string">"ALBERTHA"</span>, <span class="string">"TANESHA"</span>, <span class="string">"STEPHANI"</span>, <span class="string">"NELLE"</span>, <span class="string">"MINDI"</span>, <span class="string">"LU"</span>, <span class="string">"LORINDA"</span>, <span class="string">"LARUE"</span>,</span><br><span class="line"><span class="string">"FLORENE"</span>, <span class="string">"DEMETRA"</span>, <span class="string">"DEDRA"</span>, <span class="string">"CIARA"</span>, <span class="string">"CHANTELLE"</span>, <span class="string">"ASHLY"</span>, <span class="string">"SUZY"</span>, <span class="string">"ROSALVA"</span>, <span class="string">"NOELIA"</span>, <span class="string">"LYDA"</span>,</span><br><span class="line"><span class="string">"LEATHA"</span>, <span class="string">"KRYSTYNA"</span>, <span class="string">"KRISTAN"</span>, <span class="string">"KARRI"</span>, <span class="string">"DARLINE"</span>, <span class="string">"DARCIE"</span>, <span class="string">"CINDA"</span>, <span class="string">"CHEYENNE"</span>, <span class="string">"CHERRIE"</span>, <span class="string">"AWILDA"</span>,</span><br><span class="line"><span class="string">"ALMEDA"</span>, <span class="string">"ROLANDA"</span>, <span class="string">"LANETTE"</span>, <span class="string">"JERILYN"</span>, <span class="string">"GISELE"</span>, <span class="string">"EVALYN"</span>, <span class="string">"CYNDI"</span>, <span class="string">"CLETA"</span>, <span class="string">"CARIN"</span>, <span class="string">"ZINA"</span>,</span><br><span class="line"><span class="string">"ZENA"</span>, <span class="string">"VELIA"</span>, <span class="string">"TANIKA"</span>, <span class="string">"PAUL"</span>, <span class="string">"CHARISSA"</span>, <span class="string">"THOMAS"</span>, <span class="string">"TALIA"</span>, <span class="string">"MARGARETE"</span>, <span class="string">"LAVONDA"</span>, <span class="string">"KAYLEE"</span>,</span><br><span class="line"><span class="string">"KATHLENE"</span>, <span class="string">"JONNA"</span>, <span class="string">"IRENA"</span>, <span class="string">"ILONA"</span>, <span class="string">"IDALIA"</span>, <span class="string">"CANDIS"</span>, <span class="string">"CANDANCE"</span>, <span class="string">"BRANDEE"</span>, <span class="string">"ANITRA"</span>, <span class="string">"ALIDA"</span>,</span><br><span class="line"><span class="string">"SIGRID"</span>, <span class="string">"NICOLETTE"</span>, <span class="string">"MARYJO"</span>, <span class="string">"LINETTE"</span>, <span class="string">"HEDWIG"</span>, <span class="string">"CHRISTIANA"</span>, <span class="string">"CASSIDY"</span>, <span class="string">"ALEXIA"</span>, <span class="string">"TRESSIE"</span>, <span class="string">"MODESTA"</span>,</span><br><span class="line"><span class="string">"LUPITA"</span>, <span class="string">"LITA"</span>, <span class="string">"GLADIS"</span>, <span class="string">"EVELIA"</span>, <span class="string">"DAVIDA"</span>, <span class="string">"CHERRI"</span>, <span class="string">"CECILY"</span>, <span class="string">"ASHELY"</span>, <span class="string">"ANNABEL"</span>, <span class="string">"AGUSTINA"</span>,</span><br><span class="line"><span class="string">"WANITA"</span>, <span class="string">"SHIRLY"</span>, <span class="string">"ROSAURA"</span>, <span class="string">"HULDA"</span>, <span class="string">"EUN"</span>, <span class="string">"BAILEY"</span>, <span class="string">"YETTA"</span>, <span class="string">"VERONA"</span>, <span class="string">"THOMASINA"</span>, <span class="string">"SIBYL"</span>,</span><br><span class="line"><span class="string">"SHANNAN"</span>, <span class="string">"MECHELLE"</span>, <span class="string">"LUE"</span>, <span class="string">"LEANDRA"</span>, <span class="string">"LANI"</span>, <span class="string">"KYLEE"</span>, <span class="string">"KANDY"</span>, <span class="string">"JOLYNN"</span>, <span class="string">"FERNE"</span>, <span class="string">"EBONI"</span>,</span><br><span class="line"><span class="string">"CORENE"</span>, <span class="string">"ALYSIA"</span>, <span class="string">"ZULA"</span>, <span class="string">"NADA"</span>, <span class="string">"MOIRA"</span>, <span class="string">"LYNDSAY"</span>, <span class="string">"LORRETTA"</span>, <span class="string">"JUAN"</span>, <span class="string">"JAMMIE"</span>, <span class="string">"HORTENSIA"</span>,</span><br><span class="line"><span class="string">"GAYNELL"</span>, <span class="string">"CAMERON"</span>, <span class="string">"ADRIA"</span>, <span class="string">"VINA"</span>, <span class="string">"VICENTA"</span>, <span class="string">"TANGELA"</span>, <span class="string">"STEPHINE"</span>, <span class="string">"NORINE"</span>, <span class="string">"NELLA"</span>, <span class="string">"LIANA"</span>,</span><br><span class="line"><span class="string">"LESLEE"</span>, <span class="string">"KIMBERELY"</span>, <span class="string">"ILIANA"</span>, <span class="string">"GLORY"</span>, <span class="string">"FELICA"</span>, <span class="string">"EMOGENE"</span>, <span class="string">"ELFRIEDE"</span>, <span class="string">"EDEN"</span>, <span class="string">"EARTHA"</span>, <span class="string">"CARMA"</span>,</span><br><span class="line"><span class="string">"BEA"</span>, <span class="string">"OCIE"</span>, <span class="string">"MARRY"</span>, <span class="string">"LENNIE"</span>, <span class="string">"KIARA"</span>, <span class="string">"JACALYN"</span>, <span class="string">"CARLOTA"</span>, <span class="string">"ARIELLE"</span>, <span class="string">"YU"</span>, <span class="string">"STAR"</span>,</span><br><span class="line"><span class="string">"OTILIA"</span>, <span class="string">"KIRSTIN"</span>, <span class="string">"KACEY"</span>, <span class="string">"JOHNETTA"</span>, <span class="string">"JOEY"</span>, <span class="string">"JOETTA"</span>, <span class="string">"JERALDINE"</span>, <span class="string">"JAUNITA"</span>, <span class="string">"ELANA"</span>, <span class="string">"DORTHEA"</span>,</span><br><span class="line"><span class="string">"CAMI"</span>, <span class="string">"AMADA"</span>, <span class="string">"ADELIA"</span>, <span class="string">"VERNITA"</span>, <span class="string">"TAMAR"</span>, <span class="string">"SIOBHAN"</span>, <span class="string">"RENEA"</span>, <span class="string">"RASHIDA"</span>, <span class="string">"OUIDA"</span>, <span class="string">"ODELL"</span>,</span><br><span class="line"><span class="string">"NILSA"</span>, <span class="string">"MERYL"</span>, <span class="string">"KRISTYN"</span>, <span class="string">"JULIETA"</span>, <span class="string">"DANICA"</span>, <span class="string">"BREANNE"</span>, <span class="string">"AUREA"</span>, <span class="string">"ANGLEA"</span>, <span class="string">"SHERRON"</span>, <span class="string">"ODETTE"</span>,</span><br><span class="line"><span class="string">"MALIA"</span>, <span class="string">"LORELEI"</span>, <span class="string">"LIN"</span>, <span class="string">"LEESA"</span>, <span class="string">"KENNA"</span>, <span class="string">"KATHLYN"</span>, <span class="string">"FIONA"</span>, <span class="string">"CHARLETTE"</span>, <span class="string">"SUZIE"</span>, <span class="string">"SHANTELL"</span>,</span><br><span class="line"><span class="string">"SABRA"</span>, <span class="string">"RACQUEL"</span>, <span class="string">"MYONG"</span>, <span class="string">"MIRA"</span>, <span class="string">"MARTINE"</span>, <span class="string">"LUCIENNE"</span>, <span class="string">"LAVADA"</span>, <span class="string">"JULIANN"</span>, <span class="string">"JOHNIE"</span>, <span class="string">"ELVERA"</span>,</span><br><span class="line"><span class="string">"DELPHIA"</span>, <span class="string">"CLAIR"</span>, <span class="string">"CHRISTIANE"</span>, <span class="string">"CHAROLETTE"</span>, <span class="string">"CARRI"</span>, <span class="string">"AUGUSTINE"</span>, <span class="string">"ASHA"</span>, <span class="string">"ANGELLA"</span>, <span class="string">"PAOLA"</span>, <span class="string">"NINFA"</span>,</span><br><span class="line"><span class="string">"LEDA"</span>, <span class="string">"LAI"</span>, <span class="string">"EDA"</span>, <span class="string">"SUNSHINE"</span>, <span class="string">"STEFANI"</span>, <span class="string">"SHANELL"</span>, <span class="string">"PALMA"</span>, <span class="string">"MACHELLE"</span>, <span class="string">"LISSA"</span>, <span class="string">"KECIA"</span>,</span><br><span class="line"><span class="string">"KATHRYNE"</span>, <span class="string">"KARLENE"</span>, <span class="string">"JULISSA"</span>, <span class="string">"JETTIE"</span>, <span class="string">"JENNIFFER"</span>, <span class="string">"HUI"</span>, <span class="string">"CORRINA"</span>, <span class="string">"CHRISTOPHER"</span>, <span class="string">"CAROLANN"</span>, <span class="string">"ALENA"</span>,</span><br><span class="line"><span class="string">"TESS"</span>, <span class="string">"ROSARIA"</span>, <span class="string">"MYRTICE"</span>, <span class="string">"MARYLEE"</span>, <span class="string">"LIANE"</span>, <span class="string">"KENYATTA"</span>, <span class="string">"JUDIE"</span>, <span class="string">"JANEY"</span>, <span class="string">"IN"</span>, <span class="string">"ELMIRA"</span>,</span><br><span class="line"><span class="string">"ELDORA"</span>, <span class="string">"DENNA"</span>, <span class="string">"CRISTI"</span>, <span class="string">"CATHI"</span>, <span class="string">"ZAIDA"</span>, <span class="string">"VONNIE"</span>, <span class="string">"VIVA"</span>, <span class="string">"VERNIE"</span>, <span class="string">"ROSALINE"</span>, <span class="string">"MARIELA"</span>,</span><br><span class="line"><span class="string">"LUCIANA"</span>, <span class="string">"LESLI"</span>, <span class="string">"KARAN"</span>, <span class="string">"FELICE"</span>, <span class="string">"DENEEN"</span>, <span class="string">"ADINA"</span>, <span class="string">"WYNONA"</span>, <span class="string">"TARSHA"</span>, <span class="string">"SHERON"</span>, <span class="string">"SHASTA"</span>,</span><br><span class="line"><span class="string">"SHANITA"</span>, <span class="string">"SHANI"</span>, <span class="string">"SHANDRA"</span>, <span class="string">"RANDA"</span>, <span class="string">"PINKIE"</span>, <span class="string">"PARIS"</span>, <span class="string">"NELIDA"</span>, <span class="string">"MARILOU"</span>, <span class="string">"LYLA"</span>, <span class="string">"LAURENE"</span>,</span><br><span class="line"><span class="string">"LACI"</span>, <span class="string">"JOI"</span>, <span class="string">"JANENE"</span>, <span class="string">"DOROTHA"</span>, <span class="string">"DANIELE"</span>, <span class="string">"DANI"</span>, <span class="string">"CAROLYNN"</span>, <span class="string">"CARLYN"</span>, <span class="string">"BERENICE"</span>, <span class="string">"AYESHA"</span>,</span><br><span class="line"><span class="string">"ANNELIESE"</span>, <span class="string">"ALETHEA"</span>, <span class="string">"THERSA"</span>, <span class="string">"TAMIKO"</span>, <span class="string">"RUFINA"</span>, <span class="string">"OLIVA"</span>, <span class="string">"MOZELL"</span>, <span class="string">"MARYLYN"</span>, <span class="string">"MADISON"</span>, <span class="string">"KRISTIAN"</span>,</span><br><span class="line"><span class="string">"KATHYRN"</span>, <span class="string">"KASANDRA"</span>, <span class="string">"KANDACE"</span>, <span class="string">"JANAE"</span>, <span class="string">"GABRIEL"</span>, <span class="string">"DOMENICA"</span>, <span class="string">"DEBBRA"</span>, <span class="string">"DANNIELLE"</span>, <span class="string">"CHUN"</span>, <span class="string">"BUFFY"</span>,</span><br><span class="line"><span class="string">"BARBIE"</span>, <span class="string">"ARCELIA"</span>, <span class="string">"AJA"</span>, <span class="string">"ZENOBIA"</span>, <span class="string">"SHAREN"</span>, <span class="string">"SHAREE"</span>, <span class="string">"PATRICK"</span>, <span class="string">"PAGE"</span>, <span class="string">"MY"</span>, <span class="string">"LAVINIA"</span>,</span><br><span class="line"><span class="string">"KUM"</span>, <span class="string">"KACIE"</span>, <span class="string">"JACKELINE"</span>, <span class="string">"HUONG"</span>, <span class="string">"FELISA"</span>, <span class="string">"EMELIA"</span>, <span class="string">"ELEANORA"</span>, <span class="string">"CYTHIA"</span>, <span class="string">"CRISTIN"</span>, <span class="string">"CLYDE"</span>,</span><br><span class="line"><span class="string">"CLARIBEL"</span>, <span class="string">"CARON"</span>, <span class="string">"ANASTACIA"</span>, <span class="string">"ZULMA"</span>, <span class="string">"ZANDRA"</span>, <span class="string">"YOKO"</span>, <span class="string">"TENISHA"</span>, <span class="string">"SUSANN"</span>, <span class="string">"SHERILYN"</span>, <span class="string">"SHAY"</span>,</span><br><span class="line"><span class="string">"SHAWANDA"</span>, <span class="string">"SABINE"</span>, <span class="string">"ROMANA"</span>, <span class="string">"MATHILDA"</span>, <span class="string">"LINSEY"</span>, <span class="string">"KEIKO"</span>, <span class="string">"JOANA"</span>, <span class="string">"ISELA"</span>, <span class="string">"GRETTA"</span>, <span class="string">"GEORGETTA"</span>,</span><br><span class="line"><span class="string">"EUGENIE"</span>, <span class="string">"DUSTY"</span>, <span class="string">"DESIRAE"</span>, <span class="string">"DELORA"</span>, <span class="string">"CORAZON"</span>, <span class="string">"ANTONINA"</span>, <span class="string">"ANIKA"</span>, <span class="string">"WILLENE"</span>, <span class="string">"TRACEE"</span>, <span class="string">"TAMATHA"</span>,</span><br><span class="line"><span class="string">"REGAN"</span>, <span class="string">"NICHELLE"</span>, <span class="string">"MICKIE"</span>, <span class="string">"MAEGAN"</span>, <span class="string">"LUANA"</span>, <span class="string">"LANITA"</span>, <span class="string">"KELSIE"</span>, <span class="string">"EDELMIRA"</span>, <span class="string">"BREE"</span>, <span class="string">"AFTON"</span>,</span><br><span class="line"><span class="string">"TEODORA"</span>, <span class="string">"TAMIE"</span>, <span class="string">"SHENA"</span>, <span class="string">"MEG"</span>, <span class="string">"LINH"</span>, <span class="string">"KELI"</span>, <span class="string">"KACI"</span>, <span class="string">"DANYELLE"</span>, <span class="string">"BRITT"</span>, <span class="string">"ARLETTE"</span>,</span><br><span class="line"><span class="string">"ALBERTINE"</span>, <span class="string">"ADELLE"</span>, <span class="string">"TIFFINY"</span>, <span class="string">"STORMY"</span>, <span class="string">"SIMONA"</span>, <span class="string">"NUMBERS"</span>, <span class="string">"NICOLASA"</span>, <span class="string">"NICHOL"</span>, <span class="string">"NIA"</span>, <span class="string">"NAKISHA"</span>,</span><br><span class="line"><span class="string">"MEE"</span>, <span class="string">"MAIRA"</span>, <span class="string">"LOREEN"</span>, <span class="string">"KIZZY"</span>, <span class="string">"JOHNNY"</span>, <span class="string">"JAY"</span>, <span class="string">"FALLON"</span>, <span class="string">"CHRISTENE"</span>, <span class="string">"BOBBYE"</span>, <span class="string">"ANTHONY"</span>,</span><br><span class="line"><span class="string">"YING"</span>, <span class="string">"VINCENZA"</span>, <span class="string">"TANJA"</span>, <span class="string">"RUBIE"</span>, <span class="string">"RONI"</span>, <span class="string">"QUEENIE"</span>, <span class="string">"MARGARETT"</span>, <span class="string">"KIMBERLI"</span>, <span class="string">"IRMGARD"</span>, <span class="string">"IDELL"</span>,</span><br><span class="line"><span class="string">"HILMA"</span>, <span class="string">"EVELINA"</span>, <span class="string">"ESTA"</span>, <span class="string">"EMILEE"</span>, <span class="string">"DENNISE"</span>, <span class="string">"DANIA"</span>, <span class="string">"CARL"</span>, <span class="string">"CARIE"</span>, <span class="string">"ANTONIO"</span>, <span class="string">"WAI"</span>,</span><br><span class="line"><span class="string">"SANG"</span>, <span class="string">"RISA"</span>, <span class="string">"RIKKI"</span>, <span class="string">"PARTICIA"</span>, <span class="string">"MUI"</span>, <span class="string">"MASAKO"</span>, <span class="string">"MARIO"</span>, <span class="string">"LUVENIA"</span>, <span class="string">"LOREE"</span>, <span class="string">"LONI"</span>,</span><br><span class="line"><span class="string">"LIEN"</span>, <span class="string">"KEVIN"</span>, <span class="string">"GIGI"</span>, <span class="string">"FLORENCIA"</span>, <span class="string">"DORIAN"</span>, <span class="string">"DENITA"</span>, <span class="string">"DALLAS"</span>, <span class="string">"CHI"</span>, <span class="string">"BILLYE"</span>, <span class="string">"ALEXANDER"</span>,</span><br><span class="line"><span class="string">"TOMIKA"</span>, <span class="string">"SHARITA"</span>, <span class="string">"RANA"</span>, <span class="string">"NIKOLE"</span>, <span class="string">"NEOMA"</span>, <span class="string">"MARGARITE"</span>, <span class="string">"MADALYN"</span>, <span class="string">"LUCINA"</span>, <span class="string">"LAILA"</span>, <span class="string">"KALI"</span>,</span><br><span class="line"><span class="string">"JENETTE"</span>, <span class="string">"GABRIELE"</span>, <span class="string">"EVELYNE"</span>, <span class="string">"ELENORA"</span>, <span class="string">"CLEMENTINA"</span>, <span class="string">"ALEJANDRINA"</span>, <span class="string">"ZULEMA"</span>, <span class="string">"VIOLETTE"</span>, <span class="string">"VANNESSA"</span>, <span class="string">"THRESA"</span>,</span><br><span class="line"><span class="string">"RETTA"</span>, <span class="string">"PIA"</span>, <span class="string">"PATIENCE"</span>, <span class="string">"NOELLA"</span>, <span class="string">"NICKIE"</span>, <span class="string">"JONELL"</span>, <span class="string">"DELTA"</span>, <span class="string">"CHUNG"</span>, <span class="string">"CHAYA"</span>, <span class="string">"CAMELIA"</span>,</span><br><span class="line"><span class="string">"BETHEL"</span>, <span class="string">"ANYA"</span>, <span class="string">"ANDREW"</span>, <span class="string">"THANH"</span>, <span class="string">"SUZANN"</span>, <span class="string">"SPRING"</span>, <span class="string">"SHU"</span>, <span class="string">"MILA"</span>, <span class="string">"LILLA"</span>, <span class="string">"LAVERNA"</span>,</span><br><span class="line"><span class="string">"KEESHA"</span>, <span class="string">"KATTIE"</span>, <span class="string">"GIA"</span>, <span class="string">"GEORGENE"</span>, <span class="string">"EVELINE"</span>, <span class="string">"ESTELL"</span>, <span class="string">"ELIZBETH"</span>, <span class="string">"VIVIENNE"</span>, <span class="string">"VALLIE"</span>, <span class="string">"TRUDIE"</span>,</span><br><span class="line"><span class="string">"STEPHANE"</span>, <span class="string">"MICHEL"</span>, <span class="string">"MAGALY"</span>, <span class="string">"MADIE"</span>, <span class="string">"KENYETTA"</span>, <span class="string">"KARREN"</span>, <span class="string">"JANETTA"</span>, <span class="string">"HERMINE"</span>, <span class="string">"HARMONY"</span>, <span class="string">"DRUCILLA"</span>,</span><br><span class="line"><span class="string">"DEBBI"</span>, <span class="string">"CELESTINA"</span>, <span class="string">"CANDIE"</span>, <span class="string">"BRITNI"</span>, <span class="string">"BECKIE"</span>, <span class="string">"AMINA"</span>, <span class="string">"ZITA"</span>, <span class="string">"YUN"</span>, <span class="string">"YOLANDE"</span>, <span class="string">"VIVIEN"</span>,</span><br><span class="line"><span class="string">"VERNETTA"</span>, <span class="string">"TRUDI"</span>, <span class="string">"SOMMER"</span>, <span class="string">"PEARLE"</span>, <span class="string">"PATRINA"</span>, <span class="string">"OSSIE"</span>, <span class="string">"NICOLLE"</span>, <span class="string">"LOYCE"</span>, <span class="string">"LETTY"</span>, <span class="string">"LARISA"</span>,</span><br><span class="line"><span class="string">"KATHARINA"</span>, <span class="string">"JOSELYN"</span>, <span class="string">"JONELLE"</span>, <span class="string">"JENELL"</span>, <span class="string">"IESHA"</span>, <span class="string">"HEIDE"</span>, <span class="string">"FLORINDA"</span>, <span class="string">"FLORENTINA"</span>, <span class="string">"FLO"</span>, <span class="string">"ELODIA"</span>,</span><br><span class="line"><span class="string">"DORINE"</span>, <span class="string">"BRUNILDA"</span>, <span class="string">"BRIGID"</span>, <span class="string">"ASHLI"</span>, <span class="string">"ARDELLA"</span>, <span class="string">"TWANA"</span>, <span class="string">"THU"</span>, <span class="string">"TARAH"</span>, <span class="string">"SUNG"</span>, <span class="string">"SHEA"</span>,</span><br><span class="line"><span class="string">"SHAVON"</span>, <span class="string">"SHANE"</span>, <span class="string">"SERINA"</span>, <span class="string">"RAYNA"</span>, <span class="string">"RAMONITA"</span>, <span class="string">"NGA"</span>, <span class="string">"MARGURITE"</span>, <span class="string">"LUCRECIA"</span>, <span class="string">"KOURTNEY"</span>, <span class="string">"KATI"</span>,</span><br><span class="line"><span class="string">"JESUS"</span>, <span class="string">"JESENIA"</span>, <span class="string">"DIAMOND"</span>, <span class="string">"CRISTA"</span>, <span class="string">"AYANA"</span>, <span class="string">"ALICA"</span>, <span class="string">"ALIA"</span>, <span class="string">"VINNIE"</span>, <span class="string">"SUELLEN"</span>, <span class="string">"ROMELIA"</span>,</span><br><span class="line"><span class="string">"RACHELL"</span>, <span class="string">"PIPER"</span>, <span class="string">"OLYMPIA"</span>, <span class="string">"MICHIKO"</span>, <span class="string">"KATHALEEN"</span>, <span class="string">"JOLIE"</span>, <span class="string">"JESSI"</span>, <span class="string">"JANESSA"</span>, <span class="string">"HANA"</span>, <span class="string">"HA"</span>,</span><br><span class="line"><span class="string">"ELEASE"</span>, <span class="string">"CARLETTA"</span>, <span class="string">"BRITANY"</span>, <span class="string">"SHONA"</span>, <span class="string">"SALOME"</span>, <span class="string">"ROSAMOND"</span>, <span class="string">"REGENA"</span>, <span class="string">"RAINA"</span>, <span class="string">"NGOC"</span>, <span class="string">"NELIA"</span>,</span><br><span class="line"><span class="string">"LOUVENIA"</span>, <span class="string">"LESIA"</span>, <span class="string">"LATRINA"</span>, <span class="string">"LATICIA"</span>, <span class="string">"LARHONDA"</span>, <span class="string">"JINA"</span>, <span class="string">"JACKI"</span>, <span class="string">"HOLLIS"</span>, <span class="string">"HOLLEY"</span>, <span class="string">"EMMY"</span>,</span><br><span class="line"><span class="string">"DEEANN"</span>, <span class="string">"CORETTA"</span>, <span class="string">"ARNETTA"</span>, <span class="string">"VELVET"</span>, <span class="string">"THALIA"</span>, <span class="string">"SHANICE"</span>, <span class="string">"NETA"</span>, <span class="string">"MIKKI"</span>, <span class="string">"MICKI"</span>, <span class="string">"LONNA"</span>,</span><br><span class="line"><span class="string">"LEANA"</span>, <span class="string">"LASHUNDA"</span>, <span class="string">"KILEY"</span>, <span class="string">"JOYE"</span>, <span class="string">"JACQULYN"</span>, <span class="string">"IGNACIA"</span>, <span class="string">"HYUN"</span>, <span class="string">"HIROKO"</span>, <span class="string">"HENRY"</span>, <span class="string">"HENRIETTE"</span>,</span><br><span class="line"><span class="string">"ELAYNE"</span>, <span class="string">"DELINDA"</span>, <span class="string">"DARNELL"</span>, <span class="string">"DAHLIA"</span>, <span class="string">"COREEN"</span>, <span class="string">"CONSUELA"</span>, <span class="string">"CONCHITA"</span>, <span class="string">"CELINE"</span>, <span class="string">"BABETTE"</span>, <span class="string">"AYANNA"</span>,</span><br><span class="line"><span class="string">"ANETTE"</span>, <span class="string">"ALBERTINA"</span>, <span class="string">"SKYE"</span>, <span class="string">"SHAWNEE"</span>, <span class="string">"SHANEKA"</span>, <span class="string">"QUIANA"</span>, <span class="string">"PAMELIA"</span>, <span class="string">"MIN"</span>, <span class="string">"MERRI"</span>, <span class="string">"MERLENE"</span>,</span><br><span class="line"><span class="string">"MARGIT"</span>, <span class="string">"KIESHA"</span>, <span class="string">"KIERA"</span>, <span class="string">"KAYLENE"</span>, <span class="string">"JODEE"</span>, <span class="string">"JENISE"</span>, <span class="string">"ERLENE"</span>, <span class="string">"EMMIE"</span>, <span class="string">"ELSE"</span>, <span class="string">"DARYL"</span>,</span><br><span class="line"><span class="string">"DALILA"</span>, <span class="string">"DAISEY"</span>, <span class="string">"CODY"</span>, <span class="string">"CASIE"</span>, <span class="string">"BELIA"</span>, <span class="string">"BABARA"</span>, <span class="string">"VERSIE"</span>, <span class="string">"VANESA"</span>, <span class="string">"SHELBA"</span>, <span class="string">"SHAWNDA"</span>,</span><br><span class="line"><span class="string">"SAM"</span>, <span class="string">"NORMAN"</span>, <span class="string">"NIKIA"</span>, <span class="string">"NAOMA"</span>, <span class="string">"MARNA"</span>, <span class="string">"MARGERET"</span>, <span class="string">"MADALINE"</span>, <span class="string">"LAWANA"</span>, <span class="string">"KINDRA"</span>, <span class="string">"JUTTA"</span>,</span><br><span class="line"><span class="string">"JAZMINE"</span>, <span class="string">"JANETT"</span>, <span class="string">"HANNELORE"</span>, <span class="string">"GLENDORA"</span>, <span class="string">"GERTRUD"</span>, <span class="string">"GARNETT"</span>, <span class="string">"FREEDA"</span>, <span class="string">"FREDERICA"</span>, <span class="string">"FLORANCE"</span>, <span class="string">"FLAVIA"</span>,</span><br><span class="line"><span class="string">"DENNIS"</span>, <span class="string">"CARLINE"</span>, <span class="string">"BEVERLEE"</span>, <span class="string">"ANJANETTE"</span>, <span class="string">"VALDA"</span>, <span class="string">"TRINITY"</span>, <span class="string">"TAMALA"</span>, <span class="string">"STEVIE"</span>, <span class="string">"SHONNA"</span>, <span class="string">"SHA"</span>,</span><br><span class="line"><span class="string">"SARINA"</span>, <span class="string">"ONEIDA"</span>, <span class="string">"MICAH"</span>, <span class="string">"MERILYN"</span>, <span class="string">"MARLEEN"</span>, <span class="string">"LURLINE"</span>, <span class="string">"LENNA"</span>, <span class="string">"KATHERIN"</span>, <span class="string">"JIN"</span>, <span class="string">"JENI"</span>,</span><br><span class="line"><span class="string">"HAE"</span>, <span class="string">"GRACIA"</span>, <span class="string">"GLADY"</span>, <span class="string">"FARAH"</span>, <span class="string">"ERIC"</span>, <span class="string">"ENOLA"</span>, <span class="string">"EMA"</span>, <span class="string">"DOMINQUE"</span>, <span class="string">"DEVONA"</span>, <span class="string">"DELANA"</span>,</span><br><span class="line"><span class="string">"CECILA"</span>, <span class="string">"CAPRICE"</span>, <span class="string">"ALYSHA"</span>, <span class="string">"ALI"</span>, <span class="string">"ALETHIA"</span>, <span class="string">"VENA"</span>, <span class="string">"THERESIA"</span>, <span class="string">"TAWNY"</span>, <span class="string">"SONG"</span>, <span class="string">"SHAKIRA"</span>,</span><br><span class="line"><span class="string">"SAMARA"</span>, <span class="string">"SACHIKO"</span>, <span class="string">"RACHELE"</span>, <span class="string">"PAMELLA"</span>, <span class="string">"NICKY"</span>, <span class="string">"MARNI"</span>, <span class="string">"MARIEL"</span>, <span class="string">"MAREN"</span>, <span class="string">"MALISA"</span>, <span class="string">"LIGIA"</span>,</span><br><span class="line"><span class="string">"LERA"</span>, <span class="string">"LATORIA"</span>, <span class="string">"LARAE"</span>, <span class="string">"KIMBER"</span>, <span class="string">"KATHERN"</span>, <span class="string">"KAREY"</span>, <span class="string">"JENNEFER"</span>, <span class="string">"JANETH"</span>, <span class="string">"HALINA"</span>, <span class="string">"FREDIA"</span>,</span><br><span class="line"><span class="string">"DELISA"</span>, <span class="string">"DEBROAH"</span>, <span class="string">"CIERA"</span>, <span class="string">"CHIN"</span>, <span class="string">"ANGELIKA"</span>, <span class="string">"ANDREE"</span>, <span class="string">"ALTHA"</span>, <span class="string">"YEN"</span>, <span class="string">"VIVAN"</span>, <span class="string">"TERRESA"</span>,</span><br><span class="line"><span class="string">"TANNA"</span>, <span class="string">"SUK"</span>, <span class="string">"SUDIE"</span>, <span class="string">"SOO"</span>, <span class="string">"SIGNE"</span>, <span class="string">"SALENA"</span>, <span class="string">"RONNI"</span>, <span class="string">"REBBECCA"</span>, <span class="string">"MYRTIE"</span>, <span class="string">"MCKENZIE"</span>,</span><br><span class="line"><span class="string">"MALIKA"</span>, <span class="string">"MAIDA"</span>, <span class="string">"LOAN"</span>, <span class="string">"LEONARDA"</span>, <span class="string">"KAYLEIGH"</span>, <span class="string">"FRANCE"</span>, <span class="string">"ETHYL"</span>, <span class="string">"ELLYN"</span>, <span class="string">"DAYLE"</span>, <span class="string">"CAMMIE"</span>,</span><br><span class="line"><span class="string">"BRITTNI"</span>, <span class="string">"BIRGIT"</span>, <span class="string">"AVELINA"</span>, <span class="string">"ASUNCION"</span>, <span class="string">"ARIANNA"</span>, <span class="string">"AKIKO"</span>, <span class="string">"VENICE"</span>, <span class="string">"TYESHA"</span>, <span class="string">"TONIE"</span>, <span class="string">"TIESHA"</span>,</span><br><span class="line"><span class="string">"TAKISHA"</span>, <span class="string">"STEFFANIE"</span>, <span class="string">"SINDY"</span>, <span class="string">"SANTANA"</span>, <span class="string">"MEGHANN"</span>, <span class="string">"MANDA"</span>, <span class="string">"MACIE"</span>, <span class="string">"LADY"</span>, <span class="string">"KELLYE"</span>, <span class="string">"KELLEE"</span>,</span><br><span class="line"><span class="string">"JOSLYN"</span>, <span class="string">"JASON"</span>, <span class="string">"INGER"</span>, <span class="string">"INDIRA"</span>, <span class="string">"GLINDA"</span>, <span class="string">"GLENNIS"</span>, <span class="string">"FERNANDA"</span>, <span class="string">"FAUSTINA"</span>, <span class="string">"ENEIDA"</span>, <span class="string">"ELICIA"</span>,</span><br><span class="line"><span class="string">"DOT"</span>, <span class="string">"DIGNA"</span>, <span class="string">"DELL"</span>, <span class="string">"ARLETTA"</span>, <span class="string">"ANDRE"</span>, <span class="string">"WILLIA"</span>, <span class="string">"TAMMARA"</span>, <span class="string">"TABETHA"</span>, <span class="string">"SHERRELL"</span>, <span class="string">"SARI"</span>,</span><br><span class="line"><span class="string">"REFUGIO"</span>, <span class="string">"REBBECA"</span>, <span class="string">"PAULETTA"</span>, <span class="string">"NIEVES"</span>, <span class="string">"NATOSHA"</span>, <span class="string">"NAKITA"</span>, <span class="string">"MAMMIE"</span>, <span class="string">"KENISHA"</span>, <span class="string">"KAZUKO"</span>, <span class="string">"KASSIE"</span>,</span><br><span class="line"><span class="string">"GARY"</span>, <span class="string">"EARLEAN"</span>, <span class="string">"DAPHINE"</span>, <span class="string">"CORLISS"</span>, <span class="string">"CLOTILDE"</span>, <span class="string">"CAROLYNE"</span>, <span class="string">"BERNETTA"</span>, <span class="string">"AUGUSTINA"</span>, <span class="string">"AUDREA"</span>, <span class="string">"ANNIS"</span>,</span><br><span class="line"><span class="string">"ANNABELL"</span>, <span class="string">"YAN"</span>, <span class="string">"TENNILLE"</span>, <span class="string">"TAMICA"</span>, <span class="string">"SELENE"</span>, <span class="string">"SEAN"</span>, <span class="string">"ROSANA"</span>, <span class="string">"REGENIA"</span>, <span class="string">"QIANA"</span>, <span class="string">"MARKITA"</span>,</span><br><span class="line"><span class="string">"MACY"</span>, <span class="string">"LEEANNE"</span>, <span class="string">"LAURINE"</span>, <span class="string">"KYM"</span>, <span class="string">"JESSENIA"</span>, <span class="string">"JANITA"</span>, <span class="string">"GEORGINE"</span>, <span class="string">"GENIE"</span>, <span class="string">"EMIKO"</span>, <span class="string">"ELVIE"</span>,</span><br><span class="line"><span class="string">"DEANDRA"</span>, <span class="string">"DAGMAR"</span>, <span class="string">"CORIE"</span>, <span class="string">"COLLEN"</span>, <span class="string">"CHERISH"</span>, <span class="string">"ROMAINE"</span>, <span class="string">"PORSHA"</span>, <span class="string">"PEARLENE"</span>, <span class="string">"MICHELINE"</span>, <span class="string">"MERNA"</span>,</span><br><span class="line"><span class="string">"MARGORIE"</span>, <span class="string">"MARGARETTA"</span>, <span class="string">"LORE"</span>, <span class="string">"KENNETH"</span>, <span class="string">"JENINE"</span>, <span class="string">"HERMINA"</span>, <span class="string">"FREDERICKA"</span>, <span class="string">"ELKE"</span>, <span class="string">"DRUSILLA"</span>, <span class="string">"DORATHY"</span>,</span><br><span class="line"><span class="string">"DIONE"</span>, <span class="string">"DESIRE"</span>, <span class="string">"CELENA"</span>, <span class="string">"BRIGIDA"</span>, <span class="string">"ANGELES"</span>, <span class="string">"ALLEGRA"</span>, <span class="string">"THEO"</span>, <span class="string">"TAMEKIA"</span>, <span class="string">"SYNTHIA"</span>, <span class="string">"STEPHEN"</span>,</span><br><span class="line"><span class="string">"SOOK"</span>, <span class="string">"SLYVIA"</span>, <span class="string">"ROSANN"</span>, <span class="string">"REATHA"</span>, <span class="string">"RAYE"</span>, <span class="string">"MARQUETTA"</span>, <span class="string">"MARGART"</span>, <span class="string">"LING"</span>, <span class="string">"LAYLA"</span>, <span class="string">"KYMBERLY"</span>,</span><br><span class="line"><span class="string">"KIANA"</span>, <span class="string">"KAYLEEN"</span>, <span class="string">"KATLYN"</span>, <span class="string">"KARMEN"</span>, <span class="string">"JOELLA"</span>, <span class="string">"IRINA"</span>, <span class="string">"EMELDA"</span>, <span class="string">"ELENI"</span>, <span class="string">"DETRA"</span>, <span class="string">"CLEMMIE"</span>,</span><br><span class="line"><span class="string">"CHERYLL"</span>, <span class="string">"CHANTELL"</span>, <span class="string">"CATHEY"</span>, <span class="string">"ARNITA"</span>, <span class="string">"ARLA"</span>, <span class="string">"ANGLE"</span>, <span class="string">"ANGELIC"</span>, <span class="string">"ALYSE"</span>, <span class="string">"ZOFIA"</span>, <span class="string">"THOMASINE"</span>,</span><br><span class="line"><span class="string">"TENNIE"</span>, <span class="string">"SON"</span>, <span class="string">"SHERLY"</span>, <span class="string">"SHERLEY"</span>, <span class="string">"SHARYL"</span>, <span class="string">"REMEDIOS"</span>, <span class="string">"PETRINA"</span>, <span class="string">"NICKOLE"</span>, <span class="string">"MYUNG"</span>, <span class="string">"MYRLE"</span>,</span><br><span class="line"><span class="string">"MOZELLA"</span>, <span class="string">"LOUANNE"</span>, <span class="string">"LISHA"</span>, <span class="string">"LATIA"</span>, <span class="string">"LANE"</span>, <span class="string">"KRYSTA"</span>, <span class="string">"JULIENNE"</span>, <span class="string">"JOEL"</span>, <span class="string">"JEANENE"</span>, <span class="string">"JACQUALINE"</span>,</span><br><span class="line"><span class="string">"ISAURA"</span>, <span class="string">"GWENDA"</span>, <span class="string">"EARLEEN"</span>, <span class="string">"DONALD"</span>, <span class="string">"CLEOPATRA"</span>, <span class="string">"CARLIE"</span>, <span class="string">"AUDIE"</span>, <span class="string">"ANTONIETTA"</span>, <span class="string">"ALISE"</span>, <span class="string">"ALEX"</span>,</span><br><span class="line"><span class="string">"VERDELL"</span>, <span class="string">"VAL"</span>, <span class="string">"TYLER"</span>, <span class="string">"TOMOKO"</span>, <span class="string">"THAO"</span>, <span class="string">"TALISHA"</span>, <span class="string">"STEVEN"</span>, <span class="string">"SO"</span>, <span class="string">"SHEMIKA"</span>, <span class="string">"SHAUN"</span>,</span><br><span class="line"><span class="string">"SCARLET"</span>, <span class="string">"SAVANNA"</span>, <span class="string">"SANTINA"</span>, <span class="string">"ROSIA"</span>, <span class="string">"RAEANN"</span>, <span class="string">"ODILIA"</span>, <span class="string">"NANA"</span>, <span class="string">"MINNA"</span>, <span class="string">"MAGAN"</span>, <span class="string">"LYNELLE"</span>,</span><br><span class="line"><span class="string">"LE"</span>, <span class="string">"KARMA"</span>, <span class="string">"JOEANN"</span>, <span class="string">"IVANA"</span>, <span class="string">"INELL"</span>, <span class="string">"ILANA"</span>, <span class="string">"HYE"</span>, <span class="string">"HONEY"</span>, <span class="string">"HEE"</span>, <span class="string">"GUDRUN"</span>,</span><br><span class="line"><span class="string">"FRANK"</span>, <span class="string">"DREAMA"</span>, <span class="string">"CRISSY"</span>, <span class="string">"CHANTE"</span>, <span class="string">"CARMELINA"</span>, <span class="string">"ARVILLA"</span>, <span class="string">"ARTHUR"</span>, <span class="string">"ANNAMAE"</span>, <span class="string">"ALVERA"</span>, <span class="string">"ALEIDA"</span>,</span><br><span class="line"><span class="string">"AARON"</span>, <span class="string">"YEE"</span>, <span class="string">"YANIRA"</span>, <span class="string">"VANDA"</span>, <span class="string">"TIANNA"</span>, <span class="string">"TAM"</span>, <span class="string">"STEFANIA"</span>, <span class="string">"SHIRA"</span>, <span class="string">"PERRY"</span>, <span class="string">"NICOL"</span>,</span><br><span class="line"><span class="string">"NANCIE"</span>, <span class="string">"MONSERRATE"</span>, <span class="string">"MINH"</span>, <span class="string">"MELYNDA"</span>, <span class="string">"MELANY"</span>, <span class="string">"MATTHEW"</span>, <span class="string">"LOVELLA"</span>, <span class="string">"LAURE"</span>, <span class="string">"KIRBY"</span>, <span class="string">"KACY"</span>,</span><br><span class="line"><span class="string">"JACQUELYNN"</span>, <span class="string">"HYON"</span>, <span class="string">"GERTHA"</span>, <span class="string">"FRANCISCO"</span>, <span class="string">"ELIANA"</span>, <span class="string">"CHRISTENA"</span>, <span class="string">"CHRISTEEN"</span>, <span class="string">"CHARISE"</span>, <span class="string">"CATERINA"</span>, <span class="string">"CARLEY"</span>,</span><br><span class="line"><span class="string">"CANDYCE"</span>, <span class="string">"ARLENA"</span>, <span class="string">"AMMIE"</span>, <span class="string">"YANG"</span>, <span class="string">"WILLETTE"</span>, <span class="string">"VANITA"</span>, <span class="string">"TUYET"</span>, <span class="string">"TINY"</span>, <span class="string">"SYREETA"</span>, <span class="string">"SILVA"</span>,</span><br><span class="line"><span class="string">"SCOTT"</span>, <span class="string">"RONALD"</span>, <span class="string">"PENNEY"</span>, <span class="string">"NYLA"</span>, <span class="string">"MICHAL"</span>, <span class="string">"MAURICE"</span>, <span class="string">"MARYAM"</span>, <span class="string">"MARYA"</span>, <span class="string">"MAGEN"</span>, <span class="string">"LUDIE"</span>,</span><br><span class="line"><span class="string">"LOMA"</span>, <span class="string">"LIVIA"</span>, <span class="string">"LANELL"</span>, <span class="string">"KIMBERLIE"</span>, <span class="string">"JULEE"</span>, <span class="string">"DONETTA"</span>, <span class="string">"DIEDRA"</span>, <span class="string">"DENISHA"</span>, <span class="string">"DEANE"</span>, <span class="string">"DAWNE"</span>,</span><br><span class="line"><span class="string">"CLARINE"</span>, <span class="string">"CHERRYL"</span>, <span class="string">"BRONWYN"</span>, <span class="string">"BRANDON"</span>, <span class="string">"ALLA"</span>, <span class="string">"VALERY"</span>, <span class="string">"TONDA"</span>, <span class="string">"SUEANN"</span>, <span class="string">"SORAYA"</span>, <span class="string">"SHOSHANA"</span>,</span><br><span class="line"><span class="string">"SHELA"</span>, <span class="string">"SHARLEEN"</span>, <span class="string">"SHANELLE"</span>, <span class="string">"NERISSA"</span>, <span class="string">"MICHEAL"</span>, <span class="string">"MERIDITH"</span>, <span class="string">"MELLIE"</span>, <span class="string">"MAYE"</span>, <span class="string">"MAPLE"</span>, <span class="string">"MAGARET"</span>,</span><br><span class="line"><span class="string">"LUIS"</span>, <span class="string">"LILI"</span>, <span class="string">"LEONILA"</span>, <span class="string">"LEONIE"</span>, <span class="string">"LEEANNA"</span>, <span class="string">"LAVONIA"</span>, <span class="string">"LAVERA"</span>, <span class="string">"KRISTEL"</span>, <span class="string">"KATHEY"</span>, <span class="string">"KATHE"</span>,</span><br><span class="line"><span class="string">"JUSTIN"</span>, <span class="string">"JULIAN"</span>, <span class="string">"JIMMY"</span>, <span class="string">"JANN"</span>, <span class="string">"ILDA"</span>, <span class="string">"HILDRED"</span>, <span class="string">"HILDEGARDE"</span>, <span class="string">"GENIA"</span>, <span class="string">"FUMIKO"</span>, <span class="string">"EVELIN"</span>,</span><br><span class="line"><span class="string">"ERMELINDA"</span>, <span class="string">"ELLY"</span>, <span class="string">"DUNG"</span>, <span class="string">"DOLORIS"</span>, <span class="string">"DIONNA"</span>, <span class="string">"DANAE"</span>, <span class="string">"BERNEICE"</span>, <span class="string">"ANNICE"</span>, <span class="string">"ALIX"</span>, <span class="string">"VERENA"</span>,</span><br><span class="line"><span class="string">"VERDIE"</span>, <span class="string">"TRISTAN"</span>, <span class="string">"SHAWNNA"</span>, <span class="string">"SHAWANA"</span>, <span class="string">"SHAUNNA"</span>, <span class="string">"ROZELLA"</span>, <span class="string">"RANDEE"</span>, <span class="string">"RANAE"</span>, <span class="string">"MILAGRO"</span>, <span class="string">"LYNELL"</span>,</span><br><span class="line"><span class="string">"LUISE"</span>, <span class="string">"LOUIE"</span>, <span class="string">"LOIDA"</span>, <span class="string">"LISBETH"</span>, <span class="string">"KARLEEN"</span>, <span class="string">"JUNITA"</span>, <span class="string">"JONA"</span>, <span class="string">"ISIS"</span>, <span class="string">"HYACINTH"</span>, <span class="string">"HEDY"</span>,</span><br><span class="line"><span class="string">"GWENN"</span>, <span class="string">"ETHELENE"</span>, <span class="string">"ERLINE"</span>, <span class="string">"EDWARD"</span>, <span class="string">"DONYA"</span>, <span class="string">"DOMONIQUE"</span>, <span class="string">"DELICIA"</span>, <span class="string">"DANNETTE"</span>, <span class="string">"CICELY"</span>, <span class="string">"BRANDA"</span>,</span><br><span class="line"><span class="string">"BLYTHE"</span>, <span class="string">"BETHANN"</span>, <span class="string">"ASHLYN"</span>, <span class="string">"ANNALEE"</span>, <span class="string">"ALLINE"</span>, <span class="string">"YUKO"</span>, <span class="string">"VELLA"</span>, <span class="string">"TRANG"</span>, <span class="string">"TOWANDA"</span>, <span class="string">"TESHA"</span>,</span><br><span class="line"><span class="string">"SHERLYN"</span>, <span class="string">"NARCISA"</span>, <span class="string">"MIGUELINA"</span>, <span class="string">"MERI"</span>, <span class="string">"MAYBELL"</span>, <span class="string">"MARLANA"</span>, <span class="string">"MARGUERITA"</span>, <span class="string">"MADLYN"</span>, <span class="string">"LUNA"</span>, <span class="string">"LORY"</span>,</span><br><span class="line"><span class="string">"LORIANN"</span>, <span class="string">"LIBERTY"</span>, <span class="string">"LEONORE"</span>, <span class="string">"LEIGHANN"</span>, <span class="string">"LAURICE"</span>, <span class="string">"LATESHA"</span>, <span class="string">"LARONDA"</span>, <span class="string">"KATRICE"</span>, <span class="string">"KASIE"</span>, <span class="string">"KARL"</span>,</span><br><span class="line"><span class="string">"KALEY"</span>, <span class="string">"JADWIGA"</span>, <span class="string">"GLENNIE"</span>, <span class="string">"GEARLDINE"</span>, <span class="string">"FRANCINA"</span>, <span class="string">"EPIFANIA"</span>, <span class="string">"DYAN"</span>, <span class="string">"DORIE"</span>, <span class="string">"DIEDRE"</span>, <span class="string">"DENESE"</span>,</span><br><span class="line"><span class="string">"DEMETRICE"</span>, <span class="string">"DELENA"</span>, <span class="string">"DARBY"</span>, <span class="string">"CRISTIE"</span>, <span class="string">"CLEORA"</span>, <span class="string">"CATARINA"</span>, <span class="string">"CARISA"</span>, <span class="string">"BERNIE"</span>, <span class="string">"BARBERA"</span>, <span class="string">"ALMETA"</span>,</span><br><span class="line"><span class="string">"TRULA"</span>, <span class="string">"TEREASA"</span>, <span class="string">"SOLANGE"</span>, <span class="string">"SHEILAH"</span>, <span class="string">"SHAVONNE"</span>, <span class="string">"SANORA"</span>, <span class="string">"ROCHELL"</span>, <span class="string">"MATHILDE"</span>, <span class="string">"MARGARETA"</span>, <span class="string">"MAIA"</span>,</span><br><span class="line"><span class="string">"LYNSEY"</span>, <span class="string">"LAWANNA"</span>, <span class="string">"LAUNA"</span>, <span class="string">"KENA"</span>, <span class="string">"KEENA"</span>, <span class="string">"KATIA"</span>, <span class="string">"JAMEY"</span>, <span class="string">"GLYNDA"</span>, <span class="string">"GAYLENE"</span>, <span class="string">"ELVINA"</span>,</span><br><span class="line"><span class="string">"ELANOR"</span>, <span class="string">"DANUTA"</span>, <span class="string">"DANIKA"</span>, <span class="string">"CRISTEN"</span>, <span class="string">"CORDIE"</span>, <span class="string">"COLETTA"</span>, <span class="string">"CLARITA"</span>, <span class="string">"CARMON"</span>, <span class="string">"BRYNN"</span>, <span class="string">"AZUCENA"</span>,</span><br><span class="line"><span class="string">"AUNDREA"</span>, <span class="string">"ANGELE"</span>, <span class="string">"YI"</span>, <span class="string">"WALTER"</span>, <span class="string">"VERLIE"</span>, <span class="string">"VERLENE"</span>, <span class="string">"TAMESHA"</span>, <span class="string">"SILVANA"</span>, <span class="string">"SEBRINA"</span>, <span class="string">"SAMIRA"</span>,</span><br><span class="line"><span class="string">"REDA"</span>, <span class="string">"RAYLENE"</span>, <span class="string">"PENNI"</span>, <span class="string">"PANDORA"</span>, <span class="string">"NORAH"</span>, <span class="string">"NOMA"</span>, <span class="string">"MIREILLE"</span>, <span class="string">"MELISSIA"</span>, <span class="string">"MARYALICE"</span>, <span class="string">"LARAINE"</span>,</span><br><span class="line"><span class="string">"KIMBERY"</span>, <span class="string">"KARYL"</span>, <span class="string">"KARINE"</span>, <span class="string">"KAM"</span>, <span class="string">"JOLANDA"</span>, <span class="string">"JOHANA"</span>, <span class="string">"JESUSA"</span>, <span class="string">"JALEESA"</span>, <span class="string">"JAE"</span>, <span class="string">"JACQUELYNE"</span>,</span><br><span class="line"><span class="string">"IRISH"</span>, <span class="string">"ILUMINADA"</span>, <span class="string">"HILARIA"</span>, <span class="string">"HANH"</span>, <span class="string">"GENNIE"</span>, <span class="string">"FRANCIE"</span>, <span class="string">"FLORETTA"</span>, <span class="string">"EXIE"</span>, <span class="string">"EDDA"</span>, <span class="string">"DREMA"</span>,</span><br><span class="line"><span class="string">"DELPHA"</span>, <span class="string">"BEV"</span>, <span class="string">"BARBAR"</span>, <span class="string">"ASSUNTA"</span>, <span class="string">"ARDELL"</span>, <span class="string">"ANNALISA"</span>, <span class="string">"ALISIA"</span>, <span class="string">"YUKIKO"</span>, <span class="string">"YOLANDO"</span>, <span class="string">"WONDA"</span>,</span><br><span class="line"><span class="string">"WEI"</span>, <span class="string">"WALTRAUD"</span>, <span class="string">"VETA"</span>, <span class="string">"TEQUILA"</span>, <span class="string">"TEMEKA"</span>, <span class="string">"TAMEIKA"</span>, <span class="string">"SHIRLEEN"</span>, <span class="string">"SHENITA"</span>, <span class="string">"PIEDAD"</span>, <span class="string">"OZELLA"</span>,</span><br><span class="line"><span class="string">"MIRTHA"</span>, <span class="string">"MARILU"</span>, <span class="string">"KIMIKO"</span>, <span class="string">"JULIANE"</span>, <span class="string">"JENICE"</span>, <span class="string">"JEN"</span>, <span class="string">"JANAY"</span>, <span class="string">"JACQUILINE"</span>, <span class="string">"HILDE"</span>, <span class="string">"FE"</span>,</span><br><span class="line"><span class="string">"FAE"</span>, <span class="string">"EVAN"</span>, <span class="string">"EUGENE"</span>, <span class="string">"ELOIS"</span>, <span class="string">"ECHO"</span>, <span class="string">"DEVORAH"</span>, <span class="string">"CHAU"</span>, <span class="string">"BRINDA"</span>, <span class="string">"BETSEY"</span>, <span class="string">"ARMINDA"</span>,</span><br><span class="line"><span class="string">"ARACELIS"</span>, <span class="string">"APRYL"</span>, <span class="string">"ANNETT"</span>, <span class="string">"ALISHIA"</span>, <span class="string">"VEOLA"</span>, <span class="string">"USHA"</span>, <span class="string">"TOSHIKO"</span>, <span class="string">"THEOLA"</span>, <span class="string">"TASHIA"</span>, <span class="string">"TALITHA"</span>,</span><br><span class="line"><span class="string">"SHERY"</span>, <span class="string">"RUDY"</span>, <span class="string">"RENETTA"</span>, <span class="string">"REIKO"</span>, <span class="string">"RASHEEDA"</span>, <span class="string">"OMEGA"</span>, <span class="string">"OBDULIA"</span>, <span class="string">"MIKA"</span>, <span class="string">"MELAINE"</span>, <span class="string">"MEGGAN"</span>,</span><br><span class="line"><span class="string">"MARTIN"</span>, <span class="string">"MARLEN"</span>, <span class="string">"MARGET"</span>, <span class="string">"MARCELINE"</span>, <span class="string">"MANA"</span>, <span class="string">"MAGDALEN"</span>, <span class="string">"LIBRADA"</span>, <span class="string">"LEZLIE"</span>, <span class="string">"LEXIE"</span>, <span class="string">"LATASHIA"</span>,</span><br><span class="line"><span class="string">"LASANDRA"</span>, <span class="string">"KELLE"</span>, <span class="string">"ISIDRA"</span>, <span class="string">"ISA"</span>, <span class="string">"INOCENCIA"</span>, <span class="string">"GWYN"</span>, <span class="string">"FRANCOISE"</span>, <span class="string">"ERMINIA"</span>, <span class="string">"ERINN"</span>, <span class="string">"DIMPLE"</span>,</span><br><span class="line"><span class="string">"DEVORA"</span>, <span class="string">"CRISELDA"</span>, <span class="string">"ARMANDA"</span>, <span class="string">"ARIE"</span>, <span class="string">"ARIANE"</span>, <span class="string">"ANGELO"</span>, <span class="string">"ANGELENA"</span>, <span class="string">"ALLEN"</span>, <span class="string">"ALIZA"</span>, <span class="string">"ADRIENE"</span>,</span><br><span class="line"><span class="string">"ADALINE"</span>, <span class="string">"XOCHITL"</span>, <span class="string">"TWANNA"</span>, <span class="string">"TRAN"</span>, <span class="string">"TOMIKO"</span>, <span class="string">"TAMISHA"</span>, <span class="string">"TAISHA"</span>, <span class="string">"SUSY"</span>, <span class="string">"SIU"</span>, <span class="string">"RUTHA"</span>,</span><br><span class="line"><span class="string">"ROXY"</span>, <span class="string">"RHONA"</span>, <span class="string">"RAYMOND"</span>, <span class="string">"OTHA"</span>, <span class="string">"NORIKO"</span>, <span class="string">"NATASHIA"</span>, <span class="string">"MERRIE"</span>, <span class="string">"MELVIN"</span>, <span class="string">"MARINDA"</span>, <span class="string">"MARIKO"</span>,</span><br><span class="line"><span class="string">"MARGERT"</span>, <span class="string">"LORIS"</span>, <span class="string">"LIZZETTE"</span>, <span class="string">"LEISHA"</span>, <span class="string">"KAILA"</span>, <span class="string">"KA"</span>, <span class="string">"JOANNIE"</span>, <span class="string">"JERRICA"</span>, <span class="string">"JENE"</span>, <span class="string">"JANNET"</span>,</span><br><span class="line"><span class="string">"JANEE"</span>, <span class="string">"JACINDA"</span>, <span class="string">"HERTA"</span>, <span class="string">"ELENORE"</span>, <span class="string">"DORETTA"</span>, <span class="string">"DELAINE"</span>, <span class="string">"DANIELL"</span>, <span class="string">"CLAUDIE"</span>, <span class="string">"CHINA"</span>, <span class="string">"BRITTA"</span>,</span><br><span class="line"><span class="string">"APOLONIA"</span>, <span class="string">"AMBERLY"</span>, <span class="string">"ALEASE"</span>, <span class="string">"YURI"</span>, <span class="string">"YUK"</span>, <span class="string">"WEN"</span>, <span class="string">"WANETA"</span>, <span class="string">"UTE"</span>, <span class="string">"TOMI"</span>, <span class="string">"SHARRI"</span>,</span><br><span class="line"><span class="string">"SANDIE"</span>, <span class="string">"ROSELLE"</span>, <span class="string">"REYNALDA"</span>, <span class="string">"RAGUEL"</span>, <span class="string">"PHYLICIA"</span>, <span class="string">"PATRIA"</span>, <span class="string">"OLIMPIA"</span>, <span class="string">"ODELIA"</span>, <span class="string">"MITZIE"</span>, <span class="string">"MITCHELL"</span>,</span><br><span class="line"><span class="string">"MISS"</span>, <span class="string">"MINDA"</span>, <span class="string">"MIGNON"</span>, <span class="string">"MICA"</span>, <span class="string">"MENDY"</span>, <span class="string">"MARIVEL"</span>, <span class="string">"MAILE"</span>, <span class="string">"LYNETTA"</span>, <span class="string">"LAVETTE"</span>, <span class="string">"LAURYN"</span>,</span><br><span class="line"><span class="string">"LATRISHA"</span>, <span class="string">"LAKIESHA"</span>, <span class="string">"KIERSTEN"</span>, <span class="string">"KARY"</span>, <span class="string">"JOSPHINE"</span>, <span class="string">"JOLYN"</span>, <span class="string">"JETTA"</span>, <span class="string">"JANISE"</span>, <span class="string">"JACQUIE"</span>, <span class="string">"IVELISSE"</span>,</span><br><span class="line"><span class="string">"GLYNIS"</span>, <span class="string">"GIANNA"</span>, <span class="string">"GAYNELLE"</span>, <span class="string">"EMERALD"</span>, <span class="string">"DEMETRIUS"</span>, <span class="string">"DANYELL"</span>, <span class="string">"DANILLE"</span>, <span class="string">"DACIA"</span>, <span class="string">"CORALEE"</span>, <span class="string">"CHER"</span>,</span><br><span class="line"><span class="string">"CEOLA"</span>, <span class="string">"BRETT"</span>, <span class="string">"BELL"</span>, <span class="string">"ARIANNE"</span>, <span class="string">"ALESHIA"</span>, <span class="string">"YUNG"</span>, <span class="string">"WILLIEMAE"</span>, <span class="string">"TROY"</span>, <span class="string">"TRINH"</span>, <span class="string">"THORA"</span>,</span><br><span class="line"><span class="string">"TAI"</span>, <span class="string">"SVETLANA"</span>, <span class="string">"SHERIKA"</span>, <span class="string">"SHEMEKA"</span>, <span class="string">"SHAUNDA"</span>, <span class="string">"ROSELINE"</span>, <span class="string">"RICKI"</span>, <span class="string">"MELDA"</span>, <span class="string">"MALLIE"</span>, <span class="string">"LAVONNA"</span>,</span><br><span class="line"><span class="string">"LATINA"</span>, <span class="string">"LARRY"</span>, <span class="string">"LAQUANDA"</span>, <span class="string">"LALA"</span>, <span class="string">"LACHELLE"</span>, <span class="string">"KLARA"</span>, <span class="string">"KANDIS"</span>, <span class="string">"JOHNA"</span>, <span class="string">"JEANMARIE"</span>, <span class="string">"JAYE"</span>,</span><br><span class="line"><span class="string">"HANG"</span>, <span class="string">"GRAYCE"</span>, <span class="string">"GERTUDE"</span>, <span class="string">"EMERITA"</span>, <span class="string">"EBONIE"</span>, <span class="string">"CLORINDA"</span>, <span class="string">"CHING"</span>, <span class="string">"CHERY"</span>, <span class="string">"CAROLA"</span>, <span class="string">"BREANN"</span>,</span><br><span class="line"><span class="string">"BLOSSOM"</span>, <span class="string">"BERNARDINE"</span>, <span class="string">"BECKI"</span>, <span class="string">"ARLETHA"</span>, <span class="string">"ARGELIA"</span>, <span class="string">"ARA"</span>, <span class="string">"ALITA"</span>, <span class="string">"YULANDA"</span>, <span class="string">"YON"</span>, <span class="string">"YESSENIA"</span>,</span><br><span class="line"><span class="string">"TOBI"</span>, <span class="string">"TASIA"</span>, <span class="string">"SYLVIE"</span>, <span class="string">"SHIRL"</span>, <span class="string">"SHIRELY"</span>, <span class="string">"SHERIDAN"</span>, <span class="string">"SHELLA"</span>, <span class="string">"SHANTELLE"</span>, <span class="string">"SACHA"</span>, <span class="string">"ROYCE"</span>,</span><br><span class="line"><span class="string">"REBECKA"</span>, <span class="string">"REAGAN"</span>, <span class="string">"PROVIDENCIA"</span>, <span class="string">"PAULENE"</span>, <span class="string">"MISHA"</span>, <span class="string">"MIKI"</span>, <span class="string">"MARLINE"</span>, <span class="string">"MARICA"</span>, <span class="string">"LORITA"</span>, <span class="string">"LATOYIA"</span>,</span><br><span class="line"><span class="string">"LASONYA"</span>, <span class="string">"KERSTIN"</span>, <span class="string">"KENDA"</span>, <span class="string">"KEITHA"</span>, <span class="string">"KATHRIN"</span>, <span class="string">"JAYMIE"</span>, <span class="string">"JACK"</span>, <span class="string">"GRICELDA"</span>, <span class="string">"GINETTE"</span>, <span class="string">"ERYN"</span>,</span><br><span class="line"><span class="string">"ELINA"</span>, <span class="string">"ELFRIEDA"</span>, <span class="string">"DANYEL"</span>, <span class="string">"CHEREE"</span>, <span class="string">"CHANELLE"</span>, <span class="string">"BARRIE"</span>, <span class="string">"AVERY"</span>, <span class="string">"AURORE"</span>, <span class="string">"ANNAMARIA"</span>, <span class="string">"ALLEEN"</span>,</span><br><span class="line"><span class="string">"AILENE"</span>, <span class="string">"AIDE"</span>, <span class="string">"YASMINE"</span>, <span class="string">"VASHTI"</span>, <span class="string">"VALENTINE"</span>, <span class="string">"TREASA"</span>, <span class="string">"TORY"</span>, <span class="string">"TIFFANEY"</span>, <span class="string">"SHERYLL"</span>, <span class="string">"SHARIE"</span>,</span><br><span class="line"><span class="string">"SHANAE"</span>, <span class="string">"SAU"</span>, <span class="string">"RAISA"</span>, <span class="string">"PA"</span>, <span class="string">"NEDA"</span>, <span class="string">"MITSUKO"</span>, <span class="string">"MIRELLA"</span>, <span class="string">"MILDA"</span>, <span class="string">"MARYANNA"</span>, <span class="string">"MARAGRET"</span>,</span><br><span class="line"><span class="string">"MABELLE"</span>, <span class="string">"LUETTA"</span>, <span class="string">"LORINA"</span>, <span class="string">"LETISHA"</span>, <span class="string">"LATARSHA"</span>, <span class="string">"LANELLE"</span>, <span class="string">"LAJUANA"</span>, <span class="string">"KRISSY"</span>, <span class="string">"KARLY"</span>, <span class="string">"KARENA"</span>,</span><br><span class="line"><span class="string">"JON"</span>, <span class="string">"JESSIKA"</span>, <span class="string">"JERICA"</span>, <span class="string">"JEANELLE"</span>, <span class="string">"JANUARY"</span>, <span class="string">"JALISA"</span>, <span class="string">"JACELYN"</span>, <span class="string">"IZOLA"</span>, <span class="string">"IVEY"</span>, <span class="string">"GREGORY"</span>,</span><br><span class="line"><span class="string">"EUNA"</span>, <span class="string">"ETHA"</span>, <span class="string">"DREW"</span>, <span class="string">"DOMITILA"</span>, <span class="string">"DOMINICA"</span>, <span class="string">"DAINA"</span>, <span class="string">"CREOLA"</span>, <span class="string">"CARLI"</span>, <span class="string">"CAMIE"</span>, <span class="string">"BUNNY"</span>,</span><br><span class="line"><span class="string">"BRITTNY"</span>, <span class="string">"ASHANTI"</span>, <span class="string">"ANISHA"</span>, <span class="string">"ALEEN"</span>, <span class="string">"ADAH"</span>, <span class="string">"YASUKO"</span>, <span class="string">"WINTER"</span>, <span class="string">"VIKI"</span>, <span class="string">"VALRIE"</span>, <span class="string">"TONA"</span>,</span><br><span class="line"><span class="string">"TINISHA"</span>, <span class="string">"THI"</span>, <span class="string">"TERISA"</span>, <span class="string">"TATUM"</span>, <span class="string">"TANEKA"</span>, <span class="string">"SIMONNE"</span>, <span class="string">"SHALANDA"</span>, <span class="string">"SERITA"</span>, <span class="string">"RESSIE"</span>, <span class="string">"REFUGIA"</span>,</span><br><span class="line"><span class="string">"PAZ"</span>, <span class="string">"OLENE"</span>, <span class="string">"NA"</span>, <span class="string">"MERRILL"</span>, <span class="string">"MARGHERITA"</span>, <span class="string">"MANDIE"</span>, <span class="string">"MAN"</span>, <span class="string">"MAIRE"</span>, <span class="string">"LYNDIA"</span>, <span class="string">"LUCI"</span>,</span><br><span class="line"><span class="string">"LORRIANE"</span>, <span class="string">"LORETA"</span>, <span class="string">"LEONIA"</span>, <span class="string">"LAVONA"</span>, <span class="string">"LASHAWNDA"</span>, <span class="string">"LAKIA"</span>, <span class="string">"KYOKO"</span>, <span class="string">"KRYSTINA"</span>, <span class="string">"KRYSTEN"</span>, <span class="string">"KENIA"</span>,</span><br><span class="line"><span class="string">"KELSI"</span>, <span class="string">"JUDE"</span>, <span class="string">"JEANICE"</span>, <span class="string">"ISOBEL"</span>, <span class="string">"GEORGIANN"</span>, <span class="string">"GENNY"</span>, <span class="string">"FELICIDAD"</span>, <span class="string">"EILENE"</span>, <span class="string">"DEON"</span>, <span class="string">"DELOISE"</span>,</span><br><span class="line"><span class="string">"DEEDEE"</span>, <span class="string">"DANNIE"</span>, <span class="string">"CONCEPTION"</span>, <span class="string">"CLORA"</span>, <span class="string">"CHERILYN"</span>, <span class="string">"CHANG"</span>, <span class="string">"CALANDRA"</span>, <span class="string">"BERRY"</span>, <span class="string">"ARMANDINA"</span>, <span class="string">"ANISA"</span>,</span><br><span class="line"><span class="string">"ULA"</span>, <span class="string">"TIMOTHY"</span>, <span class="string">"TIERA"</span>, <span class="string">"THERESSA"</span>, <span class="string">"STEPHANIA"</span>, <span class="string">"SIMA"</span>, <span class="string">"SHYLA"</span>, <span class="string">"SHONTA"</span>, <span class="string">"SHERA"</span>, <span class="string">"SHAQUITA"</span>,</span><br><span class="line"><span class="string">"SHALA"</span>, <span class="string">"SAMMY"</span>, <span class="string">"ROSSANA"</span>, <span class="string">"NOHEMI"</span>, <span class="string">"NERY"</span>, <span class="string">"MORIAH"</span>, <span class="string">"MELITA"</span>, <span class="string">"MELIDA"</span>, <span class="string">"MELANI"</span>, <span class="string">"MARYLYNN"</span>,</span><br><span class="line"><span class="string">"MARISHA"</span>, <span class="string">"MARIETTE"</span>, <span class="string">"MALORIE"</span>, <span class="string">"MADELENE"</span>, <span class="string">"LUDIVINA"</span>, <span class="string">"LORIA"</span>, <span class="string">"LORETTE"</span>, <span class="string">"LORALEE"</span>, <span class="string">"LIANNE"</span>, <span class="string">"LEON"</span>,</span><br><span class="line"><span class="string">"LAVENIA"</span>, <span class="string">"LAURINDA"</span>, <span class="string">"LASHON"</span>, <span class="string">"KIT"</span>, <span class="string">"KIMI"</span>, <span class="string">"KEILA"</span>, <span class="string">"KATELYNN"</span>, <span class="string">"KAI"</span>, <span class="string">"JONE"</span>, <span class="string">"JOANE"</span>,</span><br><span class="line"><span class="string">"JI"</span>, <span class="string">"JAYNA"</span>, <span class="string">"JANELLA"</span>, <span class="string">"JA"</span>, <span class="string">"HUE"</span>, <span class="string">"HERTHA"</span>, <span class="string">"FRANCENE"</span>, <span class="string">"ELINORE"</span>, <span class="string">"DESPINA"</span>, <span class="string">"DELSIE"</span>,</span><br><span class="line"><span class="string">"DEEDRA"</span>, <span class="string">"CLEMENCIA"</span>, <span class="string">"CARRY"</span>, <span class="string">"CAROLIN"</span>, <span class="string">"CARLOS"</span>, <span class="string">"BULAH"</span>, <span class="string">"BRITTANIE"</span>, <span class="string">"BOK"</span>, <span class="string">"BLONDELL"</span>, <span class="string">"BIBI"</span>,</span><br><span class="line"><span class="string">"BEAULAH"</span>, <span class="string">"BEATA"</span>, <span class="string">"ANNITA"</span>, <span class="string">"AGRIPINA"</span>, <span class="string">"VIRGEN"</span>, <span class="string">"VALENE"</span>, <span class="string">"UN"</span>, <span class="string">"TWANDA"</span>, <span class="string">"TOMMYE"</span>, <span class="string">"TOI"</span>,</span><br><span class="line"><span class="string">"TARRA"</span>, <span class="string">"TARI"</span>, <span class="string">"TAMMERA"</span>, <span class="string">"SHAKIA"</span>, <span class="string">"SADYE"</span>, <span class="string">"RUTHANNE"</span>, <span class="string">"ROCHEL"</span>, <span class="string">"RIVKA"</span>, <span class="string">"PURA"</span>, <span class="string">"NENITA"</span>,</span><br><span class="line"><span class="string">"NATISHA"</span>, <span class="string">"MING"</span>, <span class="string">"MERRILEE"</span>, <span class="string">"MELODEE"</span>, <span class="string">"MARVIS"</span>, <span class="string">"LUCILLA"</span>, <span class="string">"LEENA"</span>, <span class="string">"LAVETA"</span>, <span class="string">"LARITA"</span>, <span class="string">"LANIE"</span>,</span><br><span class="line"><span class="string">"KEREN"</span>, <span class="string">"ILEEN"</span>, <span class="string">"GEORGEANN"</span>, <span class="string">"GENNA"</span>, <span class="string">"GENESIS"</span>, <span class="string">"FRIDA"</span>, <span class="string">"EWA"</span>, <span class="string">"EUFEMIA"</span>, <span class="string">"EMELY"</span>, <span class="string">"ELA"</span>,</span><br><span class="line"><span class="string">"EDYTH"</span>, <span class="string">"DEONNA"</span>, <span class="string">"DEADRA"</span>, <span class="string">"DARLENA"</span>, <span class="string">"CHANELL"</span>, <span class="string">"CHAN"</span>, <span class="string">"CATHERN"</span>, <span class="string">"CASSONDRA"</span>, <span class="string">"CASSAUNDRA"</span>, <span class="string">"BERNARDA"</span>,</span><br><span class="line"><span class="string">"BERNA"</span>, <span class="string">"ARLINDA"</span>, <span class="string">"ANAMARIA"</span>, <span class="string">"ALBERT"</span>, <span class="string">"WESLEY"</span>, <span class="string">"VERTIE"</span>, <span class="string">"VALERI"</span>, <span class="string">"TORRI"</span>, <span class="string">"TATYANA"</span>, <span class="string">"STASIA"</span>,</span><br><span class="line"><span class="string">"SHERISE"</span>, <span class="string">"SHERILL"</span>, <span class="string">"SEASON"</span>, <span class="string">"SCOTTIE"</span>, <span class="string">"SANDA"</span>, <span class="string">"RUTHE"</span>, <span class="string">"ROSY"</span>, <span class="string">"ROBERTO"</span>, <span class="string">"ROBBI"</span>, <span class="string">"RANEE"</span>,</span><br><span class="line"><span class="string">"QUYEN"</span>, <span class="string">"PEARLY"</span>, <span class="string">"PALMIRA"</span>, <span class="string">"ONITA"</span>, <span class="string">"NISHA"</span>, <span class="string">"NIESHA"</span>, <span class="string">"NIDA"</span>, <span class="string">"NEVADA"</span>, <span class="string">"NAM"</span>, <span class="string">"MERLYN"</span>,</span><br><span class="line"><span class="string">"MAYOLA"</span>, <span class="string">"MARYLOUISE"</span>, <span class="string">"MARYLAND"</span>, <span class="string">"MARX"</span>, <span class="string">"MARTH"</span>, <span class="string">"MARGENE"</span>, <span class="string">"MADELAINE"</span>, <span class="string">"LONDA"</span>, <span class="string">"LEONTINE"</span>, <span class="string">"LEOMA"</span>,</span><br><span class="line"><span class="string">"LEIA"</span>, <span class="string">"LAWRENCE"</span>, <span class="string">"LAURALEE"</span>, <span class="string">"LANORA"</span>, <span class="string">"LAKITA"</span>, <span class="string">"KIYOKO"</span>, <span class="string">"KETURAH"</span>, <span class="string">"KATELIN"</span>, <span class="string">"KAREEN"</span>, <span class="string">"JONIE"</span>,</span><br><span class="line"><span class="string">"JOHNETTE"</span>, <span class="string">"JENEE"</span>, <span class="string">"JEANETT"</span>, <span class="string">"IZETTA"</span>, <span class="string">"HIEDI"</span>, <span class="string">"HEIKE"</span>, <span class="string">"HASSIE"</span>, <span class="string">"HAROLD"</span>, <span class="string">"GIUSEPPINA"</span>, <span class="string">"GEORGANN"</span>,</span><br><span class="line"><span class="string">"FIDELA"</span>, <span class="string">"FERNANDE"</span>, <span class="string">"ELWANDA"</span>, <span class="string">"ELLAMAE"</span>, <span class="string">"ELIZ"</span>, <span class="string">"DUSTI"</span>, <span class="string">"DOTTY"</span>, <span class="string">"CYNDY"</span>, <span class="string">"CORALIE"</span>, <span class="string">"CELESTA"</span>,</span><br><span class="line"><span class="string">"ARGENTINA"</span>, <span class="string">"ALVERTA"</span>, <span class="string">"XENIA"</span>, <span class="string">"WAVA"</span>, <span class="string">"VANETTA"</span>, <span class="string">"TORRIE"</span>, <span class="string">"TASHINA"</span>, <span class="string">"TANDY"</span>, <span class="string">"TAMBRA"</span>, <span class="string">"TAMA"</span>,</span><br><span class="line"><span class="string">"STEPANIE"</span>, <span class="string">"SHILA"</span>, <span class="string">"SHAUNTA"</span>, <span class="string">"SHARAN"</span>, <span class="string">"SHANIQUA"</span>, <span class="string">"SHAE"</span>, <span class="string">"SETSUKO"</span>, <span class="string">"SERAFINA"</span>, <span class="string">"SANDEE"</span>, <span class="string">"ROSAMARIA"</span>,</span><br><span class="line"><span class="string">"PRISCILA"</span>, <span class="string">"OLINDA"</span>, <span class="string">"NADENE"</span>, <span class="string">"MUOI"</span>, <span class="string">"MICHELINA"</span>, <span class="string">"MERCEDEZ"</span>, <span class="string">"MARYROSE"</span>, <span class="string">"MARIN"</span>, <span class="string">"MARCENE"</span>, <span class="string">"MAO"</span>,</span><br><span class="line"><span class="string">"MAGALI"</span>, <span class="string">"MAFALDA"</span>, <span class="string">"LOGAN"</span>, <span class="string">"LINN"</span>, <span class="string">"LANNIE"</span>, <span class="string">"KAYCE"</span>, <span class="string">"KAROLINE"</span>, <span class="string">"KAMILAH"</span>, <span class="string">"KAMALA"</span>, <span class="string">"JUSTA"</span>,</span><br><span class="line"><span class="string">"JOLINE"</span>, <span class="string">"JENNINE"</span>, <span class="string">"JACQUETTA"</span>, <span class="string">"IRAIDA"</span>, <span class="string">"GERALD"</span>, <span class="string">"GEORGEANNA"</span>, <span class="string">"FRANCHESCA"</span>, <span class="string">"FAIRY"</span>, <span class="string">"EMELINE"</span>, <span class="string">"ELANE"</span>,</span><br><span class="line"><span class="string">"EHTEL"</span>, <span class="string">"EARLIE"</span>, <span class="string">"DULCIE"</span>, <span class="string">"DALENE"</span>, <span class="string">"CRIS"</span>, <span class="string">"CLASSIE"</span>, <span class="string">"CHERE"</span>, <span class="string">"CHARIS"</span>, <span class="string">"CAROYLN"</span>, <span class="string">"CARMINA"</span>,</span><br><span class="line"><span class="string">"CARITA"</span>, <span class="string">"BRIAN"</span>, <span class="string">"BETHANIE"</span>, <span class="string">"AYAKO"</span>, <span class="string">"ARICA"</span>, <span class="string">"AN"</span>, <span class="string">"ALYSA"</span>, <span class="string">"ALESSANDRA"</span>, <span class="string">"AKILAH"</span>, <span class="string">"ADRIEN"</span>,</span><br><span class="line"><span class="string">"ZETTA"</span>, <span class="string">"YOULANDA"</span>, <span class="string">"YELENA"</span>, <span class="string">"YAHAIRA"</span>, <span class="string">"XUAN"</span>, <span class="string">"WENDOLYN"</span>, <span class="string">"VICTOR"</span>, <span class="string">"TIJUANA"</span>, <span class="string">"TERRELL"</span>, <span class="string">"TERINA"</span>,</span><br><span class="line"><span class="string">"TERESIA"</span>, <span class="string">"SUZI"</span>, <span class="string">"SUNDAY"</span>, <span class="string">"SHERELL"</span>, <span class="string">"SHAVONDA"</span>, <span class="string">"SHAUNTE"</span>, <span class="string">"SHARDA"</span>, <span class="string">"SHAKITA"</span>, <span class="string">"SENA"</span>, <span class="string">"RYANN"</span>,</span><br><span class="line"><span class="string">"RUBI"</span>, <span class="string">"RIVA"</span>, <span class="string">"REGINIA"</span>, <span class="string">"REA"</span>, <span class="string">"RACHAL"</span>, <span class="string">"PARTHENIA"</span>, <span class="string">"PAMULA"</span>, <span class="string">"MONNIE"</span>, <span class="string">"MONET"</span>, <span class="string">"MICHAELE"</span>,</span><br><span class="line"><span class="string">"MELIA"</span>, <span class="string">"MARINE"</span>, <span class="string">"MALKA"</span>, <span class="string">"MAISHA"</span>, <span class="string">"LISANDRA"</span>, <span class="string">"LEO"</span>, <span class="string">"LEKISHA"</span>, <span class="string">"LEAN"</span>, <span class="string">"LAURENCE"</span>, <span class="string">"LAKENDRA"</span>,</span><br><span class="line"><span class="string">"KRYSTIN"</span>, <span class="string">"KORTNEY"</span>, <span class="string">"KIZZIE"</span>, <span class="string">"KITTIE"</span>, <span class="string">"KERA"</span>, <span class="string">"KENDAL"</span>, <span class="string">"KEMBERLY"</span>, <span class="string">"KANISHA"</span>, <span class="string">"JULENE"</span>, <span class="string">"JULE"</span>,</span><br><span class="line"><span class="string">"JOSHUA"</span>, <span class="string">"JOHANNE"</span>, <span class="string">"JEFFREY"</span>, <span class="string">"JAMEE"</span>, <span class="string">"HAN"</span>, <span class="string">"HALLEY"</span>, <span class="string">"GIDGET"</span>, <span class="string">"GALINA"</span>, <span class="string">"FREDRICKA"</span>, <span class="string">"FLETA"</span>,</span><br><span class="line"><span class="string">"FATIMAH"</span>, <span class="string">"EUSEBIA"</span>, <span class="string">"ELZA"</span>, <span class="string">"ELEONORE"</span>, <span class="string">"DORTHEY"</span>, <span class="string">"DORIA"</span>, <span class="string">"DONELLA"</span>, <span class="string">"DINORAH"</span>, <span class="string">"DELORSE"</span>, <span class="string">"CLARETHA"</span>,</span><br><span class="line"><span class="string">"CHRISTINIA"</span>, <span class="string">"CHARLYN"</span>, <span class="string">"BONG"</span>, <span class="string">"BELKIS"</span>, <span class="string">"AZZIE"</span>, <span class="string">"ANDERA"</span>, <span class="string">"AIKO"</span>, <span class="string">"ADENA"</span>, <span class="string">"YER"</span>, <span class="string">"YAJAIRA"</span>,</span><br><span class="line"><span class="string">"WAN"</span>, <span class="string">"VANIA"</span>, <span class="string">"ULRIKE"</span>, <span class="string">"TOSHIA"</span>, <span class="string">"TIFANY"</span>, <span class="string">"STEFANY"</span>, <span class="string">"SHIZUE"</span>, <span class="string">"SHENIKA"</span>, <span class="string">"SHAWANNA"</span>, <span class="string">"SHAROLYN"</span>,</span><br><span class="line"><span class="string">"SHARILYN"</span>, <span class="string">"SHAQUANA"</span>, <span class="string">"SHANTAY"</span>, <span class="string">"SEE"</span>, <span class="string">"ROZANNE"</span>, <span class="string">"ROSELEE"</span>, <span class="string">"RICKIE"</span>, <span class="string">"REMONA"</span>, <span class="string">"REANNA"</span>, <span class="string">"RAELENE"</span>,</span><br><span class="line"><span class="string">"QUINN"</span>, <span class="string">"PHUNG"</span>, <span class="string">"PETRONILA"</span>, <span class="string">"NATACHA"</span>, <span class="string">"NANCEY"</span>, <span class="string">"MYRL"</span>, <span class="string">"MIYOKO"</span>, <span class="string">"MIESHA"</span>, <span class="string">"MERIDETH"</span>, <span class="string">"MARVELLA"</span>,</span><br><span class="line"><span class="string">"MARQUITTA"</span>, <span class="string">"MARHTA"</span>, <span class="string">"MARCHELLE"</span>, <span class="string">"LIZETH"</span>, <span class="string">"LIBBIE"</span>, <span class="string">"LAHOMA"</span>, <span class="string">"LADAWN"</span>, <span class="string">"KINA"</span>, <span class="string">"KATHELEEN"</span>, <span class="string">"KATHARYN"</span>,</span><br><span class="line"><span class="string">"KARISA"</span>, <span class="string">"KALEIGH"</span>, <span class="string">"JUNIE"</span>, <span class="string">"JULIEANN"</span>, <span class="string">"JOHNSIE"</span>, <span class="string">"JANEAN"</span>, <span class="string">"JAIMEE"</span>, <span class="string">"JACKQUELINE"</span>, <span class="string">"HISAKO"</span>, <span class="string">"HERMA"</span>,</span><br><span class="line"><span class="string">"HELAINE"</span>, <span class="string">"GWYNETH"</span>, <span class="string">"GLENN"</span>, <span class="string">"GITA"</span>, <span class="string">"EUSTOLIA"</span>, <span class="string">"EMELINA"</span>, <span class="string">"ELIN"</span>, <span class="string">"EDRIS"</span>, <span class="string">"DONNETTE"</span>, <span class="string">"DONNETTA"</span>,</span><br><span class="line"><span class="string">"DIERDRE"</span>, <span class="string">"DENAE"</span>, <span class="string">"DARCEL"</span>, <span class="string">"CLAUDE"</span>, <span class="string">"CLARISA"</span>, <span class="string">"CINDERELLA"</span>, <span class="string">"CHIA"</span>, <span class="string">"CHARLESETTA"</span>, <span class="string">"CHARITA"</span>, <span class="string">"CELSA"</span>,</span><br><span class="line"><span class="string">"CASSY"</span>, <span class="string">"CASSI"</span>, <span class="string">"CARLEE"</span>, <span class="string">"BRUNA"</span>, <span class="string">"BRITTANEY"</span>, <span class="string">"BRANDE"</span>, <span class="string">"BILLI"</span>, <span class="string">"BAO"</span>, <span class="string">"ANTONETTA"</span>, <span class="string">"ANGLA"</span>,</span><br><span class="line"><span class="string">"ANGELYN"</span>, <span class="string">"ANALISA"</span>, <span class="string">"ALANE"</span>, <span class="string">"WENONA"</span>, <span class="string">"WENDIE"</span>, <span class="string">"VERONIQUE"</span>, <span class="string">"VANNESA"</span>, <span class="string">"TOBIE"</span>, <span class="string">"TEMPIE"</span>, <span class="string">"SUMIKO"</span>,</span><br><span class="line"><span class="string">"SULEMA"</span>, <span class="string">"SPARKLE"</span>, <span class="string">"SOMER"</span>, <span class="string">"SHEBA"</span>, <span class="string">"SHAYNE"</span>, <span class="string">"SHARICE"</span>, <span class="string">"SHANEL"</span>, <span class="string">"SHALON"</span>, <span class="string">"SAGE"</span>, <span class="string">"ROY"</span>,</span><br><span class="line"><span class="string">"ROSIO"</span>, <span class="string">"ROSELIA"</span>, <span class="string">"RENAY"</span>, <span class="string">"REMA"</span>, <span class="string">"REENA"</span>, <span class="string">"PORSCHE"</span>, <span class="string">"PING"</span>, <span class="string">"PEG"</span>, <span class="string">"OZIE"</span>, <span class="string">"ORETHA"</span>,</span><br><span class="line"><span class="string">"ORALEE"</span>, <span class="string">"ODA"</span>, <span class="string">"NU"</span>, <span class="string">"NGAN"</span>, <span class="string">"NAKESHA"</span>, <span class="string">"MILLY"</span>, <span class="string">"MARYBELLE"</span>, <span class="string">"MARLIN"</span>, <span class="string">"MARIS"</span>, <span class="string">"MARGRETT"</span>,</span><br><span class="line"><span class="string">"MARAGARET"</span>, <span class="string">"MANIE"</span>, <span class="string">"LURLENE"</span>, <span class="string">"LILLIA"</span>, <span class="string">"LIESELOTTE"</span>, <span class="string">"LAVELLE"</span>, <span class="string">"LASHAUNDA"</span>, <span class="string">"LAKEESHA"</span>, <span class="string">"KEITH"</span>, <span class="string">"KAYCEE"</span>,</span><br><span class="line"><span class="string">"KALYN"</span>, <span class="string">"JOYA"</span>, <span class="string">"JOETTE"</span>, <span class="string">"JENAE"</span>, <span class="string">"JANIECE"</span>, <span class="string">"ILLA"</span>, <span class="string">"GRISEL"</span>, <span class="string">"GLAYDS"</span>, <span class="string">"GENEVIE"</span>, <span class="string">"GALA"</span>,</span><br><span class="line"><span class="string">"FREDDA"</span>, <span class="string">"FRED"</span>, <span class="string">"ELMER"</span>, <span class="string">"ELEONOR"</span>, <span class="string">"DEBERA"</span>, <span class="string">"DEANDREA"</span>, <span class="string">"DAN"</span>, <span class="string">"CORRINNE"</span>, <span class="string">"CORDIA"</span>, <span class="string">"CONTESSA"</span>,</span><br><span class="line"><span class="string">"COLENE"</span>, <span class="string">"CLEOTILDE"</span>, <span class="string">"CHARLOTT"</span>, <span class="string">"CHANTAY"</span>, <span class="string">"CECILLE"</span>, <span class="string">"BEATRIS"</span>, <span class="string">"AZALEE"</span>, <span class="string">"ARLEAN"</span>, <span class="string">"ARDATH"</span>, <span class="string">"ANJELICA"</span>,</span><br><span class="line"><span class="string">"ANJA"</span>, <span class="string">"ALFREDIA"</span>, <span class="string">"ALEISHA"</span>, <span class="string">"ADAM"</span>, <span class="string">"ZADA"</span>, <span class="string">"YUONNE"</span>, <span class="string">"XIAO"</span>, <span class="string">"WILLODEAN"</span>, <span class="string">"WHITLEY"</span>, <span class="string">"VENNIE"</span>,</span><br><span class="line"><span class="string">"VANNA"</span>, <span class="string">"TYISHA"</span>, <span class="string">"TOVA"</span>, <span class="string">"TORIE"</span>, <span class="string">"TONISHA"</span>, <span class="string">"TILDA"</span>, <span class="string">"TIEN"</span>, <span class="string">"TEMPLE"</span>, <span class="string">"SIRENA"</span>, <span class="string">"SHERRIL"</span>,</span><br><span class="line"><span class="string">"SHANTI"</span>, <span class="string">"SHAN"</span>, <span class="string">"SENAIDA"</span>, <span class="string">"SAMELLA"</span>, <span class="string">"ROBBYN"</span>, <span class="string">"RENDA"</span>, <span class="string">"REITA"</span>, <span class="string">"PHEBE"</span>, <span class="string">"PAULITA"</span>, <span class="string">"NOBUKO"</span>,</span><br><span class="line"><span class="string">"NGUYET"</span>, <span class="string">"NEOMI"</span>, <span class="string">"MOON"</span>, <span class="string">"MIKAELA"</span>, <span class="string">"MELANIA"</span>, <span class="string">"MAXIMINA"</span>, <span class="string">"MARG"</span>, <span class="string">"MAISIE"</span>, <span class="string">"LYNNA"</span>, <span class="string">"LILLI"</span>,</span><br><span class="line"><span class="string">"LAYNE"</span>, <span class="string">"LASHAUN"</span>, <span class="string">"LAKENYA"</span>, <span class="string">"LAEL"</span>, <span class="string">"KIRSTIE"</span>, <span class="string">"KATHLINE"</span>, <span class="string">"KASHA"</span>, <span class="string">"KARLYN"</span>, <span class="string">"KARIMA"</span>, <span class="string">"JOVAN"</span>,</span><br><span class="line"><span class="string">"JOSEFINE"</span>, <span class="string">"JENNELL"</span>, <span class="string">"JACQUI"</span>, <span class="string">"JACKELYN"</span>, <span class="string">"HYO"</span>, <span class="string">"HIEN"</span>, <span class="string">"GRAZYNA"</span>, <span class="string">"FLORRIE"</span>, <span class="string">"FLORIA"</span>, <span class="string">"ELEONORA"</span>,</span><br><span class="line"><span class="string">"DWANA"</span>, <span class="string">"DORLA"</span>, <span class="string">"DONG"</span>, <span class="string">"DELMY"</span>, <span class="string">"DEJA"</span>, <span class="string">"DEDE"</span>, <span class="string">"DANN"</span>, <span class="string">"CRYSTA"</span>, <span class="string">"CLELIA"</span>, <span class="string">"CLARIS"</span>,</span><br><span class="line"><span class="string">"CLARENCE"</span>, <span class="string">"CHIEKO"</span>, <span class="string">"CHERLYN"</span>, <span class="string">"CHERELLE"</span>, <span class="string">"CHARMAIN"</span>, <span class="string">"CHARA"</span>, <span class="string">"CAMMY"</span>, <span class="string">"BEE"</span>, <span class="string">"ARNETTE"</span>, <span class="string">"ARDELLE"</span>,</span><br><span class="line"><span class="string">"ANNIKA"</span>, <span class="string">"AMIEE"</span>, <span class="string">"AMEE"</span>, <span class="string">"ALLENA"</span>, <span class="string">"YVONE"</span>, <span class="string">"YUKI"</span>, <span class="string">"YOSHIE"</span>, <span class="string">"YEVETTE"</span>, <span class="string">"YAEL"</span>, <span class="string">"WILLETTA"</span>,</span><br><span class="line"><span class="string">"VONCILE"</span>, <span class="string">"VENETTA"</span>, <span class="string">"TULA"</span>, <span class="string">"TONETTE"</span>, <span class="string">"TIMIKA"</span>, <span class="string">"TEMIKA"</span>, <span class="string">"TELMA"</span>, <span class="string">"TEISHA"</span>, <span class="string">"TAREN"</span>, <span class="string">"TA"</span>,</span><br><span class="line"><span class="string">"STACEE"</span>, <span class="string">"SHIN"</span>, <span class="string">"SHAWNTA"</span>, <span class="string">"SATURNINA"</span>, <span class="string">"RICARDA"</span>, <span class="string">"POK"</span>, <span class="string">"PASTY"</span>, <span class="string">"ONIE"</span>, <span class="string">"NUBIA"</span>, <span class="string">"MORA"</span>,</span><br><span class="line"><span class="string">"MIKE"</span>, <span class="string">"MARIELLE"</span>, <span class="string">"MARIELLA"</span>, <span class="string">"MARIANELA"</span>, <span class="string">"MARDELL"</span>, <span class="string">"MANY"</span>, <span class="string">"LUANNA"</span>, <span class="string">"LOISE"</span>, <span class="string">"LISABETH"</span>, <span class="string">"LINDSY"</span>,</span><br><span class="line"><span class="string">"LILLIANA"</span>, <span class="string">"LILLIAM"</span>, <span class="string">"LELAH"</span>, <span class="string">"LEIGHA"</span>, <span class="string">"LEANORA"</span>, <span class="string">"LANG"</span>, <span class="string">"KRISTEEN"</span>, <span class="string">"KHALILAH"</span>, <span class="string">"KEELEY"</span>, <span class="string">"KANDRA"</span>,</span><br><span class="line"><span class="string">"JUNKO"</span>, <span class="string">"JOAQUINA"</span>, <span class="string">"JERLENE"</span>, <span class="string">"JANI"</span>, <span class="string">"JAMIKA"</span>, <span class="string">"JAME"</span>, <span class="string">"HSIU"</span>, <span class="string">"HERMILA"</span>, <span class="string">"GOLDEN"</span>, <span class="string">"GENEVIVE"</span>,</span><br><span class="line"><span class="string">"EVIA"</span>, <span class="string">"EUGENA"</span>, <span class="string">"EMMALINE"</span>, <span class="string">"ELFREDA"</span>, <span class="string">"ELENE"</span>, <span class="string">"DONETTE"</span>, <span class="string">"DELCIE"</span>, <span class="string">"DEEANNA"</span>, <span class="string">"DARCEY"</span>, <span class="string">"CUC"</span>,</span><br><span class="line"><span class="string">"CLARINDA"</span>, <span class="string">"CIRA"</span>, <span class="string">"CHAE"</span>, <span class="string">"CELINDA"</span>, <span class="string">"CATHERYN"</span>, <span class="string">"CATHERIN"</span>, <span class="string">"CASIMIRA"</span>, <span class="string">"CARMELIA"</span>, <span class="string">"CAMELLIA"</span>, <span class="string">"BREANA"</span>,</span><br><span class="line"><span class="string">"BOBETTE"</span>, <span class="string">"BERNARDINA"</span>, <span class="string">"BEBE"</span>, <span class="string">"BASILIA"</span>, <span class="string">"ARLYNE"</span>, <span class="string">"AMAL"</span>, <span class="string">"ALAYNA"</span>, <span class="string">"ZONIA"</span>, <span class="string">"ZENIA"</span>, <span class="string">"YURIKO"</span>,</span><br><span class="line"><span class="string">"YAEKO"</span>, <span class="string">"WYNELL"</span>, <span class="string">"WILLOW"</span>, <span class="string">"WILLENA"</span>, <span class="string">"VERNIA"</span>, <span class="string">"TU"</span>, <span class="string">"TRAVIS"</span>, <span class="string">"TORA"</span>, <span class="string">"TERRILYN"</span>, <span class="string">"TERICA"</span>,</span><br><span class="line"><span class="string">"TENESHA"</span>, <span class="string">"TAWNA"</span>, <span class="string">"TAJUANA"</span>, <span class="string">"TAINA"</span>, <span class="string">"STEPHNIE"</span>, <span class="string">"SONA"</span>, <span class="string">"SOL"</span>, <span class="string">"SINA"</span>, <span class="string">"SHONDRA"</span>, <span class="string">"SHIZUKO"</span>,</span><br><span class="line"><span class="string">"SHERLENE"</span>, <span class="string">"SHERICE"</span>, <span class="string">"SHARIKA"</span>, <span class="string">"ROSSIE"</span>, <span class="string">"ROSENA"</span>, <span class="string">"RORY"</span>, <span class="string">"RIMA"</span>, <span class="string">"RIA"</span>, <span class="string">"RHEBA"</span>, <span class="string">"RENNA"</span>,</span><br><span class="line"><span class="string">"PETER"</span>, <span class="string">"NATALYA"</span>, <span class="string">"NANCEE"</span>, <span class="string">"MELODI"</span>, <span class="string">"MEDA"</span>, <span class="string">"MAXIMA"</span>, <span class="string">"MATHA"</span>, <span class="string">"MARKETTA"</span>, <span class="string">"MARICRUZ"</span>, <span class="string">"MARCELENE"</span>,</span><br><span class="line"><span class="string">"MALVINA"</span>, <span class="string">"LUBA"</span>, <span class="string">"LOUETTA"</span>, <span class="string">"LEIDA"</span>, <span class="string">"LECIA"</span>, <span class="string">"LAURAN"</span>, <span class="string">"LASHAWNA"</span>, <span class="string">"LAINE"</span>, <span class="string">"KHADIJAH"</span>, <span class="string">"KATERINE"</span>,</span><br><span class="line"><span class="string">"KASI"</span>, <span class="string">"KALLIE"</span>, <span class="string">"JULIETTA"</span>, <span class="string">"JESUSITA"</span>, <span class="string">"JESTINE"</span>, <span class="string">"JESSIA"</span>, <span class="string">"JEREMY"</span>, <span class="string">"JEFFIE"</span>, <span class="string">"JANYCE"</span>, <span class="string">"ISADORA"</span>,</span><br><span class="line"><span class="string">"GEORGIANNE"</span>, <span class="string">"FIDELIA"</span>, <span class="string">"EVITA"</span>, <span class="string">"EURA"</span>, <span class="string">"EULAH"</span>, <span class="string">"ESTEFANA"</span>, <span class="string">"ELSY"</span>, <span class="string">"ELIZABET"</span>, <span class="string">"ELADIA"</span>, <span class="string">"DODIE"</span>,</span><br><span class="line"><span class="string">"DION"</span>, <span class="string">"DIA"</span>, <span class="string">"DENISSE"</span>, <span class="string">"DELORAS"</span>, <span class="string">"DELILA"</span>, <span class="string">"DAYSI"</span>, <span class="string">"DAKOTA"</span>, <span class="string">"CURTIS"</span>, <span class="string">"CRYSTLE"</span>, <span class="string">"CONCHA"</span>,</span><br><span class="line"><span class="string">"COLBY"</span>, <span class="string">"CLARETTA"</span>, <span class="string">"CHU"</span>, <span class="string">"CHRISTIA"</span>, <span class="string">"CHARLSIE"</span>, <span class="string">"CHARLENA"</span>, <span class="string">"CARYLON"</span>, <span class="string">"BETTYANN"</span>, <span class="string">"ASLEY"</span>, <span class="string">"ASHLEA"</span>,</span><br><span class="line"><span class="string">"AMIRA"</span>, <span class="string">"AI"</span>, <span class="string">"AGUEDA"</span>, <span class="string">"AGNUS"</span>, <span class="string">"YUETTE"</span>, <span class="string">"VINITA"</span>, <span class="string">"VICTORINA"</span>, <span class="string">"TYNISHA"</span>, <span class="string">"TREENA"</span>, <span class="string">"TOCCARA"</span>,</span><br><span class="line"><span class="string">"TISH"</span>, <span class="string">"THOMASENA"</span>, <span class="string">"TEGAN"</span>, <span class="string">"SOILA"</span>, <span class="string">"SHILOH"</span>, <span class="string">"SHENNA"</span>, <span class="string">"SHARMAINE"</span>, <span class="string">"SHANTAE"</span>, <span class="string">"SHANDI"</span>, <span class="string">"SEPTEMBER"</span>,</span><br><span class="line"><span class="string">"SARAN"</span>, <span class="string">"SARAI"</span>, <span class="string">"SANA"</span>, <span class="string">"SAMUEL"</span>, <span class="string">"SALLEY"</span>, <span class="string">"ROSETTE"</span>, <span class="string">"ROLANDE"</span>, <span class="string">"REGINE"</span>, <span class="string">"OTELIA"</span>, <span class="string">"OSCAR"</span>,</span><br><span class="line"><span class="string">"OLEVIA"</span>, <span class="string">"NICHOLLE"</span>, <span class="string">"NECOLE"</span>, <span class="string">"NAIDA"</span>, <span class="string">"MYRTA"</span>, <span class="string">"MYESHA"</span>, <span class="string">"MITSUE"</span>, <span class="string">"MINTA"</span>, <span class="string">"MERTIE"</span>, <span class="string">"MARGY"</span>,</span><br><span class="line"><span class="string">"MAHALIA"</span>, <span class="string">"MADALENE"</span>, <span class="string">"LOVE"</span>, <span class="string">"LOURA"</span>, <span class="string">"LOREAN"</span>, <span class="string">"LEWIS"</span>, <span class="string">"LESHA"</span>, <span class="string">"LEONIDA"</span>, <span class="string">"LENITA"</span>, <span class="string">"LAVONE"</span>,</span><br><span class="line"><span class="string">"LASHELL"</span>, <span class="string">"LASHANDRA"</span>, <span class="string">"LAMONICA"</span>, <span class="string">"KIMBRA"</span>, <span class="string">"KATHERINA"</span>, <span class="string">"KARRY"</span>, <span class="string">"KANESHA"</span>, <span class="string">"JULIO"</span>, <span class="string">"JONG"</span>, <span class="string">"JENEVA"</span>,</span><br><span class="line"><span class="string">"JAQUELYN"</span>, <span class="string">"HWA"</span>, <span class="string">"GILMA"</span>, <span class="string">"GHISLAINE"</span>, <span class="string">"GERTRUDIS"</span>, <span class="string">"FRANSISCA"</span>, <span class="string">"FERMINA"</span>, <span class="string">"ETTIE"</span>, <span class="string">"ETSUKO"</span>, <span class="string">"ELLIS"</span>,</span><br><span class="line"><span class="string">"ELLAN"</span>, <span class="string">"ELIDIA"</span>, <span class="string">"EDRA"</span>, <span class="string">"DORETHEA"</span>, <span class="string">"DOREATHA"</span>, <span class="string">"DENYSE"</span>, <span class="string">"DENNY"</span>, <span class="string">"DEETTA"</span>, <span class="string">"DAINE"</span>, <span class="string">"CYRSTAL"</span>,</span><br><span class="line"><span class="string">"CORRIN"</span>, <span class="string">"CAYLA"</span>, <span class="string">"CARLITA"</span>, <span class="string">"CAMILA"</span>, <span class="string">"BURMA"</span>, <span class="string">"BULA"</span>, <span class="string">"BUENA"</span>, <span class="string">"BLAKE"</span>, <span class="string">"BARABARA"</span>, <span class="string">"AVRIL"</span>,</span><br><span class="line"><span class="string">"AUSTIN"</span>, <span class="string">"ALAINE"</span>, <span class="string">"ZANA"</span>, <span class="string">"WILHEMINA"</span>, <span class="string">"WANETTA"</span>, <span class="string">"VIRGIL"</span>, <span class="string">"VI"</span>, <span class="string">"VERONIKA"</span>, <span class="string">"VERNON"</span>, <span class="string">"VERLINE"</span>,</span><br><span class="line"><span class="string">"VASILIKI"</span>, <span class="string">"TONITA"</span>, <span class="string">"TISA"</span>, <span class="string">"TEOFILA"</span>, <span class="string">"TAYNA"</span>, <span class="string">"TAUNYA"</span>, <span class="string">"TANDRA"</span>, <span class="string">"TAKAKO"</span>, <span class="string">"SUNNI"</span>, <span class="string">"SUANNE"</span>,</span><br><span class="line"><span class="string">"SIXTA"</span>, <span class="string">"SHARELL"</span>, <span class="string">"SEEMA"</span>, <span class="string">"RUSSELL"</span>, <span class="string">"ROSENDA"</span>, <span class="string">"ROBENA"</span>, <span class="string">"RAYMONDE"</span>, <span class="string">"PEI"</span>, <span class="string">"PAMILA"</span>, <span class="string">"OZELL"</span>,</span><br><span class="line"><span class="string">"NEIDA"</span>, <span class="string">"NEELY"</span>, <span class="string">"MISTIE"</span>, <span class="string">"MICHA"</span>, <span class="string">"MERISSA"</span>, <span class="string">"MAURITA"</span>, <span class="string">"MARYLN"</span>, <span class="string">"MARYETTA"</span>, <span class="string">"MARSHALL"</span>, <span class="string">"MARCELL"</span>,</span><br><span class="line"><span class="string">"MALENA"</span>, <span class="string">"MAKEDA"</span>, <span class="string">"MADDIE"</span>, <span class="string">"LOVETTA"</span>, <span class="string">"LOURIE"</span>, <span class="string">"LORRINE"</span>, <span class="string">"LORILEE"</span>, <span class="string">"LESTER"</span>, <span class="string">"LAURENA"</span>, <span class="string">"LASHAY"</span>,</span><br><span class="line"><span class="string">"LARRAINE"</span>, <span class="string">"LAREE"</span>, <span class="string">"LACRESHA"</span>, <span class="string">"KRISTLE"</span>, <span class="string">"KRISHNA"</span>, <span class="string">"KEVA"</span>, <span class="string">"KEIRA"</span>, <span class="string">"KAROLE"</span>, <span class="string">"JOIE"</span>, <span class="string">"JINNY"</span>,</span><br><span class="line"><span class="string">"JEANNETTA"</span>, <span class="string">"JAMA"</span>, <span class="string">"HEIDY"</span>, <span class="string">"GILBERTE"</span>, <span class="string">"GEMA"</span>, <span class="string">"FAVIOLA"</span>, <span class="string">"EVELYNN"</span>, <span class="string">"ENDA"</span>, <span class="string">"ELLI"</span>, <span class="string">"ELLENA"</span>,</span><br><span class="line"><span class="string">"DIVINA"</span>, <span class="string">"DAGNY"</span>, <span class="string">"COLLENE"</span>, <span class="string">"CODI"</span>, <span class="string">"CINDIE"</span>, <span class="string">"CHASSIDY"</span>, <span class="string">"CHASIDY"</span>, <span class="string">"CATRICE"</span>, <span class="string">"CATHERINA"</span>, <span class="string">"CASSEY"</span>,</span><br><span class="line"><span class="string">"CAROLL"</span>, <span class="string">"CARLENA"</span>, <span class="string">"CANDRA"</span>, <span class="string">"CALISTA"</span>, <span class="string">"BRYANNA"</span>, <span class="string">"BRITTENY"</span>, <span class="string">"BEULA"</span>, <span class="string">"BARI"</span>, <span class="string">"AUDRIE"</span>, <span class="string">"AUDRIA"</span>,</span><br><span class="line"><span class="string">"ARDELIA"</span>, <span class="string">"ANNELLE"</span>, <span class="string">"ANGILA"</span>, <span class="string">"ALONA"</span>, <span class="string">"ALLYN"</span>, <span class="string">"DOUGLAS"</span>, <span class="string">"ROGER"</span>, <span class="string">"JONATHAN"</span>, <span class="string">"RALPH"</span>, <span class="string">"NICHOLAS"</span>,</span><br><span class="line"><span class="string">"BENJAMIN"</span>, <span class="string">"BRUCE"</span>, <span class="string">"HARRY"</span>, <span class="string">"WAYNE"</span>, <span class="string">"STEVE"</span>, <span class="string">"HOWARD"</span>, <span class="string">"ERNEST"</span>, <span class="string">"PHILLIP"</span>, <span class="string">"TODD"</span>, <span class="string">"CRAIG"</span>,</span><br><span class="line"><span class="string">"ALAN"</span>, <span class="string">"PHILIP"</span>, <span class="string">"EARL"</span>, <span class="string">"DANNY"</span>, <span class="string">"BRYAN"</span>, <span class="string">"STANLEY"</span>, <span class="string">"LEONARD"</span>, <span class="string">"NATHAN"</span>, <span class="string">"MANUEL"</span>, <span class="string">"RODNEY"</span>,</span><br><span class="line"><span class="string">"MARVIN"</span>, <span class="string">"VINCENT"</span>, <span class="string">"JEFFERY"</span>, <span class="string">"JEFF"</span>, <span class="string">"CHAD"</span>, <span class="string">"JACOB"</span>, <span class="string">"ALFRED"</span>, <span class="string">"BRADLEY"</span>, <span class="string">"HERBERT"</span>, <span class="string">"FREDERICK"</span>,</span><br><span class="line"><span class="string">"EDWIN"</span>, <span class="string">"DON"</span>, <span class="string">"RICKY"</span>, <span class="string">"RANDALL"</span>, <span class="string">"BARRY"</span>, <span class="string">"BERNARD"</span>, <span class="string">"LEROY"</span>, <span class="string">"MARCUS"</span>, <span class="string">"THEODORE"</span>, <span class="string">"CLIFFORD"</span>,</span><br><span class="line"><span class="string">"MIGUEL"</span>, <span class="string">"JIM"</span>, <span class="string">"TOM"</span>, <span class="string">"CALVIN"</span>, <span class="string">"BILL"</span>, <span class="string">"LLOYD"</span>, <span class="string">"DEREK"</span>, <span class="string">"WARREN"</span>, <span class="string">"DARRELL"</span>, <span class="string">"JEROME"</span>,</span><br><span class="line"><span class="string">"FLOYD"</span>, <span class="string">"ALVIN"</span>, <span class="string">"TIM"</span>, <span class="string">"GORDON"</span>, <span class="string">"GREG"</span>, <span class="string">"JORGE"</span>, <span class="string">"DUSTIN"</span>, <span class="string">"PEDRO"</span>, <span class="string">"DERRICK"</span>, <span class="string">"ZACHARY"</span>,</span><br><span class="line"><span class="string">"HERMAN"</span>, <span class="string">"GLEN"</span>, <span class="string">"HECTOR"</span>, <span class="string">"RICARDO"</span>, <span class="string">"RICK"</span>, <span class="string">"BRENT"</span>, <span class="string">"RAMON"</span>, <span class="string">"GILBERT"</span>, <span class="string">"MARC"</span>, <span class="string">"REGINALD"</span>,</span><br><span class="line"><span class="string">"RUBEN"</span>, <span class="string">"NATHANIEL"</span>, <span class="string">"RAFAEL"</span>, <span class="string">"EDGAR"</span>, <span class="string">"MILTON"</span>, <span class="string">"RAUL"</span>, <span class="string">"BEN"</span>, <span class="string">"CHESTER"</span>, <span class="string">"DUANE"</span>, <span class="string">"FRANKLIN"</span>,</span><br><span class="line"><span class="string">"BRAD"</span>, <span class="string">"RON"</span>, <span class="string">"ROLAND"</span>, <span class="string">"ARNOLD"</span>, <span class="string">"HARVEY"</span>, <span class="string">"JARED"</span>, <span class="string">"ERIK"</span>, <span class="string">"DARRYL"</span>, <span class="string">"NEIL"</span>, <span class="string">"JAVIER"</span>,</span><br><span class="line"><span class="string">"FERNANDO"</span>, <span class="string">"CLINTON"</span>, <span class="string">"TED"</span>, <span class="string">"MATHEW"</span>, <span class="string">"TYRONE"</span>, <span class="string">"DARREN"</span>, <span class="string">"LANCE"</span>, <span class="string">"KURT"</span>, <span class="string">"ALLAN"</span>, <span class="string">"NELSON"</span>,</span><br><span class="line"><span class="string">"GUY"</span>, <span class="string">"CLAYTON"</span>, <span class="string">"HUGH"</span>, <span class="string">"MAX"</span>, <span class="string">"DWAYNE"</span>, <span class="string">"DWIGHT"</span>, <span class="string">"ARMANDO"</span>, <span class="string">"FELIX"</span>, <span class="string">"EVERETT"</span>, <span class="string">"IAN"</span>,</span><br><span class="line"><span class="string">"WALLACE"</span>, <span class="string">"KEN"</span>, <span class="string">"BOB"</span>, <span class="string">"ALFREDO"</span>, <span class="string">"ALBERTO"</span>, <span class="string">"DAVE"</span>, <span class="string">"IVAN"</span>, <span class="string">"BYRON"</span>, <span class="string">"ISAAC"</span>, <span class="string">"MORRIS"</span>,</span><br><span class="line"><span class="string">"CLIFTON"</span>, <span class="string">"WILLARD"</span>, <span class="string">"ROSS"</span>, <span class="string">"ANDY"</span>, <span class="string">"SALVADOR"</span>, <span class="string">"KIRK"</span>, <span class="string">"SERGIO"</span>, <span class="string">"SETH"</span>, <span class="string">"KENT"</span>, <span class="string">"TERRANCE"</span>,</span><br><span class="line"><span class="string">"EDUARDO"</span>, <span class="string">"TERRENCE"</span>, <span class="string">"ENRIQUE"</span>, <span class="string">"WADE"</span>, <span class="string">"STUART"</span>, <span class="string">"FREDRICK"</span>, <span class="string">"ARTURO"</span>, <span class="string">"ALEJANDRO"</span>, <span class="string">"NICK"</span>, <span class="string">"LUTHER"</span>,</span><br><span class="line"><span class="string">"WENDELL"</span>, <span class="string">"JEREMIAH"</span>, <span class="string">"JULIUS"</span>, <span class="string">"OTIS"</span>, <span class="string">"TREVOR"</span>, <span class="string">"OLIVER"</span>, <span class="string">"LUKE"</span>, <span class="string">"HOMER"</span>, <span class="string">"GERARD"</span>, <span class="string">"DOUG"</span>,</span><br><span class="line"><span class="string">"KENNY"</span>, <span class="string">"HUBERT"</span>, <span class="string">"LYLE"</span>, <span class="string">"MATT"</span>, <span class="string">"ALFONSO"</span>, <span class="string">"ORLANDO"</span>, <span class="string">"REX"</span>, <span class="string">"CARLTON"</span>, <span class="string">"ERNESTO"</span>, <span class="string">"NEAL"</span>,</span><br><span class="line"><span class="string">"PABLO"</span>, <span class="string">"LORENZO"</span>, <span class="string">"OMAR"</span>, <span class="string">"WILBUR"</span>, <span class="string">"GRANT"</span>, <span class="string">"HORACE"</span>, <span class="string">"RODERICK"</span>, <span class="string">"ABRAHAM"</span>, <span class="string">"WILLIS"</span>, <span class="string">"RICKEY"</span>,</span><br><span class="line"><span class="string">"ANDRES"</span>, <span class="string">"CESAR"</span>, <span class="string">"JOHNATHAN"</span>, <span class="string">"MALCOLM"</span>, <span class="string">"RUDOLPH"</span>, <span class="string">"DAMON"</span>, <span class="string">"KELVIN"</span>, <span class="string">"PRESTON"</span>, <span class="string">"ALTON"</span>, <span class="string">"ARCHIE"</span>,</span><br><span class="line"><span class="string">"MARCO"</span>, <span class="string">"WM"</span>, <span class="string">"PETE"</span>, <span class="string">"RANDOLPH"</span>, <span class="string">"GARRY"</span>, <span class="string">"GEOFFREY"</span>, <span class="string">"JONATHON"</span>, <span class="string">"FELIPE"</span>, <span class="string">"GERARDO"</span>, <span class="string">"ED"</span>,</span><br><span class="line"><span class="string">"DOMINIC"</span>, <span class="string">"DELBERT"</span>, <span class="string">"COLIN"</span>, <span class="string">"GUILLERMO"</span>, <span class="string">"EARNEST"</span>, <span class="string">"LUCAS"</span>, <span class="string">"BENNY"</span>, <span class="string">"SPENCER"</span>, <span class="string">"RODOLFO"</span>, <span class="string">"MYRON"</span>,</span><br><span class="line"><span class="string">"EDMUND"</span>, <span class="string">"GARRETT"</span>, <span class="string">"SALVATORE"</span>, <span class="string">"CEDRIC"</span>, <span class="string">"LOWELL"</span>, <span class="string">"GREGG"</span>, <span class="string">"SHERMAN"</span>, <span class="string">"WILSON"</span>, <span class="string">"SYLVESTER"</span>, <span class="string">"ROOSEVELT"</span>,</span><br><span class="line"><span class="string">"ISRAEL"</span>, <span class="string">"JERMAINE"</span>, <span class="string">"FORREST"</span>, <span class="string">"WILBERT"</span>, <span class="string">"LELAND"</span>, <span class="string">"SIMON"</span>, <span class="string">"CLARK"</span>, <span class="string">"IRVING"</span>, <span class="string">"BRYANT"</span>, <span class="string">"OWEN"</span>,</span><br><span class="line"><span class="string">"RUFUS"</span>, <span class="string">"WOODROW"</span>, <span class="string">"KRISTOPHER"</span>, <span class="string">"MACK"</span>, <span class="string">"LEVI"</span>, <span class="string">"MARCOS"</span>, <span class="string">"GUSTAVO"</span>, <span class="string">"JAKE"</span>, <span class="string">"LIONEL"</span>, <span class="string">"GILBERTO"</span>,</span><br><span class="line"><span class="string">"CLINT"</span>, <span class="string">"NICOLAS"</span>, <span class="string">"ISMAEL"</span>, <span class="string">"ORVILLE"</span>, <span class="string">"ERVIN"</span>, <span class="string">"DEWEY"</span>, <span class="string">"AL"</span>, <span class="string">"WILFRED"</span>, <span class="string">"JOSH"</span>, <span class="string">"HUGO"</span>,</span><br><span class="line"><span class="string">"IGNACIO"</span>, <span class="string">"CALEB"</span>, <span class="string">"TOMAS"</span>, <span class="string">"SHELDON"</span>, <span class="string">"ERICK"</span>, <span class="string">"STEWART"</span>, <span class="string">"DOYLE"</span>, <span class="string">"DARREL"</span>, <span class="string">"ROGELIO"</span>, <span class="string">"TERENCE"</span>,</span><br><span class="line"><span class="string">"SANTIAGO"</span>, <span class="string">"ALONZO"</span>, <span class="string">"ELIAS"</span>, <span class="string">"BERT"</span>, <span class="string">"ELBERT"</span>, <span class="string">"RAMIRO"</span>, <span class="string">"CONRAD"</span>, <span class="string">"NOAH"</span>, <span class="string">"GRADY"</span>, <span class="string">"PHIL"</span>,</span><br><span class="line"><span class="string">"CORNELIUS"</span>, <span class="string">"LAMAR"</span>, <span class="string">"ROLANDO"</span>, <span class="string">"CLAY"</span>, <span class="string">"PERCY"</span>, <span class="string">"DEXTER"</span>, <span class="string">"BRADFORD"</span>, <span class="string">"DARIN"</span>, <span class="string">"AMOS"</span>, <span class="string">"MOSES"</span>,</span><br><span class="line"><span class="string">"IRVIN"</span>, <span class="string">"SAUL"</span>, <span class="string">"ROMAN"</span>, <span class="string">"RANDAL"</span>, <span class="string">"TIMMY"</span>, <span class="string">"DARRIN"</span>, <span class="string">"WINSTON"</span>, <span class="string">"BRENDAN"</span>, <span class="string">"ABEL"</span>, <span class="string">"DOMINICK"</span>,</span><br><span class="line"><span class="string">"BOYD"</span>, <span class="string">"EMILIO"</span>, <span class="string">"ELIJAH"</span>, <span class="string">"DOMINGO"</span>, <span class="string">"EMMETT"</span>, <span class="string">"MARLON"</span>, <span class="string">"EMANUEL"</span>, <span class="string">"JERALD"</span>, <span class="string">"EDMOND"</span>, <span class="string">"EMIL"</span>,</span><br><span class="line"><span class="string">"DEWAYNE"</span>, <span class="string">"WILL"</span>, <span class="string">"OTTO"</span>, <span class="string">"TEDDY"</span>, <span class="string">"REYNALDO"</span>, <span class="string">"BRET"</span>, <span class="string">"JESS"</span>, <span class="string">"TRENT"</span>, <span class="string">"HUMBERTO"</span>, <span class="string">"EMMANUEL"</span>,</span><br><span class="line"><span class="string">"STEPHAN"</span>, <span class="string">"VICENTE"</span>, <span class="string">"LAMONT"</span>, <span class="string">"GARLAND"</span>, <span class="string">"MILES"</span>, <span class="string">"EFRAIN"</span>, <span class="string">"HEATH"</span>, <span class="string">"RODGER"</span>, <span class="string">"HARLEY"</span>, <span class="string">"ETHAN"</span>,</span><br><span class="line"><span class="string">"ELDON"</span>, <span class="string">"ROCKY"</span>, <span class="string">"PIERRE"</span>, <span class="string">"JUNIOR"</span>, <span class="string">"FREDDY"</span>, <span class="string">"ELI"</span>, <span class="string">"BRYCE"</span>, <span class="string">"ANTOINE"</span>, <span class="string">"STERLING"</span>, <span class="string">"CHASE"</span>,</span><br><span class="line"><span class="string">"GROVER"</span>, <span class="string">"ELTON"</span>, <span class="string">"CLEVELAND"</span>, <span class="string">"DYLAN"</span>, <span class="string">"CHUCK"</span>, <span class="string">"DAMIAN"</span>, <span class="string">"REUBEN"</span>, <span class="string">"STAN"</span>, <span class="string">"AUGUST"</span>, <span class="string">"LEONARDO"</span>,</span><br><span class="line"><span class="string">"JASPER"</span>, <span class="string">"RUSSEL"</span>, <span class="string">"ERWIN"</span>, <span class="string">"BENITO"</span>, <span class="string">"HANS"</span>, <span class="string">"MONTE"</span>, <span class="string">"BLAINE"</span>, <span class="string">"ERNIE"</span>, <span class="string">"CURT"</span>, <span class="string">"QUENTIN"</span>,</span><br><span class="line"><span class="string">"AGUSTIN"</span>, <span class="string">"MURRAY"</span>, <span class="string">"JAMAL"</span>, <span class="string">"ADOLFO"</span>, <span class="string">"HARRISON"</span>, <span class="string">"TYSON"</span>, <span class="string">"BURTON"</span>, <span class="string">"BRADY"</span>, <span class="string">"ELLIOTT"</span>, <span class="string">"WILFREDO"</span>,</span><br><span class="line"><span class="string">"BART"</span>, <span class="string">"JARROD"</span>, <span class="string">"VANCE"</span>, <span class="string">"DENIS"</span>, <span class="string">"DAMIEN"</span>, <span class="string">"JOAQUIN"</span>, <span class="string">"HARLAN"</span>, <span class="string">"DESMOND"</span>, <span class="string">"ELLIOT"</span>, <span class="string">"DARWIN"</span>,</span><br><span class="line"><span class="string">"GREGORIO"</span>, <span class="string">"BUDDY"</span>, <span class="string">"XAVIER"</span>, <span class="string">"KERMIT"</span>, <span class="string">"ROSCOE"</span>, <span class="string">"ESTEBAN"</span>, <span class="string">"ANTON"</span>, <span class="string">"SOLOMON"</span>, <span class="string">"SCOTTY"</span>, <span class="string">"NORBERT"</span>,</span><br><span class="line"><span class="string">"ELVIN"</span>, <span class="string">"WILLIAMS"</span>, <span class="string">"NOLAN"</span>, <span class="string">"ROD"</span>, <span class="string">"QUINTON"</span>, <span class="string">"HAL"</span>, <span class="string">"BRAIN"</span>, <span class="string">"ROB"</span>, <span class="string">"ELWOOD"</span>, <span class="string">"KENDRICK"</span>,</span><br><span class="line"><span class="string">"DARIUS"</span>, <span class="string">"MOISES"</span>, <span class="string">"FIDEL"</span>, <span class="string">"THADDEUS"</span>, <span class="string">"CLIFF"</span>, <span class="string">"MARCEL"</span>, <span class="string">"JACKSON"</span>, <span class="string">"RAPHAEL"</span>, <span class="string">"BRYON"</span>, <span class="string">"ARMAND"</span>,</span><br><span class="line"><span class="string">"ALVARO"</span>, <span class="string">"JEFFRY"</span>, <span class="string">"DANE"</span>, <span class="string">"JOESPH"</span>, <span class="string">"THURMAN"</span>, <span class="string">"NED"</span>, <span class="string">"RUSTY"</span>, <span class="string">"MONTY"</span>, <span class="string">"FABIAN"</span>, <span class="string">"REGGIE"</span>,</span><br><span class="line"><span class="string">"MASON"</span>, <span class="string">"GRAHAM"</span>, <span class="string">"ISAIAH"</span>, <span class="string">"VAUGHN"</span>, <span class="string">"GUS"</span>, <span class="string">"LOYD"</span>, <span class="string">"DIEGO"</span>, <span class="string">"ADOLPH"</span>, <span class="string">"NORRIS"</span>, <span class="string">"MILLARD"</span>,</span><br><span class="line"><span class="string">"ROCCO"</span>, <span class="string">"GONZALO"</span>, <span class="string">"DERICK"</span>, <span class="string">"RODRIGO"</span>, <span class="string">"WILEY"</span>, <span class="string">"RIGOBERTO"</span>, <span class="string">"ALPHONSO"</span>, <span class="string">"TY"</span>, <span class="string">"NOE"</span>, <span class="string">"VERN"</span>,</span><br><span class="line"><span class="string">"REED"</span>, <span class="string">"JEFFERSON"</span>, <span class="string">"ELVIS"</span>, <span class="string">"BERNARDO"</span>, <span class="string">"MAURICIO"</span>, <span class="string">"HIRAM"</span>, <span class="string">"DONOVAN"</span>, <span class="string">"BASIL"</span>, <span class="string">"RILEY"</span>, <span class="string">"NICKOLAS"</span>,</span><br><span class="line"><span class="string">"MAYNARD"</span>, <span class="string">"SCOT"</span>, <span class="string">"VINCE"</span>, <span class="string">"QUINCY"</span>, <span class="string">"EDDY"</span>, <span class="string">"SEBASTIAN"</span>, <span class="string">"FEDERICO"</span>, <span class="string">"ULYSSES"</span>, <span class="string">"HERIBERTO"</span>, <span class="string">"DONNELL"</span>,</span><br><span class="line"><span class="string">"COLE"</span>, <span class="string">"DAVIS"</span>, <span class="string">"GAVIN"</span>, <span class="string">"EMERY"</span>, <span class="string">"WARD"</span>, <span class="string">"ROMEO"</span>, <span class="string">"JAYSON"</span>, <span class="string">"DANTE"</span>, <span class="string">"CLEMENT"</span>, <span class="string">"COY"</span>,</span><br><span class="line"><span class="string">"MAXWELL"</span>, <span class="string">"JARVIS"</span>, <span class="string">"BRUNO"</span>, <span class="string">"ISSAC"</span>, <span class="string">"DUDLEY"</span>, <span class="string">"BROCK"</span>, <span class="string">"SANFORD"</span>, <span class="string">"CARMELO"</span>, <span class="string">"BARNEY"</span>, <span class="string">"NESTOR"</span>,</span><br><span class="line"><span class="string">"STEFAN"</span>, <span class="string">"DONNY"</span>, <span class="string">"ART"</span>, <span class="string">"LINWOOD"</span>, <span class="string">"BEAU"</span>, <span class="string">"WELDON"</span>, <span class="string">"GALEN"</span>, <span class="string">"ISIDRO"</span>, <span class="string">"TRUMAN"</span>, <span class="string">"DELMAR"</span>,</span><br><span class="line"><span class="string">"JOHNATHON"</span>, <span class="string">"SILAS"</span>, <span class="string">"FREDERIC"</span>, <span class="string">"DICK"</span>, <span class="string">"IRWIN"</span>, <span class="string">"MERLIN"</span>, <span class="string">"CHARLEY"</span>, <span class="string">"MARCELINO"</span>, <span class="string">"HARRIS"</span>, <span class="string">"CARLO"</span>,</span><br><span class="line"><span class="string">"TRENTON"</span>, <span class="string">"KURTIS"</span>, <span class="string">"HUNTER"</span>, <span class="string">"AURELIO"</span>, <span class="string">"WINFRED"</span>, <span class="string">"VITO"</span>, <span class="string">"COLLIN"</span>, <span class="string">"DENVER"</span>, <span class="string">"CARTER"</span>, <span class="string">"LEONEL"</span>,</span><br><span class="line"><span class="string">"EMORY"</span>, <span class="string">"PASQUALE"</span>, <span class="string">"MOHAMMAD"</span>, <span class="string">"MARIANO"</span>, <span class="string">"DANIAL"</span>, <span class="string">"LANDON"</span>, <span class="string">"DIRK"</span>, <span class="string">"BRANDEN"</span>, <span class="string">"ADAN"</span>, <span class="string">"BUFORD"</span>,</span><br><span class="line"><span class="string">"GERMAN"</span>, <span class="string">"WILMER"</span>, <span class="string">"EMERSON"</span>, <span class="string">"ZACHERY"</span>, <span class="string">"FLETCHER"</span>, <span class="string">"JACQUES"</span>, <span class="string">"ERROL"</span>, <span class="string">"DALTON"</span>, <span class="string">"MONROE"</span>, <span class="string">"JOSUE"</span>,</span><br><span class="line"><span class="string">"EDWARDO"</span>, <span class="string">"BOOKER"</span>, <span class="string">"WILFORD"</span>, <span class="string">"SONNY"</span>, <span class="string">"SHELTON"</span>, <span class="string">"CARSON"</span>, <span class="string">"THERON"</span>, <span class="string">"RAYMUNDO"</span>, <span class="string">"DAREN"</span>, <span class="string">"HOUSTON"</span>,</span><br><span class="line"><span class="string">"ROBBY"</span>, <span class="string">"LINCOLN"</span>, <span class="string">"GENARO"</span>, <span class="string">"BENNETT"</span>, <span class="string">"OCTAVIO"</span>, <span class="string">"CORNELL"</span>, <span class="string">"HUNG"</span>, <span class="string">"ARRON"</span>, <span class="string">"ANTONY"</span>, <span class="string">"HERSCHEL"</span>,</span><br><span class="line"><span class="string">"GIOVANNI"</span>, <span class="string">"GARTH"</span>, <span class="string">"CYRUS"</span>, <span class="string">"CYRIL"</span>, <span class="string">"RONNY"</span>, <span class="string">"LON"</span>, <span class="string">"FREEMAN"</span>, <span class="string">"DUNCAN"</span>, <span class="string">"KENNITH"</span>, <span class="string">"CARMINE"</span>,</span><br><span class="line"><span class="string">"ERICH"</span>, <span class="string">"CHADWICK"</span>, <span class="string">"WILBURN"</span>, <span class="string">"RUSS"</span>, <span class="string">"REID"</span>, <span class="string">"MYLES"</span>, <span class="string">"ANDERSON"</span>, <span class="string">"MORTON"</span>, <span class="string">"JONAS"</span>, <span class="string">"FOREST"</span>,</span><br><span class="line"><span class="string">"MITCHEL"</span>, <span class="string">"MERVIN"</span>, <span class="string">"ZANE"</span>, <span class="string">"RICH"</span>, <span class="string">"JAMEL"</span>, <span class="string">"LAZARO"</span>, <span class="string">"ALPHONSE"</span>, <span class="string">"RANDELL"</span>, <span class="string">"MAJOR"</span>, <span class="string">"JARRETT"</span>,</span><br><span class="line"><span class="string">"BROOKS"</span>, <span class="string">"ABDUL"</span>, <span class="string">"LUCIANO"</span>, <span class="string">"SEYMOUR"</span>, <span class="string">"EUGENIO"</span>, <span class="string">"MOHAMMED"</span>, <span class="string">"VALENTIN"</span>, <span class="string">"CHANCE"</span>, <span class="string">"ARNULFO"</span>, <span class="string">"LUCIEN"</span>,</span><br><span class="line"><span class="string">"FERDINAND"</span>, <span class="string">"THAD"</span>, <span class="string">"EZRA"</span>, <span class="string">"ALDO"</span>, <span class="string">"RUBIN"</span>, <span class="string">"ROYAL"</span>, <span class="string">"MITCH"</span>, <span class="string">"EARLE"</span>, <span class="string">"ABE"</span>, <span class="string">"WYATT"</span>,</span><br><span class="line"><span class="string">"MARQUIS"</span>, <span class="string">"LANNY"</span>, <span class="string">"KAREEM"</span>, <span class="string">"JAMAR"</span>, <span class="string">"BORIS"</span>, <span class="string">"ISIAH"</span>, <span class="string">"EMILE"</span>, <span class="string">"ELMO"</span>, <span class="string">"ARON"</span>, <span class="string">"LEOPOLDO"</span>,</span><br><span class="line"><span class="string">"EVERETTE"</span>, <span class="string">"JOSEF"</span>, <span class="string">"ELOY"</span>, <span class="string">"RODRICK"</span>, <span class="string">"REINALDO"</span>, <span class="string">"LUCIO"</span>, <span class="string">"JERROD"</span>, <span class="string">"WESTON"</span>, <span class="string">"HERSHEL"</span>, <span class="string">"BARTON"</span>,</span><br><span class="line"><span class="string">"PARKER"</span>, <span class="string">"LEMUEL"</span>, <span class="string">"BURT"</span>, <span class="string">"JULES"</span>, <span class="string">"GIL"</span>, <span class="string">"ELISEO"</span>, <span class="string">"AHMAD"</span>, <span class="string">"NIGEL"</span>, <span class="string">"EFREN"</span>, <span class="string">"ANTWAN"</span>,</span><br><span class="line"><span class="string">"ALDEN"</span>, <span class="string">"MARGARITO"</span>, <span class="string">"COLEMAN"</span>, <span class="string">"DINO"</span>, <span class="string">"OSVALDO"</span>, <span class="string">"LES"</span>, <span class="string">"DEANDRE"</span>, <span class="string">"NORMAND"</span>, <span class="string">"KIETH"</span>, <span class="string">"TREY"</span>,</span><br><span class="line"><span class="string">"NORBERTO"</span>, <span class="string">"NAPOLEON"</span>, <span class="string">"JEROLD"</span>, <span class="string">"FRITZ"</span>, <span class="string">"ROSENDO"</span>, <span class="string">"MILFORD"</span>, <span class="string">"CHRISTOPER"</span>, <span class="string">"ALFONZO"</span>, <span class="string">"LYMAN"</span>, <span class="string">"JOSIAH"</span>,</span><br><span class="line"><span class="string">"BRANT"</span>, <span class="string">"WILTON"</span>, <span class="string">"RICO"</span>, <span class="string">"JAMAAL"</span>, <span class="string">"DEWITT"</span>, <span class="string">"BRENTON"</span>, <span class="string">"OLIN"</span>, <span class="string">"FOSTER"</span>, <span class="string">"FAUSTINO"</span>, <span class="string">"CLAUDIO"</span>,</span><br><span class="line"><span class="string">"JUDSON"</span>, <span class="string">"GINO"</span>, <span class="string">"EDGARDO"</span>, <span class="string">"ALEC"</span>, <span class="string">"TANNER"</span>, <span class="string">"JARRED"</span>, <span class="string">"DONN"</span>, <span class="string">"TAD"</span>, <span class="string">"PRINCE"</span>, <span class="string">"PORFIRIO"</span>,</span><br><span class="line"><span class="string">"ODIS"</span>, <span class="string">"LENARD"</span>, <span class="string">"CHAUNCEY"</span>, <span class="string">"TOD"</span>, <span class="string">"MEL"</span>, <span class="string">"MARCELO"</span>, <span class="string">"KORY"</span>, <span class="string">"AUGUSTUS"</span>, <span class="string">"KEVEN"</span>, <span class="string">"HILARIO"</span>,</span><br><span class="line"><span class="string">"BUD"</span>, <span class="string">"SAL"</span>, <span class="string">"ORVAL"</span>, <span class="string">"MAURO"</span>, <span class="string">"ZACHARIAH"</span>, <span class="string">"OLEN"</span>, <span class="string">"ANIBAL"</span>, <span class="string">"MILO"</span>, <span class="string">"JED"</span>, <span class="string">"DILLON"</span>,</span><br><span class="line"><span class="string">"AMADO"</span>, <span class="string">"NEWTON"</span>, <span class="string">"LENNY"</span>, <span class="string">"RICHIE"</span>, <span class="string">"HORACIO"</span>, <span class="string">"BRICE"</span>, <span class="string">"MOHAMED"</span>, <span class="string">"DELMER"</span>, <span class="string">"DARIO"</span>, <span class="string">"REYES"</span>,</span><br><span class="line"><span class="string">"MAC"</span>, <span class="string">"JONAH"</span>, <span class="string">"JERROLD"</span>, <span class="string">"ROBT"</span>, <span class="string">"HANK"</span>, <span class="string">"RUPERT"</span>, <span class="string">"ROLLAND"</span>, <span class="string">"KENTON"</span>, <span class="string">"DAMION"</span>, <span class="string">"ANTONE"</span>,</span><br><span class="line"><span class="string">"WALDO"</span>, <span class="string">"FREDRIC"</span>, <span class="string">"BRADLY"</span>, <span class="string">"KIP"</span>, <span class="string">"BURL"</span>, <span class="string">"WALKER"</span>, <span class="string">"TYREE"</span>, <span class="string">"JEFFEREY"</span>, <span class="string">"AHMED"</span>, <span class="string">"WILLY"</span>,</span><br><span class="line"><span class="string">"STANFORD"</span>, <span class="string">"OREN"</span>, <span class="string">"NOBLE"</span>, <span class="string">"MOSHE"</span>, <span class="string">"MIKEL"</span>, <span class="string">"ENOCH"</span>, <span class="string">"BRENDON"</span>, <span class="string">"QUINTIN"</span>, <span class="string">"JAMISON"</span>, <span class="string">"FLORENCIO"</span>,</span><br><span class="line"><span class="string">"DARRICK"</span>, <span class="string">"TOBIAS"</span>, <span class="string">"HASSAN"</span>, <span class="string">"GIUSEPPE"</span>, <span class="string">"DEMARCUS"</span>, <span class="string">"CLETUS"</span>, <span class="string">"TYRELL"</span>, <span class="string">"LYNDON"</span>, <span class="string">"KEENAN"</span>, <span class="string">"WERNER"</span>,</span><br><span class="line"><span class="string">"GERALDO"</span>, <span class="string">"COLUMBUS"</span>, <span class="string">"CHET"</span>, <span class="string">"BERTRAM"</span>, <span class="string">"MARKUS"</span>, <span class="string">"HUEY"</span>, <span class="string">"HILTON"</span>, <span class="string">"DWAIN"</span>, <span class="string">"DONTE"</span>, <span class="string">"TYRON"</span>,</span><br><span class="line"><span class="string">"OMER"</span>, <span class="string">"ISAIAS"</span>, <span class="string">"HIPOLITO"</span>, <span class="string">"FERMIN"</span>, <span class="string">"ADALBERTO"</span>, <span class="string">"BO"</span>, <span class="string">"BARRETT"</span>, <span class="string">"TEODORO"</span>, <span class="string">"MCKINLEY"</span>, <span class="string">"MAXIMO"</span>,</span><br><span class="line"><span class="string">"GARFIELD"</span>, <span class="string">"RALEIGH"</span>, <span class="string">"LAWERENCE"</span>, <span class="string">"ABRAM"</span>, <span class="string">"RASHAD"</span>, <span class="string">"KING"</span>, <span class="string">"EMMITT"</span>, <span class="string">"DARON"</span>, <span class="string">"SAMUAL"</span>, <span class="string">"MIQUEL"</span>,</span><br><span class="line"><span class="string">"EUSEBIO"</span>, <span class="string">"DOMENIC"</span>, <span class="string">"DARRON"</span>, <span class="string">"BUSTER"</span>, <span class="string">"WILBER"</span>, <span class="string">"RENATO"</span>, <span class="string">"JC"</span>, <span class="string">"HOYT"</span>, <span class="string">"HAYWOOD"</span>, <span class="string">"EZEKIEL"</span>,</span><br><span class="line"><span class="string">"CHAS"</span>, <span class="string">"FLORENTINO"</span>, <span class="string">"ELROY"</span>, <span class="string">"CLEMENTE"</span>, <span class="string">"ARDEN"</span>, <span class="string">"NEVILLE"</span>, <span class="string">"EDISON"</span>, <span class="string">"DESHAWN"</span>, <span class="string">"NATHANIAL"</span>, <span class="string">"JORDON"</span>,</span><br><span class="line"><span class="string">"DANILO"</span>, <span class="string">"CLAUD"</span>, <span class="string">"SHERWOOD"</span>, <span class="string">"RAYMON"</span>, <span class="string">"RAYFORD"</span>, <span class="string">"CRISTOBAL"</span>, <span class="string">"AMBROSE"</span>, <span class="string">"TITUS"</span>, <span class="string">"HYMAN"</span>, <span class="string">"FELTON"</span>,</span><br><span class="line"><span class="string">"EZEQUIEL"</span>, <span class="string">"ERASMO"</span>, <span class="string">"STANTON"</span>, <span class="string">"LONNY"</span>, <span class="string">"LEN"</span>, <span class="string">"IKE"</span>, <span class="string">"MILAN"</span>, <span class="string">"LINO"</span>, <span class="string">"JAROD"</span>, <span class="string">"HERB"</span>,</span><br><span class="line"><span class="string">"ANDREAS"</span>, <span class="string">"WALTON"</span>, <span class="string">"RHETT"</span>, <span class="string">"PALMER"</span>, <span class="string">"DOUGLASS"</span>, <span class="string">"CORDELL"</span>, <span class="string">"OSWALDO"</span>, <span class="string">"ELLSWORTH"</span>, <span class="string">"VIRGILIO"</span>, <span class="string">"TONEY"</span>,</span><br><span class="line"><span class="string">"NATHANAEL"</span>, <span class="string">"DEL"</span>, <span class="string">"BENEDICT"</span>, <span class="string">"MOSE"</span>, <span class="string">"JOHNSON"</span>, <span class="string">"ISREAL"</span>, <span class="string">"GARRET"</span>, <span class="string">"FAUSTO"</span>, <span class="string">"ASA"</span>, <span class="string">"ARLEN"</span>,</span><br><span class="line"><span class="string">"ZACK"</span>, <span class="string">"WARNER"</span>, <span class="string">"MODESTO"</span>, <span class="string">"FRANCESCO"</span>, <span class="string">"MANUAL"</span>, <span class="string">"GAYLORD"</span>, <span class="string">"GASTON"</span>, <span class="string">"FILIBERTO"</span>, <span class="string">"DEANGELO"</span>, <span class="string">"MICHALE"</span>,</span><br><span class="line"><span class="string">"GRANVILLE"</span>, <span class="string">"WES"</span>, <span class="string">"MALIK"</span>, <span class="string">"ZACKARY"</span>, <span class="string">"TUAN"</span>, <span class="string">"ELDRIDGE"</span>, <span class="string">"CRISTOPHER"</span>, <span class="string">"CORTEZ"</span>, <span class="string">"ANTIONE"</span>, <span class="string">"MALCOM"</span>,</span><br><span class="line"><span class="string">"LONG"</span>, <span class="string">"KOREY"</span>, <span class="string">"JOSPEH"</span>, <span class="string">"COLTON"</span>, <span class="string">"WAYLON"</span>, <span class="string">"VON"</span>, <span class="string">"HOSEA"</span>, <span class="string">"SHAD"</span>, <span class="string">"SANTO"</span>, <span class="string">"RUDOLF"</span>,</span><br><span class="line"><span class="string">"ROLF"</span>, <span class="string">"REY"</span>, <span class="string">"RENALDO"</span>, <span class="string">"MARCELLUS"</span>, <span class="string">"LUCIUS"</span>, <span class="string">"KRISTOFER"</span>, <span class="string">"BOYCE"</span>, <span class="string">"BENTON"</span>, <span class="string">"HAYDEN"</span>, <span class="string">"HARLAND"</span>,</span><br><span class="line"><span class="string">"ARNOLDO"</span>, <span class="string">"RUEBEN"</span>, <span class="string">"LEANDRO"</span>, <span class="string">"KRAIG"</span>, <span class="string">"JERRELL"</span>, <span class="string">"JEROMY"</span>, <span class="string">"HOBERT"</span>, <span class="string">"CEDRICK"</span>, <span class="string">"ARLIE"</span>, <span class="string">"WINFORD"</span>,</span><br><span class="line"><span class="string">"WALLY"</span>, <span class="string">"LUIGI"</span>, <span class="string">"KENETH"</span>, <span class="string">"JACINTO"</span>, <span class="string">"GRAIG"</span>, <span class="string">"FRANKLYN"</span>, <span class="string">"EDMUNDO"</span>, <span class="string">"SID"</span>, <span class="string">"PORTER"</span>, <span class="string">"LEIF"</span>,</span><br><span class="line"><span class="string">"JERAMY"</span>, <span class="string">"BUCK"</span>, <span class="string">"WILLIAN"</span>, <span class="string">"VINCENZO"</span>, <span class="string">"SHON"</span>, <span class="string">"LYNWOOD"</span>, <span class="string">"JERE"</span>, <span class="string">"HAI"</span>, <span class="string">"ELDEN"</span>, <span class="string">"DORSEY"</span>,</span><br><span class="line"><span class="string">"DARELL"</span>, <span class="string">"BRODERICK"</span>, <span class="string">"ALONSO"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Reading Challenge April 2018</title>
      <link href="/2018/04/01/Reading-Challenge-April-2018/"/>
      <url>/2018/04/01/Reading-Challenge-April-2018/</url>
      <content type="html"><![CDATA[<p>2018年四月书单～</p><blockquote><p>学习是终生的需要: 不要把学习当成一种任务，要让学习成为一种习惯；不要让学习成为空谈阔论，要通过学习解决实际问题；不要满足于知识的学习，要在学习中做到再创造。</p><p>胜任工作，会带团队，做出特色 -&gt; 能够创造新的价值，成为单位和行业依赖的栋梁～</p></blockquote><a id="more"></a><h2 id="已经在读的"><a href="#已经在读的" class="headerlink" title="已经在读的"></a>已经在读的</h2><h3 id="Java核心技术卷1：基础知识"><a href="#Java核心技术卷1：基础知识" class="headerlink" title="Java核心技术卷1：基础知识"></a>Java核心技术卷1：基础知识</h3><div align="center"><br><img src="https://img3.doubanio.com/lpic/s29063065.jpg"><br></div><p>Java领域最有影响力和价值的著作之一，由拥有20多年教学与研究经验的资深Java技术专家撰写(获Jolt大奖)，与《Java编程思想》齐名，10余年全球畅销不衰，广受好评。第10版根据Java SE 8全面更新，同时修正了第9版中的不足，系统全面讲解了Java语言的核 心概念、语法、重要特性和开发方法，包含大量案例，实践性强。</p><p>一直以来，《Java核心技术》都被认为是面向高级程序员的经典教程和参考书，它内容翔实、客观准确，不拖泥带水，是想为实际应用编写健壮Java代码的程序员的首选。如今，本版进行了全面更新， 以反映近年来人们翘首以待、变革最大的Java版本（Java SE 8）的内容。这一版经过重写，并重新组织，全面阐释了新的Java SE 8特性、惯用法和*佳实践，其中包含数百个示例程序，所有这些代码都经过精心设计，不仅易于理解，也很容易实际应用。</p><p>本书为专业程序员解决实际问题而写，可以帮助你深入了解Java语言和库。在卷I中，Horstmann主要强调基本语言概念和现代用户界面编程基础，深入介绍了从Java面向对象编程到泛型、集合、lambda表达式、Swing UI设计以及并发和函数式编程的新方法等内容。</p><p><strong>Remark:</strong><br>需要复习面向对象与类设计，集合类，了解反射机制和泛型程序设计，学习java高并发</p><h3 id="Java机器学习"><a href="#Java机器学习" class="headerlink" title="Java机器学习"></a>Java机器学习</h3><div align="center"><br><img src="http://file.ituring.com.cn/ScreenShow/1708fd0bd0644f8de498" width="400"><br></div><p>本书介绍如何使用Java创建并实现机器学习算法，既有基础知识，又提供实战案例。主要内容包括：机器学习基本概念、原理，Weka、Mahout、Spark等常见机器学习库的用法，各类机器学习常见任务，包括分类、预测预报、购物篮分析、检测异常、行为识别、图像识别以及文本分析。最后还提供了相关Web资源、各种技术研讨会议以及机器学习挑战赛等进阶所需内容。<br>本书适合机器学习入门者，尤其是想使用Java机器学习库进行数据分析的读者。</p><p><strong>Remark:</strong><br>通过此书了解常见任务的机器学习应用的java调用实现，并对常用库加以熟悉，在线支持网站提供书中所有示例代码以及其他入门资料：<a href="http://machine-learning-in-java.com" target="_blank" rel="noopener">http://machine-learning-in-java.com</a></p><h3 id="数据结构与算法经典问题解析-Java语言描述"><a href="#数据结构与算法经典问题解析-Java语言描述" class="headerlink" title="数据结构与算法经典问题解析-Java语言描述"></a>数据结构与算法经典问题解析-Java语言描述</h3><div align="center"><br><img src="https://img3.doubanio.com/lpic/s29160305.jpg"><br></div><p>这是一本数据结构方面的优秀教材，以Java为描述语言，介绍了计算机编程中使用的数据结构和算法。本书强调问题及其分析，而非理论阐述，共分为21章，讲述了基本概念、递归和回溯、链表、栈、队列、树、优先队列和堆、并查集DAT、图算法、排序、查找、选择算法（中位数）、符号表、散列、字符串算法、算法设计技术、贪婪算法、分治算法、动态规划算法、复杂度类型等内容。每章首先阐述必要的理论基础，然后给出问题集。全书中大约有700个算法问题及相应的解法，对于许多问题，本书提供了多个具有不同复杂度的解决方法。</p><p><strong>Remark:</strong><br>继续阅读书中案例，并将算法本质抽离出来。勤加思考！</p><h3 id="统计学习方法"><a href="#统计学习方法" class="headerlink" title="统计学习方法"></a>统计学习方法</h3><div align="center"><br><img src="https://img3.doubanio.com/lpic/s9108113.jpg"><br></div><p>《统计学习方法》是计算机及其应用领域的一门重要的学科。《统计学习方法》全面系统地介绍了统计学习的主要方法，特别是监督学习方法，包括感知机、k近邻法、朴素贝叶斯法、决策树、逻辑斯谛回归与最大熵模型、支持向量机、提升方法、EM算法、隐马尔可夫模型和条件随机场等。除第1章概论和最后一章总结外，每章介绍一种方法。叙述从具体问题或实例入手，由浅入深，阐明思路，给出必要的数学推导，便于读者掌握统计学习方法的实质，学会运用。为满足读者进一步学习的需要，书中还介绍了一些相关研究，给出了少量习题，列出了主要参考文献。</p><p><strong>Remark:</strong><br>二刷统计学习方法，并开始制作学习笔记。希望能对统计学习方法熟知并加以实际应用！</p><h3 id="Clojure编程乐趣"><a href="#Clojure编程乐趣" class="headerlink" title="Clojure编程乐趣"></a>Clojure编程乐趣</h3><div align="center"><br><img src="https://img3.doubanio.com/lpic/s27141806.jpg"><br></div><p>Clojure是一门Lisp方言。它通过函数式编程技术，直接支持并发软件开发，得到众多开发人员的欢迎。</p><p>《Clojure编程乐趣》并非Clojure初学指南，也不是一本Clojure的编程操作手册，而是通过对Clojure详尽地探究，教授函数式的程序设计方式，帮助读者理解和体会Clojure编程的乐趣，进而开发出优美的软件。</p><p>全书分为5个部分共13章。第1部分是基础，包括第1章到第3章，从Clojure背后的思想开始，介绍了Clojure的基础知识，并带领读者初步尝试Clojure编程。第2部分包括第4章和第5章，介绍了Clojure的各种数据类型。第3部分是第6章和第7章，介绍了函数式编程的特性。第4部分包括第8章到第11章，分别介绍了宏、组合数据域代码、Clojure对Java的调用，以及并发编程等较为高级的话题。第5部分为第12章和第13章，探讨了Clojure的性能问题及其带给我们的思考。</p><p>《Clojure编程乐趣》适合有一定基础的Clojure程序员阅读，进而掌握函数编程的思考方法和程序设计方法，也可以作为读者学习函数式编程的参考资料。</p><p><strong>Remark:</strong><br>继Learn you a Haskell之后的又一本函数式编程书籍。Clojure基于JVM，基本可以直接调用java现成的库，在工程实践上比Haskell更广泛。学习完成后可以开始考虑用FP来做一些简单的数据分析项目。作者博客地址: <a href="http://blog.fogus.me/" target="_blank" rel="noopener">http://blog.fogus.me/</a></p><h2 id="计划开始读的"><a href="#计划开始读的" class="headerlink" title="计划开始读的"></a>计划开始读的</h2><h3 id="函数式算法设计珠玑"><a href="#函数式算法设计珠玑" class="headerlink" title="函数式算法设计珠玑"></a>函数式算法设计珠玑</h3><div align="center"><br><img src="https://img1.doubanio.com/lpic/s29454188.jpg"><br></div><p>本书采用完全崭新的方式介绍算法设计。全书由30个珠玑构成，每个珠玑单独列为一章，用于解决一个特定编程问题。这些问题的出处五花八门，有的来自游戏或拼图，有的是有趣的组合任务，还有的是散落于数据压缩及字串匹配等领域的更为熟悉的算法。每个珠玑以使用函数式编程语言Haskell对问题进行描述作为开始，每个解答均是诉诸于函数式编程法则从问题表述中计算得到。本书适用于那些喜欢学习算法设计思想的函数式编程人员、学生和老师，同样适用于那些期望以数学推理方式处理程序的人员。</p><p><strong>Remark:</strong><br>此书对于思考算法本质以及锻炼函数式编程有很大的意义，希望一周能刷一两个案例！</p><h3 id="Java性能优化权威指南"><a href="#Java性能优化权威指南" class="headerlink" title="Java性能优化权威指南"></a>Java性能优化权威指南</h3><div align="center"><br><img src="https://img1.doubanio.com/lpic/s27219217.jpg"><br></div><p>Java性能优化圣经！Java之父重磅推荐！</p><p>本书由曾任职于Oracle/Sun的性能优化专家编写，系统而详细地讲解了性能优化的各个方面，帮助你学习Java虚拟机的基本原理、掌握一些监控Java程序性能的工具，从而快速找到程序中的性能瓶颈，并有效改善程序的运行性能。</p><p>Java性能优化的任何问题，都可以从本书中找到答案！</p><p><strong>Remark:</strong><br>不建议先从头到尾看，可以挑与自己相近的问题看，从书中找到答案。</p><h3 id="Java经典实例"><a href="#Java经典实例" class="headerlink" title="Java经典实例"></a>Java经典实例</h3><div align="center"><br><img src="https://img3.doubanio.com/lpic/s26704226.jpg"><br></div><p>《Java经典实例(第2版)》收集了Java开发人员经常遇到的成百个问题的解决方案，涵盖了Java应用的方方面面，堪称讲述Java应用的百科全书。书中的实例从正确设置CLASSPATH和读取环境信息这样的简单任务，到应用XML，或者使用JDK 1.5所带的并发性工具实现多线程编程的完整程序，几乎无所不包。</p><p>无论你是否直接使用书中的实例，作为灵感的源泉，作为学习Java的工具，或者用于其他用途，《Java经典实例(第2版)》都将成为你图书收藏中的珍品。还没有一《Java经典实例(第2版)》能够如此全面地讲述Java的诸多功能，并能够如此容易地运用到实践当中去。作为第二版，《Java经典实例(第2版)》更像是一部秘笈，指引你获取最新的第三方资源，以及提供实用的“招式”。《Java经典实例(第2版)》展现了JDK 1.5中许多新的编程语言与API特性，这些都包括在那些实例中。</p><p><strong>Remark:</strong><br>与性能优化一样，建议先挑选着看。</p><h3 id="JavaScript设计模式"><a href="#JavaScript设计模式" class="headerlink" title="JavaScript设计模式"></a>JavaScript设计模式</h3><div align="center"><br><img src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/w%3D268%3Bg%3D0/sign=36f5ae539613b07ebdbd570e34ecf61e/d043ad4bd11373f04f0546eda10f4bfbfbed048d.jpg" width="300"><br></div><p>本书共有两部分。第一部分给出了实现具体设计模式所需要的面向对象特性的基础知识，主要包括接口、封装和信息隐藏、继承、单体模式等内容。第二部分则专注于各种具体的设计模式及其在JavaScript语言中的应用，主要介绍了工厂模式、桥接模式、组合模式、门面模式等几种常见的模式。为了让每一章中的示例都尽可能地贴近实际应用，书中同时列举了一些JavaScript 程序员最常见的任务，然后运用设计模式使其解决方案变得更模块化、更高效并且更易维护，其中较为理论化的例子则用于阐明某些要点。.</p><p>本书适合各层次的Web 前端开发人员阅读和参考，也适合有C++/Java/C# 背景的服务器端程序员学习。</p><p><strong>Remark:</strong><br>设计模式在构建大型库或者工程应用中不可或缺，需要尽早了解。</p>]]></content>
      
      
        <tags>
            
            <tag> reading </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-021</title>
      <link href="/2018/03/31/Project-Euler-021/"/>
      <url>/2018/03/31/Project-Euler-021/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Let $d(n)$ be defined as the sum of proper divisors of $n$ (numbers less than $n$ which divide evenly into $n$).</p><p>If $d(a) = b$ and $d(b) = a$, where $a \neq b$, then $a$ and $b$ are an amicable pair and each of $a$ and $b$ are called amicable numbers.</p><p>For example, the proper divisors of 220 are 1, 2, 4, 5, 10, 11, 20, 22, 44, 55 and 110; therefore $d(220) = 284$. The proper divisors of 284 are 1, 2, 4, 71 and 142; so $d(284) = 220$.</p><p>Evaluate the sum of all the amicable numbers under 10000.</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">31626</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># We first compute a table of sum-of-proper-divisors, then we use it to test which numbers are amicable.</span></span><br><span class="line"><span class="comment"># This approach differs from the Java implementation because trying to directly compute</span></span><br><span class="line"><span class="comment"># the proper-divisor-sum of each number by brute force is unacceptably slow in Python.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute</span><span class="params">()</span>:</span></span><br><span class="line"><span class="comment"># Compute sum of proper divisors for each number</span></span><br><span class="line">divisorsum = [<span class="number">0</span>] * <span class="number">10000</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(divisorsum)):</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(i * <span class="number">2</span>, len(divisorsum), i):</span><br><span class="line">divisorsum[j] += i</span><br><span class="line"></span><br><span class="line"><span class="comment"># Find all amicable pairs within range</span></span><br><span class="line">ans = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(divisorsum)):</span><br><span class="line">j = divisorsum[i]</span><br><span class="line"><span class="keyword">if</span> j != i <span class="keyword">and</span> j &lt; len(divisorsum) <span class="keyword">and</span> divisorsum[j] == i:</span><br><span class="line">ans += i</span><br><span class="line"><span class="keyword">return</span> str(ans)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">print(compute())</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span> </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span> </span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">divisors</span></span></span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>] <span class="keyword">if</span> <span class="keyword">self</span> == <span class="number">1</span></span><br><span class="line">    primes, powers = <span class="keyword">self</span>.prime_division.transpose </span><br><span class="line">    exponents = powers.map&#123;<span class="params">|i|</span> (<span class="number">0</span>..i).to_a&#125; </span><br><span class="line">    divisors = exponents.shift.product(*exponents).map <span class="keyword">do</span> <span class="params">|powers|</span> </span><br><span class="line">      primes.zip(powers).map&#123;<span class="params">|prime, power|</span> prime ** power&#125;.inject(<span class="symbol">:*</span>) </span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line">    divisors.sort.take divisors.length - <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">amicable?</span><span class="params">(n=<span class="keyword">self</span>.divisors.reduce(<span class="symbol">:+</span>)</span></span>)</span><br><span class="line">    n != <span class="keyword">self</span> &amp;&amp; n.divisors.reduce(<span class="symbol">:+</span>) == <span class="keyword">self</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts (<span class="number">1</span>..<span class="number">10000</span>).find_all &#123; <span class="params">|n|</span> n.amicable? &#125;.reduce(<span class="symbol">:+</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">divisors</span> ::  <span class="type">Integer</span> -&gt; [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">divisors</span> n = [x | x &lt;- [<span class="number">1.</span>.(div n <span class="number">2</span>)], n `mod` x == <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="title">d</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">d</span> = sum . divisors</span><br><span class="line"></span><br><span class="line"><span class="title">isAmicable</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isAmicable</span> n = n /= x &amp;&amp; d x == n <span class="keyword">where</span> x = d n</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ sum $ filter isAmicable [<span class="number">1.</span><span class="number">.10000</span>]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ruby</span><br><span class="line">require 'mathn' </span><br><span class="line"></span><br><span class="line">class Integer </span><br><span class="line">  def divisors</span><br><span class="line">    return [1] if self == 1</span><br><span class="line">    primes, powers = self.prime_division.transpose </span><br><span class="line">    exponents = powers.map&#123;|i| (0..i).to_a&#125; </span><br><span class="line">    divisors = exponents.shift.product(*exponents).map do |powers| </span><br><span class="line">      primes.zip(powers).map&#123;|prime, power| prime ** power&#125;.inject(:*) </span><br><span class="line">    end </span><br><span class="line">    divisors.sort.take divisors.length - 1</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">  def amicable?(n=self.divisors.reduce(:+))</span><br><span class="line">    n != self &amp;&amp; n.divisors.reduce(:+) == self</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">puts (1..10000).find_all &#123; |n| n.amicable? &#125;.reduce(:+)</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * We modify a built-in function to find the sum of proper divisors of a number.</span></span><br><span class="line"><span class="comment"> * Then we apply the definition of an amicable number straightforwardly.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"><span class="keyword">DivisorSum</span>[n_] := <span class="keyword">DivisorSigma</span>[<span class="number">1</span>, n] - n</span><br><span class="line">AmicableQ[n_] := <span class="keyword">DivisorSum</span>[n] != n &amp;&amp; <span class="keyword">DivisorSum</span>[<span class="keyword">DivisorSum</span>[n]] == n</span><br><span class="line"><span class="keyword">Total</span>[<span class="keyword">Select</span>[<span class="keyword">Range</span>[<span class="number">9999</span>], AmicableQ]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p021</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p021().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We find the sum of proper divisors of a number by brute force,</span></span><br><span class="line"><span class="comment"> * and apply the definition of an amicable number straightforwardly.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (isAmicable(i))</span><br><span class="line">sum += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isAmicable</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> m = divisorSum(n);</span><br><span class="line"><span class="keyword">return</span> m != n &amp;&amp; divisorSum(m) == n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">divisorSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line">sum += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 021</title>
      <link href="/2018/03/30/LeetCode-Notes-021/"/>
      <url>/2018/03/30/LeetCode-Notes-021/</url>
      <content type="html"><![CDATA[<h3 id="Counting-Bits"><a href="#Counting-Bits" class="headerlink" title="Counting Bits"></a>Counting Bits</h3><p>Given a non negative integer number num. For every numbers i in the range 0 ≤ i ≤ num calculate the number of 1’s in their binary representation and return them as an array.</p><p><strong>Example:</strong><br>For <code>num = 5</code> you should return <code>[0,1,1,2,1,2]</code>.</p><p><strong>Follow up:</strong></p><ul><li>It is very easy to come up with a solution with run time $O(n*sizeof(integer))$. But can you do it in linear time $O(n)$ /possibly in a single pass?</li><li>Space complexity should be $O(n)$.</li><li>Can you do it like a boss? Do it without using any builtin function like __builtin_popcount in c++ or in any other language.</li></ul><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countBits = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="built_in">Array</span>(num + <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= num; i++)</span><br><span class="line">  ans[i] = hammingWeight(i);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hammingWeight = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  n = ((n &amp; <span class="number">0xAAAAAAAA</span>) &gt;&gt;&gt; <span class="number">1</span>) + (n &amp; <span class="number">0x55555555</span>);</span><br><span class="line">  n = ((n &amp; <span class="number">0xCCCCCCCC</span>) &gt;&gt;&gt; <span class="number">2</span>) + (n &amp; <span class="number">0x33333333</span>);</span><br><span class="line">  n = ((n &amp; <span class="number">0xF0F0F0F0</span>) &gt;&gt;&gt; <span class="number">4</span>) + (n &amp; <span class="number">0x0F0F0F0F</span>);</span><br><span class="line">  n = ((n &amp; <span class="number">0xFF00FF00</span>) &gt;&gt;&gt; <span class="number">8</span>) + (n &amp; <span class="number">0x00FF00FF</span>);</span><br><span class="line">  n = ((n &amp; <span class="number">0xFFFF0000</span>) &gt;&gt;&gt; <span class="number">16</span>) + (n &amp; <span class="number">0x0000FFFF</span>);</span><br><span class="line">  <span class="keyword">return</span> n;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Course-Schedule"><a href="#Course-Schedule" class="headerlink" title="Course Schedule"></a>Course Schedule</h3><p>There are a total of n courses you have to take, labeled from $0$ to $n - 1$.</p><p>Some courses may have prerequisites, for example to take course 0 you have to first take course 1, which is expressed as a pair: $[0,1]$</p><p>Given the total number of courses and a list of prerequisite pairs, is it possible for you to finish all courses?</p><p>For example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2, [[1,0]]</span><br></pre></td></tr></table></figure></p><p>There are a total of 2 courses to take. To take course 1 you should have finished course 0. So it is possible.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2, [[1,0],[0,1]]</span><br></pre></td></tr></table></figure><p>There are a total of 2 courses to take. To take course 1 you should have finished course 0, and to take course 0 you should also have finished course 1. So it is impossible.</p><p><strong>Note:</strong></p><ol><li>The input prerequisites is a graph represented by a list of edges, not adjacency matrices. Read more about how a graph is represented.</li><li>You may assume that there are no duplicate edges in the input prerequisites.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; numCourses</span></span><br><span class="line"><span class="comment"> * @param &#123;number[][]&#125; prerequisites</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> canFinish = <span class="function"><span class="keyword">function</span>(<span class="params">numCourses, prerequisites</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> map = []; <span class="comment">// 邻接表</span></span><br><span class="line">  <span class="keyword">var</span> indegree = []; <span class="comment">// 入度</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; numCourses; i++)</span><br><span class="line">    map[i] = [], indegree[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  prerequisites.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">from</span> = item[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">var</span> to = item[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    map[<span class="keyword">from</span>].push(to);</span><br><span class="line">    indegree[to]++;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> q = [];</span><br><span class="line">  <span class="keyword">var</span> finishNum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">    <span class="comment">// 入度为 0，没有依赖</span></span><br><span class="line">    <span class="keyword">if</span> (!indegree[i]) &#123;</span><br><span class="line">      q.push(i);</span><br><span class="line">      finishNum++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (q.length) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">from</span> = q.shift();</span><br><span class="line"></span><br><span class="line">    map[<span class="keyword">from</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">to</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (--indegree[to] === <span class="number">0</span>) &#123;</span><br><span class="line">        q.push(to);</span><br><span class="line">        finishNum++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> finishNum === numCourses;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Course-Schedule-II"><a href="#Course-Schedule-II" class="headerlink" title="Course Schedule II"></a>Course Schedule II</h3><p>There are a total of n courses you have to take, labeled from $0$ to $n - 1$.</p><p>Some courses may have prerequisites, for example to take course 0 you have to first take course 1, which is expressed as a pair: $[0,1]$</p><p>Given the total number of courses and a list of prerequisite pairs, return the ordering of courses you should take to finish all courses.</p><p>There may be multiple correct orders, you just need to return one of them. If it is impossible to finish all courses, return an empty array.</p><p>For example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2, [[1,0]]</span><br></pre></td></tr></table></figure></p><p>There are a total of 2 courses to take. To take course 1 you should have finished course 0. So the correct course order is <code>[0,1]</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4, [[1,0],[2,0],[3,1],[3,2]]</span><br></pre></td></tr></table></figure><p>There are a total of 4 courses to take. To take course 3 you should have finished both courses 1 and 2. Both courses 1 and 2 should be taken after you finished course 0. So one correct course order is <code>[0,1,2,3]</code>. Another correct ordering is <code>[0,2,1,3]</code>.</p><p><strong>Note:</strong></p><ol><li>The input prerequisites is a graph represented by a list of edges, not adjacency matrices. Read more about how a graph is represented.</li><li>You may assume that there are no duplicate edges in the input prerequisites.</li></ol><p><strong>Hints:</strong></p><ol><li>This problem is equivalent to finding the topological order in a directed graph. If a cycle exists, no topological ordering exists and therefore it will be impossible to take all courses.</li><li><a href="https://class.coursera.org/algo-003/lecture/52" target="_blank" rel="noopener">Topological</a> Sort via DFS - A great video tutorial (21 minutes) on Coursera explaining the basic concepts of Topological Sort.</li><li>Topological sort could also be done via <a href="http://en.wikipedia.org/wiki/Topological_sorting#Algorithms" target="_blank" rel="noopener">BFS</a>.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; numCourses</span></span><br><span class="line"><span class="comment"> * @param &#123;number[][]&#125; prerequisites</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findOrder = <span class="function"><span class="keyword">function</span>(<span class="params">numCourses, prerequisites</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> map = []; <span class="comment">// 邻接表</span></span><br><span class="line">  <span class="keyword">var</span> indegree = []; <span class="comment">// 入度</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; numCourses; i++)</span><br><span class="line">    map[i] = [], indegree[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  prerequisites.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">from</span> = item[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">var</span> to = item[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    map[<span class="keyword">from</span>].push(to);</span><br><span class="line">    indegree[to]++;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> q = [];</span><br><span class="line">  <span class="keyword">var</span> finishNum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">    <span class="comment">// 入度为 0，没有依赖</span></span><br><span class="line">    <span class="keyword">if</span> (!indegree[i]) &#123;</span><br><span class="line">      q.push(i);</span><br><span class="line">      finishNum++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (q.length) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">from</span> = q.shift();</span><br><span class="line">    ans.push(<span class="keyword">from</span>);</span><br><span class="line"></span><br><span class="line">    map[<span class="keyword">from</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">to</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (--indegree[to] === <span class="number">0</span>) &#123;</span><br><span class="line">        q.push(to);</span><br><span class="line">        finishNum++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> finishNum === numCourses ? ans : [];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-020</title>
      <link href="/2018/03/29/Project-Euler-020/"/>
      <url>/2018/03/29/Project-Euler-020/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p><br>$n!$ means $n \times (n - 1) \times … \times 3 \times 2 \times 1$.<br><br>Find the sum of the digits in the number $100!$.<br></p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">648</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># We do a straightforward computation thanks to Python's built-in arbitrary precision integer type.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute</span><span class="params">()</span>:</span></span><br><span class="line">n = math.factorial(<span class="number">100</span>)</span><br><span class="line">ans = sum(int(c) <span class="keyword">for</span> c <span class="keyword">in</span> str(n))</span><br><span class="line"><span class="keyword">return</span> str(ans)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">print(compute())</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">puts <span class="number">100</span>.downto(<span class="number">1</span>).inject(<span class="symbol">:*</span>).to_s.each_char.inject(<span class="number">0</span>) &#123;<span class="params">|s,v|</span>s+v.to_i&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">sumDigits</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">sumDigits</span> n = sumDigits' n <span class="number">0</span></span><br><span class="line">    <span class="keyword">where</span> sumDigits' <span class="number">0</span> acc = acc</span><br><span class="line">          sumDigits' n acc = sumDigits' (div n <span class="number">10</span>) (acc + (mod n <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="title">factorial</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">factorial</span> n = foldr (*) <span class="number">1</span> [<span class="number">1.</span>.n]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> = print $ sumDigits $ factorial <span class="number">100</span></span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name"><span class="builtin-name">map</span></span> #(<span class="name"><span class="builtin-name">-</span></span> (<span class="name"><span class="builtin-name">int</span></span> %) <span class="number">48</span>) (<span class="name"><span class="builtin-name">str</span></span> (<span class="name"><span class="builtin-name">reduce</span></span> * (<span class="name"><span class="builtin-name">range</span></span> BigInteger/ONE <span class="number">100</span>))))))</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p020</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p020().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We do a straightforward product with help from Java's BigInteger type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">String temp = Library.factorial(<span class="number">100</span>).toString();</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; temp.length(); i++)</span><br><span class="line">sum += temp.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * We do a straightforward computation thanks to Mathematica's built-in arbitrary precision integer type.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"><span class="keyword">Total</span>[<span class="keyword">IntegerDigits</span>[<span class="number">100</span>!]]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Simple Implement of Spring MVC</title>
      <link href="/2018/03/26/Simple-Implement-of-Spring-MVC/"/>
      <url>/2018/03/26/Simple-Implement-of-Spring-MVC/</url>
      <content type="html"><![CDATA[<h2 id="简单模拟Spring-MVC"><a href="#简单模拟Spring-MVC" class="headerlink" title="简单模拟Spring MVC"></a>简单模拟Spring MVC</h2><p>在Spring MVC中，将一个普通的java类标注上Controller注解之后，再将类中的方法使用RequestMapping注解标注，那么这个普通的java类就够处理Web请求，示例代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用Controller注解标注LoginUI类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginUI</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//使用RequestMapping注解指明forward1方法的访问路径  </span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"LoginUI/Login2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">forward1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//执行完forward1方法之后返回的视图</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> View(<span class="string">"/login2.jsp"</span>);  </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//使用RequestMapping注解指明forward2方法的访问路径  </span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"LoginUI/Login3"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">forward2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//执行完forward2方法之后返回的视图</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> View(<span class="string">"/login3.jsp"</span>);  </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>spring通过java annotation就可以注释一个类为action ，在方法上添加上一个java annotation 就可以配置请求的路径了，那么这种机制是如何实现的呢，今天我们使用”自定义注解+Servlet”来简单模拟一下Spring MVC中的这种注解配置方式。</p><a id="more"></a><h3 id="一、编写注解"><a href="#一、编写注解" class="headerlink" title="一、编写注解"></a>一、编写注解</h3><h4 id="1-1-Controller注解"><a href="#1-1-Controller注解" class="headerlink" title="1.1 Controller注解"></a>1.1 Controller注解</h4><p>开发Controller注解，这个注解只有一个value属性，默认值为空字符串，代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@ClassName</span>: Controller</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Description</span>: 自定义Controller注解</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(ElementType.TYPE)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Controller &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-RequestMapping注解"><a href="#1-2-RequestMapping注解" class="headerlink" title="1.2 RequestMapping注解"></a>1.2 RequestMapping注解</h4><p>开发RequestMapping注解，用于定义请求路径，这个注解只有一个value属性，默认值为空字符串，代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定义请求路径的java annotation</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Target</span>(ElementType.METHOD) </span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)  </span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RequestMapping &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上就是我们自定义的两个注解，注解的开发工作就算是完成了，有了注解之后，那么就必须针对注解来编写处理器，否则我们开发的注解配置到类或者方法上面是不起作用的，这里我们使用Servlet来作为注解的处理器。</p><h3 id="编写核心的注解处理器"><a href="#编写核心的注解处理器" class="headerlink" title="编写核心的注解处理器"></a>编写核心的注解处理器</h3><h4 id="2-1-开发AnnotationHandleServlet"><a href="#2-1-开发AnnotationHandleServlet" class="headerlink" title="2.1 开发AnnotationHandleServlet"></a>2.1 开发AnnotationHandleServlet</h4><p>这里使用一个Servlet来作为注解处理器，编写一个AnnotationHandleServlet，代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.web.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> me.gacl.annotation.Controller;</span><br><span class="line"><span class="keyword">import</span> me.gacl.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> me.gacl.util.BeanUtils;</span><br><span class="line"><span class="keyword">import</span> me.gacl.util.RequestMapingMap;</span><br><span class="line"><span class="keyword">import</span> me.gacl.util.ScanClassUtil;</span><br><span class="line"><span class="keyword">import</span> me.gacl.web.context.WebContext;</span><br><span class="line"><span class="keyword">import</span> me.gacl.web.view.DispatchActionConstant;</span><br><span class="line"><span class="keyword">import</span> me.gacl.web.view.View;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;ClassName: AnnotationHandleServlet&lt;p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Description: AnnotationHandleServlet作为自定义注解的核心处理器以及负责调用目标业务方法处理用户请求&lt;p&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationHandleServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">pareRequestURI</span><span class="params">(HttpServletRequest request)</span></span>&#123;</span><br><span class="line">        String path = request.getContextPath()+<span class="string">"/"</span>;</span><br><span class="line">        String requestUri = request.getRequestURI();</span><br><span class="line">        String midUrl = requestUri.replaceFirst(path, <span class="string">""</span>);</span><br><span class="line">        String lasturl = midUrl.substring(<span class="number">0</span>, midUrl.lastIndexOf(<span class="string">"."</span>));</span><br><span class="line">        <span class="keyword">return</span> lasturl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.excute(request, response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.excute(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">excute</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span>&#123;</span><br><span class="line">        <span class="comment">//将当前线程中HttpServletRequest对象存储到ThreadLocal中，以便在Controller类中使用</span></span><br><span class="line">        WebContext.requestHodler.set(request);</span><br><span class="line">        <span class="comment">//将当前线程中HttpServletResponse对象存储到ThreadLocal中，以便在Controller类中使用</span></span><br><span class="line">        WebContext.responseHodler.set(response);</span><br><span class="line">        <span class="comment">//解析url</span></span><br><span class="line">        String lasturl = pareRequestURI(request);</span><br><span class="line">        <span class="comment">//获取要使用的类</span></span><br><span class="line">        Class&lt;?&gt; clazz = RequestMapingMap.getRequesetMap().get(lasturl);</span><br><span class="line">        <span class="comment">//创建类的实例</span></span><br><span class="line">        Object classInstance = BeanUtils.instanceClass(clazz);</span><br><span class="line">        <span class="comment">//获取类中定义的方法</span></span><br><span class="line">        Method [] methods = BeanUtils.findDeclaredMethods(clazz);</span><br><span class="line">        Method method = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">for</span>(Method m:methods)&#123;<span class="comment">//循环方法，找匹配的方法进行执行</span></span><br><span class="line">            <span class="keyword">if</span>(m.isAnnotationPresent(RequestMapping.class))&#123;</span><br><span class="line">                String anoPath = m.getAnnotation(RequestMapping.class).value();</span><br><span class="line">                <span class="keyword">if</span>(anoPath!=<span class="keyword">null</span> &amp;&amp; !<span class="string">""</span>.equals(anoPath.trim()) &amp;&amp; lasturl.equals(anoPath.trim()))&#123;</span><br><span class="line">                    <span class="comment">//找到要执行的目标方法</span></span><br><span class="line">                    method = m;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(method!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="comment">//执行目标方法处理用户请求</span></span><br><span class="line">                Object retObject = method.invoke(classInstance);</span><br><span class="line">                <span class="comment">//如果方法有返回值，那么就表示用户需要返回视图</span></span><br><span class="line">                <span class="keyword">if</span> (retObject!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                    View view = (View)retObject;</span><br><span class="line">                    <span class="comment">//判断要使用的跳转方式</span></span><br><span class="line">                    <span class="keyword">if</span>(view.getDispathAction().equals(DispatchActionConstant.FORWARD))&#123;</span><br><span class="line">                        <span class="comment">//使用服务器端跳转方式</span></span><br><span class="line">                        request.getRequestDispatcher(view.getUrl()).forward(request, response);</span><br><span class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(view.getDispathAction().equals(DispatchActionConstant.REDIRECT))&#123;</span><br><span class="line">                        <span class="comment">//使用客户端跳转方式</span></span><br><span class="line">                        response.sendRedirect(request.getContextPath()+view.getUrl());</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        request.getRequestDispatcher(view.getUrl()).forward(request, response);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalArgumentException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 重写了Servlet的init方法后一定要记得调用父类的init方法，</span></span><br><span class="line"><span class="comment">         * 否则在service/doGet/doPost方法中使用getServletContext()方法获取ServletContext对象时</span></span><br><span class="line"><span class="comment">         * 就会出现java.lang.NullPointerException异常</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">super</span>.init(config); </span><br><span class="line">        System.out.println(<span class="string">"---初始化开始---"</span>);</span><br><span class="line">        <span class="comment">//获取web.xml中配置的要扫描的包</span></span><br><span class="line">        String basePackage = config.getInitParameter(<span class="string">"basePackage"</span>);</span><br><span class="line">        <span class="comment">//如果配置了多个包，例如：&lt;param-value&gt;me.gacl.web.controller,me.gacl.web.UI&lt;/param-value&gt;</span></span><br><span class="line">        <span class="keyword">if</span> (basePackage.indexOf(<span class="string">","</span>)&gt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//按逗号进行分隔</span></span><br><span class="line">            String[] packageNameArr = basePackage.split(<span class="string">","</span>);</span><br><span class="line">            <span class="keyword">for</span> (String packageName : packageNameArr) &#123;</span><br><span class="line">                initRequestMapingMap(packageName);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            initRequestMapingMap(basePackage);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"----初始化结束---"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Method</span>: initRequestMapingMap</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>:添加使用了Controller注解的Class到RequestMapingMap中</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> packageName</span></span><br><span class="line"><span class="comment">    */</span> </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initRequestMapingMap</span><span class="params">(String packageName)</span></span>&#123;</span><br><span class="line">        Set&lt;Class&lt;?&gt;&gt; setClasses =  ScanClassUtil.getClasses(packageName);</span><br><span class="line">        <span class="keyword">for</span> (Class&lt;?&gt; clazz :setClasses) &#123;</span><br><span class="line">            <span class="keyword">if</span> (clazz.isAnnotationPresent(Controller.class)) &#123;</span><br><span class="line">                Method [] methods = BeanUtils.findDeclaredMethods(clazz);</span><br><span class="line">                <span class="keyword">for</span>(Method m:methods)&#123;<span class="comment">//循环方法，找匹配的方法进行执行</span></span><br><span class="line">                    <span class="keyword">if</span>(m.isAnnotationPresent(RequestMapping.class))&#123;</span><br><span class="line">                        String anoPath = m.getAnnotation(RequestMapping.class).value();</span><br><span class="line">                        <span class="keyword">if</span>(anoPath!=<span class="keyword">null</span> &amp;&amp; !<span class="string">""</span>.equals(anoPath.trim()))&#123;</span><br><span class="line">                            <span class="keyword">if</span> (RequestMapingMap.getRequesetMap().containsKey(anoPath)) &#123;</span><br><span class="line">                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"RequestMapping映射的地址不允许重复！"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                            RequestMapingMap.put(anoPath, clazz);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>简单说一下AnnotationHandleServlet的实现思路</p><ol><li>AnnotationHandleServlet初始化(init)时扫描指定的包下面使用了Controller注解的类，如下图所示：</li></ol><div align="center"><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApwAAAChCAIAAADlUvioAAAeRklEQVR4nO2dZ1fbyAKG9Z9NCYEkJJubkL5LCsnGBQMGQu8YCFXGuIKxTScYm96TEEpovh8EXkdlNJJcwLzPeQ9HGo1mRmPQIxlhmCgAAAAAMgIm3QMAAAAAQGKA1AEAAIAMAVIHAADFfLYGi2o9CHIdYuieiH1nQuoAAKCYolqPTs8+qHQhSHqj07Mv6r2x70xIHQAAFFNU63lQ6eoO7iFIenOvwgWpAwCAJiB15JoEUgcAAK1wUu8K7tGEYRjKmoqaUtQsfeUEjjaxx3sNh3cdJhBSBwAArVxKPbAXH4ZheCVS5Yw0oi2INiXaLOW+GqsRxi96RErrqz7GdEXqdUnBaCF1AADQiqjUhSd0emNJyY9GHlKNq5MoTTXygSu1oKI611PqvJcjlUOF1AEAQCuc1K2BXV4YhqEs5JXHlkULpXbhkG2cEF411a1RdqeoQR6i5TQdUdZMVFLZlzWwe6/CCakDAIAmpKSu6CwvJS3hjqKGI1xAJNboNA0qMhmljGWPi77T5IlW9F0NqSuSZARSBwAArRTVeh5YXFb/rlRI5/e4OsJlqQo0W6UKacLtKDVa2WZp+pU3n3SDseGpO1jV06JuDlPWo9UPqQMAgGY4qXf6d7nEmylWKJr4CqLLUhVES0TVSN4qVVOqfamRSA2MUJN8jFJdxx8LeTYopz1JER5ICjrthNQBAEA7PKkTVBS/QFYyQXi8EnW2oNlLu9QJlTVKnXJ+6PUven0j9boQygmjSoHXIXUAANAKpdQ7iRomm4DgIVHHiMpMVmzkOuqkLnu8slczokcnOyqCTWU1L9smoVz7tGsJpA4AAFrhpN4xvsMLwzCyy5SVhbtw/iC0SS4RHYNoF/FQ7qtoMKKj4tUnrJLboRye8Hhla8rOntKaCQmkDgAAWqGROsFYwq3xahFKnbdJqk1ZqYsKm6aFayV1qaNTNDzC7lJTJHoFQA95AlUHUgcAAK3ISp18chctkZUQwT1S5pDylmr5KdqRcnJEW6CZEPqjI88M5YTTl8sOJoGOh9QBAEArnNTbx3d4YRgm9pWmkHJVtFxYh1wi1SZNv7JbFTUuOioVE0KoI7u7VAWl5Spmm5O67HRRBlIHAACtXErdt8PL5fn6zxLRZeGOvGXRyuTWRLuOFRJ6pxkh/fhl64gehXDwPGg6FVYmNCLahVR9dYPRMl2UgdQBAEArBKmrO9GThdcuZnqhkwj7EpDyIk1lRZYit0yeOvJUpDeEmZGa4QT2DqkDAIBWimo99y2uNt+2VLizuWi5VH3RrfElvK2EylK9JC80PZLrKBpz6g9QahiUB568AUPqAACgFVmpI0hqAqkDAIBWLqU+to0g6Q2kDgAAWuGk3jq2jSDpTQGkDgAAGlEqdYZh6DcRKiuqoyLqBnNrIzs5KZg9SB0AALRyJfUtyjAMQ7+JUJmyjuxz5vFoH8wtiehUyL4Q5NdF+6ggdQAA0Aon9ZbRLcowDCMsoYG+QaUDoKyjtKPMjqLZkHodY6sJmVtIHQAAtCKUOtnHivSsWsBa6kuNn3xQNNcfqYnUMBI7PK4dyoswKXlD6gAAcL2QvVMnnP1Fa5JLpNpXpCJFdWLjl6pDf9WSykgNQ+PwFF2T8coJEwupAwDAtYCTevPollQYhiGs8jYJIbQs2yC5ZaleRFcJdegPkCYad5dtR3v7ilqOzR5vtgkTqDqQOgAAaOVS6t6t+DAMw1sQbhJGUeX4OiKSphiP1CCFq5QNJiSJalCqHe3tq2iZ2xT/NeHH2+zdKiiH1AEAQBtFtZ77Fmezd5MXhmFiX0UXpHYhl9DsRagTX1lqSFKrNPsK+427zvivJH6TaGVefZpdKKdFtFxpv0pfrPhvBt7U0bx8lIHUAQBAK5zUm7ybwjAMI1zlFfIqCJGqLNULuY5o48JxSo1BuAv5cAhjkK0mHBK5a5p2RMsJO5JnifCqkaeUUKglkDoAAGglsVKXLaHZi1CHbGgayZH3pWlHhYxpCrVIXfYiRsV4hJuEXylfPspA6gAAoBUpqUsp/EZLXXZfmnauodQVvSJSN9aKpK7o5aMMpA4AAFopqvXcr3A2ejZ5YRiGtyC1So+wF2GD5DqiDcqOkNypVH2l5ZTdUe5IP12ECVQ05+R2eNNO//rSB1IHAACtiEqdxnmJilKpkwspByx1gFpkT9kd5Y6qpU44BBWDjN8U/1XRy0cZSB0AALRyJfWNWBiGiV/lhbBVuInclIo68ZVFC7lVwR2kTKdSNYWNkFfjC0UHI9s+YRdCU4RxSvVL/0Lw5lnYtezLRxlIHQAAtFJU67lX4WzwbMiGYZjYV6mtsuWMEuj3IvdIeQi3J7F5oJlV+unVGEgdAAC0cil19wZNGIZRVE6zVUu/KtrXPphbFd50Xco+OfMJqQMAgFYUSR1BkhdIHQAAtMJJvd69gSDpTT6kDgAAGoHUkWsSSB0AALRyKXXXOjkMw/AWCHVoIqysaHck85Jf7oDUAQBAE5zU61zr8WEYRqpEuEm0jhD6LmRD0z5y4wKpAwCAVorEpF4nUKys1JVqlVLqovIWDgZSz4BA6gAAoJUiOalL/RGzaGX6CJsiNxK/FVLPyEDqAACglaJaz70KZ61znRyGYXgLNJsUNcgJXrZ+rCYP+q6R6xlIHQAAtKJd6sI69K0JW5ZqhLCLoq6RaxtIHQAAtHIl9TUuf977rsWX8xZ4ia8ghbCyaMuiXajYBblZgdQBAEArnNRrnGu8MAxTQzQ0VyFWOX6V14hUy7w6vAZ5jcd3Sh4MckMDqQMAgFYupe5Y44VhGNFVXnmsRFhOqCy6l9SyVIlUIXJDA6kDAIBWNEqdIHupwvhNZJHLNgWpZ1IgdQAA0EpRraegwvnFscYLwzCyy1L1ZSuLbqWvLPr2O2Ff5EYEUgcAAK3cRKlT7oLcrEDqAACglUupj6zywjAMb0F0lVwuVTm2Kb4CoTK39fKOnK595MYlvwxSBwAAbXBSrx5ZjQ/DMLGvlBGtLNVCfDmnakKzhAqKRohc80DqAACgFaHUhcaVQmqvauJlgVShVPvClmnGg9y4QOoAAKAV0Tt1FRE6VdG9O4JA6gAAoJWiWk9BubPKvoog6Q2kDgAAWrmS+gqCpDeQOgAAaAVSR65JIHUAANAKJ/VK+wqCpDd3IXUAANDIpdSHVxAkvYHUAQBAK5A6ck0CqQMAgFY4qVuGVxAkvYHUAQBAK0W1Hp2evVvmSGqyDTadntXp2TvmEa6ksMrzunXC2B+qGF62pDe2ZWP/4nvr7MvmwKNqb0G5M9mzgYhGp2chdQAA0IShe+JFvTcZ4S4XeLlTan/dPKHvXaiwLVvSlHJ26XPPQnHbVFH9+H2LO8c4HBtetsH2oMKRpAlBZGPsmYx9Z0LqAACQfn4e/nbNrpf1TuWXjXCmzC21/69m7G3HdOlgpMK2nPqUDoY/dM29apl4XDNWUO7UGf67yLhbNvKhzd848s01s768vX96dp7u+QOXQOoAAJAezi8uwps/rd7wm6axmC/vVzhfNgU/9Xwrty2lUuHl7NLn3tDbjplnDYHCKs+dUnv8WwVPvrhNPZPdo+Hg4vbu/vFFuqcOSAGpAwBASjk4Ph2d36wcmLlf4eCUmWOy//VltLh92jQQTpnFzYORT93zb1onn9T67lW4sq5+f6/Ts7mm4b+bxmrYOdvE6sL6j6OTs3TPGaAFUgcAgKRzEY2ubP/66ou8bR3Punofu6Dc+azBX9I9Xza0XM4mN2XssqE/9L5z5kVT4FG1N8/siL8Rf2Bx/GsNtrlCo/Ob63sH5+e4Fb+pQOoAAJAsjk/OAovbNezcw0rn5TNlxuGH1d6/WycN/aFydil5KRuK/Pt1/u+2qaf14w8s7hzTf8+1ZRnY53Xeiv7pvvGl6aXdn4e/0z1PIGFA6gAAkEguotH1vYMB/3JJRyDHePmedn6Zo6h+/IN1rmwokiSLm/oXP1jnXjVPPK4ZzS93ZOn/ezs9z2x/1zreYJ93TK9FtvZP8Fxb5gKpAwBAAjg5PZ+M7DbY5//3xX11U27j/qz8c2+ojF1KbMxs5PPXheL2mWeNfuFzbY+rXcaeSas3HFjc3v55dIF3028NkDoAAKhn5+eRbWL1szWYe/X+dp555Gmd713HTOlguGxoKVEpHQiXdM29aZl8Uue7V+HKjnuuLcdoe904Vj00OxRcmV/7fnh8mu5ZAWkDUgcAAGWcnV/Mruy1OBae1Xmufktte1DpftUc/LdnwZwIhZuHlgx9oXcdMy+agn9Vj969+uN1LvcqHB87Ai3OBc/cxtruwRmeawNXQOoAAEDF94Pfjuk1U8/kXbP96oPeRh7XjhV3TJsGwuahJS0pHVz61P3t77app3WC59r0bFGtp6x3qte3NBnZ/XHwGw4HUkDqAAAgyfn5RWj9R7s79KphNKbYexWuF02Bjz3z5sGIeUhljAPcB6cHH9eM5pc74/9MPK/UXtziqx+et0+thTd//j7Fn4kDWiB1AADgs3904pnbKO+bLii/+tBW0/BfX0b/aZsy9IXMgxHFGYh8/vqtuG36eQP3XNsfb6c/qnIZuic6PYvjC1tbPw7xXBtQDaQOAADRaDR6cRGNbO13j4b/afZl6f/4fJgPXXOmwXDpYIQ+xoHFD11zr1ouP68tO+7fn+QYba8aRqsGZgYDy3Mrewd4rg0kjvRL/eTsfHX3V3Bxmw2utLlCVYMzhu6Jd23jrxvHXtR7n9V5ntV5XtR7XzeOvWsbN3RPVA3OtLlCbHAluLi9uvsL/0gg9Qj/hRSCJC/J/n4+/H3qW9iqGpx5YLn60Fbj8KPq0Tetk/reEKXCTYMRfW/obcfMi8bgo2rv3TJHVtwhFJSPlLT7mx0L7tmNlZ1feK4NJI80SP3k9Hx+9ftXX8T8depJjTtL8DOcbbDlmUcKyh33La4HFtcDi+u+xVVQ7sgzj8T/FQeXLD37pMZt/jrV61uaX/1+cgrHJ520n+WRW5VkfA9fRKOru7/6xpfet/ljZxXu82HeWWdNAxQWH4h87Jl/0zrJfV5brumPPxN/WuM29071jEUmwjt7v/DvT0DqSJHUL6LR5e39nrHIu9bx2EcsZRuHH1V5XjUFSrpmSwcWv4ysNHo32sd3rMG9LolYg3vt4zuN3o3qkRXzwGJJ1+zLpsDDak/sra0co+19m/+rL7Ky8ws/SEmCm+quwB6CJDUJl/rxyVkwvFNrm3tU5bo8CxlshVWeV80Tn74umAYihOj7Ft9ZZ182TfxVM1ZQ7syK+z+kd0zD/zT7am1zw5OrofUfx/j3JyB9JF3qa7sHba7Q42r31bXwyKumgKH3W71zzerfTdQPv9W/W+dc0/d+e9Hozy+7fA/tfzXudndofe8g2cd42+Cm1xrYRZCkJlFS3/x+OBRc+dT534e23jWPPKn1FXdMG/oXTQNhkfSHP/V8+6dt+lmD/2GVJ8/8x414YaXzszXY7g6Nfdva/H54jgfbwLUhWVI/O7/wzG0Ut/i4n4FHVZ6Srtk651pn8k8EnYHdOtdqSddMYdXl50K8bR0fnd/E77ESxaXU/bsIktRokfrp2fn00m7jyLenNZd3FFkG232L+2VT4GP3vFFgcUP/4gfr3OuWiSd1Y/cqXDlxz7VlG2wv6r2W/ul+//LM8t7+4Ulif6AASCCJl/rJ6flgYLmw0sndl7/vnK53rXf6d9OSetf6u/Zp7t79YZWLDa7gwTrtcGe6dL2myO2JCqnv7h8PT64auifulF5amft8mH/ap/R9IeNAOJZ/exeKO6afNwYefRnNL3Po4t5Ov1s28r7N3zjyzTmzvry9j5MGuEEkUurnFxfOmfVCi1OnZx9Wu039oXbfdsf4TtrT5ts29S8UVno4tbtm1/FumRa4E1/aX1Yk40Mp9bPzi/nV763O0It67+VNud52z+J63hD40DVn6A8b+8PGvsWS7vk3rVNP68bvW9x34j6vTadn//fFbeqZ7BoNBxe3d/aPcHoAN5eESX15e/9N05hOzxZWussGw+3pPh0I0z6+Uza4WGhx6/TsP82+1d1fiTr22wakjqQmZKn/OPjtmlk3907lxz601WT/q3r077apz19D+t7Qu47Zl00Tf30ZLfjz89pyTcN/N419GZq1TawurP04+o0/EweZQwKkfn5+0T0ayTbY7pTa9V+/tfm223071zZtvu1/e+bvmOzZRluvbwlPuKiAOzOm/aVEMj5CqZ9fXCxu/Oz0LL5uHLu6KWcLyp1F9f43rZN/t00VNYwXVnnyzH98Xtt9i+NTZ6DNFRqd31zfOzjH4zUgc9Eq9V9HJx87Ajo9+7TO1+DeaPNt34g0uNef1o3p9OxnaxD/plAp3Iky7S8ikvGJSf3g+HR0ftPSP33v6kNbsw22PLPjnsX1sNrLe64ty8A+r/NW9E/3jS9NL+3+PPyd7p8YAFKHJqlv/zh6UuPOMthKumdbxrZbb1RaxrY/WGezDGxRnWd3/zhRE3obuJT62DaCJC+tY5dSL27xxf9RuDB5Zvu71vEG+7xjei2yuX+C59rALUa91Ld+HBZanLmm4bKhcNoNrTrmwcUco+1RtWvn51ECpzWz4c6kaX/tkIxMo3fT2L/wotFPsPjjapexe8LqDftD29s/j/A7NABiqJT6z8OTx9XuXNNwBRtpGd260SkfiuQYbU9q3L+O8OenVHAn1rS/cEjGpHl0q4KNPK31SVn8deNY9dDsUHBlfu07fl8GAAE1Uj8/v3jf5s8y2MyDi82jWxkQU/9ilp792BHAc3M0QOpIQtLk2SztD71qDgotnl/ueNM6wS3jY6MAoEeN1Ht9Szo9+65jutm7mTF52z6p07MDgeWET3HmwZ1qm71bCKIi1SOrJdbZ/9WMZhtt3OPr3HfUw2qP4etCrWOt6apmoj4mFoDbg2Kp7+0f55qGH1a5mzybTd7MSaNn40Gl+06p/ccBnpWVgTvVpv0lQ25iGtwbuSZ7YZX7ZZO/pGu2bChS716XqgypA6AUxVKvs83p9GzZYKTRs5lhKR1Y1OnZppFvyZjoTOJS6p5NBFGRRuqakDoASlEm9eOTszulw4+qvA3ujYxMYaX7rtmOf8oeQ/SsyhWm/SIMyfhA6gAoRZnUx75t6fRsSddc2u2bpHywzuj0bGBxO0nTfeOIf3aJV9jg2UCQpAZSB0ApyqRePzyv07OVw8v1rvWMjIVdwjvw8QgfS44V0lwkMQyT9gs1mkFqHCdzhehqQgamok3mT5Ixacl+fSF1AJSiTOof2vy5Jnudaz1TU+tazzbaPnUGomI+Q+JT796QDcMwNNXSG05O2htJxoGrbjZJ4yH3kvBA6gAoRZnUX9R7C8qdtc71DE6+2fG6cSwKqcuF5iKJ82XyLsKUNp68wfBaTlRHqptN0nhSPP+QOgBKUSF1R61zLYMTkzqIEq9sKM/gkHpamk3qtKds/iF1AJSi8O33dn+uyf7FsVaTofniWMs2XL79DqICqccXyr7nwTBM7GusJFYYWyaUx2/llfN+Yay6vmgLUu0Qxikcg7p2CIcg7EVFZcJ4hEMiVFM6HuZPKN82g9QBUIqaB+XKh5a+ONYyMuahsA4PysXB03l8YY1zjRyGYXgL3DJvVbZctE3RVRX1lbZDHn886tohLKs7XvoJER12auZfKpA6AEpRJnXfwpZOz77tmK4eWc3IFLdN6fRsEH/SdoXoKfVS6nJve/xhuLhCXh115aKr5K7J9ckl2sfJG0+ijlfkYoJ4dIT6spMjO0uy45HqQiqQOgBKUfzhM3ml9sJKd9rtm4xUjazet7julo3gw2fIcKda8nseDMPILsevKi0XXaXvjrBLwscpupyo45U6IqlqhPqyk0PTO3k8lKONBVIHQCmKPya2wT6v07Ofv36rsq9kWD71zOv0bItjIRkTnUlwp1ryFRLDMKKriSoXXVVRX2k76SqnHKfS8dM3JbqVfjw0W4WB1AFQimKpf/91nFs6fL/CZRlerhxeyZhYbMsFFc48s/3nIf6hiwyQelKPK76O6uPV0i/N/CR2/qUCqQOgFDX/erXfv6TTs69agpbhlYzJy6agTs8OBVcSPsWZB3eqrbKvSiX2+1TeqtJyYTWpvkR7F92LVyJbk3JgiqqR68cPkrdAOU7VxyWsHKsg9RJTjofwehECqQOgFDVSP7+4KGn36wxsSdecxbacAfnQOZOlZz91Bi4uEj7DGQh3qq20ryBIUgOpA6AUNVKPRqP7Ryf/++LONto+9sxX2JZvdEq657MNtqe1noPj08RObqZyKfV0/8YEyfhA6gAoRaXUo9Hozs+jR1WubKPtvXWunF2+oXnXOZttsD2udu/tHydwWjMb7lRrGV5GkKQGUgdAKeqlHo1Gd/ePi2o9OgP7qnmijF0qv1kZWnrZFMzSs8/rvN9/wegK4E61aX+LBcn4QOoAKEWT1KPR6OHx6WdrUKdnH1Z5DH2LZUNLNyKGvlBhlVunZ43dE0e/8a67MiB1JDWB1AFQilapR6PRi4tov38px2jLMdlft0yUDobNQ5Frm9LB8KuWYI5xOMdoGwqu4Mk4FXCn2vS/14JkeiB1AJSSAKlzrO0e/NPi0+nZ/HJHcfu0aTBSet0yEClun84vc+j07NvW8Y29w0Qd+20DUkdSE0gdAKUkTOrRaPTiIuqe23hU6dLp2YJy55vWSdNAOP0uH4yYBsJvWqcKyh06Pfu4yu2d38T9uRa4U23af4eCZHwgdQCUkkipc5yenQ9Prv5V5dLp2dxS+9O68Y/d86aBcFrysXv+ab0vt9Su07OPq932qbXTM3yuu1a4U23af5OCZHwgdQCUknipc5yfX/gWtt63+7kfy/wy57N6/3vrnLE/nIK875wrahjPL3dwvX/sCPhD2+f4/XmC4GY17W/AIBkfSB0ApSRL6jG2fhx2ecNFdR7u5/OOyf6w2vuyKfiuc1bfFzL0LyYk+r7QO+vsi6bAw2pvjmmY6+t5nbd7NLz94yjZx3jbgNSR1ARSB0ApSZd6jPW9g37/8seOQEy6WQbb3TLHwyrv07rxV80Txe3TH6xz/35d0PeFDH2LotH3hf79uvDBOlfcPv2qeeJp3fjDKm9+mSNLb+PazDUNf+oMDASWN7/jObhkwU11un6lgtyeQOoAKCV1Uo9xenYeWv8x4F+u6J9+XufNNl76OJYsPZtjtOWa7HmlI3nmkTzzSF7pSK7JnmO0Zf1ZU6dns42253VeS//0QGB5ceMnfmWeAiB1JDWB1AFQShqkzuPs/GLz++HU0u7w5KrVu1hrmzP3Tn3sCBS3+F43jr2sH31ZP/q6cay4xfexI2Dunaq1zVm9YfvU2tTS7ub3w7Nz/KY81XCn2tQ8HoHc5kDqACgl/VIHNw7uVJuo5yEQRCqQOgBKgdSBYi6lLvHcA4IkKpA6AEqB1IFiuFOtvm8RQZIaSB0ApUDqQDE6weOKCJK8pPv7HYCbBKQOFJP2szxyq5Lu73cAbhKQOgAAAJAhQOoAAABAhgCpAwAAABkCpA4AAABkCJA6AAAAkCFA6gAAAECGAKkDAAAAGQKkDgAAAGQIklJnmOvi+9SMRF0vqsd2faYXAABAxkBSC1k8jBzk+qItqBgGoX2pQnXHm6hdNO4IAAAASPGfWmQlzfMiT0vkVV5JTOrkXQijEq0pXCYMmOaQpWqSx0yoL7sjAAAAoBp5P0numXypixqR4FHhsqzURZui2apiMEobBwAAABRxLaROdnz8AmGQojfH5DtmLVKXvbMXHix5FwAAAEAjtG+ni1YgI9ydt1XKgiKjVO4/RnBNQKijYquwDs2yosYBAAAARZDeEidrXtGqaMuU1ozXM70Laa4YKK9LyJtke4TUAQAApAbS76FTIHXCzT3BnaI1KSEPkoCsm4WDFO1URdcAAAAADbQPl5ElLbsq2mz8V94CTWtSvhS2LEVSpS5clqoAAAAAJARaDxG0SnNPLKwflZY6TReSx/PnVtnKUptoKhOuPBQJHgAAAEgIVL8Glr1JpdmFfKdOlhzleAg37oRDoLl0EJUxpA4AAOBacQOkTnOLTONIGk+TB0zekUbq5EIAAABAC/I3jjTOk12NSkud3LtsU/GFwptsqTtvmt6lGpG6CuEdoFS/5E4BAAAA1Si4WyWXK3I8/Z06vREVvVsueyctW5/mqkXpIQAAAABa4N8xyxKryW/oz03k2+LYV7L8CJcCIkdCLXVhs+SDpemLXtJK6wMAAACUqFGLrJAo79rpb3Zpupa6+JCVtPZypYaG0QEAACQD2AUAAADIECB1AAAAIEOA1AEAAIAMAVIHAAAAMgRIHQAAAMgQ/g80XBaGYls6CwAAAABJRU5ErkJggg=="><br></div><ol><li>遍历类中的方法，找到类中使用了RequestMapping注解标注的那些方法，获取RequestMapping注解的value属性值，value属性值指明了该方法的访问路径，以RequestMapping注解的value属性值作为key，Class类作为value将存储到一个静态Map集合中。如下图所示：</li></ol><div align="center"><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmEAAADACAIAAADDSCN+AAAWwUlEQVR4nO3deX/URp7H8X5cfkD9BBo22RyTTNi8sq/NsZ3ZmZ3NRoSQQPAmAUImNGFyI1/YweaG2AZz32DA2Bgfrf2jbVktVZV+uqXuz/vFH7S6uqqksuurq+WaAwAAVGpFdwAAgJIiIwEAUCMjAQBQIyMBAFAjIwEAUCMjAQBQIyMBAFAjI4GSadVrXgPNGf+ieqvoPvaVrq0/0JzxL4s0HN1DuVEbyouMBEpoYyb1zL4zzQEm1cJsbH1vGnYWxR6PzggznKVHRgIlFMjIzgIOIIsS3Glp1RNlHBlZEWQkUELdU3LCQxakwJ9pM82BRENCRlYEGQmUkDcjScgy8J3rThqR5oxs1VUndjmLUAQyEiihrYwUnGTdmL4195Ao7vfhvpEYui5Jdl4ER8U/FPqNq8lITwUbtW8NVqA5X2sMZBbISKCENjOyXg+b/XwXyjZn1O75VHHDDxc4o/KGZOBAz3GC1yyD1zADhZUDG/ic4o6hQAXGxhAfGQmUkO/gTzf3qSbPlipWAwUT3nHSl7ZSSRmRgR0R463ICTNSsYvDXk8myEighDYzcqDZ2jifpppNlccXopAkIuPYzLWmKiJd/vOtWWRkYB8qpDXERkYCJeSdJtWnTx3FxS/joaf3MIOIjGXzwHBAc7+O79JhhseRnFnNDRkJlFDXHDijOZTcXC6cKd2Q1N1wgjBbeyXBcAuORvYZyW5O9shIoISi3Ikjnik3QrJJRMa2dQ48sMkjPhrJkJHqi8eq65Hdn2/VSc30kZFACWmes+ObArVnYTWCXyxARPqTnP7jSPfEq/rUrOn7kV2D3XVGPXBDkO85Ewxr6shIoIS0ByXds6D6bKv+++3+iRVRGaPI/73TluLUrPpuG/9oeUtt1KM/dNVVgjSQkUAJKQ5X1PkWWGp+Ko/6TlgAGmQkUDKqowPjE1VkXzbwFCUiASEyEugfiZ8yCvQZMhLode4JVr4WCURERgK9znsultOsQBRkJAAAamQkAABqZCQAAGpkJAAAamQkAABqZCQAAGpkJAAAamQkAABqZCQAAGpkJAAAamQkAABqZCQAAGpkJAAAamQkAABqZCQAAGpkJAAAamQkAABqZCQAAGpkJJC+ldX1K3efjk/f+WHq2rdjl3+fuVt0j4De92TxxcHRS62JK/bZm+euPpx/ttxOXCcZCaTm3uOlf05e+8u3J7fvHGpYtvtv329/FN01oPfdfrTo/b1rWPZbXxwf/G363NWHa+sx45KMBJJqt53Tcw/++t2pzq/lG3vGdv904edT189efXjjwcKjheWlF6tF9xHofWvr7cfPlu/OL83eenz8jzsHRmY/ODjl/la2Jq48XVqJWicZCSQyfXP+vQOTDct+dffI/uHZuTtP2snP7wBIydOlF0PnbnXC8uVPh4/8fmV5ZU3+cTISiGlpeXXvLxcblv3656O/nL4R6RcPQJ7ajnP59pO/Hz7dsOx/Gxyfvjkv/CAZCcRx9d7THfvGG5a9f3iWU6lAJbQd5+yVB299cbxh2Ycn5tYF53zISCCyU5fvv7Rr+M29Y/K9UQAlsbS8uvunCw3L3vnPcyur6+bCZCQQzcTM3W2W/f7ByceLL4ruC4A42o7z48lrDcv+23enX6yarpKQkUAEp+bub9tp/+Xbk885vwpU3NjF2w3L/ujIGcM3Q8hIQOr6/YWXdg2/d2CSgAR6w7GzNxuW/fXQjK4AGQmIPH+x+vbgxBt7x+afLRfdFwCp+XpopmHZuodhkZGAyP8dm25Y9h83uEkH6Cmra+vvH5x8dfeI8g4DMhIId/nOk4Zlf6U/IQOgum4+fLZ959BnP10IvkVGAiHajvPhoZOvfTa6uMxlSKA3HRiZbVj2lbtPfcvJSCDExeuPGpb9w9S1ojsCICtPl1Ze3jX88fdnfcvJSCDEx9+fffnT4SUOIoGetn94tmHZd+eXvAvJSMDk8bPlbZY9eGy66I4AyNatR88alv3d+Jx3IRkJmHS+PsUz54B+8O7+E28PTngfKEBGAiYfHTnzyu6R2H+gFUCFHJ6Y851uJSMBrfV2+5XdI/8buIwPoCd1btAbvXDbXUJGAlr3Hi81LPvI71eK7giAPCwur/oeTUdGAlpnrz40PKQKQO/5056x/z582n1JRgJaw+dvNSx79tbjojsCICcfHJx658sJ9yUZCWh1/sLczYfPiu4IgJz8vXXm9c9H3ZdkJKB19MTVhmXfmV8suiMAcvLx92df2T3iviQjAa1ORvqeuwGgh1lHz/3rp2QkINCrGVmr8YsPqJGRgFS6GVnblFZVsT+bsAZz5W61Ka5v/tLtfNSqat1S6UOw8hSrSlJb2X5OyEhAKovjyJJkZFo9MdSfaSs5SLHnkcYrnw2YvNp0+1menxMyEpAqbUam0joZaVZUz8uZkcHyZCTQ78jIhE1k10oOSpKRJWmFjATgl1tG6q7rKK9LGUrq3lU2bSiva9RQv2EV5OtbKoa+ZT1euqbNlev+r2xFPi7KlQp+ULnc0ISkhkjbWdjVUGQkIJVPRurmR/OMplwS6SO68ob+6Oo3tCtf37IR5kFG46UMBt1LXxyGlpf0MNIwCQcxlZ+TqMujIiMBqcplpPylpLxvfzze3KTLhuT7+1nLISNDmwsGoXK7hXZVntm6cTEMU4yAlL8b+nMYtRuhyEhAqtiMdKKcODXXE6Pd4P9TzEinCqJmpJPqeAWXx0ipqBmpq1/SRKgY9Rt+JnVBbhgCITISkCrPcWSSenRVRc08MlK5PPXxilG/uavxMlvybqShTPHnOcnyUGQkIFWe48gYxwG5ZaSvTJLj11KJtx2Sj1eS7R+6FjH6E7W84TDO0OdMt08kZCQgldFzdpRBElxunoN85Q0vdQEp+XiQsrzjmRl9/5Gvb6kY1t3Jfrzk281QWNmrqPUH3zVsImUxXetR+xO6fUI3hRAZCUgV+7zW4HyRSj3ISFrjhWKRkYBU4c80T2W/GLlhvHoAGQlIFZ6RAHJGRgJSZCTQb8hIQIqMBPoNGQlIkZFAvyEjASkyEug3ZCQgRUbGw12dqC4yEpDKOSOTfGcg3a8cJOxJwhrMldc0X8PPoqGitmdaX4c3V55iVUlqK9u3ZchIQKpCGemkevSWPCPT7Y+y/kxbSbfmSNsznxVMXm26/SQjgeqp1rnWMswy3j6Qkam0W5KMDJYnI4F+R0Ym6QMZWeZ2yUgdMhKQSj0jDddvlMuV5d2XvrcMs4yu3Vq30J7o3lV2wFBe16ihfsMqyNc3kgK3p65pc+W6/ytbkW835UoFP6hcbmhCUkOk7SzsaigyEpBK/e9+GF4GFxrKe+c+c4WGesyfVS6J9BFdeUN/dPULN4uwgFCx21MZDLqX3sKh21nYw0ibUbiRUxnHqMujIiMBqYz+fqRhP1c3k+p2pc2fVS5PMqfLX0rK+9Yr3txn3mK67SxR7PZU1qlbr9CuyjPb8POmbML8lryYYRXMPydRuxGKjASksjjXqvy/bqGhfPKMdDwTUOinzPVELa/8f4oZ6aSh2O0ZXB4jpaJmpK5+SROhYtRv+JnRBblhCITISECqtOdanbSPI0M/Ze5PpLxPa7mwn7EVtT1j1G/uarzMlrwbaVOn+POWZHkoMhKQKm1GKufNGBlj2O8uT0b6ykTNyNhzZVHbM8n2CV2LGP2JWt5wGCffBTTXH2l5VGQkIJXpfa2SmVRZPvh/ZcnQuds8x/nKG14qJyPhx3V91q2CYZV12001DuEMfdPVH+yDsqrQ7RNpvQyFlb2KWn/wXcMmUhbTtR61P6HbJ3RTCJGRgFQ+34+s6efZ3NpN0nSefS6ztLYnikVGAlK5ZWTynd/KNd2T2J49gIwEpKr1nB0AyZGRgBQZCfQbMhKQIiOBfkNGAlJkJNBvyEhAiowE+g0ZCUiRkUC/ISMBKTIS6DdkJCBFRgL9howEpMhIoN+QkYAUGQn0GzISkCIjgX5DRgJSZCTQb8hIQIqMBPqNISNnnIGaU6s5tQFnxl3WdGq1jX+tzDpV727UcZxWfavdWs1ptfwF0tHaqL+e3bolVvdtB89AeEcn0wGKJDiavn4ONEPKh1aYFzIS6Dfm48jNmGxuTkjNgVwCsrv+TqPuTFrPLgNKnpGbw9HZFO5+Q3NGXawMKxEczU633dHc+Imqe0p0+m9IwdACMTUsu2HZhgJkJNBvZBnpZkaG+eSpv6vylv9Y1tmcZ/19aKkCo4fo4sR3HFaejFSMZrDDgf2wrYV5x2QnIw1JSUYC/UaWkRuTmnv2NYv5VzeztwLBoNEJzp7NSGWWGEsWmZHm0fTGpG69Qtci/dX0ZqQyKclIoN/IMrITUTNNpzaQzfxrOCwQZoM8Qqpp4xqe5Mip8IwUjGZ4RjqOozwSDS8QjLqE/9yayUig34RmpCcUW3VnoK6Yf92LlMGLee7pwa6bbnyzp/DEmm4m9bzr/Re8htrpm/flVm2trs/6JuWNjww4raZ+LQI3FtU8uxfJbVSeOCMNg7Xx6aZ/FXxlQgpEPAu6sV76rRQ9JlPPSDcpyUig3wgysrl5DrNec5ot//zbmXN9FyyD92i4ZfxzvXhK9U7NymOOTk90x5HeAHPXwp8Q+nRxP945APLdRrTVvc5cv5m4KR7JhWaJpyvatQgdLN+Z7XpwK5kLRAxIRf36YhGPJmPgOBKAjyAjOwdP9aYzUHNagfm3rjpoC2akdx70fWRjYhUeb+lvPRVlpHn6DstIt9FOInoz0hc/5s7EkMpxZOhg+dcrcItNaAH5aAZbj1dMWI8A1yMB+AgycsY9D1nXzr++M3jmjPTFieOob17VMvbBnJEhhywJMrLrODKDK4IpXo80DJbjPeDWtBVaQDiadUGU+nenoheIgvtaAfhIMnJzJhpoKuZfd8LtzFPy40j1ec7gxKr6RodyZiw2I51A9qR895Dm/G09ync/QgcrWIl2RSQXiUMfBWDMyLxOsbr4fiQAH1lGbsVP9/zbdfDkOI4kIw33MSon1uB3PwTHka26f/7NOiNDv3mS/PELW3sqbn+bqkY1ayEdLO/2D4xIaAF/N+J+hTH3gJQgI4F+I8vIre/sKzPSnarcb78NbE2O7qm5Tpm6+W7P4MTa/f0TR3W/jHd5vbXxEV8c5nAc6X1KXDAO3YyM/RAfd2t3QlHZB8NaRBgsd3QCOyihBRQ9UcWkb118ShmQDhm5qVbjwc7oF5LntdYdp/N8VNUXJHxfeKh33//pbB55eL+eoZjWvQITa33zwaQhNXjLeD7uOwWqvlTWCpTRfHtkoNm9yt13eHpnbd1D9RKdgzVuh+C3MnyRLBos47YKLeCniUlDRpY1IJ1UM7K2KXlVbm0x2vW+rHUz1BCsJ6GoVUn6ma7qjlfUJuCT/d/98J+d60nBE8jBg7msnjKK3KR7HJnirBRpjvOVNL80fLyc/c9OOdc3xdhOpZ7ek3FGdh3DpfRt+pJSPcpgKyAj3biLkiptRiZpN9Kc6323nP3Prd3ckJHF4u9HAlJkJBmZPzKyWGQkIJVbRuquMykvQRlKKt+NPedGKpld/4V9SF3lxsvc1eDyhOtlWF5pZCQglU9G6iZBw7ypW6L8SOw5V1gy6/4Le5u6yo2Xuauh9UjWS97P6iIjAanKZWRoPaEvI7UobzdJ/0M7kJFqjVdoP4XvBo8L5T8hvYGMBKSKzUjHeOKx/BnppNR/c+vZqdZ4SVoMfVcX88HgNC+vNDISkCrPcaSkthTnXPlCebuhtZmzx1BVRio0XsIW4/VHWG3PxCQZCUhlmpGSOdGwn154Rpak/9kp5/oq65HklqSeSP0palyyRkYCUlk8Z0c5jeoW+mpQVuVbaH6pa9TQbuH9N7SbnQLX11C/YXnoioTWo1zr0HaV9VQaGQlIFfu8Vt2cm3O7adXTS9OoUr+tb68iIwGpwp9pXvX99Kr3P6p+W9+eREYCUoVnJICckZGAFBkJ9BsyEpAiI4F+Q0YCUmQk0G/ISECKjAT6DRkJSJGRHdylif5BRgJSWTxDIHlVTtjXxg3tSr4bHqwhWE9CUavK/zsV1R2vqE3Ah4wEpEr7N5YjzXE143fbQ+vxztfiDoZ3Ka3+Z6ec65tibKdST+8hIwGp0mZkknYjzbned8vZ/9zazQ0ZWSwyEpAiI8nI/JGRxSIjAancMlJ3nUl5CcpQUvlu7Dk3Usns+i/sQ+oqN17mrgaXJ1wvw/JKIyMBqfL8/UjJHKebamPPucKSWfdf2NvUVW68zF0NrUeyXvJ+VhcZCUhVLiND6wl9GalFebtJ+h/agYxUa7xC+yl8N3hcKP8J6Q1kJCBVbEY6xhOP5c9IJ6X+m1vPTrXGS9Ji6Lu6mA8Gp3l5pZGRgFR5jiMltaU458oXytsNrc2cPYaqMlKh8RK2GK8/wmp7JibJSEAq04yUzImG/fTCM7Ik/c9OOddXWY8ktyT1ROpPUeOSNTISkMriOTvKaVS30FeDsirfQvNLXaOGdgvvv6Hd7BS4vob6DctDVyS0HuVah7arrKfSyEhAqtjnterm3JzbTaueXppGlfptfXsVGQlIFf5M86rvp1e9/1H12/r2JDISkCo8IwHkjIwEpDoZeWd+seiOAMiJdfQsGQmI/DB1rWHZtx+RkUC/+OjImdc+G3VfkpGA1rGzNxuWfeXu06I7AiAnHx46uWNw3H1JRgJaU5fuNSz79NyDojsCICc7Bsc/PHTSfUlGAlrX7i00LPvnU9eL7giAPKysrW/bae/55aK7hIwEtFZW17fvHPL+wgDoYcHdYjISMPng4NSOfePtorsBIAe/nbnRsOzLt5+4S8hIwOTwxBy3tgJ94qMjZ17ZPbK2vrVXTEYCJp1zL9+fuFp0RwBka+H5yvadQ3u7r62QkYBJ23H+4+sTOwbH19uccAV62a+nbzQs++L1R96FZCQQYvj8rYZln7x8v+iOAMjK2np7x+D4v3/1u29nmIwEQqysrr+5d+zd/Sc4lAR61ciF2w3LHp++41tORgLhOoeSw+dvFd0RAOlbXF59Y8/Yu/tPrK/794PJSCDcerv9n99Mvbp75NHCctF9AZCyfb/90bDs2duPg2+RkYDIrUfPXto1/F//OLUW2NMEUF2Ts/caln1gZFb5LhkJSHWuWHxpzxCSQG+4dm/h5V3DHxycWllbVxYgIwGptuPsH55tWPbhiTliEqi6248W/7Rn7M9fHJ/XX0MhI4EI1tvtPb9cbFj2wdFL3OYKVNfVe09f/3z09c9Hbz16ZihGRgLRrK+3B49NNyzbOnpucXm16O4AiGxi+u5Lu4b//MXx0MdMkpFAZG3H+fHktW2W/da+8QvdT+UAUGYLz1c+//liw7Kb30zNPwu/TZ2MBGKauTn/1r7xhmV/8sN5HnoOlNzK2vqvZ2689tnoNsv+ZvTSquYmHR8yEojv+craN6OXtu8c2mbZn/xw/uL1R1ykBMpmfmH56OTVN/eONSz7/YOTc3eehH9mExkJJHX/yfPBY9P/8slQw7Lf2Ds2eGx6YubunfnF4DM7AOSg7TgLz1f+uDF/9MTVDw+dbFh2w7LfOzA5dele1J1YMhJIx8LSyq+nbzQPTXV+IRuWvX3n0FtfHH9v/+TRSf60FpC5B0+ef3Bw6p0vJ17ZPeL+Gr6xZ+yroZnLt5/E22MlI4GULSytnJq735q48umP55uHpt75cuLbsctFdwrofXfnl94enHh3/4n/aZ35emhm6NytGw8WEl79ICMBAFAjIwEAUCMjAQBQIyMBAFAjIwEAUPt/qKmYWkbK7CsAAAAASUVORK5CYII="><br></div><p>当用户请求时(无论是get还是post请求)，会调用封装好的execute方法 ，execute会先获取请求的url，然后解析该URL，根据解析好的URL从Map集合中取出要调用的目标类 ，再遍历目标类中定义的所有方法，找到类中使用了RequestMapping注解的那些方法，判断方法上面的RequestMapping注解的value属性值是否和解析出来的URL路径一致,如果一致，说明了这个就是要调用的目标方法，此时就可以利用java反射机制先实例化目标类对象，然后再通过实例化对象调用要执行的方法处理用户请求。服务器将以下图的方式与客户端进行交互</p><div align="center"><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8gAAADjCAIAAADWs6o9AAAgAElEQVR4nOydeVwTZ/7Hpy26tdrWdd3WHnZpa7dpuwe2e7Dd7kqP35bdtlvaCuKNoIg33ngVLSreCB7hBrnCHUA0gkpEAgnhSMIV7oCKwYtYLQ1tsfn98STjMJlMJgeQZL/v1/flK/PMM888M2G+zydfv/M8mAYAAAAAAAAAAIvBRrsDAAAAAAAAAOAIgLAGAAAAAAAAACsAwhoAAAAAAAAArAAIawAAAAAAAACwAiCsAQAAAAAAAMAKgLAGAAAAAAAAACsAwhoAAAAAAAAArAAIawAAAGuCYWS/ql8yYqc2rw6pJs0ho3ixo4JjXx0AAJYDPgIAAMCaMNGamGEMtcmkPnGTpikzLoR5a7YmPUlXweSem/RDAgAAgAj4CAAAAEuhEb40Mk7/MxOdzVz2YYSQM0NNyfBENBVsUHqaIZQt/1kCAMD/JuAjAACwdZhrQUsat2KDRkv0y4ki2NSmKI81Wlm/3NRfBZS76AuNnouyvoXo3xZM9zOG/hCGtwIAAAAHXAMAADaNvioagbNY2IKhz/qHUGpKQ8caPQXzczGRhvQVKPvGsMM0fWZyLVbBvPZBTwMAQA/4CAAAbBrbFNaU9WnEJU190mfmAl3/ECZXYTRMa8mmjQtry8PPIKwBAKAHfAQAADbNyEgZqwhrynIapchcWNMrQkqFTdSLNIczlML0ncdPweQCaa6Xptw89O8Dfd/0bwvN/QEAANAHfAQAALYOjYo1pCBpPutvGjoFpfo0qkqZSzHKppj0ytAZraICSXeJSTcM9YGhsDZ0n83oPCWm9s2kmgAAAETARwAAYAcYUrGUm5Q6lfnhFtbHjGGoz6TPhjQc/akN1aTvCeVZjHbD6HUxFNZGO28hTL4aQ4fQfAYAANAHfAQAAHYDvVKkrEZ5OL2QMtq+fn2SdKNv2dDlkD5bXVgbbcdQByhrMjmXDQpr+g4bPTsIawAA6AEfAQCAPUGv9uh3mSqsmXRDv9AMiUyS75RH0cRZGQpr+p8KlL2iuV4mOtgkYW30jGYDwhoAgBEDfAQAADYNE0FGfwipnEn8lb59+vpMhLW+wGUer2V4asqeGD0FEynMZJN5a2YIa5pfBYbqEw9k8hvDUAkIawAA6AEfAQCATcNQWDPXZAzLzZaVVon4mnEJhhrB/6VXk5Ql+u0zuf+UhaZ+j/R32GxhzaRvlCWGCgEAAIiAmwAAwKYxqgVJao8mDKlhFjymaV9/L80p6KUbTceIgtjQeQ112FAPGWpH5hUwPYy2QPN90TTL5EoZXoihm0zZuEmnAAAAQIDjAAAAsAIkNWaqkKWX4wwlLI36ZC7cmVRgcq7hE6ZmqGqaLtFfCEOhDwAAgADXAAAAYB1oVDVeTrOL8kCjberXZLLXwtaMYiO6k7lKtpEOAwBg74ArAQAAAAAAAAArAMIaAAAAAAAAAKwACGsAAAAAAAAAsAIgrAEAsEtMSilmfqDlWLH9kU/8NfWdyxHD7G4wP5B5OjsAAIAhwH0AAGA3GJrmgr4mqXy431TDX0OkeT2O4St0+psmvX5nan39M1KW0Fy40csxtT/Me2Jor0n9N+MoAAAAIuA7AACwG+h1p6FdzKWb5WCGo55mKD/662V+NxhWoKxjSH/ra2L9ax/h/hPPa4Z2BzENAIDlgB8BAMA+YC5VNYyjjyS9ZVSQ0eszQ2qe5ij6wlER1vqXzLDN4RDWNN8Iw78Hmi+LCZTHAgAAGAK8BgAAdgATLasxFkll2IJJ5YYqMJF9lKqUSR+YbNL0kEkd4geaA0ndphemZvSf4akp95qqkkFGAwBgOeBHAACwdUxSxvqFIyOsSTVNVZmUpzD6s8G6wpFG3Bs6lv73gOX9N1tYm9GC0S8IAADAKOA4AACwaZjoG0oBR9o0JOMMySmG5Wb0lqZLJBVrkvJjcsn0cpbyM/2Fm3SIGUKWoSzW/06ZXK+h/tOfFwAAgAbwHQAA2C5GpZJ+TQ2VzKKsRlli6Iw0LZDOy7DDhnqusaowZV7B0KmN3mT8ukxSsQz7T3+3mVemgfSVmd0OAACABoQ1AAB2BHMppv+voUNohDXzk1Kei8lR9F0aMWFNOiONmGbSJsObwPDbpIGmfSb19U9E03kAAAAmgAcBAMBuMFVY61cbJmGtL0zNk4NGT21Sy0ZPZKgO/R0z2qahQ8zoP83Z6e8kk/tM2mXotgMAADAH3AcAAHaDUY1LqY0sFNZGW6DvEs15DSlLGmHNfJN53+irMb9eo1rZjP6bpHFN6oz+Ucy/ZQAAAEOA7wAAwD4wIwZJ/5myxFrCmrk8ZfjzwNRNJidiUs2MHxIMf10Mt7Bm0hTNIaCtAQAwA3AcAADYB6MorJmUm3peM3aNgLDGTE8FMRqZNlQ+TMIa/9do+NxoB2ji3AAAAJSAywAAwA4wVXWZFDnW1176UoxSqJmtKQ2dnaFMZ35pZleg15SUvaU/kRn9N1XUkr5BU1sDDQ0AgOWAHwEAwNahVGD0MsgkYW1FDOk5ynApjTzVP4pGKRq9ISbdMZp+0ihXoz88zOi/GcKa5rOF9wcAAIAJ4EcAALBpGIY/KStYrtVMhXlvTY0fm3Fe5hVG5bbQV7CwS6b+oAJVDQCAVQBXAgAAAAAAAABWAIQ1AAAAAACA9Rmx/zSzJG/K1DomnYt5ZZq0MfvCvnsPAAAAAABgm1girGneWGB4LlP7Rl9HX/gySVczQ1ibdJQNYsddBwDgfwcLxyer1xy+Fixv37w6DHtu9gXa9UgJAObB8EGjFNBGhSxDmPeNvg59f0jlpnaGYX/sAge5DBtBJpNNnTr13XffdXNzc3Nzc3d35/P5o90pAHAETBWChoIf9MOMUddvXq/MG2YYntG8aqbeTwsbN6l9AHAY9B92MxwX5bHmuQKGEpxyF31/DHXJUD/pe2K2h7QF7LLTNsvs2bOfeeaZKVOmLFy4sKioiMfjubm5eXh4KBSK0e4aANgx5gk1o8MAXmiqE6cZ3mgasUTL0h9i6hBl3v00qaZVLhYA7B1KL8TQS9A8xUYfZ0O7TKqsX4G58DWpMsMO2AsOchk2wuTJk0NCQtRqdXBwsLOzM5fL1Wg0XC6XxWIFBwer1erR7iAA2B80QwtDl83QX2N6EtlQ+zSblg9y9KORoUMMnZR5+0wK6THjYgHAgaH0DNjQ6C/zQwwdxeR5pGyf4S4Ln1zmZ2Ti6+wCe+23DaJSqR555BGVSoU2lUqlh4eHm5ubRCLBpTaHwxndTgKA3UHpbWlcsBkqkOZERnfR12R4FA349dJcgkkjkKn306Q+67dj0qgPAI4E5UOq/8GSQ5i4MjN26X+mf5ZJzzVNZRpXY7ZPszXsuOu2RkhIyOTJk0mFfD7fxcUlICBAqVQqlUpvb29XV1ehUDgqPQQAe8RyIUh5CF6BZqig7wOT3hq9EKMwOcpoHaPXYtL9NKnDJh0LAA4D6cmiFMekz4bUKr0qJZXTP2gMHRR9g9Z9xkly3Ox2bAf77r1N8eabb86ePRt9dnV1JeZ+sNlsFosVGhqqVquFQqGrq6u3t7dSqRy9zgKA3aA/ljB09PRDGpMTMdnFpCf4LtIQQjlY0neY5koZdtjs+0lTbq1jAcAxID3CFmpWhs8d5bNsqBpD1a5/dubSnL59yo7Rt28v2P0F2A5OTk5lZWXos0QiefLJp1gsFkqz1mg0KpUqKCiIxWLxeDyNRsPhcHCpPWo9BgB7gIm7px+f6Gvi5ZYLaybC3TytTCO1mVRjci3M7xKTwZK5WAcAB4ZeWBuqz6QQ30V6DE19MA3tovQqDLU45YmMnprey9kR9t172yE9PX3cuHH4ZlhY2JwFSwrOV7p96I7SrFG5QqFwd3d3d3eXy+W41MbFNwAA+tC4ckOi0Lyhy1Dj+oeMgLA2dFKGwtpQocb0+0nfVZqaRqE8EAAcDIbeQ38vzVPD5CGirMP8udN3OMQSSnfEsPOUJ6I8l51ix123KWbMmDFjxgx8093d/Xh0Wq1cWStXRp/KeZ31FkqzRnt5PB6LxQoMDFSpVAqFAn/HcXS6DgC2Db3vpqxD34KhCqShgsbLM9edlHsZjh+UJ6WsT39P6Ds/HMKaeSEAODxmC2smh5j6w3UkhTWTU5vhZm0fe+23rTFhwoSYmBj0Wa1WP/nU05V13dKWXty27dz/8ivTiLkfYWFhzs7OYWFhGsI7jvikIgAAIJh4W/1ADhNIh5shrJmHWAzVpB//hmNwMul+Gi3Xb41yULffMRIALMGQPKWpr/8E0Qtrq5Qz6Q9DYY3/S+Ny8Qr0faN0JraP/fXYBunq6nrkkUfwTS6X+8FH/5a13iCZoLrVd+lqFxcXlGat0WhUKlVgYCCeeM1ms3GpDQAAwhIhqDEwAFAeS3MimvGD4YlMqsywV8y7arQn9HUsLLTHoREALIf0YNI/7zQVrCWsmT+JNPqeXlgbclxMzu4wjsJBLmN08fPzmzZtGr7p4+Oze39EfftNSisoKn/vnx+gNGtUXy6Xu7u7owUaSVIbAABLhLXRQBG9JDUv1sJwRGE4WJoqlE0973ALaxDZwP8mhh4NfSjrU9Y05IuMVqPpEvP+MxHWNJ+NeiqHcQ4Ochmjy0svvbRq1Sp8c/KvnykVNTR23KSxqIT0l199DaVZo6PQAo1BQUEqlQpJbaL4BoD/WcweMEzSoPp7matDoyeiH6Is6SRNfZpyM+6nSWcxpBXomwIAh2HE/siZP5iWd4lS0zOvbFLjdo3jXMlooVKpHn300a6uLrQpFAr/OP1PcsUtJrZlx+4XXpyK536o1erQ0FAWi8VmszW6dxyR1B61ywOA0cao3qUcQuhlJZMTmdc9/XL60Yh+cNJv0NDdMBi20hPQ5t1PJp3R32u0MwAAAA4GeDdLCQsLmzhxIr4ZHBy8MnBTS9dthlZV17HQN8DFxYXP56MWlEplQMDDEqLUBgCAhElBFPpqZqg9owEbhhqaebdN7aGpML8tlnQYhDUAAI4KeDdLmT59uoeHB77p4uKSd/ZS25U7JlkB79Jf//Z3lGaN2pFIJG5ubmiBRpLUBgAAAAAAAGwQENaWMnbs2DNnzqDPSqVy8q+faem63XblTvvVPlONHZv86rTXiLkfHA7H2dkZrY6OpDZRfAMAAAAAAAC2w0gLa7lczufzhULhCJ93mCgrK3NycsI3ExISvpjpjYR1x7W+zh6VqSbv7N20JfjVaa/huR9qtTo4ONjZ2ZnD4Wh07zgiqT061wwAAAAAAABQMezCWqFQHD169L333qN8f+Xll19esWKF/WY4eHh4TJ8+nbh5POoULqwVPaqu63fNsCppy9wFvq6urvgvEKVS6e3tjUpIUhsAAAAAAACwBYZRWKekpEydOhXX0GN+Me6Zl9945uU335jh8dxvXZ55+c3xT096uHfMmKVLl+KLftsLEydOJM7p8eRTT0ubrxGFdbfy7hXlt+ZZXuGFt9/5M0qzRqcQCoWurq4+Pj4o8RqX2qN3AwAAAAAAAAAtwyKsuVzuq6++ihTzi2/+5S/eG7/cnbOQLfSJFPpEChdFaT8sZAvnRlx6f8UR1j89xj/9KySvly1bZi+zy3V1dT366KN4b3k83nv//ECuuEUS1ldvfHvtxj2z7URU/NSpLxFzPxISElgsFlodHUltovgGAAAAAAAARgUrC2u1Wv35558jSf3KX/715e4cn0ihb5TQL1q0JEa0JEbkH1u5NLbSP7bSP7ZySYxocbTIN0roEylcwK74i/fGxyc8hWHYpEmT7CIKGxQU9Nxzz+GbAQEBX4ccpBTWPTfvXb9532xTXL21fuOWqVNfwnM/VCpVUFAQi8XicrkajYbD4eBSe3TuBQAAAAAAwP881hTWcrn89ddfxzDsl8+/8snWUz6RWj29NLZyeZx4Rbx4ZYJ4lc5WJohXJoiXx4kD4ir9Yyv9okWLooRzIy65/Hcp0uV4ioXNMm3aND8/P3zT2dm5uLTGkLBW3r7fe/s7S6yuqcPji5murq4SiQSdUaFQeHh4uLm5SSQSktQGAAAAAAAARhirCWuhUDh+/HgMw6b9/bN5EaW+UcIlMaKAuMqVCeLViVVrEqvWJlWvS6pen6y1dUnVa5OqA09VrU6sQgobyWufSOFHgcfH/GIchmH+/v7W6t5w8Oijj8pkMvRZLpe//MprjR03aYT1jb7vLDTl7funeRff+t3vAwIC8NwPPp/v4uISEBCgUqmIUnv0bgwAAAAAAMD/ItYR1gqFYtKkSRiG/cV7IwpUL42tXBEvXp1YtTapen1y9caUms2pNVvSarek1W5Nq0UfglJrNqbUbEiuWZtUvSaxamWCOCCucnG0aFGU0CMkZ+KU39hy3DomJmbChAn4ZmhoqN/S1UaF9S1Vv9mGhHXPzXtXb3y7Z/+RV6e9Rsz9YLPZzs7O6HYRpfbo3B0AAAAAAID/PawgrFUq1SuvvIJh2NtfrvKJFC6O1gaqA09VrU+uRnp6G6d2R7rk6wxJcKZ0Z6Y0OFManCndkS7Zni7Zmla7OVUrr1cliJfHiZfEiBZFCb/adxpNG8Lj8SzvpNWZMWPGjBkz8E03N7f4FC4TYX3n2+/NMJKw7lbelcm7AlYEEnM/VCpVYGAgi8VCd4wotQHALlgfWwYG5mA22k8VMCyM+t8VGMlG+y/iIVYQ1p988gmGYa+9++lCtlZVr0oQr02q3pBcsyWtdnu65OsMya4s6e5s2Z4c2V6d7cmR7c6W7cqSBmdKkbzemFKzLql6dWIV0tY+kcL/bDn12GNOEyZMsMEpL8aNG5eeno4+q1SqJ596ur7tBkNhrbqnNskohbWiR9Vxte9SheSjf/3H3d1dLpejzsjlcnd3d1RCktoAYOOMumsGA7O6jfZTBQwLo/53BUay0f6LeIilwlooFGIY9tTk5+ZGXEIZIEhVb0yp2ZpWuyNdsitLuidHFppbt59bdzCv/lC+1g7m1e/n1u3LrduTIwvJkn6dIdnGqd2cqtXWKCdkIVv49hcrMAxbtmyZVa7WWugvuPjfL2cxF9Z376u/vT/A0O7epxPWbVfutHTdjk7IePnV1wIDA4lz/7FYLFRClNqjdMMAgBHIPxY3qMDAHMBsbbwHrAj6cosaVGCjbrb2oFkqrN944w0Mw/7pv29RlNA/VpsBglT11xmSkCzp3hzZgbz6Q/n1R083hJ9uiChsPFbYGFHYGFHYePR0w+H8+gN59aG5dbuzZcGZUqStUU7I0thK3yjh7PBL45+eNGbMGIVCYY3rtQ5+fn7Tpk3DN729vfcdiTRJWN/7buB+/w9G7d53jIR1U+etho6bm7aFPP/CVGLuR1hYGIvFQqujI6kdFBQEideAzQJjFZgjma2N94AV0TqrehXYqJutPWgWCWs+n49h2Itv/RUlgSyPE69JrEIZIEhVh+bWHcyrP3q6IaKw8cTZJjavKZLXFHVOHslrYvOaTp5tOlbYePR0w6H8+n06bY1yQgJPVa2I1yaE/NM/FMOwzz77zFrXbDnPPfdcUFAQ+qxWq381+ZmyqhZThfV33//w3fc/0pppwrqu7UZZVcuchUuIuR9ogUYfHx+0GRoa6uzsPDp3DQCMAWMVmCOZrY33gBVBX+65+j6wUTdbe9AsEtZeXl4Yhr2/4ohvlBAlgaxLqg5KrUEZILiqPn6mkc1rii6SxxU3J5zXWvz55tgieSSv6cTZpnCdtkY5IVvSatcnaxNC/KJFC9gVKGhtI6ufqFSqRx55BI/78vn8P/3lXWlLrxnC+vuBH78f+MmAmSOspS29tc3K7MLLf3vvfQ8PD3THQkND8Z8BaKXGUbt3AEALjFVgjmS2Nt4DVgScle2YrT1o5gtrtVo9fvz4x8c/uYBd4UcIV29Nqw3OlO7JkR3QqepIXlNccXPihZbkkpaUktZUfmsqvzW5pOXUhZb4881R5+RIWx/Mq9+bI9uVJd2eLtmc+jBovZAtfPMDLwzD8HUHR5eQkJDJkyfjm0FBQavWbTVbWA/88NPAD4N6ZpGwrm66flEonzhxIuqhm5sbn89Hn4ODg4ODg0f8ngEAI7RjVV0fGJgDmK2N94AVQV8ur64PbNTN1h4084U1ygOZ9tePfSKFS2JEK+LFa5OqN6fW7EiXhGRJ9+XWHc6vP1aoVdWnLrSk8lszStuyLrdnX27PutyeWdqWxm9NuqjV1sfPNIYVNOzn1u3OlqGg9bqk6lUJYv/YykVRwo8Cj2MY5uXlZcUrN5s333xz9uzZ+CaLxco9W2aJsP7xp0GSWS6sv94dhtI/VCoVrrA1Go2LiwusHQPYLDBWgTmS2dp4D1gRcFa2Y7b2oJkvrI8fP45h2Hu+3yzS5YGsT65G2dUoXB1+uuHk2abYIjlS1VmX23MF7fnlHQUVnfnlHVxBR9bldqSt44qb2bymiMLGQ/n1e3NkOzOlW9NqNyTXrNFlg8w7WTHmF48/++yzVrxys3Fycior036FCoXi+Rem1jYrLRTWgw8e4GYVYf2ph1dCQoJGo0lISMATrBUKBSRYA7YMjFVgjmS2Nt4DVgR9uWdld8BG3WztQTNfWK9evRrDsP9sOeUbJQyIq1ytywPZmSndmyM7lF8fUdgYyWuKP9+cXNKSUdqWK2gvFHbyRIpzlQqeSHFG2Im0dSq/NUEXtD6cX78vtw5lg6BXGJfHiVGa9ZOTnsEwqy3AbjZnzpwZO3YsvhkWFjZnwRKrCOuff/75559/tpawnjhxIsoC9/b2xlNo2Gx2QEDA6Nw4AGAAjFVgjmS2Nt5TwmRgNa+OLQzZiOHoCTgr2zFbe9DM/2v78MMPMQz7at9pJKxRgvU2Ti16bfFwfv3xM41R5+SJF1pS+a3Zl9vzyzt4IsWF6q6Smu6L1d3nKhUFFZ05Ze3pl9pOXWiJLZKfONuEskFCCGnWy+PEi6NFC9gVz/zmdQzDRn2lmI8//pj48p+bm1tUYratCeuoxGw3NzeNRqNWq6dMmYK/Z+nu7j4qK8UwdGpW8X2UjVjY8kgOD5YPTszr4zVtZ/yDsQrMkYzheE98ADHDkA6hh/lDZy3/bGvCmnRXKT9bAvpyz8jugI26OY6wnj59OoZhHiE5+JuLG1NqtqdLdukSrI+faYwukideaEnjt+aUtRdUdBaJFfya7nLp1dLaK8XirjPCzlxBe/qltqSLLbFF8pNnm46e1qZZ70iXoAmtV8SL0UoxL/3+bxiGjfps1hMnTsQnilapVL+a/EyFRGEVYf3gwc8PHlhHWPssWRkaGqrRaPh8PlLYGo1GrVZPnDhxxGZWMcOpWeLv6AcVooIk1qEZtKzVMVNhPjiZWk5f00a0NYxVYI5kzMd7yl+5NE+oFV2WoWAEE4w2wrwbw4H+XbVil7TOSnoHbNTNcYT1O++8gwtrFLHemEIdsU7jt2Zfbi+o6DxXqbhY3V1ae6WkprtIrCjUCWs8Yo2EdUiWdAdhYhAUsX6B9c6oC+uurq5HHnkE3+RyuTM+dK9uum65sP5p8AFulgtr51emoUUWg4KCkMLWaDQ8Hs/d3X3E7hXzIcHQIfTRF6MV6M9otEujIjpNHZwofzAwvzOjPuzpA2MVmCOZjQhrerdguSY21D5DN878RGYzHGdBX26h9DbYqJvjCOt//vOfGIZ5fJNDzLHexqndmakV1mhKkITzzSklrZmlbVxBxxlhZ5FYcb6qq0isOCtS5Jd3ZF9uT+O3Jl5oiS7STgyCZrMm5lgjYf2rF17GMGx0p7ImLbjo4+Pz9e4wy4X1Dz8OkswSYV14UYy/ochisfBlzAMCAtASjCOASarUqBa00O9TjiKkYWy4hTVD9W/q4GTSndFvnxKzrs9qwFgF5khmxniPeyTSU0n/7DPxDPSnID3+JrkCeh9L0+Aw+ZyR8XXgrGzHHEdYo5cXP94Qg1aHWZ1YtT65Gp/E+mBeffjpBjavKa64OeliS/qltuzL7XnlHYXCzjPCzkJhZ355R05Ze0ZpW3JJS/z55khe07HCxkP59aG5dTszpds4tRtTatYkal9enHdSu0aMFa/cDKZNm+bn54dvurq6rgjcYqGwVv/wE6WZLay37tyP3lAkzQHi7Ow8YvF+85yaIU9nUmVDNWnGDKNNWcX1m3oW5oMTvsvUkWM4hjQL0Y5VkttgYA5gZgtr+s8ay3KsmXgVo3WMelRT3ewwQeyMdfuAvtzTkttgo26OI6y5XC6GYW9/uconUugfW7mSsOzi7mzZfm5dWEEDygZJON+cXNKSfqkt63J7Tll7rqA9V9Cefbk9o7QtpUQbrkZ5IAfy6vfkyIIzpWjxxVUJ4qWxlb5RQu+jlx57zOm1116z4pWbCp/Pf+yxx1JSUvASpVIZEBDwW9Zb0Uk55gnrfvWPNGaesH73H++jNxTDwsICAwNRVyUSiYuLy6jcN1MVMMNyhtpdf6QheVhK2W3JoGXq1RmqYPbgRFOHvrXRGvmIwFgF5kjGZLyndFD0n03d1Oh5PPrKGgOO0dBR+rsYnmW40b9qK3YDnJXtmOMIa4VCgWHYS793XcgWLo4WLY8TB57SplmjGfcO6qayji6SJ5xvTrrYkspvTb/Uhgwtvph4oSW2SI4msT6sW9V8R7okKLVmbVL1ygTxkhiRT6Tw7767MAxbv369Fa+cOUql0tvb283Njcvlurm5eXt7EycnkUgkbm5u73/0b35FvanC2qiZKqwr67rxNxRtYcFFJmrSqCCm8fumdoNeXjO8hBET1vSjI2kwZvgzgOGwPVrAWAXmSGZejrWpD7LRTWIhQ61ptBqN96A8hNKbUV6XIedGv0nvqIfD1+mc1S2wUTfHEdYajWbSpEmPPeaEz7iHskHQGjG7s2VobpCIwsaTZ5uizsnjipsTzjefutCSdLHl1IWWxAst8eebo4vkbF7TsULtsosoXI2vDoMnWL/8thuGYUKh0FqXzRC1Wh0cHOzs7FNdgaEAACAASURBVExcTZ3D4Tg7OwcHBxMTvrlcrrOz8/LVG6XN1xgKa4ZmkrAOO5Hg4eGh0WhUKtWUKVPwHrq6uo783dMYHiQMVTb6mb6Qphv6hzBsgd5fMzlc/6oNFVKehUkdkyCNSWa3Mxwg/1hQewsMzAHMwpcXKSuYsUlfjaGwpukkjYc36bqY+ECG5fQ+zSoeD5yV7ZhDCev169djGPb2zNX4quZ40BplWu/n1h3Orw8/3XD8TCOb1xR1Th5dJI8tkkcXyaPOySN5TSfONkUUNoYVNBzI0665uF030d5K3Xrm3kcvjfnF45MmTbLWNTOEUkAjKAU3XnjkWIxRYX33/gBjM0FYe85eiN5Q5HA43t7eqGNKpXLKlCkjdt9wDHltQyUmBRWYe0YLfagZfaOsyXAwMGlwMiTW9Vug7JutqWoNjFVgjmVmC2v9B9molmXy7FM6EMrK9P6HxhEZPZa+S6RLY9IOE483HF4OnJXtmEMJa5QNMvGZF+edrPDVLWy+Lql6c6o2IWRPjmxfbt2h/PqwgoaIwsZjhY0nzjYhO36mMaKw8ejphkP59fu5dXtzZLt0SSDrk6tX6xYzX8CueP2fX2IYdujQIWtds1GEQqGrqysp5UMflCJCCgajQpe3/5RdUGxIWPd9qzbJmAvr51+Yit5Q9PHxQUuaa4auaj6SMPTCGir/btQPUg4/lO6YNDjRbNJcAs3l0PfQ6OFM7pJJdWhKSLtMvaIRAPnH/NpbYGAOYJYIa9Iu5lpWf5OmHfrKDBtnfnaj5YbOy9wHGhoU6EcKM9A6q5pbYKNuDiWsNRrNJ598gmHYX+duwTOtVydWobcYt6dLgjOlu7Nlobl1+7l1B/PqD+fXhxU0IDucX38ov/5AXn1obt0eXax6iy4JZEW8eEmMaFGU8MvQ0485Of3yl78cmYn2lEqlj4+PSYkTSIUHBAQQVTgqnDt/UbWshSSsb9/93gxjIqwzCy7ibyjiS5prNBoPDw8ul2vdG2UUo/5RvzJJ8hpqjXQI/amNnpGmjqGej7ywNtqmxpSINeUZbURb68aqm2BgDmCmCmtKB2hdYW1qZSb1rSWsmYhmU89r6FjLQV9uXs1NsFE3RxPWCoVi7Nixj49/8svQ04uihEtitKswrk/Wxq2/zpDsypLuzpbtzZGF5tbty63bz63bl1u3L7dub45sT45sV5b06wzJdl2sOvBUFUoC8Y0SzjtZ8dIf/4FhGL7Y4fChVqtDQ0NZLBYe6NVoNL29vZSV+/v7SSVsNpvFYoWGhhJ/AKDCoG07O6/eRML6Zl+/2WZUWC9btQG9oYhkPX5dI7ngIg6ly2Pu+Bg6UJM8uP65zGvHZoU1k36aNF6OPDBWgTmSmSSsSa6J9AvZQmFtiVA2umsEhDWTfprq8SwEnJXtmKMJa6VS+fbb72AY9tbfPpp3smJRlNA/thKPW29MqdmSVovkdXCmdFeWdFeWNCRL+2FnplZSb0mr3Zxasz65GsWq0RR7C9gVf/xsKYZhrq6uw60LuVwui8UKCgrCo7wIkUiUk5Nz69YtvGRwcFAkEuXn5+s3olKpgoKCWCwWMTyMCqe99tuEJE7vne8sNHph/ee/voumASHOAUJc1XzEMFXvGho5DAVfTRXEpBZIh5vXW0ONG+rn8AlrypGY8qYxGahGV17DWAXmSDZMLy+aKjHpH2rmwpqmnMbzmNQmTVOGmmUyUhjthhmgL5dbfRNs1M1xhLVSqVyyJMDJaQyGYb944mm3Dz6atT1mAbsCj1uvShAHnqpan1y9MaUmKLVma1rtNk7t9nQJsm2c2q1ptUGpNUhSr02qXp1YtSJeG6teyBb+wz8Uw7DnnnuOJHatC5osz8PDw9DiKb29vTk5OaWlpf39/Z2dnRwOp6amZnBw0FCDCoXCw8PDzc0NX/IQL3z/g/8rq6hR3rpviRkS1kJJ28SJE9HpXFxcJBIJ+hwYGDgC8X4iNF6VfhdDl8fE1RI/04hRJi0Y3Uvfc3wvsZqhYcPUwYnUpklXwaTCyANjFZgjmYULxBBL6P0eyQ+Y5EsNiVF9j2TIR9HIWfpTMO+qqdC4ZeZjDT3grGzHHERYnz5d+NRTv0SS+nceqz49cMFjT67n7HmztseguPXiaNHS2MoV8eLViVWBp6rWJVWvT67ekFyzMUVrG5JrNiTXrEuqDjxVtTqxamWCOCCuckmMCMWqvY+WjJ8wAcOwzz//kv4NQrNRqVSBgYEuLi74ZM80tLW1JSYmlpSU6CeBUMLn81ksVmBgIPFXAY/HY7FYS5Yul7dd7bl5z2yjFNa7D0SgNxRHccFFSijlI6kCcRe9E6dUlobcPWVniB+MOn398mEaBui7YejUhsYno10d7msxG91YdQMMzAHM1PGe3vnQ12FewezK5kHpuIz6aktOx6RZy89uC84Kw7BR/yO3hb7ZvbBWq9Vz5y5Ef5RvfLL00wMXPg+7/OXRsq/Cyzz35njOmu21YsfcY2UL2ULfKOGSGFFAXOXyOPHKBPHqxKo1iVVrEqsCT2k/ID29Il4cEFfpH1vpFy3yiRTOO1kxK4Tj6T3nT//35dgnnsYwzMlpzJIlAdaV12FhYc7OzsRQbn9/P2UoGgWqiSWkTZy+vj6jZ8ELg78Jvdr7rdmmL6z//ekXaO4/NpuNljTXaDRyuZzFYpl1hyyF3m8aEspmnIVhoX45pdyn788oKlFTR1Prjr4jBvKPuVU3wMAcwGxtvAdMheYbtLqzMhpaojyE/vAR/oMn9Yfy8//Cg2ba4KpUKl955bcYho2f/OI/1rAfSuoIwaxj5bOPl88JL/Gav9hzro93CGfeyQqfSKFvlHBxtMg/tnJpbGVAXCXS2ejD0thK/9jKxdEiJKkXsCtmh5d4+m/wnDV71tcJXhGCLw6XTPdcP+6pX2MY9sQTE4ivFZoNChuTYskajWZwcFAsFnM4HFw3Dw4O1tTUEEvwFvLz84mJ1319fYWFhSKRSP90KC7OYrHQMuPEwlen/TYjp7Bbedc8IwprifzalClT0BW5u7vj5woNDQ0KCrL8pgHAyADCGsyRzNbGe8BU0DdI+T0Oh7A2de/IS2fmV6H/4X/nQTNBWCsUimeffQ7DsBdcPvjswIUvjpbNDBfgknruifJ5JysWsCt8IoVz1u7x9PL2XLjUOyQNL1wUJfSNEvpFi5D5Rgl9o4Q+kcKFbOG8kxVzwoq91uz29PKetWj5/PDzc09UzDlR7n283OuYYGaEwOWrdU5jn8AwbMaMD8wOXcvlcnd3d3d3d2L2M4n+/v7i4uL8/Hy5XM7hcEQi0cDAgH61np6ezMxMgUBw7949gUCQmZlpaP4Q0qmJWRlyudzNze1f7p+UVcoU11UmG0FYJ6bloTcUSXOAEFc1BwDbB/nHnKobYGAOYLY23gOmQhTWpG/T6s4KwzBT99IfYqgdM46y+uU49oPGVFhLJJInnpiAYdhrH85FgeqZEQKvYwIkqefr1DOKTy+JEfmzS+eu3OrlPdtz9jyv5Vu8gxPnhJ2fe6Ji3kmtzT1RMfdYmfeejFkbDnrN9/P0muU933fRvgy/aNGiKCEKYM87qZPXEYJPQwp+/erbGIb96leT8TfzGILP14GHcmnePtRoND09PSUlJffu3aNvViaTJScnNzQ0MOwGCpaT5h5BE5IErAiUNCk6rvWZZjphvSRgTWhoKGoNLWmOrhp/nREA7ALtWCXuNcM0GKbBMPOOHV1DPbdK5/GmUGukTat31ez2iQcO6xc3AqegMXy819dnYHZtFjorSsNo/0SJe/VTPkw6i0n1TWrWKMP9oNkIjIS1SqWaPHkKhmG/81j1hS73w/t4+ZwT5fNOVixkC30ihb5RosXRIv+YyqWxlcvixMvjxSvjxcsj+b7bj81etMzTa5bnLG9PT09PTy+v+X6e8309Pb08Pb28ZnnPmrNgQeCupUcLl8eLl8VVLo2tXBKjDWkjeT33RMVsQugaw7Dx459krq3xGaaJhTU1NWiiD2LhwMCAQCDo6enBSzo7O2UymX6bPT09xGp9fX3ETWKDpEg2Pls2WnicVLj/8PH2K30mGRLWr7z6GgrD28KCiwBgNsg/Zot7zTAknsw7dnQNV35WbG34bot+g6aeYrh7yKTPI2MkEQbmeGbFvxajqpTyEKPHjvyfPTop8d8Re9BsBOPCWq1W//GPf0Kq+sujZTPDHwaqdVFqraQOiKtcFideGS9elVCFJgPRzgeSVL3uVOXKsNyVYbkBIdGL1n2zaP3uFUeyVxzJXRNTujapGr3OiL/LSJTXi6J0uSInyr2Pl3tGCP40Z+ujj4154okJRrU1n893cXEhrYmI09DQwOFwcN0sk8k4HA4pSwRJbQ6Hg+vme/fu8Xg8Ho9HFOUDAwOokBjkRvHs7u5u/VMrlcqAgADShCRo0UeX6X/KzCtq7b7D3EoEtfg0IMQ5QLy9vdHrjABgL1gyVllXnjI518gcZeFZQFiP4vdla+M9YCqUYpq4K7uy11qGYZhJe7W62cR2htvws+t/GD6ztQfNuLCeP98XwzDnv/33i6NlM3UZ1fNOVszbnzt/V4JftAhN/YEkNZr6Y21S9fqk6g3J1RtTajal1GxOrdmcWhOUVks0VLhJN/ve+uRq4tR7RHlNCF2Xzz5e7hUheC/gENLWhrKl8cmk6cU3rptp0qk1uncTeTweWi+GMjit0Wi6u7szMzNFIlFbWxuHwxEIBIYaRKAptL29vfXXQv/ksy8E4qZmxW0mtmXH7sDAQNQgvqS5Zuiq5gBgFyD/mFXZa6ppMEy+eidSQmYcbsbpzDjRyHSPdBarn1S/QVNPMWJfk4VntLyftjbeA6ZCKamJu6z4V4rR/rHp78Vj0szboTyEGN6mrGZok/7Uhj4Ph9nag2ZEWGdk5GIY9supb/z34EUUq55zonz+yQqfSOGcNTsX7IxbGlu5LE47XzUuqTfqxPSWtNqtnNptnNrtHAm+NIzWOJJtnNqtaJmYtNrNqWhy6yHyenm8dnJrfNoQbVpIhOBvi/diGPab37xC0o5qtTo4OJi0/CH9yuR9fX1opjx6Hdzd3U3z1iOOTCYrLi7Wn3rPEBwOx9nZOTg4mLi6JCpcsWajRH6tqfMWvb034wOUOz7qCy4CABN+HHyQcbn19j2K5VR1Y5XSVNNgmHx1sE4JPSzUYJjyP57ERFuju4gV9HfpJwdbeJShpmgapO88k01T7wbNpemfwpJD6HtI2Un6TfN6SP8tMzdbG+8BU6GU1MRd5v1hUBpG+2dG2os29f/V36RvirJZ88pN6r91zdYeNDphrVarf/nLZx59bMzHX2fhGSDaSfTY5bPm+fizS5fp5qhem1SNFllEwemtnNrtHMmOdMnXGZLgDOnOTOmuobYzUxqcIf06Q4JWNUcLMaIYNlFe46HrxdGiRVEPtbVnhOC3H8zFMOyjj9zxDqenpz/77LMkkarRaIqLiwsLC4liF02uR1qZvKSkRD9ujSYAIZagmDTpXqEGifkhbW1tlIL+1q1bpNci0Y8BZ2dnYuYGXhjOPtXQftOQ1TRexacBcXV1FQqF6PCgoCBSWjkA2Ag/DT5YH1u2MV7AudRy8+73xF3IP2aKlKaaBsOaVgejDxoMI5YTS/Q/0+wiNUI6HanE7KPMa5DJdRHNkgbpb46Fd4O+KZpvc3S/L4Zma+M9YCo0X5/ZzsqQ0eRJI0iVKf+l/KB/IppT61djWN/oWYbPbO1BoxPWKAnkzU+XElU1WvnFJzR9zrJNK+LFqxK0idQbkqvxEPX2dMnXGZKdmdJdWdJvsqQh2bLd2bI9OUNsd7YsJFsWkiX9Jku6K1ManCHdkS7ZzpGgADZKDsFD18vixEO1tTbf+pnX3sEwbPv2HajDM2bMcHJyopzuGuVpoPQMlKpB+VYiyrRGE32gdGrSlNUajWZgYKC0tDQnJwfXzW1tbcnJyWKxmDjZSF9fX35+fnFxMa62+/v7S0tL8/PzKZdvVCqV3t7eRHGMCj08PP7813czCy7Wtd3Qt6MnE9E0IEqlcsqUKfiBLBaLSXwdAEaewQc/43GgDXFlKfxmZZ/2ibBEWOvrSFR+/T+epGpMdlkokZmoRqO76NWthZ3XV9LWvRs0+t7oNTL8NinbYXInGfYQhDVAw3AIa4Z76TW0qcKa8liadvTrGP1JwESIW+VBG8XXWIl/GwaFtUQiwTDsqSmveBy66BUxRFUviRHNC9zlFxKP3lDEcz+2pj2U1EhP78mR7c2R7cut28et28+t28+tO6D7sI9bty+3LjS3DunskCzpriytvN7Gqd2SVrs5VRu6XjNUW+P51t7Hyz/ff27suKfGjBmL0pRnzJgxY8YMHx8f0mKHOA0NDYmJiaWlpTRZH8TEa0OLLGo0mlu3biHdnJOTQ1TPJDo7OzkcTk1NTU1NTWZmJk2DCJRjTXrhEr2F6Tl74cXyOllrL9E+/3IW+iFBnAOEtKo5YBf8rNE8ePDz4IOffxp88ONPDwZ+HFT/8NP3Az/1D/x0//sf733/w7f9P6i+G+i7P3Dnnvr2t+qbd7+/ofq+V9Wv7OvvufPdtdv3r966333zXteNe4rebzt7v21X3m27fre1R9VyTSW/2td0pa+x+05D1+36rtsyxS1p5y1Jx83a9pvVbTeqWm+IW3orW3pFzcoKubK86bqg8XpZQ09p/bVLddf4dVcvSq9ekF45L7lSXNt9rqabV911tqrrTJXidKWioLIzX9TJFXbkVrTnlLdnC9oyy9oyLremX27lXGpJu9SSwm9OLmlOuig/dUGecL4p/nxTbFEDySVtiC07dUHec+c7tJkhUppkSADpf87QSTFDNWl2kRohblKWGG2E5ihDu2i6YXbnDdW0+t2guViTbhqpJrGTlI0w74zRHjK/BEMGwtqBMc9Z0RhG+8dGuRcvJO419JlJBf1dNBVo+kx57PCZ3Qjrjz76D4Zhrn570cx6c09ULGBXIFW9NLpi1jyfFdFlgaeq1idXb0qpCUqr3cap3ZE+RFLvy63bz607kFd/MK/+UH794fz6w/n1RwoajhQ0HM6vP5Rffyi//mBe/QFu3T5u3V5cXmdKUXLIVl3iNVFb+8dU4vnWc06Uex0T/NFjFYZhs2bN1uiEtUajCQwMxLONKRkYGDD0DiLKGOnr60PhZ0OKGe01lO9BqomENf3k2UTwKQKJOS2ocPW6rZJmJW5TpkxBEtzDwwNPKw8LC0OvMw4rP/+s0arAwQcDPw6qfxz8/oef+gd+uq/+8d73P37b/8Pd/h9U9wfu3Fffvqe+9e33N+9qVeD1O9/13P7u2u37VwhCsEN5t/363bYeVWuPqvlqn/xqX9OVOw3dd+q7btcpbss6b0k6btW236xpv1nddkPcqqcCG3suN/Rcqr/Gr7tWIrt6UXr1vORKce2VopruczVdvOquM1WKQrHidGVngagzT9jBrdAKwSxcCJa2pl1qSeU3p/Cbky7KT12UJ15oSjjfFFfcGFvUGHOuIfpcQ+TZevbZ+pNn6o4Xyo6dlkUUSMPzpUfzJEe4ksPc2kO5tQdzag5k1+zLqg7NrNqbUbUnvSokXfxNWuWutMqdqaLgFNGOZOH2JOG2UxVbEiuCEso3J5RvihdsiBs1XzDCtiG2bGO8YFO8QH/Xodzahq7b2rFKeN0k0wogqk0Nhl3/t6cZuww1aKjE7KPMa9C8zlu9QeadZ35dho7S76R+m4YON7WHDCsYNf0RF3AYzHNWNIbR/rFR7kWFpF3ETZqjKCvQbzKpwKQDVrfRfdCYCmulUunkNGb8pBdmhgtmHdPOrLcoSrg4WrQ0tnLx/ox5yzehWPWmlJotabXbOZKvMyS7MqUhWVJcUh/Mqz+cXx9W0BBW0BB+uiG8sDG8sDGisDGisDG8sDH8dMPR0w1hBQ1HChoO5dcfyKtH8np3tuwbXeh6K0errZcd4KxJrFoZL14WV+kfU+kbJfKJFM47WTH7ePlXh0ueesYZwzCJRIILa41GExwcTDOL88DAAJrog5ju3Nvbm5OTU1NTQ6zJ4XBIOR5IKJeUlBCr5efn60eje3t7i4uLiSVisZiUWII3SCrEF7UhvoWJCp1fmXYsOrVGfj2Nex5NA8JwwcWff9YczZeEISGoU4H7s6v3ZVXvzazak1G1O138DUe8K61yZ2plcKpoR7Jwe7JwW5Jw66mKoEStCtwYJ9gw2vpsxGxjnGBTvGBzQnlQQvnWUxXbTlVsTxLuSBYGp4h2pop2pVV+wxGHpIv3pFftzagKzazel1V9ILvmYE7Nodzaw9zaI1zJ0XxJeL40okB67LTsRGHdyTN17LP1Ubz66HMNMecaYosa44sbE843JV5oOnVRnlwiT+E3p/KbOZda0ktbMy63Zpa1ZQvacsrbcyvaucKOPGFHgajzdGVnoVhxpkrBq+46V9NVVNtdXHvlvOTKRenVEtlVft21S/XXLjf0lDX2CBqvlzddF8qVomZlZUtvVeuN6rYbNe03a9tvSjtvyTpv1Slu13fdbuy+03TljvxqX8s1VWuPqq1H1X79bqfyW0Xvt1037nXfvHfl1v1rt+/33P7uet93yr7+XlX/zbvf3/pWffue+s59teq7gbv9P3zb/8O973/8Tv1j/8BP3//wk/rHwR9+Gvxx8MFPgw8ePPj555+H/CkS/4QOZNdIO2+h/agkXXjdJEMCiHITSTEzdhlq0FCJ2UeZ16B5nTevQeImLl4t7LwZu/Q7yeQeDtP3xdBAWDsw5jkrGsNo/9go9zIvpKmgn61htH1D9SkPMdofy80+hPWmTVswDPvDF6vwJBCfSKFftMg/pnJZnHjB2l3+uxNQBkgQrqqzpLuzZXtzZPsIkjr8dENEYePxM40nzjadHGonzjYdP9N4rLAxvLDx6GmdvObW7cutQ6HrnZkPtfUc34CVJ4vQu4xonhBfXbL1rGPl7y4OxTDsiy9mEoW1RqNJSEjw8PCgmXIOnyCvr6+PlDaNg1QvnhbS2dmZmZmpH37G10JHAW+UTq3fINLuxLVpUK6ISCSi7CE+byAxYRotkP63997/1GMWCszzeDx3d+1LnCqVasqUKaTXNxE/azQhHPHudPGejKrQzKp9WdX7s6sPZNccyqk9nFt7hCs5mvdQBR4vlJ0srGOfqYs8Wx/Fq4851xBb1BBX3Bh/vinhfNOpC/Kki/LkkuYUfnPapRZOaUv65daMy61ZgodCME/YkS/qLNCpwLNVXbzqrqKa7uLa7vOSKxekV0pkV/l1Vy/VXbvc0FPWoFWBFToVKG7prWq7Ud12o7b9pqTjlrTzlkxxq77rdkP3ncbuO01X+h4Kwet3O5R3O3u1QvDKzftXb92/dvv+9TtaFXhD9f2tb7+//a36zj113/2Bu98NfNv/w73vf7iPVODAT+offhr4cfDHnx78NPhg8MHPejoQsDIb4wTrY8v2ZVXXtt8k3mszxipiqJK0ad4u/WYp1RWNxKQ5Vr+QYX1DfbPwuhgehReWHcukP7XRzlt+yfTfCM2fB/Me0n/L9jLeA8OK1llVXLeWGc1OpjxEf9NoTcoK1uq/qbusYvYhrKdOffXRx8Z8cagED1ejJJCAuMqVscJZ83wC4wQbdRkguKoOza07wK07lF9/pKAh/HTDscLG42caT55tiuQ1RZ2TR5+TxxRpLfqcPOqcPPJcE5vXdPJs0/EzjRGFjWEFDYfz6w/m1e/jkrX1wtVbVxzkoHcZl8eLl8ZqE0Lmn9TOvveLJ552chr797//nSisNRoNl8t1dXWleY0P1830K5MjoZycnKy/XiMRpJtLSko4HI7+zCE4crkcBcLz8/NJUXNK+Hw+i8UKDAwk/kjg8XiPP/44etMxMDAQTyvncDje3t70DQLA6LI/u7qq9cYDvd8vyENxKq6DgTmAgbB2YKzurDAMM3WvfqGhRogC3ep/5wybHaazj/qDxkhYK5VKDMN+9ZvfeUYIZh/XzlrtFy1aGlu5PF689HDOvGXr0RwgW5GqzhyiqsMKGsJxSX2uKfqcPLZYHlfcHH++OUFn8eeb44qb44qbY4rkUefkbF7TibNNxwobw083HCloIGrr4Azp9nSJ/7Yj/sEn1j9MtiYHrV9/fw6GYb/73e+mTZtGuhy5XO7q6kpMqDBEb28vfcI0euWxv7/fkLZG5d3d3YM6aJoSi8WG8rwpCQsLc3Z2Jr6XieYD0QxdcJG4qjkA2Cb6khqhG6t6wMAcwEBYOzDgrGzH7EBYx8TEYRj2R49VpHD1srjKlQliv2C23+YDm1JqtqZp31YMyZbtzZHhqjqisPHE2SY2TyupkZ4+daEl6WJLss6SLrYkXWxJvNCScF4rryPPaUPXJG39TZb06wzJqn2JvutDNqbUrE2qJgWtUaa1+7ZUDMPeeuuPrq6uf/7zn0lXpFKpPDw86F9n1Gg0fX199FN8IO7du6efDYJWZySGvfv7+zkcjv6S5jKZTCAQEEtIc2zjZ6FMvA4MDGSxWGhFGIRcLmexWPgm/jojANgdyEOllfeAgTmAgbB2YMBZ2Y7ZgbD+7LOvMAz7aHOCNyG7GoWrVydWzV+1dcWhdDwJ5Bv0tuJQVR3Ja4opkscVNyecb0662JJS0prKb03jt3IutSFL47em8VtTSlqTLracutASf745tlgedU6Oa+vD+fUH8upDc+t2Z8t2ZUo3njwz33/NppQabdBal2mNprVG04NMep6FYZharf7000/149YajSY4OJg+5RpBOSk1CbQcDEq8xqfn09fQ9+7dKywsxHUzntJNmuyPVD4wMCASiTIzM/UbRKAca3d3dxSlDg0NDQoKQrvQbH30FwgANguMVWCOZCCsHRhwVrZjdiCsn3vuJaexT3gR8kAWR4sC4ipXxovXJFZ5L1i8LroEhasfJoHk1R/RZYDgqjrxQkvykXPUYAAAGxpJREFUxZZUfivnUltGaVtmaVvW5XadtWWWtqVfasPldQJBWx8rbDx6uuFQfv1+XULI9mSR95z5aOEYFLRGU+/5RokWsoVzT1R4Hy9/5W+fYxiGZsPw8/N77rnn9DU0l8tlsVjEFVgoQbo5OTmZftpp9MJiXFwc5VozON3d3RwOJzMzkzIyjYPWpkEanb5BBI/HY7FYQUFBrq6u+BwgxFXNAcDuQB4qtbwHDMwBDIS1AwPOynbMDoS1k9OYJye/5HVMMEcvD2RV5EXvBYs3p9YQw9X7uXWH8uuPnm5AedXR5x6q6jR+a0ZpW9bltpyy9lxBe56gAxlX0JFT1p5d1p5R2sa51IZra5QTcuJsU3hhYxhKCNEFrWfP99kUX4amtUbTg+DrxaBsEDQ3yM6d36CrCAoKevbZZ/VzppVKpaurKx7ipaG/v59y5UVKent7KRedGRwcROWoEZokE1RTJpPRLF5DQq1Wh4aGurm54SUuLi4SiYTh4QBga2jHKsE1MDAHMBDWDgw4K9sxWxfW6M3FKa/9BSVYL2QLfaO0s+ytTqxadoCzcNVWNMVecIY0ZGi4+sTZpshzTbHFcpQBolPV7bmC9rzyjoKKzkKh1k5XdBZUdOQJOnLK2jN12vrUhRaUb83mNR0/MyRovStLumjV5sCj2ZtTtUudE7NB0Nwg/91dgGHYBx/8C7+W/fv3T5w4USwW69+I0NBQ+tlCcHp6ejIzM+knA9HowtKkSDOam4+oy1HWBynHA62dTpxFpKenhzLVu62tjWb2ElhwEbB3kIdKEVwDA3MAA2HtwICzsh2zdWEtFAoxDHv1XQ+02iIpwdp384GluyK3EPJA9uXWHcyrDytoOFb4MFx96kJLSklr+qW2rMttuYL2/PKOQmHnWZGCV6koEivOVSp4IsUZUWdBRSfS1hmlbWn81mRdQog2aI0yrbl1e3NkIVnSgK0Hl4dEoXXOA0+R5wZBadYYhj377PPEy0lKSho3btyJEyf07wVKR2Y4gUZDQwNamZx+og+UG93T04MWPKeU40hGo7QQYq42qRqa3xpP9UYT+dG/WMlmswMCAphcDgDYJjBWgTmSgbB2YMBZ2Y7ZurDm8/kYhrE+nIevC4NWW1wRL16TWDV/2fpVR7lb07RzV+OvLaI8EDavKaZoSLg6p6w9r7yjUNjJEymKxF3nq7ouVnddqO46X9V1rhJp6w6uoCPrcns6IWiNMq3RzNboFcaQbNmq3dH+Ww6iNOvAU1WrEvA0a+2ke17HBGPHPTV58hTSFbW0tEyaNGnBggX6t0OlUvn4+Hh4eDCZRgPpZsqXFIkg3Ww0gQRFuOnfkkRzbCcnJxcXF1MuXkPC3d2dOFsIANgdyEMll10DA3MAA2HtwICzsh2zV2GN3lz0muW9KVm8VS/BOvx0A3ptEeWBoOxqFK4uqOg4I+osEisuVHfxa7pLa69cqu0uqe4+X9XFq1QUCjvzyjtQsnUqvzXpYktccXO07hVGPM06JFu29lCq37rgLVTvL+KzWY978ldPP/1L/ctWqVSvv/76H/7wB8qbwuVynZ2dQ0NDmdxB0kQfRAYHB0l5GmjOEP1GcM2Nws80EnxwcLC/v59mrRkc0qrmAGCP6Maqq2BgDmAgrB0YcFa2Y/YkrElTgqxka99cJArrA9y6w7iw1iVYp5S0ci61ZV1u4wo6Cio6z4oUxeKukuru0tor5dKrZZIrl2q6UdAaCWs8GyTpYkv8+eaYIrKw3p0t23g8f+HyDURhvTyeODEIEtaTMYx6LUmNRuPp6Tlx4sSuri79XWq1OigoiMVi4dNr0IPizQKBANfNaJI+0szTaIVF0uTWpaWlmZmZxGoymSwzM5MUkEbZ2PSJ3US4XC6+XgwA2CnIQyWVXQUDcwADYe3AgLOyHbMPYT3t71/oR6wDDufMX7aeJKz30wrrXEE7EtZF4q6L1V2XarsvS65cllwpqRkSsc4hRKzjz1NErHdny7Ylls5ZuJgyYs1QWGs0mrCwsLFjx1KmXGs0Grlc7ubm5uPjw3CBFZlMhnI5aLKfBwYGkJLu7u6mWTsd5WSjRtBaM0bXqSHC4/FcXFwY/ioAAJtFO1ZdvgoG5gAGwtqBAWdlO2Yfwvqld/6ln2PtvzfJJ/DrTSm6lcz15tqL1OVYo1SQzNK2nDLtm4u8SgVKsC6p6S6p7r5Q3VUk7jorUpyu6MwTdGSXDcmxjibkWB/U5VgHp1d7zfLGp7Im5FgPSQWhF9YajUYmkz311FPvvfeeoayJhIQEFosVHBxsdCkZjW5lcqPZz7du3SosLNRfGoYEemHRUDp1WFiYq6srqdv4YjFMZjgBABsHeahTl6+CgTmAgbB2YMBZ2Y7ZurCWSCQYhk2d/hFp2cUV8WLfHcf8thzGFzPflTlkzcVjhdqXF+PPNyddbEnlt2aUtmWXtaNskDOiTl6lokjcVSzuKhJ3natUnBUpCoWd+eVDZtxLvNDycFaQwsYjBQ0H8urRrCDBGVLvOfM3JpajWUFWJVTpzwrCRFgjPvzwwwkTJpSVUX8TKpUqODiYxWKFhYUxzFpG7yzqx5j7+vpIktfQ24o070SitWACAwOJWp9yeXMAsGu0Y1XpFTAwBzAQ1g4MOCvbMVsX1gqFAsOwqX/4AE23h+axRtPtLVy/xz8kdmNKzZa02u3pkp2Z2nms0XR7EYWNJ882RemtDpNT1p4n6Cio6CgUdp4RdZ4VKc6ItFNZ55V35Ara0ZQgqYQEa/15rL/Jkn6dIZnrG7A2snj90On2Hq5qHmGCsNZoNElJSY8//rivr6+hCkqlMjAw0NnZmeGUfKQJ8tBS5/rJ0/rz66GMbVJ+Nv51UAak2Ww20v1MOgYA9gLyUImlV8DAHMBAWDsw4Kxsx+xGWKMFYtDKi2iBmHnLNwUcytyQXI1WXgzOkIZkSfcOfX8RD1qjqaw5l9oyS9uydcsu5pd3FFR05Jd35JVrF1/MutyGv7aYcL6ZNNceceXFHemShSs3rzqStT6pek1i1UrCyotogRhPE4W1RqPp7e199dVXX3jhBUOha41Go1QqfXx8kLw2Gr1GE+RxOBw0MZ+hxVzQWuj5+fnd3d34nNakOiqVCr1PSQpI8/l8FxeXgIAAhongAGBHwFgF5kgGwtqBAWdlO2YfwvrFP3zgFaFd0nxRlHBJjCggrnL2ooAVx8+tT67G31/Ep7LGg9Zo8UU8ISSlpBVf1Ty7rD1HZ9ll7VmX2zNK21CsOvliS6IuuxqFq0mrwwRnSLdzJL7rQ5btTcSnBFkaW+mnW9Lc+3j5TNOFNWLdunWPP/64h4cHjW5WKBRIXoeGhhrNve7v729oaDC6Mnlvb29xcTFlBggKSIeGhhK7pFQqPTw83NzcYNFywFFBHirhUjcYmAMYCGsHBpyV7ZjdCGvPCMHsoWnWnrO8V8eL1iVV49kgxKA1eoURrb+IpgdBcevkiy2p/NY0fmv6pbaM0ofGudSWxm9NKXkYq44pkkciVU0IV6P1zL/OkGzl1PrvCF+8PVx/2UX05uLMcMG4CeYIa41G09vbO3369PHjx6enp9NUUyqVQUFBU6ZMCQgIUCgURpuVy+WlVIsvNjQ0GMqoRutBkgLSarU6ODjY2dmZy+UavxgAsFtgrAJzJANh7cCAs7IdsxthPTNcQMwG8Tt+cdY8n5UJ4sBTVUOC1pnS3dmy0Ny6A3n1h4dq65gieVxxc8L55lMXWlD0mmjJF1uSLrYkXmiJP98cWyyPPieP5DWd0CWB4NnV2nB1umRLWu2SHeGLt4evTqxaoZcH4hUh+PJo2ePmCmtEenr6uHHjfv/739PP8qFWq9lstrOzs4eHh1Gl29bWRlwLvaenJzMzk1JtK5VKb29vV1dXoVBILOdwOM7OzsHBwbD4C+DwIA8Vf6kbDMwBDIS1AwPOynbM1oW1UqnEMGzS1Le+PFrmFSHAl4nxjSietcBvRbx4dWIVCloHpdVu50jwCa336bR1+OmGYygnhNcUfU6Oy+uE882JF1pwSzjfHK8LVKO86uNnGomqem+OLESXXb2VU7s5tWbx9nC/bUeJE+0tZAvnntDmgXxhsbBGzJw508nJydPT06iQRWuyTJkyJSgoiCaAPTg4iFKuDS11rlarQ0NDnZ2dORwOsVwikbi6unp7e0M6NfA/gnas4neDgTmAgbB2YMBZ2Y7ZurDWaDQYhj356998cbRsZoQAnxtkUXjxrPl+y+IqtUHrpGo07x5KCMG19cG8+sP52nzr42caT55tiuQ1RZ2TxxTJY4rkscUPLaZIHn1OHnmuic1rOnFWm1eNVPUBbh2au3pXpvTrDMk2Ti2avto/JHbh+j0oXD1kPpBjgq/Cyz4Pu2wVYa3RaFpaWv7whz+MHTt21apVRisrlUoki11dXWlecLx37x5xJhAcLpfLYrGCgoJI6dQBAQEuLi6k6DUAODbIQ8Xxu8DAHMBAWDsw4Kxsx+xAWD///EuPPjbmP3vPfhVe5nVMMOdE+fyTFQuPFs2a74fm3VudWBV4qgpND6KvrQ/oZrY+elorr0+cbTp5tonNa4okGJvXdPJs04mzTccKtUnVh/PrD+ZpY9W7s7Wp1biqXp9UvWR3woK1u5bFVRLD1Wg+kC+Plv33iNWENeLChQsvvfTShAkTGM5qJxQKfXx8Jk6c6OHhwWazjYaZJRKJm5ubh4cHMdqNotcsFovNZlvSeQCwR7RjVUkXGJgDGAhrBwacle2YHQjrTZu2YBg2ffYWYtB6ftg5r/l+aHqQlfHi1YlVa5Oq9bU1yrfez607mFePy+vwwsaIwsZjhY3Hzzw0pKdRlPpwfj0KVKO3FfFY9XaOBFfVgaeqFockzA/cRcyuJoarrS6sETExMRMnTpw8eXJMTAyT+mq1msvlBgQETJkyxcXFJTQ0VH8SD7S2i/4i5Ghl8qCgICaLPgKA44E8VGxJFxiYAxgIawcGnJXtmB0Ia7lc7uQ0ZtyTkz87eAHPtJ575JzXfD/fKJF/TOUyA9oavcsYki3bk6OV1wfy6g/l1x/Orz9S0BCmZ0cKGg7l1x/Mqz/ArdunC1R/kyXdqcsA2ZJWu0mnqlclVC3enzFn2SY8CWTuiXKUXY3C1cMkrBEhISETJkyYOHFiSEgI86MkEklQUJCLi4uPjw9eGBYW5uzsTIqCw8rkAKDReSgwMEey0X6qgGEBfbmjrinBYu1CWGs0mnXrNmAYNvXtf3mElaHpQeYc5nnN90NT71Fq6y1ptds4tV9nSHZmSndlPZTX+5DC5tYdyKs/SLADOj29L1crqUOypLsytXOAoLcVN6bUoHUW0cTVvgeyZy9d5xslXMgWziNMBoLC1cMqrBFhYWGTJ08eO3ZsQEAA8zk6+Hy+m5ubRqNRKBSwMjkA0DDqGggMzOo22k8VMCyM+t8VGMlG9y+BWEItQ9Vq9RtvvIVh2NR3Pv4slDczQuB9iOc5328Bu0JfW6MJ+NA8IVs52qlCgjOku7KkIVnS3dmyPTmyPTmyvTmy0Nw63PbmyPYgPZ0t+yZLinI/dqRrA9VIVa9L0qrqFfHigLjKRfuzZvuve6iqjwm+Ci/zCNOGq0dAWCPOnDnz8ssvOzk5eXh4tLS0GK2PC+uEhARi6FoDK5MDAAAAgB0y6joSjGSj+5dALDEoQ1UqFdLWTmOfePkvn73wxt+mPPfCl6EFJG29Qqet0Rx8mwjyeke6RBvAzpTuypJ+kyUN0dk3WdJvsqS7dCFqfUm9Prl6LVq6PEG8PF4cEFe5JEa0YF+Wt/86XFXPDBd8cfShqh4xYY0Qi8XTp09/9NFHX375Zfr8EEphDSuTAwAAAAAA2DUmCGuNRqNWq7ds2fbEExMwHW9+7IOWjEHaGr3LuDxevDJBvCaxam1S9XqivNYp7O3pWpFNsh3pku3pkm2c2q0ESb0huRoPVK+MFy+L006u5xslnB+aOct/nSFVPcLCGr9FAQEBkydPdnJycnNzKyuj+M1EEtawMjkAAAAAAIADYJqwRqhUKj6fr1AonJzGTJj0vGcYH9fWvlHCJTGipbGVy+LEK+PFqxKq1qDMkKTqDcnVG1NqNqfWbE6tCUqr3YJ0dlrtVk7tVo7285a02qC02s2pNZtStFHqh5JaF6j2j6n0ixYtihIuZAvn7MmYtWQtWr1cX1WPirDGKSsrc3Nzc3Jymjhx4uzZs4kKGxfW0dHRLi4usDI5AAAAAACAA2COsMb517/+jWHYs7/9k2cYf86J8nknKxayhYuihIujRf4xlUher4gXr0qoQskhKIC9PlkrspFt0n1AtiG5GtfTREm9LK5SF6gW+USiOUAqvHdneC1ZS5wGhGgz1sc9+pjTtGksa9800wgLC3vzzTednJzGjRv38ccfnzlzBglrDofz4osvLly4EFYmBwAAAAAAcAAsEtZqtfr99z/EMGzck5N/9+/FXx0smnuiAg9dL44W4dHrFfHilQlahY1i2Ehnr02qXpdUvVZnqHxNYtXqxKpVCVUr47VRaiSp8UD1/JPamfU8v0n3XLz2i6Nln+up6v8eufzrV9/GMMx2gsHp6emurq5jx4599NFHn376aViZHAAAAAAAwJGwSFhrNBq1Wr1mzbpx48ZjGPboY2Ne+esnHt9kzztJIa8D4iqXxYmXx4tXxItX6nQ2yVYmiFfGi1fEi5fFaUPU/jFDJDUKVM8+Xj7rWLlnhODLXZyZi9fqS+r/Hrn8xn/8MQxzdX3XqrfLOpSVlYnF4tHuBQAAAAAAAGBNLBXWCLVaHRMT9+KLzuiNxmdecXl/xWGivPaNEiGFjVJEdDqbbCg4TdTTvlFDJPWcE+Xex8u9IgQzwwVfHi3zCE6jFNbvzA/GMGzKlOdhwUIAAAAAAABgZLCOsMbh8Xiurv9A8nr8xOde+/sX7htjFrArFrKFPpHCRVFC3yihX7TIL1qrs0m2OForpn2jhD6RQpRLPf+kNkqtldQRgi+Paier/lxPWP97z9kXp/8fhmFjx46FSTYAAAAAAACAEcPKwhqhUCgWLFiE8kMwDHMaO+6FN/7+twXbZu47jUQ20tmUhoLTC9gV805qQ9Qo8eNhlDrsYUb13+ZufvvvH/57z1m0+Y817PG/fB7DsJdffhVWAgcAAAAAAABGkmER1jhCoXDJkoAXXvgNPu/1xCnT3nh/7nu+u/6z5dS8kxUkm3uiYu6JciSmcT3tSZDUSEB/tD3ztx/OH/fkZJ1wf2Lq9I8nvfjGo485YRjm57cY5tkAAAAAAAAARpjhFdY4crn80KHDLi5/xoby1K+mvvDme29+NH/G8sPvrz7+8eZEr2MCrZiOEHwVXvbl0bIvjpb9Z+/Zd5eHT5+95bX35012dsEP/+wzj+XLV+IL1jz77PM8Hm84+g8AAAAAAAAA9IyQsMZBi8uEhYXNn+/7xz/+acyYsZjpTJ3qHBYWhs9Vp1KpIJ0aAAAAAAAAGF1GWljro1Qq+Xx+aGiov/9qf//Vbm7/9847f33nnb++9dbbr7/+BwzDpk599Z13/rpy5bqwsDC04uMI9xAAAAAAAAAAjDL6whoAAAAAAAAAHAAQ1gAAAAAAAABgBUBYAwAAAAAAAIAVAGENAAAAAAAAAFYAhDUAAAAAAAAAWAEQ1gAAAAAAAABgBUBYAwAAAAAAAIAVAGENAAAAAAAAAFYAhDUAAAAAAAAAWAEQ1gAAAAAAAABgBUBYAwAAAAAAAIAVAGENAAAAAAAAAFYAhDUAAAAAAAAAWAEQ1gAAAAAAAABgBUBYkyHdDgAAAAAAAABgAgjrIejfDgAAAAAAAABgAgjrIaDbAdoaAAAAAAAAMBUQ1g/BVTUIawAAAAAAAMBUQFg/hCisQVsDAAAAAAAAJgHCWgtJVYOwBgAAAAAAAEwChLUWfWEN2hoAAAAAAABgDghrjcaAqgZhDQAAAAAAADAHhLVGY1hYg7YGAAAAAAAAGALCegggpgEAAAAAAADzAGE9BBDWAAAAAAAAgHmAsB4CCGsAAAAAAADAPEBYDwGENQAAAAAAAGAeIKyHAMIaAAAAAAAAMA8Q1kMAYQ0AAAAAAACYBwjrIYCwBgAAAAAAAMwDhPUQQFgDAAAAAAAA5gHCegggrAEAAAAAAADzAGE9BBDWAAAAAAAAgHmAsB4CCGsAAAAAAADAPEBYDwGENQAAAAAAAGAeIKyHAMIaAADg/9uxlyRHYSCAgn3/S3sWHTHY6FcqSp7FZIYWNJYtYKF4DQA5wvqDsAYAIEdYf/h9HIZhGIZhGIaRG+9tKawNwzAMwzAMIzne2/K/DmsAAKgirAEAoICwBgCAAsIaAAAKCGsAACggrAEAoICwBgCAAsIaAAAKCGsAACggrAEAoICwBgCAAsIaAAAKCGuAoZ+fvU3yxPzRnOBaW5fUTi5fJfeD5b8PcIINCKAvl2in2/rvcXswnz9aa56w38n3yJwn/4QAfIc9CKAjHpRBTxaqCuvRcvEQ797R/BZyz+f3THB+4rEDnGDTAbjsVmAw3eIhePvx9qOfVVinL2/rfudfmdx7/Hqez08sDfCETQfgEkmxbtFOvth+tDW5nbAM2aX5EpPLaMN6+d3vhHX6TgEK2XQALuno3Aq7RFjnGjFdlufCevlvxu25RZ5q7UMDSLPpAFwmSdedMzozOrn1UXu89Wp2mZVPUvU9rG+/0y3pyQOch3XE1mMBOMemA3CZd217/PqMy9GcySqJC4gs8Rrn5mjRSZ7eevrVhHV7sr3O9mB0m4mw3joPcIhNB+CSCOvb1yMvSiMJe1trEqOTGwnmeLzaS8J69+Tyf4PgwwQ4zaYDcMmFdZtx87Cbp3n3z/eDSD5uFXl3TuRnt8J6dDvL61lKPGeAE2w6AJetsI68Fu3OiQdfm6pt0XZDf3k8uZ5J9d5qPh3WW9ezRUwD/5ANCODSfevcvo1uvzWyXCVyPU/CejKtO3/evqM31m1tJ3589JXIU02sAlDOdgNwibzrXYZs+vzkqroviZchG1zxlsuJL45OBmt+6xe6n85PamvgO+w1AJdIgT0M663X1e0L2nlYT1acX2QuPdNhHe/1RFgHPwUoZ68BuESCr5t6I7tLLCcv31i3Fzb689VE6taNtEvfruf9YGnrqkarBy8b4BCbDsBlmWJbrTzK4ie6NdnOmddwVXGeuMFXE9YnlgA4wfYEAAAFhDUAABQQ1gAAUEBYAwBAAWENAAAFhDUAABQQ1gAAUEBYAwBAAWENAAAFhDUAABT4A7ECoI0P1tHiAAAAAElFTkSuQmCC"><br></div><p>另外，方法处理完成之后需要给客户端发送响应信息，比如告诉客户端要跳转到哪一个页面，采用的是服务器端跳转还是客户端方式跳转，或者发送一些数据到客户端显示，那么该如何发送响应信息给客户端呢，在此，我们可以设计一个View(视图)类，对这些操作属性进行封装，其中包括跳转的路径 、展现到页面的数据、跳转方式。这就是AnnotationHandleServlet的实现思路。</p><h4 id="2-2-在Web-xml文件中注册AnnotationHandleServlet"><a href="#2-2-在Web-xml文件中注册AnnotationHandleServlet" class="headerlink" title="2.2 在Web.xml文件中注册AnnotationHandleServlet"></a>2.2 在Web.xml文件中注册AnnotationHandleServlet</h4><p>在web.xml文件中配置AnnotationHandleServlet和需要扫描的包</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;AnnotationHandleServlet&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-<span class="class"><span class="keyword">class</span>&gt;<span class="title">me</span>.<span class="title">gacl</span>.<span class="title">web</span>.<span class="title">controller</span>.<span class="title">AnnotationHandleServlet</span>&lt;/<span class="title">servlet</span>-<span class="title">class</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">init</span>-<span class="title">param</span>&gt;</span></span><br><span class="line"><span class="class">         &lt;<span class="title">description</span>&gt;配置要扫描包及其子包, 如果有多个包,以逗号分隔&lt;/<span class="title">description</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">param</span>-<span class="title">name</span>&gt;<span class="title">basePackage</span>&lt;/<span class="title">param</span>-<span class="title">name</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">param</span>-<span class="title">value</span>&gt;<span class="title">me</span>.<span class="title">gacl</span>.<span class="title">web</span>.<span class="title">controller</span>,<span class="title">me</span>.<span class="title">gacl</span>.<span class="title">web</span>.<span class="title">UI</span>&lt;/<span class="title">param</span>-<span class="title">value</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;!-- &lt;<span class="title">param</span>-<span class="title">value</span>&gt;<span class="title">me</span>.<span class="title">gacl</span>.<span class="title">web</span>.<span class="title">controller</span>&lt;/<span class="title">param</span>-<span class="title">value</span>&gt; --&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">init</span>-<span class="title">param</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">load</span>-<span class="title">on</span>-<span class="title">startup</span>&gt;1&lt;/<span class="title">load</span>-<span class="title">on</span>-<span class="title">startup</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">servlet</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">  &lt;<span class="title">servlet</span>-<span class="title">mapping</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">servlet</span>-<span class="title">name</span>&gt;<span class="title">AnnotationHandleServlet</span>&lt;/<span class="title">servlet</span>-<span class="title">name</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;!-- 拦截所有以.<span class="title">do</span>后缀结尾的请求 --&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">url</span>-<span class="title">pattern</span>&gt;*.<span class="title">do</span>&lt;/<span class="title">url</span>-<span class="title">pattern</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">servlet</span>-<span class="title">mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="三、相关代码讲解"><a href="#三、相关代码讲解" class="headerlink" title="三、相关代码讲解"></a>三、相关代码讲解</h3><h4 id="3-1-BeanUtils"><a href="#3-1-BeanUtils" class="headerlink" title="3.1 BeanUtils"></a>3.1 BeanUtils</h4><p>BeanUtils工具类主要是用来处理一些反射的操作</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对java反射中操作的一些封装</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanUtils</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 实例化一个class </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz Person.class</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">instanceClass</span><span class="params">(Class&lt;T&gt; clazz)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!clazz.isInterface())&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> clazz.newInstance();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 通过构造函数实例化</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ctor</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> InstantiationException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalAccessException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> InvocationTargetException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">instanceClass</span><span class="params">(Constructor&lt;T&gt; ctor, Object... args)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> IllegalArgumentException, InstantiationException, </span></span><br><span class="line"><span class="function">            IllegalAccessException, InvocationTargetException</span>&#123;</span><br><span class="line">        makeAccessible(ctor);</span><br><span class="line">        <span class="keyword">return</span> ctor.newInstance(args);<span class="comment">//调用构造方法实例化</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查找某个class的方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> methodName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> paramTypes</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NoSuchMethodException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  Method <span class="title">findMethod</span><span class="params">(Class&lt;?&gt; clazz, String methodName, Class&lt;?&gt;... paramTypes)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> clazz.getMethod(methodName, paramTypes);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> findDeclaredMethod(clazz, methodName, paramTypes);<span class="comment">//返回共有的方法</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Method <span class="title">findDeclaredMethod</span><span class="params">(Class&lt;?&gt; clazz, String methodName, Class&lt;?&gt;[] paramTypes)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> clazz.getDeclaredMethod(methodName, paramTypes);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (NoSuchMethodException ex) &#123;</span><br><span class="line">            <span class="keyword">if</span> (clazz.getSuperclass() != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> findDeclaredMethod(clazz.getSuperclass(), methodName, paramTypes);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Method [] findDeclaredMethods(Class&lt;?&gt; clazz)&#123;</span><br><span class="line">            <span class="keyword">return</span> clazz.getDeclaredMethods();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">makeAccessible</span><span class="params">(Constructor&lt;?&gt; ctor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((!Modifier.isPublic(ctor.getModifiers()) </span><br><span class="line">                || !Modifier.isPublic(ctor.getDeclaringClass().getModifiers()))</span><br><span class="line">                &amp;&amp; !ctor.isAccessible()) &#123;</span><br><span class="line">            ctor.setAccessible(<span class="keyword">true</span>);<span class="comment">//如果是私有的 设置为true 使其可以访问</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Field[] findDeclaredFields(Class&lt;?&gt; clazz)&#123;</span><br><span class="line">        <span class="keyword">return</span> clazz.getDeclaredFields();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-RequestMapingMap"><a href="#3-2-RequestMapingMap" class="headerlink" title="3.2 RequestMapingMap"></a>3.2 RequestMapingMap</h4><p>该类是用于存储方法的访问路径，AnnotationHandleServlet初始化时会将类(使用Controller注解标注的那些类)中使用了RequestMapping注解标注的那些方法的访问路径存储到RequestMapingMap中。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@ClassName</span>: RequestMapingMap</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Description</span>: 存储方法的访问路径</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span>: 孤傲苍狼</span></span><br><span class="line"><span class="comment">* <span class="doctag">@date</span>: 2014-11-16 下午6:31:43</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RequestMapingMap</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Field</span>: requesetMap</span></span><br><span class="line"><span class="comment">    *          用于存储方法的访问路径</span></span><br><span class="line"><span class="comment">    */</span> </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Class&lt;?&gt;&gt; requesetMap = <span class="keyword">new</span> HashMap&lt;String, Class&lt;?&gt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Class&lt;?&gt; getClassName(String path) &#123;</span><br><span class="line">        <span class="keyword">return</span> requesetMap.get(path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String path, Class&lt;?&gt; className)</span> </span>&#123;</span><br><span class="line">        requesetMap.put(path, className);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String, Class&lt;?&gt;&gt; getRequesetMap() &#123;</span><br><span class="line">        <span class="keyword">return</span> requesetMap;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-3-ScanClassUtil"><a href="#3-3-ScanClassUtil" class="headerlink" title="3.3. ScanClassUtil"></a>3.3. ScanClassUtil</h4><p>扫描某个包下面的类的工具类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileFilter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.JarURLConnection;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.net.URLDecoder;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.jar.JarEntry;</span><br><span class="line"><span class="keyword">import</span> java.util.jar.JarFile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@ClassName</span>: ScanClassUtil</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Description</span>: 扫描指定包或者jar包下面的class</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span>: 孤傲苍狼</span></span><br><span class="line"><span class="comment">* <span class="doctag">@date</span>: 2014-11-16 下午6:34:10</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScanClassUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 从包package中获取所有的Class</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> pack</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Set&lt;Class&lt;?&gt;&gt; getClasses(String pack) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第一个class类的集合</span></span><br><span class="line">        Set&lt;Class&lt;?&gt;&gt; classes = <span class="keyword">new</span> LinkedHashSet&lt;Class&lt;?&gt;&gt;();</span><br><span class="line">        <span class="comment">// 是否循环迭代</span></span><br><span class="line">        <span class="keyword">boolean</span> recursive = <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// 获取包的名字 并进行替换</span></span><br><span class="line">        String packageName = pack;</span><br><span class="line">        String packageDirName = packageName.replace(<span class="string">'.'</span>, <span class="string">'/'</span>);</span><br><span class="line">        <span class="comment">// 定义一个枚举的集合 并进行循环来处理这个目录下的things</span></span><br><span class="line">        Enumeration&lt;URL&gt; dirs;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dirs = Thread.currentThread().getContextClassLoader().getResources(</span><br><span class="line">                    packageDirName);</span><br><span class="line">            <span class="comment">// 循环迭代下去</span></span><br><span class="line">            <span class="keyword">while</span> (dirs.hasMoreElements()) &#123;</span><br><span class="line">                <span class="comment">// 获取下一个元素</span></span><br><span class="line">                URL url = dirs.nextElement();</span><br><span class="line">                <span class="comment">// 得到协议的名称</span></span><br><span class="line">                String protocol = url.getProtocol();</span><br><span class="line">                <span class="comment">// 如果是以文件的形式保存在服务器上</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="string">"file"</span>.equals(protocol)) &#123;</span><br><span class="line">                    System.err.println(<span class="string">"file类型的扫描"</span>);</span><br><span class="line">                    <span class="comment">// 获取包的物理路径</span></span><br><span class="line">                    String filePath = URLDecoder.decode(url.getFile(), <span class="string">"UTF-8"</span>);</span><br><span class="line">                    <span class="comment">// 以文件的方式扫描整个包下的文件 并添加到集合中</span></span><br><span class="line">                    findAndAddClassesInPackageByFile(packageName, filePath,</span><br><span class="line">                            recursive, classes);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"jar"</span>.equals(protocol)) &#123;</span><br><span class="line">                    <span class="comment">// 如果是jar包文件</span></span><br><span class="line">                    <span class="comment">// 定义一个JarFile</span></span><br><span class="line">                    System.err.println(<span class="string">"jar类型的扫描"</span>);</span><br><span class="line">                    JarFile jar;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="comment">// 获取jar</span></span><br><span class="line">                        jar = ((JarURLConnection) url.openConnection())</span><br><span class="line">                                .getJarFile();</span><br><span class="line">                        <span class="comment">// 从此jar包 得到一个枚举类</span></span><br><span class="line">                        Enumeration&lt;JarEntry&gt; entries = jar.entries();</span><br><span class="line">                        <span class="comment">// 同样的进行循环迭代</span></span><br><span class="line">                        <span class="keyword">while</span> (entries.hasMoreElements()) &#123;</span><br><span class="line">                            <span class="comment">// 获取jar里的一个实体 可以是目录 和一些jar包里的其他文件 如META-INF等文件</span></span><br><span class="line">                            JarEntry entry = entries.nextElement();</span><br><span class="line">                            String name = entry.getName();</span><br><span class="line">                            <span class="comment">// 如果是以/开头的</span></span><br><span class="line">                            <span class="keyword">if</span> (name.charAt(<span class="number">0</span>) == <span class="string">'/'</span>) &#123;</span><br><span class="line">                                <span class="comment">// 获取后面的字符串</span></span><br><span class="line">                                name = name.substring(<span class="number">1</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="comment">// 如果前半部分和定义的包名相同</span></span><br><span class="line">                            <span class="keyword">if</span> (name.startsWith(packageDirName)) &#123;</span><br><span class="line">                                <span class="keyword">int</span> idx = name.lastIndexOf(<span class="string">'/'</span>);</span><br><span class="line">                                <span class="comment">// 如果以"/"结尾 是一个包</span></span><br><span class="line">                                <span class="keyword">if</span> (idx != -<span class="number">1</span>) &#123;</span><br><span class="line">                                    <span class="comment">// 获取包名 把"/"替换成"."</span></span><br><span class="line">                                    packageName = name.substring(<span class="number">0</span>, idx)</span><br><span class="line">                                            .replace(<span class="string">'/'</span>, <span class="string">'.'</span>);</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="comment">// 如果可以迭代下去 并且是一个包</span></span><br><span class="line">                                <span class="keyword">if</span> ((idx != -<span class="number">1</span>) || recursive) &#123;</span><br><span class="line">                                    <span class="comment">// 如果是一个.class文件 而且不是目录</span></span><br><span class="line">                                    <span class="keyword">if</span> (name.endsWith(<span class="string">".class"</span>)</span><br><span class="line">                                            &amp;&amp; !entry.isDirectory()) &#123;</span><br><span class="line">                                        <span class="comment">// 去掉后面的".class" 获取真正的类名</span></span><br><span class="line">                                        String className = name.substring(</span><br><span class="line">                                                packageName.length() + <span class="number">1</span>, name</span><br><span class="line">                                                        .length() - <span class="number">6</span>);</span><br><span class="line">                                        <span class="keyword">try</span> &#123;</span><br><span class="line">                                            <span class="comment">// 添加到classes</span></span><br><span class="line">                                            classes.add(Class</span><br><span class="line">                                                    .forName(packageName + <span class="string">'.'</span></span><br><span class="line">                                                            + className));</span><br><span class="line">                                        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">                                            <span class="comment">// log</span></span><br><span class="line">                                            <span class="comment">// .error("添加用户自定义视图类错误 找不到此类的.class文件");</span></span><br><span class="line">                                            e.printStackTrace();</span><br><span class="line">                                        &#125;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                        <span class="comment">// log.error("在扫描用户定义视图时从jar包获取文件出错");</span></span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> classes;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 以文件的形式来获取包下的所有Class</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> packageName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> packagePath</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> recursive</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> classes</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">findAndAddClassesInPackageByFile</span><span class="params">(String packageName,</span></span></span><br><span class="line"><span class="function"><span class="params">            String packagePath, <span class="keyword">final</span> <span class="keyword">boolean</span> recursive, Set&lt;Class&lt;?&gt;&gt; classes)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 获取此包的目录 建立一个File</span></span><br><span class="line">        File dir = <span class="keyword">new</span> File(packagePath);</span><br><span class="line">        <span class="comment">// 如果不存在或者 也不是目录就直接返回</span></span><br><span class="line">        <span class="keyword">if</span> (!dir.exists() || !dir.isDirectory()) &#123;</span><br><span class="line">            <span class="comment">// log.warn("用户定义包名 " + packageName + " 下没有任何文件");</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果存在 就获取包下的所有文件 包括目录</span></span><br><span class="line">        File[] dirfiles = dir.listFiles(<span class="keyword">new</span> FileFilter() &#123;</span><br><span class="line">            <span class="comment">// 自定义过滤规则 如果可以循环(包含子目录) 或则是以.class结尾的文件(编译好的java类文件)</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (recursive &amp;&amp; file.isDirectory())</span><br><span class="line">                        || (file.getName().endsWith(<span class="string">".class"</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// 循环所有文件</span></span><br><span class="line">        <span class="keyword">for</span> (File file : dirfiles) &#123;</span><br><span class="line">            <span class="comment">// 如果是目录 则继续扫描</span></span><br><span class="line">            <span class="keyword">if</span> (file.isDirectory()) &#123;</span><br><span class="line">                findAndAddClassesInPackageByFile(packageName + <span class="string">"."</span></span><br><span class="line">                        + file.getName(), file.getAbsolutePath(), recursive,</span><br><span class="line">                        classes);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 如果是java类文件 去掉后面的.class 只留下类名</span></span><br><span class="line">                String className = file.getName().substring(<span class="number">0</span>,</span><br><span class="line">                        file.getName().length() - <span class="number">6</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// 添加到集合中去</span></span><br><span class="line">                    <span class="comment">//classes.add(Class.forName(packageName + '.' + className));</span></span><br><span class="line">                     <span class="comment">//经过回复同学的提醒，这里用forName有一些不好，会触发static方法，没有使用classLoader的load干净</span></span><br><span class="line">                    classes.add(Thread.currentThread().getContextClassLoader().loadClass(packageName + <span class="string">'.'</span> + className));  </span><br><span class="line">                    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">                    <span class="comment">// log.error("添加用户自定义视图类错误 找不到此类的.class文件");</span></span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-4-WebContext"><a href="#3-4-WebContext" class="headerlink" title="3.4 WebContext"></a>3.4 WebContext</h4><p>WebContext主要是用来存储当前线程中的HttpServletRequest和HttpServletResponse，当别的地方需要使用HttpServletRequest和HttpServletResponse，就可以通过requestHodler和responseHodler获取，通过WebContext.java这个类 ，我们可以在作为Controller的普通java类中获取当前请求的request、response或者session相关请求类的实例变量，并且线程间互不干扰的，因为用到了ThreadLocal这个类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.web.context;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * WebContext主要是用来存储当前线程中的HttpServletRequest和HttpServletResponse</span></span><br><span class="line"><span class="comment"> * 当别的地方需要使用HttpServletRequest和HttpServletResponse，就可以通过requestHodler和responseHodler获取</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebContext</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ThreadLocal&lt;HttpServletRequest&gt; requestHodler = <span class="keyword">new</span> ThreadLocal&lt;HttpServletRequest&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ThreadLocal&lt;HttpServletResponse&gt; responseHodler = <span class="keyword">new</span> ThreadLocal&lt;HttpServletResponse&gt;();</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> HttpServletRequest <span class="title">getRequest</span><span class="params">()</span></span>&#123;</span><br><span class="line">           <span class="keyword">return</span> requestHodler.get();</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> HttpSession <span class="title">getSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">           <span class="keyword">return</span> requestHodler.get().getSession();</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletContext <span class="title">getServletContext</span><span class="params">()</span></span>&#123;</span><br><span class="line">           <span class="keyword">return</span> requestHodler.get().getSession().getServletContext();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> HttpServletResponse <span class="title">getResponse</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> responseHodler.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-5-View"><a href="#3-5-View" class="headerlink" title="3.5 View"></a>3.5 View</h4><p>一个视图类，对一些客户端响应操作进行封装，其中包括跳转的路径 、展现到页面的数据、跳转方式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.web.view;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 视图模型</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">View</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String url;<span class="comment">//跳转路径</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String dispathAction = DispatchActionConstant.FORWARD;<span class="comment">//跳转方式</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">View</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.url = url;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">View</span><span class="params">(String url,String name,Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.url = url;</span><br><span class="line">        ViewData view = <span class="keyword">new</span> ViewData();</span><br><span class="line">        view.put(name, value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">View</span><span class="params">(String url,String name,String dispathAction ,Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dispathAction = dispathAction;</span><br><span class="line">        <span class="keyword">this</span>.url = url;</span><br><span class="line">        ViewData view = <span class="keyword">new</span> ViewData();<span class="comment">//请看后面的代码</span></span><br><span class="line">        view.put(name, value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUrl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> url;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUrl</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.url = url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDispathAction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dispathAction;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDispathAction</span><span class="params">(String dispathAction)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dispathAction = dispathAction;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-6-ViewData"><a href="#3-6-ViewData" class="headerlink" title="3.6 ViewData"></a>3.6 ViewData</h4><p>request范围的数据存储类，当需要发送数据到客户端显示时，就可以将要显示的数据存储到ViewData类中。使用ViewData.put(String name,Object value)方法往request对象中存数据。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.web.view;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> me.gacl.web.context.WebContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 需要发送到客户端显示的数据模型</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewData</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> HttpServletRequest request;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ViewData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        initRequest();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initRequest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//从requestHodler中获取request对象</span></span><br><span class="line">        <span class="keyword">this</span>.request = WebContext.requestHodler.get();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String name,Object value)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.request.setAttribute(name, value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-7-DispatchActionConstant"><a href="#3-7-DispatchActionConstant" class="headerlink" title="3.7 DispatchActionConstant"></a>3.7 DispatchActionConstant</h4><p>一个跳转方式的常量类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.web.view;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 跳转常量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DispatchActionConstant</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String FORWARD = <span class="string">"forward"</span>;<span class="comment">//服务器跳转</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String REDIRECT = <span class="string">"redirect"</span>;<span class="comment">//客户端跳转</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="四、Controller注解和RequestMapping注解测试"><a href="#四、Controller注解和RequestMapping注解测试" class="headerlink" title="四、Controller注解和RequestMapping注解测试"></a>四、Controller注解和RequestMapping注解测试</h3><h4 id="4-1-简单测试"><a href="#4-1-简单测试" class="headerlink" title="4.1 简单测试"></a>4.1 简单测试</h4><p>编写一个LoginUI类，用于跳转到具体的jsp页面，代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.web.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> me.gacl.annotation.Controller;</span><br><span class="line"><span class="keyword">import</span> me.gacl.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> me.gacl.web.view.View;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用Controller注解标注LoginUI类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginUI</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//使用RequestMapping注解指明forward1方法的访问路径  </span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"LoginUI/Login2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">forward1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//执行完forward1方法之后返回的视图</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> View(<span class="string">"/login2.jsp"</span>);  </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//使用RequestMapping注解指明forward2方法的访问路径  </span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"LoginUI/Login3"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">forward2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//执行完forward2方法之后返回的视图</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> View(<span class="string">"/login3.jsp"</span>);  </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果如下</p><div align="center"><br><img src="https://mmbiz.qpic.cn/mmbiz_gif/sG1icpcmhbiaDsj6QpGG16SVyh9JVX054wSHXUZIY5GKiaU44tBQjb74JzdDibUywjj0kxticOTKAM9siaWScI5aH8rQ/640?tp=webp&wxfrom=5&wx_lazy=1"><br></div><h4 id="4-2-复杂测试"><a href="#4-2-复杂测试" class="headerlink" title="4.2 复杂测试"></a>4.2 复杂测试</h4><p>编写用于处理用户登录请求的Controller，代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.gacl.web.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> me.gacl.annotation.Controller;</span><br><span class="line"><span class="keyword">import</span> me.gacl.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> me.gacl.web.context.WebContext;</span><br><span class="line"><span class="keyword">import</span> me.gacl.web.view.View;</span><br><span class="line"><span class="keyword">import</span> me.gacl.web.view.ViewData;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* <span class="doctag">@ClassName</span>: LoginServlet2</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Description</span>:处理用户登录的Servlet，</span></span><br><span class="line"><span class="comment">* LoginServlet现在就是一个普通的java类，不是一个真正的Servlet</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span>: 孤傲苍狼</span></span><br><span class="line"><span class="comment">* <span class="doctag">@date</span>: 2014-10-8 上午12:07:58</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Controller</span> <span class="comment">//使用Controller注解标注LoginServlet2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Method</span>: loginHandle</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>:处理以普通方式提交的请求</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Anthor</span>:孤傲苍狼</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> View</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">//使用RequestMapping注解标注loginHandle方法，指明loginHandle方法的访问路径是login/handle</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"login/handle"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">loginHandle</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建一个ViewData对象，用于存储需要发送到客户端的响应数据</span></span><br><span class="line">        ViewData viewData = <span class="keyword">new</span> ViewData();</span><br><span class="line">        <span class="comment">//通过WebContext类获取当前线程中的HttpServletRequest对象</span></span><br><span class="line">        HttpServletRequest request = WebContext.requestHodler.get();</span><br><span class="line">        <span class="comment">//接收提交上来的参数</span></span><br><span class="line">        String username =request.getParameter(<span class="string">"usename"</span>);</span><br><span class="line">        String pwd = request.getParameter(<span class="string">"pwd"</span>);</span><br><span class="line">        <span class="keyword">if</span> (username.equals(<span class="string">"gacl"</span>) &amp;&amp; pwd.equals(<span class="string">"xdp"</span>)) &#123;</span><br><span class="line">            request.getSession().setAttribute(<span class="string">"usename"</span>, username);</span><br><span class="line">            <span class="comment">//将响应数据存储到ViewData对象中</span></span><br><span class="line">            viewData.put(<span class="string">"msg"</span>, <span class="string">"欢迎您！"</span>+username);</span><br><span class="line">            <span class="comment">//返回一个View对象，指明要跳转的视图的路径</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> View(<span class="string">"/index.jsp"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//将响应数据存储到ViewData对象中</span></span><br><span class="line">            viewData.put(<span class="string">"msg"</span>, <span class="string">"登录失败，请检查用户名和密码是否正确！"</span>);</span><br><span class="line">            <span class="comment">//返回一个View对象，指明要跳转的视图的路径</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> View(<span class="string">"/login2.jsp"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Method</span>: ajaxLoginHandle</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: 处理以AJAX方式提交的请求</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Anthor</span>:孤傲苍狼</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">    */</span> </span><br><span class="line">    <span class="comment">//使用RequestMapping注解标注ajaxLoginHandle方法，指明ajaxLoginHandle方法的访问路径是ajaxLogin/handle</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"ajaxLogin/handle"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ajaxLoginHandle</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        <span class="comment">//通过WebContext类获取当前线程中的HttpServletRequest对象</span></span><br><span class="line">        HttpServletRequest request = WebContext.requestHodler.get();</span><br><span class="line">        <span class="comment">//接收提交上来的参数</span></span><br><span class="line">        String username =request.getParameter(<span class="string">"usename"</span>);</span><br><span class="line">        String pwd = request.getParameter(<span class="string">"pwd"</span>);</span><br><span class="line">        <span class="comment">//通过WebContext类获取当前线程中的HttpServletResponse对象</span></span><br><span class="line">        HttpServletResponse response = WebContext.responseHodler.get();</span><br><span class="line">        <span class="keyword">if</span> (username.equals(<span class="string">"gacl"</span>) &amp;&amp; pwd.equals(<span class="string">"xdp"</span>)) &#123;</span><br><span class="line">            request.getSession().setAttribute(<span class="string">"usename"</span>, username);</span><br><span class="line">            response.getWriter().write(<span class="string">"success"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            response.getWriter().write(<span class="string">"fail"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编写用于测试的jsp页面，代码如下所示：</p><p>Login2.jsp登录页面<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;login2.jsp登录页面&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;fieldset&gt;</span><br><span class="line">        &lt;legend&gt;用户登录&lt;/legend&gt;</span><br><span class="line">        &lt;form action=<span class="string">"$&#123;pageContext.request.contextPath&#125;/login/handle.do"</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line">            用户名：&lt;input type=<span class="string">"text"</span> value=<span class="string">"$&#123;param.usename&#125;"</span> name=<span class="string">"usename"</span>&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            密码：&lt;input type=<span class="string">"text"</span> value=<span class="string">"$&#123;param.pwd&#125;"</span> name=<span class="string">"pwd"</span>&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            &lt;input type=<span class="string">"submit"</span> value=<span class="string">"登录"</span>/&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/fieldset&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    &lt;label style="color: red;"&gt;$&#123;msg&#125;&lt;/label&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>login3.jsp登录页面<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;login3登录页面&lt;/title&gt;</span><br><span class="line">    &lt;script type="text/javascript" src="$&#123;pageContext.request.contextPath&#125;/ajaxUtil.js"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type="text/javascript" src="$&#123;pageContext.request.contextPath&#125;/js/Utils.js"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    </span><br><span class="line">        <span class="function">function <span class="title">login</span><span class="params">()</span></span>&#123;</span><br><span class="line">             Ajax.request(&#123;</span><br><span class="line">                 url : <span class="string">"$&#123;pageContext.request.contextPath&#125;/ajaxLogin/handle.do"</span>,</span><br><span class="line">                 data : &#123;</span><br><span class="line">                     <span class="string">"usename"</span> : document.getElementById(<span class="string">"usename"</span>).value,</span><br><span class="line">                     <span class="string">"pwd"</span> : document.getElementById(<span class="string">"pwd"</span>).value</span><br><span class="line">                 &#125;,</span><br><span class="line">                 success : function(xhr) &#123;</span><br><span class="line">                     onData(xhr.responseText);</span><br><span class="line">                 &#125;,</span><br><span class="line">                 error : function(xhr) &#123;</span><br><span class="line">                     </span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function">function <span class="title">onData</span><span class="params">(responseText)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(responseText==<span class="string">"success"</span>)&#123;</span><br><span class="line">                <span class="comment">//window.location.href="index.jsp";//改变url地址</span></span><br><span class="line">                <span class="comment">/*</span></span><br><span class="line"><span class="comment">                window.location.replace("url")：将地址替换成新url，</span></span><br><span class="line"><span class="comment">                该方法通过指定URL替换当前缓存在历史里（客户端）的项目，因此当使用replace方法之后，</span></span><br><span class="line"><span class="comment">                你不能通过“前进”和“后 退”来访问已经被替换的URL，这个特点对于做一些过渡页面非常有用！</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">                location.replace(g_basePath+<span class="string">"/index.jsp"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                alert(<span class="string">"用户名和密码错误"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;fieldset&gt;</span><br><span class="line">        &lt;legend&gt;用户登录&lt;/legend&gt;</span><br><span class="line">        &lt;form&gt;</span><br><span class="line">            用户名：&lt;input type=<span class="string">"text"</span> name=<span class="string">"usename"</span> id=<span class="string">"usename"</span>&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            密码：&lt;input type=<span class="string">"text"</span> name=<span class="string">"pwd"</span> id=<span class="string">"pwd"</span>&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            &lt;input type=<span class="string">"button"</span> value=<span class="string">"登录"</span> onclick=<span class="string">"login()"</span>/&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/fieldset&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>index.jsp页面代码如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span> pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;首页&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;body&gt;</span><br><span class="line">        登录的用户名：$&#123;usename&#125;</span><br><span class="line">    &lt;br/&gt;</span><br><span class="line">    $&#123;msg&#125;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>jsp页面中使用到的Utils.js代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//立即执行的js</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//获取contextPath</span></span><br><span class="line">    <span class="keyword">var</span> contextPath = getContextPath();</span><br><span class="line">    <span class="comment">//获取basePath</span></span><br><span class="line">    <span class="keyword">var</span> basePath = getBasePath();</span><br><span class="line">    <span class="comment">//将获取到contextPath和basePath分别赋值给window对象的g_contextPath属性和g_basePath属性</span></span><br><span class="line">    <span class="built_in">window</span>.g_contextPath = contextPath;</span><br><span class="line">    <span class="built_in">window</span>.g_basePath = basePath;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author 孤傲苍狼</span></span><br><span class="line"><span class="comment"> * 获得项目根路径，等价于jsp页面中</span></span><br><span class="line"><span class="comment"> *  &lt;%</span></span><br><span class="line"><span class="comment">        String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";</span></span><br><span class="line"><span class="comment">    %&gt;</span></span><br><span class="line"><span class="comment"> * 使用方法：getBasePath();</span></span><br><span class="line"><span class="comment"> * @returns 项目的根路径</span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBasePath</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> curWwwPath = <span class="built_in">window</span>.document.location.href;</span><br><span class="line">    <span class="keyword">var</span> pathName = <span class="built_in">window</span>.document.location.pathname;</span><br><span class="line">    <span class="keyword">var</span> pos = curWwwPath.indexOf(pathName);</span><br><span class="line">    <span class="keyword">var</span> localhostPath = curWwwPath.substring(<span class="number">0</span>, pos);</span><br><span class="line">    <span class="keyword">var</span> projectName = pathName.substring(<span class="number">0</span>, pathName.substr(<span class="number">1</span>).indexOf(<span class="string">'/'</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> (localhostPath + projectName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author 孤傲苍狼</span></span><br><span class="line"><span class="comment"> * 获取Web应用的contextPath，等价于jsp页面中</span></span><br><span class="line"><span class="comment"> *  &lt;%</span></span><br><span class="line"><span class="comment">        String path = request.getContextPath();</span></span><br><span class="line"><span class="comment">    %&gt;</span></span><br><span class="line"><span class="comment"> * 使用方法:getContextPath();</span></span><br><span class="line"><span class="comment"> * @returns /项目名称(/EasyUIStudy_20141104)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getContextPath</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>.document.location.pathname.substring(<span class="number">0</span>, <span class="built_in">window</span>.document.location.pathname.indexOf(<span class="string">'\/'</span>, <span class="number">1</span>));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>测试结果如下：</p><div align="center"><br><img src="https://mmbiz.qpic.cn/mmbiz_gif/sG1icpcmhbiaDsj6QpGG16SVyh9JVX054wib4XmDXIZOrUOOSsv9r078XdTDnxGAcOkJNX81r0A6304Hm3rhJpdpg/640?tp=webp&wxfrom=5&wx_lazy=1"><br></div><div align="center"><br><img src="https://mmbiz.qpic.cn/mmbiz_gif/sG1icpcmhbiaDsj6QpGG16SVyh9JVX054wKZwAYHuZzvXeTBHMsHPibhlkYxJNEib0GUgzpeoWjdhUMMF91MTH2CpQ/640?tp=webp&wxfrom=5&wx_lazy=1"><br></div><p>以上就是对Spring MVC的简单模拟。</p>]]></content>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 020</title>
      <link href="/2018/03/25/LeetCode-Notes-020/"/>
      <url>/2018/03/25/LeetCode-Notes-020/</url>
      <content type="html"><![CDATA[<h3 id="Count-of-Range-Sum"><a href="#Count-of-Range-Sum" class="headerlink" title="Count of Range Sum"></a>Count of Range Sum</h3><p>Given an integer array <code>nums</code>, return the number of range sums that lie in <code>[lower, upper]</code> inclusive.<br>Range sum <code>S(i, j)</code> is defined as the sum of the elements in <code>nums</code> between indices <code>i</code> and <code>j</code> (<code>i</code> ≤ <code>j</code>), inclusive.</p><p><strong>Note:</strong><br>A naive algorithm of $O(n^2)$ is trivial. You MUST do better than that.</p><p><strong>Example:</strong><br>Given <code>nums = [-2, 5, -1]</code>, <code>lower = -2</code>, <code>upper = 2</code>,</p><p>Return <code>3</code>.<br>The three ranges are : <code>[0, 0], [2, 2], [0, 2]</code> and their respective sums are: <code>-2, -1, 2</code>.</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wlower, wupper;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">left, right</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  ans += getAns(left, right);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> tmp = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (left.length &amp;&amp; right.length) &#123;</span><br><span class="line">    <span class="keyword">if</span> (left[<span class="number">0</span>] &lt; right[<span class="number">0</span>])</span><br><span class="line">      tmp.push(left.shift());</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      tmp.push(right.shift());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> tmp.concat(left, right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeSort</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a.length === <span class="number">1</span>) </span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> mid = ~~(a.length / <span class="number">2</span>)</span><br><span class="line">    , left = a.slice(<span class="number">0</span>, mid)</span><br><span class="line">    , right = a.slice(mid);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> merge(mergeSort(left), mergeSort(right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; lower</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; upper</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countRangeSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, lower, upper</span>) </span>&#123;</span><br><span class="line">  wlower = lower;</span><br><span class="line">  wupper = upper;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line"></span><br><span class="line">  arr.push(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  nums.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> last = arr[arr.length - <span class="number">1</span>];</span><br><span class="line">    arr.push(last + item);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  mergeSort(arr);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回 b[j] - a[i] 值在 [wlower, wupper] 范围内组数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAns</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> lena = a.length; </span><br><span class="line">  <span class="keyword">var</span> lenb = b.length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> start = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> end = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lenb; i++) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// to get start</span></span><br><span class="line">    <span class="keyword">while</span> (b[i] - a[start] &gt;= wlower) &#123;</span><br><span class="line">      start++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// to get end</span></span><br><span class="line">    <span class="keyword">while</span> (b[i] - a[end] &gt; wupper) &#123;</span><br><span class="line">      end++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sum += start - end;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Count-of-Smaller-Numbers-After-Self"><a href="#Count-of-Smaller-Numbers-After-Self" class="headerlink" title="Count of Smaller Numbers After Self"></a>Count of Smaller Numbers After Self</h3><p>You are given an integer array nums and you have to return a new counts array. The counts array has the property where <code>counts[i]</code> is the number of smaller elements to the right of <code>nums[i]</code>.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given nums = [5, 2, 6, 1]</span><br><span class="line"></span><br><span class="line">To the right of 5 there are 2 smaller elements (2 and 1).</span><br><span class="line">To the right of 2 there is only 1 smaller element (1).</span><br><span class="line">To the right of 6 there is 1 smaller element (1).</span><br><span class="line">To the right of 1 there is 0 smaller element.</span><br></pre></td></tr></table></figure></p><p>Return the array <code>[2, 1, 1, 0]</code>.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countSmaller = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// binary search</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bSearch</span>(<span class="params">target, a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> start = <span class="number">0</span></span><br><span class="line">      , end = a.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(start &lt;= end) &#123;</span><br><span class="line">      <span class="keyword">var</span> mid = ~~((start + end) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">if</span> (a[mid] &gt;= target)</span><br><span class="line">        end = mid - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (a[mid] &lt; target)</span><br><span class="line">        start = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> start;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> tmp = []  <span class="comment">// store </span></span><br><span class="line">    , ans = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = nums.length; i--; ) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = nums[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> index = bSearch(item, tmp);</span><br><span class="line"></span><br><span class="line">    ans.unshift(index);</span><br><span class="line">    tmp.splice(index, <span class="number">0</span>, item);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countSmaller = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr = []</span><br><span class="line">    , len = nums.length;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// array to object</span></span><br><span class="line">  <span class="comment">// 增加 index 属性，以便离散化</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = &#123;&#125;;</span><br><span class="line">    tmp.index = i;</span><br><span class="line">    tmp.value = nums[i];</span><br><span class="line">    arr.push(tmp);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.value - b.value;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 离散化</span></span><br><span class="line">  <span class="keyword">var</span> maxn = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">      arr[i].nValue = maxn;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      arr[i].nValue = arr[i].value === arr[i - <span class="number">1</span>].value ? maxn : ++maxn;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.index - b.index;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 逆序树状数组</span></span><br><span class="line">  <span class="keyword">var</span> ans = []</span><br><span class="line">    , sum = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= maxn; i++)</span><br><span class="line">    sum[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">lowbit</span>(<span class="params">x</span>) </span>&#123; <span class="keyword">return</span> x &amp; (-x); &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params">index, val</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = index; i &lt;= maxn; i += lowbit(i))</span><br><span class="line">      sum[i] += val;</span><br><span class="line">  &#125; </span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getSum</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = index; i; i -= lowbit(i))</span><br><span class="line">      ans += sum[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">var</span> nValue = arr[i].nValue;</span><br><span class="line">    ans.unshift(getSum(nValue - <span class="number">1</span>));</span><br><span class="line">    update(nValue, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Count-Primes"><a href="#Count-Primes" class="headerlink" title="Count Primes"></a>Count Primes</h3><p>Count the number of prime numbers less than a non-negative number, $n$.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> countPrimes = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// if modified to 'var hash = []'</span></span><br><span class="line">  <span class="comment">// it will be Memory Limit Exceeded</span></span><br><span class="line">  <span class="comment">// I don't know why</span></span><br><span class="line">  <span class="comment">// I think both are the same</span></span><br><span class="line">  <span class="keyword">var</span> hash = <span class="keyword">new</span> <span class="built_in">Array</span>(n)</span><br><span class="line">    , a = <span class="built_in">Math</span>.sqrt(n);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">2</span>; i &lt;= a; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!hash[i])</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = i * i; j &lt; n; j += i)</span><br><span class="line">        hash[j] = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">2</span>; i &lt; n; i++)</span><br><span class="line">    <span class="keyword">if</span> (!hash[i])</span><br><span class="line">      ans ++;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 019</title>
      <link href="/2018/03/24/LeetCode-Notes-019/"/>
      <url>/2018/03/24/LeetCode-Notes-019/</url>
      <content type="html"><![CDATA[<h3 id="Count-And-Say"><a href="#Count-And-Say" class="headerlink" title="Count And Say"></a>Count And Say</h3><p>The count-and-say sequence is the sequence of integers with the first five terms as following:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.     1</span><br><span class="line">2.     11</span><br><span class="line">3.     21</span><br><span class="line">4.     1211</span><br><span class="line">5.     111221</span><br></pre></td></tr></table></figure><p><code>1</code> is read off as <code>&quot;one 1&quot;</code> or <code>11</code>.<br><code>11</code> is read off as <code>&quot;two 1s&quot;</code> or <code>21</code>.<br><code>21</code> is read off as <code>&quot;one 2</code>, then <code>one 1&quot;</code> or <code>1211</code>.</p><p>Given an integer $n$, generate the $n^th$ term of the count-and-say sequence.</p><p>Note: Each term of the sequence of integers will be represented as a string.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1</span><br><span class="line">Output: &quot;1&quot;</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 4</span><br><span class="line">Output: &quot;1211&quot;</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// hash answer</span></span><br><span class="line"><span class="keyword">var</span> hash = &#123;&#125;;</span><br><span class="line">hash[<span class="number">1</span>] = <span class="string">'1'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> countAndSay = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> hashPos;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hash[i]) hashPos = i;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> str = hash[hashPos];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = hashPos + <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> _str = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">var</span> target = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>, len = str.length; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (target === <span class="string">''</span>) </span><br><span class="line">        target = str[j], num = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (str[j] === target)</span><br><span class="line">        num++;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        _str += num + target;</span><br><span class="line">        target = str[j];</span><br><span class="line">        num = <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (num)</span><br><span class="line">      _str += num + target;</span><br><span class="line">    str = _str;</span><br><span class="line"></span><br><span class="line">    hash[i] = str;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Count-Complete-Tree-Nodes"><a href="#Count-Complete-Tree-Nodes" class="headerlink" title="Count Complete Tree Nodes"></a>Count Complete Tree Nodes</h3><p>Given a complete binary tree, count the number of nodes.</p><p>In a complete binary tree every level, except possibly the last, is completely filled, and all nodes in the last level are as far left as possible. It can have between $1$ and $2^h$ nodes inclusive at the last level h.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countNodes = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> depth = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// find the depth of the tree</span></span><br><span class="line">  <span class="keyword">var</span> node = root;</span><br><span class="line">  <span class="keyword">while</span> (node) &#123;</span><br><span class="line">    depth++;</span><br><span class="line">    node = node.left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> minn = <span class="number">1</span> &lt;&lt; (depth - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">var</span> maxn = (<span class="number">1</span> &lt;&lt; depth) - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> start = minn;</span><br><span class="line">  <span class="keyword">var</span> end = maxn;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// binary search</span></span><br><span class="line">  <span class="keyword">while</span> (start &lt;= end) &#123;</span><br><span class="line">    <span class="keyword">var</span> mid = (start + end) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (isExisting(mid, minn, maxn, root))</span><br><span class="line">      start = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      end = mid - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> end;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isExisting</span>(<span class="params">num, left, right, node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left === right)</span><br><span class="line">      <span class="keyword">return</span> !!node;</span><br><span class="line">    <span class="keyword">var</span> tmp = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= tmp)</span><br><span class="line">      <span class="keyword">return</span> isExisting(num, left, tmp, node.left);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> isExisting(num, tmp + <span class="number">1</span>, right, node.right);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countNodes = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> l = findDepth(root.left)</span><br><span class="line">    , r = findDepth(root.right);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (l === r)</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1</span> &lt;&lt; l) + countNodes(root.right);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1</span> &lt;&lt; r) + countNodes(root.left);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">findDepth</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> node ? <span class="number">1</span> + findDepth(node.left) : <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countNodes = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (root) &#123;</span><br><span class="line">    <span class="keyword">var</span> l = findDepth(root.left)</span><br><span class="line">      , r = findDepth(root.right);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (l === r) &#123;</span><br><span class="line">      ans += (<span class="number">1</span> &lt;&lt; l);</span><br><span class="line">      root = root.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      ans += (<span class="number">1</span> &lt;&lt; r);</span><br><span class="line">      root = root.left;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">findDepth</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (node) &#123;</span><br><span class="line">      num++;</span><br><span class="line">      node = node.left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Count-Numbers-With-Unique-Digits"><a href="#Count-Numbers-With-Unique-Digits" class="headerlink" title="Count Numbers With Unique Digits"></a>Count Numbers With Unique Digits</h3><p>Given a non-negative integer n, count all numbers with unique digits, x, where 0 ≤ x &lt; 10n.</p><p><strong>Example:</strong><br>Given n = 2, return 91. (The answer should be the total numbers in the range of 0 ≤ x &lt; 100, excluding <code>[11,22,33,44,55,66,77,88,99]</code>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countNumbersWithUniqueDigits = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i === <span class="number">1</span>)</span><br><span class="line">      ans += <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (i &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">      ans += A(<span class="number">10</span>, i);</span><br><span class="line">      ans -= A(<span class="number">9</span>, i - <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = a; i &gt;= a - b + <span class="number">1</span>; i--)</span><br><span class="line">    ans *= i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 018</title>
      <link href="/2018/03/23/LeetCode-Notes-018/"/>
      <url>/2018/03/23/LeetCode-Notes-018/</url>
      <content type="html"><![CDATA[<h3 id="Convert-Sorted-Array-to-Binary-Search-Tree"><a href="#Convert-Sorted-Array-to-Binary-Search-Tree" class="headerlink" title="Convert Sorted Array to Binary Search Tree"></a>Convert Sorted Array to Binary Search Tree</h3><p>Given an array where elements are sorted in ascending order, convert it to a height balanced BST.</p><p>For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of every node never differ by more than 1.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Given the sorted array: [-10,-3,0,5,9],</span><br><span class="line"></span><br><span class="line">One possible answer is: [0,-3,9,-10,null,5], which represents the following height balanced BST:</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     / \</span><br><span class="line">   -3   9</span><br><span class="line">   /   /</span><br><span class="line"> -10  5</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;TreeNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> sortedArrayToBST = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> dfs(<span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt; end)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> mid = (start + end) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> TreeNode(nums[mid]);</span><br><span class="line">    node.left = dfs(start, mid - <span class="number">1</span>);</span><br><span class="line">    node.right = dfs(mid + <span class="number">1</span>, end);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Convert-Sorted-List-to-Binary-Search-Tree"><a href="#Convert-Sorted-List-to-Binary-Search-Tree" class="headerlink" title="Convert Sorted List to Binary Search Tree"></a>Convert Sorted List to Binary Search Tree</h3><p>Given a singly linked list where elements are sorted in ascending order, convert it to a height balanced BST.</p><p>For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of every node never differ by more than 1.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Given the sorted linked list: [-10,-3,0,5,9],</span><br><span class="line"></span><br><span class="line">One possible answer is: [0,-3,9,-10,null,5], which represents the following height balanced BST:</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     / \</span><br><span class="line">   -3   9</span><br><span class="line">   /   /</span><br><span class="line"> -10  5</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;TreeNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> sortedArrayToBST = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> dfs(<span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt; end)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> mid = (start + end) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> TreeNode(nums[mid]);</span><br><span class="line">    node.left = dfs(start, mid - <span class="number">1</span>);</span><br><span class="line">    node.right = dfs(mid + <span class="number">1</span>, end);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.next = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; head</span></span><br><span class="line"><span class="comment"> * @return &#123;TreeNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> sortedListToBST = <span class="function"><span class="keyword">function</span>(<span class="params">head</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line">  <span class="keyword">while</span> (head) &#123;</span><br><span class="line">    ans.push(head.val);</span><br><span class="line">    head = head.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sortedArrayToBST(ans);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Copy-List-with-Random-Pointer"><a href="#Copy-List-with-Random-Pointer" class="headerlink" title="Copy List with Random Pointer"></a>Copy List with Random Pointer</h3><p>A linked list is given such that each node contains an additional random pointer which could point to any node in the list or null.</p><p>Return a deep copy of the list.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list with a random pointer.</span></span><br><span class="line"><span class="comment"> * function RandomListNode(label) &#123;</span></span><br><span class="line"><span class="comment"> *     this.label = label;</span></span><br><span class="line"><span class="comment"> *     this.next = this.random = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;RandomListNode&#125; head</span></span><br><span class="line"><span class="comment"> * @return &#123;RandomListNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> copyRandomList = <span class="function"><span class="keyword">function</span>(<span class="params">head</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!head)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> hash = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">let</span> newArr = [];</span><br><span class="line">  <span class="keyword">let</span> node = head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (node) &#123;</span><br><span class="line">    hash.set(node, newArr.length);</span><br><span class="line">    newArr.push(<span class="keyword">new</span> RandomListNode(node.label));</span><br><span class="line">    node = node.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  node = head;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = newArr.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i !== len - <span class="number">1</span>)</span><br><span class="line">      newArr[i].next = newArr[i + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> random = node.random;</span><br><span class="line">    <span class="keyword">let</span> index = hash.get(random);</span><br><span class="line">    <span class="keyword">if</span> (index !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      newArr[i].random = newArr[index];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    node = node.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> newArr[<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 017</title>
      <link href="/2018/03/22/LeetCode-Notes-017/"/>
      <url>/2018/03/22/LeetCode-Notes-017/</url>
      <content type="html"><![CDATA[<h3 id="Continuous-Subarray-Sum"><a href="#Continuous-Subarray-Sum" class="headerlink" title="Continuous Subarray Sum"></a>Continuous Subarray Sum</h3><p>Given a list of non-negative numbers and a target integer k, write a function to check if the array has a continuous subarray of size at least 2 that sums up to the multiple of k, that is, sums up to n*k where n is also an integer.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [23, 2, 4, 6, 7],  k=6</span><br><span class="line">Output: True</span><br><span class="line">Explanation: Because [2, 4] is a continuous subarray of size 2 and sums up to 6.</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [23, 2, 6, 4, 7],  k=6</span><br><span class="line">Output: True</span><br><span class="line">Explanation: Because [23, 2, 6, 4, 7] is an continuous subarray of size 5 and sums up to 42.</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong></p><ol><li>The length of the array won’t exceed 10,000.</li><li>You may assume the sum of all the numbers is in the range of a signed 32-bit integer.</li></ol><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">checkSubarraySum</span><span class="params">(self, nums, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        sum, pre, s = <span class="number">0</span>, <span class="number">0</span>, set()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> nums:</span><br><span class="line">            sum += item</span><br><span class="line">            <span class="keyword">if</span> (k):</span><br><span class="line">                sum %= k</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (sum <span class="keyword">in</span> s):</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">            s.add(pre)</span><br><span class="line">            pre = sum</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure><h3 id="Convert-a-Number-to-Hexadecimal"><a href="#Convert-a-Number-to-Hexadecimal" class="headerlink" title="Convert a Number to Hexadecimal"></a>Convert a Number to Hexadecimal</h3><p>Given an integer, write an algorithm to convert it to hexadecimal. For negative integer, two’s complement method is used.</p><p><strong>Note:</strong></p><ol><li>All letters in hexadecimal (<code>a-f</code>) must be in lowercase.</li><li>The hexadecimal string must not contain extra leading <code>0</code>s. If the number is zero, it is represented by a single zero character <code>&#39;0&#39;</code>; otherwise, the first character in the hexadecimal string will not be the zero character.</li><li>The given number is guaranteed to fit within the range of a 32-bit signed integer.</li><li>You must not use any method provided by the library which converts/formats the number to hex directly.</li></ol><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">26</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">&quot;1a&quot;</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">-1</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">&quot;ffffffff&quot;</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> toHex = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num &gt; <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> help(num);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (num === <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'0'</span>;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    num = -num;</span><br><span class="line">    <span class="keyword">return</span> help(<span class="number">0xffffffff</span> - num + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">help</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>];</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (num) &#123;</span><br><span class="line">      <span class="keyword">let</span> mod = num % <span class="number">16</span>;</span><br><span class="line">      ans = arr[mod] + ans;</span><br><span class="line">      num = ~~(num / <span class="number">16</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Convert-BST-to-Greater-Tree"><a href="#Convert-BST-to-Greater-Tree" class="headerlink" title="Convert BST to Greater Tree"></a>Convert BST to Greater Tree</h3><p>Given a Binary Search Tree (BST), convert it to a Greater Tree such that every key of the original BST is changed to the original key plus sum of all keys greater than the original key in BST.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: The root of a Binary Search Tree like this:</span><br><span class="line">              5</span><br><span class="line">            /   \</span><br><span class="line">           2     13</span><br><span class="line"></span><br><span class="line">Output: The root of a Greater Tree like this:</span><br><span class="line">             18</span><br><span class="line">            /   \</span><br><span class="line">          20     13</span><br></pre></td></tr></table></figure></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode(object):</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convertBST</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(node)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> node == <span class="keyword">None</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dfs(node.right)</span><br><span class="line">                node.val += dfs.total</span><br><span class="line">                dfs.total = node.val</span><br><span class="line">                dfs(node.left)</span><br><span class="line"></span><br><span class="line">        dfs.total = <span class="number">0</span></span><br><span class="line">        dfs(root)</span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 016</title>
      <link href="/2018/03/21/LeetCode-Notes-016/"/>
      <url>/2018/03/21/LeetCode-Notes-016/</url>
      <content type="html"><![CDATA[<h3 id="Container-With-Most-Water"><a href="#Container-With-Most-Water" class="headerlink" title="Container With Most Water"></a>Container With Most Water</h3><p>Given $n$ non-negative integers $a_1, a_2, …, a_n$, where each represents a point at coordinate $(i, a_i)$. $n$ vertical lines are drawn such that the two endpoints of line $i$ is at $(i, a_i)$ and $(i, 0)$. Find two lines, which together with x-axis forms a container, such that the container contains the most water.</p><p>Note: You may not slant the container and $n$ is at least 2.</p><a id="more"></a><p>O(nlogn) Version<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; height</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxArea = <span class="function"><span class="keyword">function</span>(<span class="params">height</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.max(fn(height), fn(height.concat().reverse()));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">height</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = height.length;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line">  <span class="keyword">var</span> index = [];</span><br><span class="line">  <span class="keyword">var</span> maxn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">      ans.push(height[i]);</span><br><span class="line">      index.push(i);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 找到 ans 数组中刚好 &gt;= height[i] 的元素位置</span></span><br><span class="line">      <span class="comment">// 返回其下标</span></span><br><span class="line">      <span class="keyword">var</span> pos = binarySearch(ans, height[i]);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (pos !== ans.length)</span><br><span class="line">        maxn = <span class="built_in">Math</span>.max(maxn, height[i] * (i - index[pos]));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (height[i] &gt; ans[ans.length - <span class="number">1</span>]) &#123;</span><br><span class="line">        ans.push(height[i]);</span><br><span class="line">        index.push(i);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> maxn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params">a, target</span>) </span>&#123;</span><br><span class="line">  target += <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> start = <span class="number">0</span></span><br><span class="line">    , end = a.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(start &lt;= end) &#123;</span><br><span class="line">    <span class="keyword">var</span> mid = ~~((start + end) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (a[mid] &gt;= target)</span><br><span class="line">      end = mid - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      start = mid + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (a[start - <span class="number">1</span>] === target - <span class="number">1</span>)</span><br><span class="line">    start -= <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>O(n) Version<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; height</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxArea = <span class="function"><span class="keyword">function</span>(<span class="params">height</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> start = <span class="number">0</span></span><br><span class="line">    , end = height.length - <span class="number">1</span></span><br><span class="line">    , maxn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (start &lt;= end) &#123;</span><br><span class="line">    maxn = <span class="built_in">Math</span>.max(maxn, <span class="built_in">Math</span>.min(height[end], height[start]) * (end - start));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (height[end] &lt; height[start])</span><br><span class="line">      end --;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      start ++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> maxn;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="Contains-Duplicates"><a href="#Contains-Duplicates" class="headerlink" title="Contains Duplicates"></a>Contains Duplicates</h3><p>Given an array of integers, find if the array contains any duplicates. Your function should return true if any value appears at least twice in the array, and it should return false if every element is distinct.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> containsDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> hash = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = nums.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hash[nums[i]]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    hash[nums[i]] = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Contains-Duplicate-II"><a href="#Contains-Duplicate-II" class="headerlink" title="Contains Duplicate II"></a>Contains Duplicate II</h3><p>Given an array of integers and an integer $k$, find out whether there are two distinct indices $i$ and $j$ in the array such that $nums[i] = nums[j]$ and the absolute difference between $i$ and $j$ is at most $k$.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; k</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> containsNearbyDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums, k</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> pos = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = nums.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (pos[nums[i]] === <span class="literal">undefined</span>) </span><br><span class="line">      pos[nums[i]] = i;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (i - pos[nums[i]] &lt;= k) </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      pos[nums[i]] = i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Contains-Duplicate-III"><a href="#Contains-Duplicate-III" class="headerlink" title="Contains Duplicate III"></a>Contains Duplicate III</h3><p>Given an array of integers, find out whether there are two distinct indices $i$ and $j$ in the array such that the absolute difference between $nums[i]$ and $nums[j]$ is at most t and the absolute difference between $i$ and $j$ is at most $k$.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; k</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; t</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> containsNearbyAlmostDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums, k, t</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = nums.length;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt;= <span class="built_in">Math</span>.min(i + k, len - <span class="number">1</span>); j++)</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(nums[i] - nums[j]) &lt;= t) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 015</title>
      <link href="/2018/03/20/LeetCode-Notes-015/"/>
      <url>/2018/03/20/LeetCode-Notes-015/</url>
      <content type="html"><![CDATA[<h3 id="Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal"><a href="#Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal" class="headerlink" title="Construct Binary Tree from Inorder and Postorder Traversal"></a>Construct Binary Tree from Inorder and Postorder Traversal</h3><p>Given inorder and postorder traversal of a tree, construct the binary tree.</p><p><strong>Note:</strong><br>You may assume that duplicates do not exist in the tree.</p><p>For example, given<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inorder = [9,3,15,20,7]</span><br><span class="line">postorder = [9,15,7,20,3]</span><br></pre></td></tr></table></figure></p><p>Return the following binary tree:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; inorder</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; postorder</span></span><br><span class="line"><span class="comment"> * @return &#123;TreeNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> buildTree = <span class="function"><span class="keyword">function</span>(<span class="params">inorder, postorder</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> dfs(inorder.length - <span class="number">1</span>, <span class="number">0</span>, inorder.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">index, startPos, endPos</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (startPos &gt; endPos)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> TreeNode(postorder[index]);</span><br><span class="line">    <span class="keyword">var</span> pos = inorder.indexOf(postorder[index], startPos);</span><br><span class="line"></span><br><span class="line">    node.left = dfs(index - (endPos - pos) - <span class="number">1</span>, startPos, pos - <span class="number">1</span>);</span><br><span class="line">    node.right = dfs(index - <span class="number">1</span>, pos + <span class="number">1</span>, endPos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal-1"><a href="#Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal-1" class="headerlink" title="Construct Binary Tree from Inorder and Postorder Traversal"></a>Construct Binary Tree from Inorder and Postorder Traversal</h3><p>Given preorder and inorder traversal of a tree, construct the binary tree.</p><p><strong>Note:</strong><br>You may assume that duplicates do not exist in the tree.</p><p>For example, given<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">preorder = [3,9,20,15,7]</span><br><span class="line">inorder = [9,3,15,20,7]</span><br></pre></td></tr></table></figure></p><p>Return the following binary tree:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; preorder</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; inorder</span></span><br><span class="line"><span class="comment"> * @return &#123;TreeNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> buildTree = <span class="function"><span class="keyword">function</span>(<span class="params">preorder, inorder</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> dfs(<span class="number">0</span>, <span class="number">0</span>, preorder.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// the subTree values whose node value is preorder[index]</span></span><br><span class="line">  <span class="comment">// inorder[startPos] - inorder[endPos]</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">index, startPos, endPos</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (startPos &gt; endPos)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> TreeNode(preorder[index]);</span><br><span class="line">    <span class="keyword">var</span> pos = inorder.indexOf(preorder[index], startPos);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// node's left subNode's value is preorder[index + 1]</span></span><br><span class="line">    <span class="comment">// node's right subNode's value is preorder[index + pos - startPos + 1]</span></span><br><span class="line">    node.left = dfs(index + <span class="number">1</span>, startPos, pos - <span class="number">1</span>);</span><br><span class="line">    node.right = dfs(index + pos - startPos + <span class="number">1</span>, pos + <span class="number">1</span>, endPos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Construct-the-Rectangle"><a href="#Construct-the-Rectangle" class="headerlink" title="Construct the Rectangle"></a>Construct the Rectangle</h3><p>For a web developer, it is very important to know how to design a web page’s size. So, given a specific rectangular web page’s area, your job by now is to design a rectangular web page, whose length L and width W satisfy the following requirements:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. The area of the rectangular web page you designed must equal to the given target area.</span><br><span class="line"></span><br><span class="line">2. The width W should not be larger than the length L, which means L &gt;= W.</span><br><span class="line"></span><br><span class="line">3. The difference between length L and width W should be as small as possible.</span><br></pre></td></tr></table></figure><p>You need to output the length L and the width W of the web page you designed in sequence.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: 4</span><br><span class="line">Output: [2, 2]</span><br><span class="line">Explanation: The target area is 4, and all the possible ways to construct it are [1,4], [2,2], [4,1]. </span><br><span class="line">But according to requirement 2, [1,4] is illegal; according to requirement 3,  [4,1] is not optimal compared to [2,2]. So the length L is 2, and the width W is 2.</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong></p><ol><li>The given area won’t exceed 10,000,000 and is a positive integer</li><li>The web page’s width and length you designed must be positive integers.</li></ol>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 014</title>
      <link href="/2018/03/19/LeetCode-Notes-014/"/>
      <url>/2018/03/19/LeetCode-Notes-014/</url>
      <content type="html"><![CDATA[<h3 id="Combinations"><a href="#Combinations" class="headerlink" title="Combinations"></a>Combinations</h3><p>Given two integers $n$ and $k$, return all possible combinations of $k$ numbers out of 1 … $n$.</p><p>For example:<br>If n = 4 and k = 2, a solution is:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [2,4],</span><br><span class="line">  [3,4],</span><br><span class="line">  [2,3],</span><br><span class="line">  [1,2],</span><br><span class="line">  [1,3],</span><br><span class="line">  [1,4],</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; k</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// return an array of k numbers with 1 ~ n</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ans = []</span><br><span class="line">  , tmp = [];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">next, n, num, k</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num === k) &#123;</span><br><span class="line">    <span class="keyword">var</span> res = tmp.map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> item;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    ans.push(res);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = next; i &lt;= n; i++) &#123;</span><br><span class="line">    tmp.push(i);</span><br><span class="line">    dfs(i + <span class="number">1</span>, n, num + <span class="number">1</span>, k);</span><br><span class="line">    tmp.pop();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> combine = <span class="function"><span class="keyword">function</span>(<span class="params">n, k</span>) </span>&#123;</span><br><span class="line">  ans = []; </span><br><span class="line">  <span class="comment">// select the 1st number</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    tmp[<span class="number">0</span>] = i;</span><br><span class="line">    dfs(i + <span class="number">1</span>, n, <span class="number">1</span>, k);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Compare-Version-Numbers"><a href="#Compare-Version-Numbers" class="headerlink" title="Compare Version Numbers"></a>Compare Version Numbers</h3><p>Compare two version numbers version1 and version2.<br>If version1 &gt; version2 return 1, if version1 &lt; version2 return -1, otherwise return 0.</p><p>You may assume that the version strings are non-empty and contain only digits and the <code>.</code> character.<br>The <code>.</code> character does not represent a decimal point and is used to separate number sequences.<br>For instance, <code>2.5</code> is not “two and a half” or “half way to version three”, it is the fifth second-level revision of the second first-level revision.</p><p>Here is an example of version numbers ordering:</p><p>0.1 &lt; 1.1 &lt; 1.2 &lt; 13.37</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; version1</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; version2</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> compareVersion = <span class="function"><span class="keyword">function</span>(<span class="params">version1, version2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = version1.split(<span class="string">'.'</span>);</span><br><span class="line">  <span class="keyword">var</span> b = version2.split(<span class="string">'.'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len1 = a.length;</span><br><span class="line">  <span class="keyword">var</span> len2 = b.length;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="built_in">Math</span>.max(len1, len2); i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item1 = i &lt; len1 ? +a[i] : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> item2 = i &lt; len2 ? +b[i] : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (item1 &gt; item2)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (item1 &lt; item2)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Complex-Number-Multiplication"><a href="#Complex-Number-Multiplication" class="headerlink" title="Complex Number Multiplication"></a>Complex Number Multiplication</h3><p>Given two strings representing two complex numbers.</p><p>You need to return a string representing their multiplication. Note $i^2 = -1$ according to the definition.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;1+1i&quot;, &quot;1+1i&quot;</span><br><span class="line">Output: &quot;0+2i&quot;</span><br><span class="line">Explanation: (1 + i) * (1 + i) = 1 + i2 + 2 * i = 2i, and you need convert it to the form of 0+2i.</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;1+-1i&quot;, &quot;1+-1i&quot;</span><br><span class="line">Output: &quot;0+-2i&quot;</span><br><span class="line">Explanation: (1 - i) * (1 - i) = 1 + i2 - 2 * i = -2i, and you need convert it to the form of 0+-2i.</span><br></pre></td></tr></table></figure></p><p><strong>Note</strong></p><ul><li>The input strings will not have extra blank.</li><li>The input strings will be given in the form of a+bi, where the integer a and b will both belong to the range of [-100, 100]. And the output should be also in this form.</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">complexNumberMultiply</span><span class="params">(self, a, b)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type a: str</span></span><br><span class="line"><span class="string">        :type b: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        a = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> a[:<span class="number">-1</span>].split(<span class="string">'+'</span>)]</span><br><span class="line">        b = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> b[:<span class="number">-1</span>].split(<span class="string">'+'</span>)]</span><br><span class="line">        c = a[<span class="number">0</span>] * b[<span class="number">0</span>] - a[<span class="number">1</span>] * b[<span class="number">1</span>]</span><br><span class="line">        d = a[<span class="number">0</span>] * b[<span class="number">1</span>] + a[<span class="number">1</span>] * b[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> str(c) + <span class="string">'+'</span> + str(d) + <span class="string">'i'</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 013</title>
      <link href="/2018/03/18/LeetCode-Notes-013/"/>
      <url>/2018/03/18/LeetCode-Notes-013/</url>
      <content type="html"><![CDATA[<h3 id="Combination-Sum-II"><a href="#Combination-Sum-II" class="headerlink" title="Combination Sum II"></a>Combination Sum II</h3><p>Given a collection of candidate numbers (C) and a target number (T), find all unique combinations in C where the candidate numbers sums to T.</p><p>Each number in C may only be used once in the combination.</p><p><strong>Note:</strong></p><ul><li>All numbers (including target) will be positive integers.</li><li>The solution set must not contain duplicate combinations.</li></ul><p>For example, given candidate set <code>[10, 1, 2, 7, 6, 1, 5]</code> and target <code>8</code>,<br>A solution set is:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1, 7],</span><br><span class="line">  [1, 2, 5],</span><br><span class="line">  [2, 6],</span><br><span class="line">  [1, 1, 6]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; candidates</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> combinationSum2 = <span class="function"><span class="keyword">function</span>(<span class="params">candidates, target</span>) </span>&#123;</span><br><span class="line">  candidates.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = candidates.length;</span><br><span class="line">  <span class="keyword">var</span> res = [];</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line"></span><br><span class="line">  dfs(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">index, sum</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sum &gt; target)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sum === target) &#123;</span><br><span class="line">      ans.push(res.concat());</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = index; i &lt; len; i++) &#123;</span><br><span class="line">      <span class="comment">// Point!</span></span><br><span class="line">      <span class="comment">// remove the duplicate combinations</span></span><br><span class="line">      <span class="keyword">if</span> (i &gt; index &amp;&amp; candidates[i] === candidates[i - <span class="number">1</span>])</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      res.push(candidates[i]);</span><br><span class="line">      dfs(i + <span class="number">1</span>, sum + candidates[i]);</span><br><span class="line">      res.pop();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Combination-Sum-III"><a href="#Combination-Sum-III" class="headerlink" title="Combination Sum III"></a>Combination Sum III</h3><p>Find all possible combinations of $k$ numbers that add up to a number $n$, given that only numbers from 1 to 9 can be used and each combination should be a unique set of numbers.</p><p><strong>Example 1:</strong><br>Input: k = 3, n = 7</p><p>Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[1,2,4]]</span><br></pre></td></tr></table></figure></p><p>Input: k = 3, n = 9</p><p>Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[1,2,6], [1,3,5], [2,3,4]]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; k</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">arr, last, num, k, sum, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num === k &amp;&amp; sum === n) &#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> item;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    ans.push(tmp);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (num &gt; k || sum &gt; n ) </span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = last + <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">    arr[arr.length] = i;</span><br><span class="line">    dfs(arr, i, num + <span class="number">1</span>, k, sum + i, n);</span><br><span class="line">    arr.pop();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> combinationSum3 = <span class="function"><span class="keyword">function</span>(<span class="params">k, n</span>) </span>&#123;</span><br><span class="line">  ans = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++)</span><br><span class="line">    dfs([i], i, <span class="number">1</span>, k, i, n);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Combination-Sum-IV"><a href="#Combination-Sum-IV" class="headerlink" title="Combination Sum IV"></a>Combination Sum IV</h3><p>Given an integer array with all positive numbers and no duplicates, find the number of possible combinations that add up to a positive integer target.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">nums = [1, 2, 3]</span><br><span class="line">target = 4</span><br><span class="line"></span><br><span class="line">The possible combination ways are:</span><br><span class="line">(1, 1, 1, 1)</span><br><span class="line">(1, 1, 2)</span><br><span class="line">(1, 2, 1)</span><br><span class="line">(1, 3)</span><br><span class="line">(2, 1, 1)</span><br><span class="line">(2, 2)</span><br><span class="line">(3, 1)</span><br><span class="line"></span><br><span class="line">Note that different sequences are counted as different combinations.</span><br><span class="line"></span><br><span class="line">Therefore the output is 7.</span><br></pre></td></tr></table></figure></p><p><strong>Follow up:</strong><br>What if negative numbers are allowed in the given array?<br>How does it change the problem?<br>What limitation we need to add to the question to allow negative numbers?</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> combinationSum4 = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ans[i] 表示组成 i 的方案数</span></span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line">  ans[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= target; i++) &#123;</span><br><span class="line">    ans[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>, len = nums.length; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> item = nums[j];</span><br><span class="line">      <span class="keyword">if</span> (i - item &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      <span class="comment">// (i - item) + item = i</span></span><br><span class="line">      ans[i] += ans[i - item];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans[target];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 012</title>
      <link href="/2018/03/17/LeetCode-Notes-012/"/>
      <url>/2018/03/17/LeetCode-Notes-012/</url>
      <content type="html"><![CDATA[<h3 id="Clone-Graph"><a href="#Clone-Graph" class="headerlink" title="Clone Graph"></a>Clone Graph</h3><p>Clone an undirected graph. Each node in the graph contains a label and a list of its neighbors.</p><p><strong>OJ’s undirected graph serialization:</strong><br>Nodes are labeled uniquely.</p><p>We use <code>#</code> as a separator for each node, and <code>,</code> as a separator for node label and each neighbor of the node.<br>As an example, consider the serialized graph <code>{0,1,2#1,2#2,2}</code>.</p><p>The graph has a total of three nodes, and therefore contains three parts as separated by <code>#</code>.</p><ul><li>First node is labeled as <code>0</code>. Connect node <code>0</code> to both nodes <code>1</code> and <code>2</code>.</li><li>Second node is labeled as <code>1</code>. Connect node <code>1</code> to node <code>2</code>.</li><li>Third node is labeled as <code>2</code>. Connect node <code>2</code> to node <code>2</code> (itself), thus forming a self-cycle.</li></ul><p>Visually, the graph looks like the following:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   1</span><br><span class="line">  / \</span><br><span class="line"> /   \</span><br><span class="line">0 --- 2</span><br><span class="line">     / \</span><br><span class="line">     \_/</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for undirected graph.</span></span><br><span class="line"><span class="comment"> * function UndirectedGraphNode(label) &#123;</span></span><br><span class="line"><span class="comment"> *     this.label = label;</span></span><br><span class="line"><span class="comment"> *     this.neighbors = [];   // Array of UndirectedGraphNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;UndirectedGraphNode&#125; graph</span></span><br><span class="line"><span class="comment"> * @return &#123;UndirectedGraphNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> cloneGraph = <span class="function"><span class="keyword">function</span>(<span class="params">graph</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!graph)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> hash = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> dfs(graph);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> label = node.label;</span><br><span class="line">    <span class="keyword">var</span> newNode = <span class="keyword">new</span> UndirectedGraphNode(label);</span><br><span class="line">    hash[label] = newNode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = node.neighbors.length; i &lt; len; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> item = node.neighbors[i];</span><br><span class="line">      <span class="keyword">if</span> (hash[item.label] !== <span class="literal">undefined</span>)</span><br><span class="line">        newNode.neighbors.push(hash[item.label]);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        newNode.neighbors.push(dfs(item));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newNode;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Coin-Change"><a href="#Coin-Change" class="headerlink" title="Coin Change"></a>Coin Change</h3><p>You are given coins of different denominations and a total amount of money amount. Write a function to compute the fewest number of coins that you need to make up that amount. If that amount of money cannot be made up by any combination of the coins, return <code>-1</code>.</p><p><strong>Example 1:</strong><br>coins = <code>[1, 2, 5]</code>, amount = <code>11</code><br>return <code>3</code> (11 = 5 + 5 + 1)</p><p><strong>Example 2:</strong><br>coins = <code>[2]</code>, amount = <code>3</code><br>return <code>-1</code>.</p><p><strong>Note:</strong><br>You may assume that you have an infinite number of each kind of coin.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; coins</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; amount</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> coinChange = <span class="function"><span class="keyword">function</span>(<span class="params">coins, amount</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line">  ans[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = coins.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = coins[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j + item &lt;= amount; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (ans[j] === <span class="literal">undefined</span>)</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      <span class="keyword">if</span> (ans[j + item] === <span class="literal">undefined</span>)</span><br><span class="line">        ans[j + item] = ans[j] + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span> </span><br><span class="line">        ans[j + item] = <span class="built_in">Math</span>.min(ans[j + item], ans[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans[amount] === <span class="literal">undefined</span> ? <span class="number">-1</span> : ans[amount];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Combination-Sum"><a href="#Combination-Sum" class="headerlink" title="Combination Sum"></a>Combination Sum</h3><p>Given a set of candidate numbers (C) (without duplicates) and a target number (T), find all unique combinations in C where the candidate numbers sums to T.</p><p>The same repeated number may be chosen from C unlimited number of times.</p><p><strong>Note:</strong></p><ul><li>All numbers (including target) will be positive integers.</li><li>The solution set must not contain duplicate combinations.</li></ul><p>For example, given candidate set <code>[2, 3, 6, 7]</code> and target <code>7</code>,<br>A solution set is:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [7],</span><br><span class="line">  [2, 2, 3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; candidates</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> ans, res;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">index, sum, candidates, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (sum === target) &#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = res.map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> item;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    ans.push(tmp);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = index, len = candidates.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (sum + candidates[i] &gt; target) <span class="keyword">continue</span>;</span><br><span class="line">    res.push(candidates[i]);</span><br><span class="line">    dfs(i, sum + candidates[i], candidates, target);</span><br><span class="line">    res.pop();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> combinationSum = <span class="function"><span class="keyword">function</span>(<span class="params">candidates, target</span>) </span>&#123;</span><br><span class="line">  ans = [];</span><br><span class="line">  candidates.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// choose the first number</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = candidates.length; i &lt; len; i++) &#123;</span><br><span class="line">    res = [candidates[i]];</span><br><span class="line">    dfs(i, candidates[i], candidates, target);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 011</title>
      <link href="/2018/03/16/LeetCode-Notes-011/"/>
      <url>/2018/03/16/LeetCode-Notes-011/</url>
      <content type="html"><![CDATA[<h3 id="Bulb-Switcher"><a href="#Bulb-Switcher" class="headerlink" title="Bulb Switcher"></a>Bulb Switcher</h3><p>There are n bulbs that are initially off. You first turn on all the bulbs. Then, you turn off every second bulb. On the third round, you toggle every third bulb (turning on if it’s off or turning off if it’s on). For the ith round, you toggle every i bulb. For the nth round, you only toggle the last bulb. Find how many bulbs are on after n rounds.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Given n = 3. </span><br><span class="line"></span><br><span class="line">At first, the three bulbs are [off, off, off].</span><br><span class="line">After first round, the three bulbs are [on, on, on].</span><br><span class="line">After second round, the three bulbs are [on, off, on].</span><br><span class="line">After third round, the three bulbs are [on, off, off]. </span><br><span class="line"></span><br><span class="line">So you should return 1, because there is only one bulb is on.</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 打表</span></span><br><span class="line"><span class="keyword">var</span> bulbSwitch = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">-1</span> + <span class="built_in">Math</span>.sqrt(<span class="number">1</span> + n);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(ans);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Bull-and-Cows"><a href="#Bull-and-Cows" class="headerlink" title="Bull and Cows"></a>Bull and Cows</h3><p>You are playing the following Bulls and Cows game with your friend: You write down a number and ask your friend to guess what the number is. Each time your friend makes a guess, you provide a hint that indicates how many digits in said guess match your secret number exactly in both digit and position (called “bulls”) and how many digits match the secret number but locate in the wrong position (called “cows”). Your friend will use successive guesses and hints to eventually derive the secret number.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Secret number:  &quot;1807&quot;</span><br><span class="line">Friend&apos;s guess: &quot;7810&quot;</span><br></pre></td></tr></table></figure></p><p>Hint: <code>1</code> bull and <code>3</code> cows. (The bull is <code>8</code>, the cows are <code>0</code>, <code>1</code> and <code>7</code>.)<br>Write a function to return a hint according to the secret number and friend’s guess, use <code>A</code> to indicate the bulls and <code>B</code> to indicate the cows. In the above example, your function should return <code>&quot;1A3B&quot;</code>.</p><p>Please note that both secret number and friend’s guess may contain duplicate digits, for example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Secret number:  &quot;1123&quot;</span><br><span class="line">Friend&apos;s guess: &quot;0111&quot;</span><br></pre></td></tr></table></figure></p><p>In this case, the 1st <code>1</code> in friend’s guess is a bull, the 2nd or 3rd <code>1</code> is a cow, and your function should return <code>&quot;1A1B&quot;</code>.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; secret</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; guess</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> getHint = <span class="function"><span class="keyword">function</span>(<span class="params">secret, guess</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = secret.split(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">var</span> b = guess.split(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">var</span> len = a.length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> bullNum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> cowBum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> hash = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = len; i--; ) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a[i] === b[i]) &#123;</span><br><span class="line">      a.splice(i, <span class="number">1</span>);</span><br><span class="line">      b.splice(i, <span class="number">1</span>);</span><br><span class="line">      bullNum++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!hash[a[i]])</span><br><span class="line">        hash[a[i]] = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span> </span><br><span class="line">        hash[a[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; b.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = b[i];</span><br><span class="line">    <span class="keyword">if</span> (hash[item]) &#123;</span><br><span class="line">      cowBum++;</span><br><span class="line">      hash[item]--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> bullNum + <span class="string">'A'</span> + cowBum + <span class="string">'B'</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Climbing-Stairs"><a href="#Climbing-Stairs" class="headerlink" title="Climbing Stairs"></a>Climbing Stairs</h3><p>You are climbing a stair case. It takes n steps to reach to the top.</p><p>Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?</p><p><strong>Note</strong>: Given n will be a positive integer.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: 2</span><br><span class="line">Output:  2</span><br><span class="line">Explanation:  There are two ways to climb to the top.</span><br><span class="line"></span><br><span class="line">1. 1 step + 1 step</span><br><span class="line">2. 2 steps</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: 3</span><br><span class="line">Output:  3</span><br><span class="line">Explanation:  There are three ways to climb to the top.</span><br><span class="line"></span><br><span class="line">1. 1 step + 1 step + 1 step</span><br><span class="line">2. 1 step + 2 steps</span><br><span class="line">3. 2 steps + 1 step</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> climbStairs = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = [];</span><br><span class="line">  a[<span class="number">0</span>] = <span class="number">1</span>, a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">    a[i] = a[i - <span class="number">1</span>] + a[i - <span class="number">2</span>];</span><br><span class="line">  <span class="keyword">return</span> a[n];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 010</title>
      <link href="/2018/03/15/LeetCode-Notes-010/"/>
      <url>/2018/03/15/LeetCode-Notes-010/</url>
      <content type="html"><![CDATA[<h3 id="Binary-Tree-Zigzag-Level-Order-Traversal"><a href="#Binary-Tree-Zigzag-Level-Order-Traversal" class="headerlink" title="Binary Tree Zigzag Level Order Traversal"></a>Binary Tree Zigzag Level Order Traversal</h3><p>Given a binary tree, return the zigzag level order traversal of its nodes’ values. (ie, from left to right, then right to left for the next level and alternate between).</p><p>For example:<br>Given binary tree <code>[3,9,20,null,null,15,7]</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure></p><p>return its zigzag level order traversal as:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [20,9],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> zigzagLevelOrder = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> maxn = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line"></span><br><span class="line">  dfs(root, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">node, step</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!node)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    maxn = step &gt; maxn ? step : maxn;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!ans[step])</span><br><span class="line">      ans[step] = [];</span><br><span class="line"></span><br><span class="line">    ans[step].push(node.val);</span><br><span class="line"></span><br><span class="line">    dfs(node.left, step + <span class="number">1</span>);</span><br><span class="line">    dfs(node.right, step + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= maxn; i++)</span><br><span class="line">    (i &amp; <span class="number">1</span>) &amp;&amp; (ans[i].reverse());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Binary-Watch"><a href="#Binary-Watch" class="headerlink" title="Binary Watch"></a>Binary Watch</h3><p>A binary watch has 4 LEDs on the top which represent the hours (0-11), and the 6 LEDs on the bottom represent the minutes (0-59).</p><p>Each LED represents a zero or one, with the least significant bit on the right.</p><div align="center"><br><img src="https://upload.wikimedia.org/wikipedia/commons/8/8b/Binary_clock_samui_moon.jpg"><br></div><p>For example, the above binary watch reads “3:25”.</p><p>Given a non-negative integer n which represents the number of LEDs that are currently on, return all possible times the watch could represent.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 1</span><br><span class="line">Return: [&quot;1:00&quot;, &quot;2:00&quot;, &quot;4:00&quot;, &quot;8:00&quot;, &quot;0:01&quot;, &quot;0:02&quot;, &quot;0:04&quot;, &quot;0:08&quot;, &quot;0:16&quot;, &quot;0:32&quot;]</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong></p><ul><li>The order of output does not matter.</li><li>The hour must not contain a leading zero, for example “01:00” is not valid, it should be “1:00”.</li><li>The minute must be consist of two digits and may contain a leading zero, for example “10:2” is not valid, it should be “10:02”.</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;string[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> readBinaryWatch = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> hours = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>];</span><br><span class="line">  <span class="keyword">let</span> minutes = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>];</span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line"></span><br><span class="line">  dfs(num, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">left, a, b, hoursTotal, minutesTotal</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (hoursTotal &gt;= <span class="number">12</span> || minutesTotal &gt;= <span class="number">60</span>)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (left === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> str = hoursTotal + <span class="string">":"</span>;</span><br><span class="line">      str += minutesTotal &lt; <span class="number">10</span> ? <span class="string">'0'</span> + minutesTotal : minutesTotal;</span><br><span class="line">      ans.push(str);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add i to hour</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = a; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">      dfs(left - <span class="number">1</span>, i + <span class="number">1</span>, b, hoursTotal + hours[i], minutesTotal);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add i to minute</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = b; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">      dfs(left - <span class="number">1</span>, a, i + <span class="number">1</span>, hoursTotal, minutesTotal + minutes[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(ans));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Bitwise-AND-of-Numbers-Range"><a href="#Bitwise-AND-of-Numbers-Range" class="headerlink" title="Bitwise AND of Numbers Range"></a>Bitwise AND of Numbers Range</h3><p>Given a range [m, n] where 0 &lt;= m &lt;= n &lt;= 2147483647, return the bitwise AND of all numbers in this range, inclusive.</p><p>For example, given the range [5, 7], you should return 4.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; m</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBitNum</span>(<span class="params">a, pos</span>) </span>&#123;</span><br><span class="line">  a++;</span><br><span class="line">  <span class="keyword">var</span> res = <span class="built_in">Math</span>.pow(<span class="number">2</span>, pos)</span><br><span class="line">    , loop = ~~(a / res)</span><br><span class="line">    , num = loop * (res / <span class="number">2</span>) + <span class="built_in">Math</span>.max(a % res - res / <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rangeBitwiseAnd = <span class="function"><span class="keyword">function</span>(<span class="params">m, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span></span><br><span class="line">    , tmp = n</span><br><span class="line">    , digits = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (tmp) &#123;</span><br><span class="line">    digits++;</span><br><span class="line">    tmp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; digits; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> num = getBitNum(n, i + <span class="number">1</span>) - getBitNum(m - <span class="number">1</span>, i + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (num === n - m + <span class="number">1</span>)</span><br><span class="line">      ans += <span class="built_in">Math</span>.pow(<span class="number">2</span>, i);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 009</title>
      <link href="/2018/03/14/LeetCode-Notes-009/"/>
      <url>/2018/03/14/LeetCode-Notes-009/</url>
      <content type="html"><![CDATA[<h3 id="Binary-Tree-Postorder-Traversal"><a href="#Binary-Tree-Postorder-Traversal" class="headerlink" title="Binary Tree Postorder Traversal"></a>Binary Tree Postorder Traversal</h3><p>Given a binary tree, return the postorder traversal of its nodes’ values.</p><p>For example:<br>Given binary tree <code>[1,null,2,3]</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line"> /</span><br><span class="line">3</span><br></pre></td></tr></table></figure><p>return <code>[3,2,1]</code></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">root, ans</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  dfs(root.left, ans);</span><br><span class="line">  dfs(root.right, ans);</span><br><span class="line"></span><br><span class="line">  ans.push(root.val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> postorderTraversal = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line">  dfs(root, ans);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Binary-Tree-Preorder-Traversal"><a href="#Binary-Tree-Preorder-Traversal" class="headerlink" title="Binary Tree Preorder Traversal"></a>Binary Tree Preorder Traversal</h3><p>Given a binary tree, return the preorder traversal of its nodes’ values.</p><p>For example:<br>Given binary tree <code>[1,null,2,3]</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line"> /</span><br><span class="line">3</span><br></pre></td></tr></table></figure><p>return <code>[1,2,3]</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">root, ans</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">  ans.push(root.val);</span><br><span class="line"></span><br><span class="line">  dfs(root.left, ans);</span><br><span class="line">  dfs(root.right, ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> preorderTraversal = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line">  dfs(root, ans);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Binary-Tree-Right-Side-View"><a href="#Binary-Tree-Right-Side-View" class="headerlink" title="Binary Tree Right Side View"></a>Binary Tree Right Side View</h3><p>Given a binary tree, imagine yourself standing on the right side of it, return the values of the nodes you can see ordered from top to bottom.</p><p>For example:<br>Given the following binary tree,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   1            &lt;---</span><br><span class="line"> /   \</span><br><span class="line">2     3         &lt;---</span><br><span class="line"> \     \</span><br><span class="line">  5     4       &lt;---</span><br></pre></td></tr></table></figure><p>You should return <code>[1, 3, 4]</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> rightSideView = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = []</span><br><span class="line">    , tmp = [root];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (tmp.length) &#123;</span><br><span class="line">    <span class="keyword">var</span> res = []</span><br><span class="line">      , a = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = tmp.length; i &lt; len; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!tmp[i]) <span class="keyword">continue</span>;</span><br><span class="line">      res.push(tmp[i].val);</span><br><span class="line">      a.push(tmp[i].left);</span><br><span class="line">      a.push(tmp[i].right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    tmp = a.concat();</span><br><span class="line">    <span class="keyword">if</span> (res.length)</span><br><span class="line">      ans.push(res);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> a = [];</span><br><span class="line">  ans.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    a.push(item.pop());</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-019</title>
      <link href="/2018/03/13/Project-Euler-019/"/>
      <url>/2018/03/13/Project-Euler-019/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>You are given the following information,<br>but you may prefer to do some research for yourself.</p><pre><code>1 Jan 1900 was a Monday.Thirty days has September,April, June and November.All the rest have thirty-one,Saving February alone,Which has twenty-eight, rain or shine.And on leap years, twenty-nine.A leap year occurs on any year evenly divisible by 4, but not on a century unless it is divisible by 400.</code></pre><p>How many Sundays fell on the first of the month during<br>the twentieth century (1 Jan 1901 to 31 Dec 2000)?</p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">171</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">from</span> calendar <span class="keyword">import</span> monthrange; <span class="keyword">from</span> itertools <span class="keyword">import</span> product</span><br><span class="line">print(len([(year, month) <span class="keyword">for</span> year, month <span class="keyword">in</span> product(list(range(<span class="number">1901</span>, <span class="number">2001</span>)), list(range(<span class="number">1</span>, <span class="number">13</span>))) <span class="keyword">if</span> monthrange(year, month)[<span class="number">0</span>] == <span class="number">6</span>]))</span><br></pre></td></tr></table></figure></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">months = [</span><br><span class="line">    <span class="number">31</span>,</span><br><span class="line">    <span class="number">28</span>,</span><br><span class="line">    <span class="number">31</span>,</span><br><span class="line">    <span class="number">30</span>,</span><br><span class="line">    <span class="number">31</span>,</span><br><span class="line">    <span class="number">30</span>,</span><br><span class="line">    <span class="number">31</span>,</span><br><span class="line">    <span class="number">31</span>,</span><br><span class="line">    <span class="number">30</span>,</span><br><span class="line">    <span class="number">31</span>,</span><br><span class="line">    <span class="number">30</span>,</span><br><span class="line">    <span class="number">31</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">week = [<span class="string">'sun'</span>,</span><br><span class="line">        <span class="string">'mon'</span>,</span><br><span class="line">        <span class="string">'tue'</span>,</span><br><span class="line">        <span class="string">'wed'</span>,</span><br><span class="line">        <span class="string">'thu'</span>,</span><br><span class="line">        <span class="string">'fri'</span>,</span><br><span class="line">        <span class="string">'sat'</span></span><br><span class="line">       ]</span><br><span class="line"></span><br><span class="line">leapyears = [year <span class="keyword">for</span> year <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">101</span>) <span class="keyword">if</span> year % <span class="number">4</span> == <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">day = <span class="number">0</span> <span class="comment"># 1 Jan 1901</span></span><br><span class="line">month = <span class="number">0</span> <span class="comment"># January</span></span><br><span class="line">year = <span class="number">1</span> <span class="comment"># 1901</span></span><br><span class="line">weekday = <span class="number">2</span> <span class="comment"># Tuesday</span></span><br><span class="line"></span><br><span class="line">days = &#123;day: week[weekday]&#125; </span><br><span class="line"></span><br><span class="line">since_last_month = <span class="number">0</span></span><br><span class="line">since_last_year = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">first_of_months = &#123;&#125;</span><br><span class="line"><span class="keyword">while</span> year &lt;= <span class="number">100</span>:</span><br><span class="line">    <span class="comment">#print "%s/%s/%s - %s" % (month+1, since_last_month+1, year+1900, week[weekday])</span></span><br><span class="line">    <span class="comment"># if it's the first of the month, make a note </span></span><br><span class="line">    <span class="comment"># of the weekday.</span></span><br><span class="line">    <span class="keyword">if</span> since_last_month == <span class="number">0</span>:</span><br><span class="line">        first_of_months[<span class="string">"%s/%s/%s"</span> % (month+<span class="number">1</span>, since_last_month+<span class="number">1</span>, year+<span class="number">1900</span>)] = week[weekday]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># increment the counters..</span></span><br><span class="line">    day += <span class="number">1</span></span><br><span class="line">    since_last_month += <span class="number">1</span></span><br><span class="line">    since_last_year += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># check what year it is</span></span><br><span class="line">    days_of_year = <span class="number">365</span></span><br><span class="line">    <span class="keyword">if</span> year <span class="keyword">in</span> leapyears:</span><br><span class="line">        days_of_year += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> since_last_year &gt;= days_of_year:</span><br><span class="line">        year += <span class="number">1</span></span><br><span class="line">        since_last_year = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># check what month it is</span></span><br><span class="line">    days_of_month = months[month]</span><br><span class="line">    <span class="keyword">if</span> month == <span class="number">1</span> <span class="keyword">and</span> year <span class="keyword">in</span> leapyears: <span class="comment"># february</span></span><br><span class="line">        days_of_month += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> since_last_month &gt;= days_of_month:</span><br><span class="line">        month += <span class="number">1</span></span><br><span class="line">        since_last_month = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> month &gt; len(months)<span class="number">-1</span>:</span><br><span class="line">            month = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># check what day of the week it is</span></span><br><span class="line">    weekday += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> weekday &gt; len(week)<span class="number">-1</span>:</span><br><span class="line">        weekday = <span class="number">0</span></span><br><span class="line">    days[day] = week[weekday]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">date_sort</span><span class="params">(date)</span>:</span></span><br><span class="line">    date_str = date[<span class="number">0</span>]</span><br><span class="line">    month,day,year = date_str.split(<span class="string">'/'</span>)</span><br><span class="line">    <span class="keyword">return</span> int(month)*int(day)*int(year)</span><br><span class="line"></span><br><span class="line">print(len([weekday <span class="keyword">for</span> weekday <span class="keyword">in</span> list(first_of_months.values()) <span class="keyword">if</span> weekday == <span class="string">'sun'</span>]))</span><br></pre></td></tr></table></figure><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'date'</span></span><br><span class="line">puts Date.new(<span class="number">1901</span>,<span class="number">1</span>,<span class="number">1</span>).upto(Date.new(<span class="number">2000</span>,<span class="number">12</span>,<span class="number">31</span>)).find_all &#123; <span class="params">|d|</span> d.mday == <span class="number">1</span> &amp;&amp; d.wday == <span class="number">0</span> &#125;.count</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p019</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p019().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We use Zeller's congruence to compute the day of week when given the year, month, and day.</span></span><br><span class="line"><span class="comment"> * Then we simply check the first day of all the months in the given range by brute force.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Zeller's congruence is well-known and a bit long to explain.</span></span><br><span class="line"><span class="comment"> * See: https://en.wikipedia.org/wiki/Zeller%27s_congruence</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">1901</span>; y &lt;= <span class="number">2000</span>; y++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">1</span>; m &lt;= <span class="number">12</span>; m++) &#123;</span><br><span class="line"><span class="keyword">if</span> (dayOfWeek(y, m, <span class="number">1</span>) == <span class="number">0</span>)  <span class="comment">// Sunday</span></span><br><span class="line">count++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(count);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Return value: 0 = Sunday, 1 = Monday, ..., 6 = Saturday.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">dayOfWeek</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month, <span class="keyword">int</span> day)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (year &lt; <span class="number">0</span> || year &gt; <span class="number">10000</span> || month &lt; <span class="number">1</span> || month &gt; <span class="number">12</span> || day &lt; <span class="number">1</span> || day &gt; <span class="number">31</span>)</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Zeller's congruence algorithm</span></span><br><span class="line"><span class="keyword">int</span> m = (month - <span class="number">3</span> + <span class="number">4800</span>) % <span class="number">4800</span>;</span><br><span class="line"><span class="keyword">int</span> y = (year + m / <span class="number">12</span>) % <span class="number">400</span>;</span><br><span class="line">m %= <span class="number">12</span>;</span><br><span class="line"><span class="keyword">return</span> (y + y/<span class="number">4</span> - y/<span class="number">100</span> + (<span class="number">13</span> * m + <span class="number">2</span>) / <span class="number">5</span> + day + <span class="number">2</span>) % <span class="number">7</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * We simply use Mathematica's built-in date library to compute the answer by brute force.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line">&lt;&lt; Miscellaneous`Calendar`</span><br><span class="line"><span class="keyword">Sum</span>[<span class="keyword">Boole</span>[DayOfWeek[&#123;y, m, 1&#125;] === <span class="keyword">Sunday</span>], &#123;y, 1901, 2000&#125;, &#123;m, 1, 12&#125;]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-018</title>
      <link href="/2018/03/13/Project-Euler-018/"/>
      <url>/2018/03/13/Project-Euler-018/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p><br>By starting at the top of the triangle below and moving to adjacent numbers on the row below, the maximum total from top to bottom is 23.<br></p><pre><code>37 42 4 68 5 9 3</code></pre><p><br>That is, $3 + 7 + 4 + 9 = 23$.<br></p><p><br>Find the maximum total from top to bottom of the triangle below:<br></p><pre><code>7595 6417 47 8218 35 87 1020 04 82 47 6519 01 23 75 03 3488 02 77 73 07 63 6799 65 04 28 06 16 70 9241 41 26 56 83 40 80 70 3341 48 72 33 47 32 37 16 94 2953 71 44 65 25 43 91 52 97 51 1470 11 33 28 77 73 17 78 39 68 17 5791 71 52 38 17 14 91 43 58 50 27 29 4863 66 04 68 89 53 67 30 73 16 69 87 40 3104 62 98 27 23 09 70 98 73 93 38 53 60 04 23</code></pre><a id="more"></a><p><br>NOTE: As there are only 16384 routes, it is possible to solve this problem by trying every route. However, Problem 67, is the same challenge with a triangle containing one-hundred rows; it cannot be solved by brute force, and requires a clever method! ;o)<br></p><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1074</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_sum</span><span class="params">(triangle)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_options</span><span class="params">(row, index)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> triangle[row+<span class="number">1</span>][index], triangle[row+<span class="number">1</span>][index+<span class="number">1</span>]</span><br><span class="line">    row = len(triangle) - <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">for</span> index, node <span class="keyword">in</span> enumerate(triangle[row]):</span><br><span class="line">                best = max([node + option <span class="keyword">for</span> option <span class="keyword">in</span> get_options(row, index)])</span><br><span class="line">                triangle[row][index] = best</span><br><span class="line">            row -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">return</span> triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    triangle_str = <span class="string">'''\</span></span><br><span class="line"><span class="string">    75</span></span><br><span class="line"><span class="string">    95 64</span></span><br><span class="line"><span class="string">    17 47 82</span></span><br><span class="line"><span class="string">    18 35 87 10</span></span><br><span class="line"><span class="string">    20 04 82 47 65</span></span><br><span class="line"><span class="string">    19 01 23 75 03 34</span></span><br><span class="line"><span class="string">    88 02 77 73 07 63 67</span></span><br><span class="line"><span class="string">    99 65 04 28 06 16 70 92</span></span><br><span class="line"><span class="string">    41 41 26 56 83 40 80 70 33</span></span><br><span class="line"><span class="string">    41 48 72 33 47 32 37 16 94 29</span></span><br><span class="line"><span class="string">    53 71 44 65 25 43 91 52 97 51 14</span></span><br><span class="line"><span class="string">    70 11 33 28 77 73 17 78 39 68 17 57</span></span><br><span class="line"><span class="string">    91 71 52 38 17 14 91 43 58 50 27 29 48</span></span><br><span class="line"><span class="string">    63 66 04 68 89 53 67 30 73 16 69 87 40 31</span></span><br><span class="line"><span class="string">    04 62 98 27 23 09 70 98 73 93 38 53 60 04 23'''</span></span><br><span class="line"></span><br><span class="line">    triangle = [[int(digit) <span class="keyword">for</span> digit <span class="keyword">in</span> line.strip().split()] <span class="keyword">for</span> line <span class="keyword">in</span> triangle_str.splitlines()]</span><br><span class="line">    print(find_sum(triangle))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">triangle_str = <span class="string">&lt;&lt;EOS</span></span><br><span class="line"><span class="string">75</span></span><br><span class="line"><span class="number">95</span> <span class="number">64</span></span><br><span class="line"><span class="number">17</span> <span class="number">47</span> <span class="number">82</span></span><br><span class="line"><span class="number">18</span> <span class="number">35</span> <span class="number">87</span> <span class="number">10</span></span><br><span class="line"><span class="number">20</span> <span class="number">04</span> <span class="number">82</span> <span class="number">47</span> <span class="number">65</span></span><br><span class="line"><span class="number">19</span> <span class="number">01</span> <span class="number">23</span> <span class="number">75</span> <span class="number">03</span> <span class="number">34</span></span><br><span class="line"><span class="number">88</span> <span class="number">02</span> <span class="number">77</span> <span class="number">73</span> <span class="number">07</span> <span class="number">63</span> <span class="number">67</span></span><br><span class="line"><span class="number">99</span> <span class="number">65</span> <span class="number">04</span> <span class="number">28</span> <span class="number">06</span> <span class="number">16</span> <span class="number">70</span> <span class="number">92</span></span><br><span class="line"><span class="number">41</span> <span class="number">41</span> <span class="number">26</span> <span class="number">56</span> <span class="number">83</span> <span class="number">40</span> <span class="number">80</span> <span class="number">70</span> <span class="number">33</span></span><br><span class="line"><span class="number">41</span> <span class="number">48</span> <span class="number">72</span> <span class="number">33</span> <span class="number">47</span> <span class="number">32</span> <span class="number">37</span> <span class="number">16</span> <span class="number">94</span> <span class="number">29</span></span><br><span class="line"><span class="number">53</span> <span class="number">71</span> <span class="number">44</span> <span class="number">65</span> <span class="number">25</span> <span class="number">43</span> <span class="number">91</span> <span class="number">52</span> <span class="number">97</span> <span class="number">51</span> <span class="number">14</span></span><br><span class="line"><span class="number">70</span> <span class="number">11</span> <span class="number">33</span> <span class="number">28</span> <span class="number">77</span> <span class="number">73</span> <span class="number">17</span> <span class="number">78</span> <span class="number">39</span> <span class="number">68</span> <span class="number">17</span> <span class="number">57</span></span><br><span class="line"><span class="number">91</span> <span class="number">71</span> <span class="number">52</span> <span class="number">38</span> <span class="number">17</span> <span class="number">14</span> <span class="number">91</span> <span class="number">43</span> <span class="number">58</span> <span class="number">50</span> <span class="number">27</span> <span class="number">29</span> <span class="number">48</span></span><br><span class="line"><span class="number">63</span> <span class="number">66</span> <span class="number">04</span> <span class="number">68</span> <span class="number">89</span> <span class="number">53</span> <span class="number">67</span> <span class="number">30</span> <span class="number">73</span> <span class="number">16</span> <span class="number">69</span> <span class="number">87</span> <span class="number">40</span> <span class="number">31</span></span><br><span class="line"><span class="number">04</span> <span class="number">62</span> <span class="number">98</span> <span class="number">27</span> <span class="number">23</span> 09 <span class="number">70</span> <span class="number">98</span> <span class="number">73</span> <span class="number">93</span> <span class="number">38</span> <span class="number">53</span> <span class="number">60</span> <span class="number">04</span> <span class="number">23</span></span><br><span class="line">EOS</span><br><span class="line"></span><br><span class="line">triangle = triangle_str.each_line.map &#123; <span class="params">|line|</span> line.split.map(&amp;<span class="symbol">:to_i</span>) &#125;</span><br><span class="line"></span><br><span class="line">(triangle.length - <span class="number">2</span>).downto(<span class="number">0</span>) <span class="keyword">do</span> <span class="params">|y|</span></span><br><span class="line">  triangle[y].length.times <span class="keyword">do</span> <span class="params">|x|</span> </span><br><span class="line">    triangle[y][x] += [triangle[y+<span class="number">1</span>][x], triangle[y+<span class="number">1</span>][x+<span class="number">1</span>]].max</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">parse</span> :: <span class="type">String</span> -&gt; [[<span class="type">Integer</span>]]</span><br><span class="line"><span class="title">parse</span> = map (map read . words) . lines</span><br><span class="line"></span><br><span class="line"><span class="title">best</span> :: [<span class="type">Integer</span>] -&gt; [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">best</span> row = map maximum choices <span class="keyword">where</span></span><br><span class="line">    choices = zipWith (\a b -&gt; a : [b]) row (tail row)</span><br><span class="line"></span><br><span class="line"><span class="title">maxStep</span> :: [<span class="type">Integer</span>] -&gt; [<span class="type">Integer</span>] -&gt; [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">maxStep</span> current next = zipWith (+) next (best current)</span><br><span class="line"></span><br><span class="line"><span class="title">maxPath</span> :: [[<span class="type">Integer</span>]] -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">maxPath</span> [[x]] = x</span><br><span class="line"><span class="title">maxPath</span> (current:next:rest) = maxPath $ (maxStep current next) : rest</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">        str &lt;- readFile <span class="string">"/home/zach/code/euler/018/triangle.txt"</span></span><br><span class="line">        print $ maxPath $ reverse $ parse str</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p018</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p018().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We create a new blank triangle with the same dimensions as the original big triangle.</span></span><br><span class="line"><span class="comment"> * For each cell of the big triangle, we consider the sub-triangle whose top is at this cell,</span></span><br><span class="line"><span class="comment"> * calculate the maximum path sum when starting from this cell, and store the result</span></span><br><span class="line"><span class="comment"> * in the corresponding cell of the blank triangle.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * If we start at a particular cell, what is the maximum path total? If the cell is at the</span></span><br><span class="line"><span class="comment"> * bottom of the big triangle, then it is simply the cell's value. Otherwise the answer is</span></span><br><span class="line"><span class="comment"> * the cell's value plus either &#123;the maximum path total of the cell down and to the left&#125;</span></span><br><span class="line"><span class="comment"> * or &#123;the maximum path total of the cell down and to the right&#125;, whichever is greater.</span></span><br><span class="line"><span class="comment"> * By computing the blank triangle's values from bottom up, the dependent values are always</span></span><br><span class="line"><span class="comment"> * computed before they are utilized. This technique is known as dynamic programming.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = triangle.length - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; triangle[i].length; j++)</span><br><span class="line">triangle[i][j] += Math.max(triangle[i + <span class="number">1</span>][j], triangle[i + <span class="number">1</span>][j + <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(triangle[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] triangle = &#123;  <span class="comment">// Mutable</span></span><br><span class="line">&#123;<span class="number">75</span>&#125;,</span><br><span class="line">&#123;<span class="number">95</span>,<span class="number">64</span>&#125;,</span><br><span class="line">&#123;<span class="number">17</span>,<span class="number">47</span>,<span class="number">82</span>&#125;,</span><br><span class="line">&#123;<span class="number">18</span>,<span class="number">35</span>,<span class="number">87</span>,<span class="number">10</span>&#125;,</span><br><span class="line">&#123;<span class="number">20</span>, <span class="number">4</span>,<span class="number">82</span>,<span class="number">47</span>,<span class="number">65</span>&#125;,</span><br><span class="line">&#123;<span class="number">19</span>, <span class="number">1</span>,<span class="number">23</span>,<span class="number">75</span>, <span class="number">3</span>,<span class="number">34</span>&#125;,</span><br><span class="line">&#123;<span class="number">88</span>, <span class="number">2</span>,<span class="number">77</span>,<span class="number">73</span>, <span class="number">7</span>,<span class="number">63</span>,<span class="number">67</span>&#125;,</span><br><span class="line">&#123;<span class="number">99</span>,<span class="number">65</span>, <span class="number">4</span>,<span class="number">28</span>, <span class="number">6</span>,<span class="number">16</span>,<span class="number">70</span>,<span class="number">92</span>&#125;,</span><br><span class="line">&#123;<span class="number">41</span>,<span class="number">41</span>,<span class="number">26</span>,<span class="number">56</span>,<span class="number">83</span>,<span class="number">40</span>,<span class="number">80</span>,<span class="number">70</span>,<span class="number">33</span>&#125;,</span><br><span class="line">&#123;<span class="number">41</span>,<span class="number">48</span>,<span class="number">72</span>,<span class="number">33</span>,<span class="number">47</span>,<span class="number">32</span>,<span class="number">37</span>,<span class="number">16</span>,<span class="number">94</span>,<span class="number">29</span>&#125;,</span><br><span class="line">&#123;<span class="number">53</span>,<span class="number">71</span>,<span class="number">44</span>,<span class="number">65</span>,<span class="number">25</span>,<span class="number">43</span>,<span class="number">91</span>,<span class="number">52</span>,<span class="number">97</span>,<span class="number">51</span>,<span class="number">14</span>&#125;,</span><br><span class="line">&#123;<span class="number">70</span>,<span class="number">11</span>,<span class="number">33</span>,<span class="number">28</span>,<span class="number">77</span>,<span class="number">73</span>,<span class="number">17</span>,<span class="number">78</span>,<span class="number">39</span>,<span class="number">68</span>,<span class="number">17</span>,<span class="number">57</span>&#125;,</span><br><span class="line">&#123;<span class="number">91</span>,<span class="number">71</span>,<span class="number">52</span>,<span class="number">38</span>,<span class="number">17</span>,<span class="number">14</span>,<span class="number">91</span>,<span class="number">43</span>,<span class="number">58</span>,<span class="number">50</span>,<span class="number">27</span>,<span class="number">29</span>,<span class="number">48</span>&#125;,</span><br><span class="line">&#123;<span class="number">63</span>,<span class="number">66</span>, <span class="number">4</span>,<span class="number">68</span>,<span class="number">89</span>,<span class="number">53</span>,<span class="number">67</span>,<span class="number">30</span>,<span class="number">73</span>,<span class="number">16</span>,<span class="number">69</span>,<span class="number">87</span>,<span class="number">40</span>,<span class="number">31</span>&#125;,</span><br><span class="line">&#123; <span class="number">4</span>,<span class="number">62</span>,<span class="number">98</span>,<span class="number">27</span>,<span class="number">23</span>, <span class="number">9</span>,<span class="number">70</span>,<span class="number">98</span>,<span class="number">73</span>,<span class="number">93</span>,<span class="number">38</span>,<span class="number">53</span>,<span class="number">60</span>, <span class="number">4</span>,<span class="number">23</span>&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * If we start at a particular cell in the triangle, what is the maximum path total?</span></span><br><span class="line"><span class="comment"> * If the cell is in the bottom row, then it is simply the cell's value. Otherwise the answer</span></span><br><span class="line"><span class="comment"> * is the cell's value plus either &#123;the maximum path total of the cell down and to the left&#125;</span></span><br><span class="line"><span class="comment"> * or &#123;the maximum path total of the cell down and to the right&#125;, whichever is greater.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"></span><br><span class="line">triangle = &#123;</span><br><span class="line">  &#123;75&#125;,</span><br><span class="line">  &#123;95,64&#125;,</span><br><span class="line">  &#123;17,47,82&#125;,</span><br><span class="line">  &#123;18,35,87,10&#125;,</span><br><span class="line">  &#123;20,04,82,47,65&#125;,</span><br><span class="line">  &#123;19,01,23,75,03,34&#125;,</span><br><span class="line">  &#123;88,02,77,73,07,63,67&#125;,</span><br><span class="line">  &#123;99,65,04,28,06,16,70,92&#125;,</span><br><span class="line">  &#123;41,41,26,56,83,40,80,70,33&#125;,</span><br><span class="line">  &#123;41,48,72,33,47,32,37,16,94,29&#125;,</span><br><span class="line">  &#123;53,71,44,65,25,43,91,52,97,51,14&#125;,</span><br><span class="line">  &#123;70,11,33,28,77,73,17,78,39,68,17,57&#125;,</span><br><span class="line">  &#123;91,71,52,38,17,14,91,43,58,50,27,29,48&#125;,</span><br><span class="line">  &#123;63,66,04,68,89,53,67,30,73,16,69,87,40,31&#125;,</span><br><span class="line">  &#123;04,62,98,27,23,09,70,98,73,93,38,53,60,04,23&#125;&#125;;</span><br><span class="line"></span><br><span class="line">MaxPath[i_, j_] := triangle[[i, j]] +</span><br><span class="line">  <span class="keyword">If</span>[i &lt; <span class="keyword">Length</span>[triangle], <span class="keyword">Max</span>[MaxPath[i + <span class="number">1</span>, j], MaxPath[i + <span class="number">1</span>, j + <span class="number">1</span>]], <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">MaxPath[<span class="number">1</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 008</title>
      <link href="/2018/03/12/LeetCode-Notes-008/"/>
      <url>/2018/03/12/LeetCode-Notes-008/</url>
      <content type="html"><![CDATA[<h3 id="Binary-Tree-Level-Order-Traversal"><a href="#Binary-Tree-Level-Order-Traversal" class="headerlink" title="Binary Tree Level Order Traversal"></a>Binary Tree Level Order Traversal</h3><p>Given a binary tree, return the level order traversal of its nodes’ values. (ie, from left to right, level by level).</p><p>For example:<br>Given binary tree [3,9,20,null,null,15,7],<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure></p><p>return its level order traversal as:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [9,20],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> levelOrder = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span> [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = []</span><br><span class="line">    , tmp = [root];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (tmp.length) &#123;</span><br><span class="line">    <span class="keyword">var</span> res = []</span><br><span class="line">      , a = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = tmp.length; i &lt; len; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!tmp[i]) <span class="keyword">continue</span>;</span><br><span class="line">      res.push(tmp[i].val);</span><br><span class="line">      a.push(tmp[i].left);</span><br><span class="line">      a.push(tmp[i].right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    tmp = a.concat();</span><br><span class="line">    <span class="keyword">if</span> (res.length)</span><br><span class="line">      ans.push(res);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Binary-Tree-Level-Order-Traversal-II"><a href="#Binary-Tree-Level-Order-Traversal-II" class="headerlink" title="Binary Tree Level Order Traversal II"></a>Binary Tree Level Order Traversal II</h3><p>Given a binary tree, return the bottom-up level order traversal of its nodes’ values. (ie, from left to right, level by level from leaf to root).</p><p>For example:<br>Given binary tree [3,9,20,null,null,15,7],<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure></p><p>return its bottom-up level order traversal as:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [15,7],</span><br><span class="line">  [9,20],</span><br><span class="line">  [3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> levelOrderBottom = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!root) <span class="keyword">return</span> [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = [], tmp = [root];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (tmp.length) &#123;</span><br><span class="line">  <span class="keyword">var</span> res = [], _tmp = [];</span><br><span class="line"></span><br><span class="line">  tmp.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">  res.push(item.val);</span><br><span class="line">  <span class="keyword">if</span> (item.left)</span><br><span class="line">  _tmp.push(item.left);</span><br><span class="line">  <span class="keyword">if</span> (item.right)</span><br><span class="line">  _tmp.push(item.right);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  ans.push(res);</span><br><span class="line">  tmp = _tmp;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans.reverse();</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Binary-Tree-Paths"><a href="#Binary-Tree-Paths" class="headerlink" title="Binary Tree Paths"></a>Binary Tree Paths</h3><p>Given a binary tree, return all root-to-leaf paths.</p><p>For example, given the following binary tree:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   1</span><br><span class="line"> /   \</span><br><span class="line">2     3</span><br><span class="line"> \</span><br><span class="line">  5</span><br></pre></td></tr></table></figure></p><p>All root-to-leaf paths are:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&quot;1-&gt;2-&gt;5&quot;, &quot;1-&gt;3&quot;]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;string[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ans, res;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  res.push(root.val);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!root.left &amp;&amp; !root.right) &#123;</span><br><span class="line">    <span class="keyword">var</span> str = res.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre, item</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> pre + <span class="string">'-&gt;'</span> + item;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    str = str.toString();</span><br><span class="line"></span><br><span class="line">    ans.push(str);</span><br><span class="line">    res.pop();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (root.left) </span><br><span class="line">    dfs(root.left);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (root.right)</span><br><span class="line">    dfs(root.right);</span><br><span class="line"></span><br><span class="line">  res.pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> binaryTreePaths = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  ans = [], res = [];</span><br><span class="line">  dfs(root);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-017</title>
      <link href="/2018/03/12/Project-Euler-017/"/>
      <url>/2018/03/12/Project-Euler-017/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p><br>If the numbers 1 to 5 are written out in words: one, two, three, four, five, then there are $3 + 3 + 5 + 4 + 4 = 19$ letters used in total.<br></p><p><br>If all the numbers from 1 to 1000 (one thousand) inclusive were written out in words, how many letters would be used?<br></p><a id="more"></a><p><br>NOTE: Do not count spaces or hyphens. For example, 342 (three hundred and forty-two) contains 23 letters and 115 (one hundred and fifteen) contains 20 letters. The use of “and” when writing out numbers is in compliance with British usage.<br></p><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">21124</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">to_english</span><span class="params">(number)</span>:</span></span><br><span class="line">    _ones = &#123;</span><br><span class="line">            <span class="number">1</span>: <span class="string">'one'</span>,</span><br><span class="line">            <span class="number">2</span>: <span class="string">'two'</span>,</span><br><span class="line">            <span class="number">3</span>: <span class="string">'three'</span>,</span><br><span class="line">            <span class="number">4</span>: <span class="string">'four'</span>,</span><br><span class="line">            <span class="number">5</span>: <span class="string">'five'</span>,</span><br><span class="line">            <span class="number">6</span>: <span class="string">'six'</span>,</span><br><span class="line">            <span class="number">7</span>: <span class="string">'seven'</span>,</span><br><span class="line">            <span class="number">8</span>: <span class="string">'eight'</span>,</span><br><span class="line">            <span class="number">9</span>: <span class="string">'nine'</span>,</span><br><span class="line">            <span class="number">10</span>: <span class="string">'ten'</span>,</span><br><span class="line">            <span class="number">11</span>: <span class="string">'eleven'</span>,</span><br><span class="line">            <span class="number">12</span>: <span class="string">'twelve'</span>,</span><br><span class="line">            <span class="number">13</span>: <span class="string">'thirteen'</span>,</span><br><span class="line">            <span class="number">14</span>: <span class="string">'fourteen'</span>,</span><br><span class="line">            <span class="number">15</span>: <span class="string">'fifteen'</span>,</span><br><span class="line">            <span class="number">16</span>: <span class="string">'sixteen'</span>,</span><br><span class="line">            <span class="number">17</span>: <span class="string">'seventeen'</span>,</span><br><span class="line">            <span class="number">18</span>: <span class="string">'eighteen'</span>,</span><br><span class="line">            <span class="number">19</span>: <span class="string">'nineteen'</span>,</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    _tens = &#123;</span><br><span class="line">            <span class="number">2</span>: <span class="string">'twenty'</span>,</span><br><span class="line">            <span class="number">3</span>: <span class="string">'thirty'</span>,</span><br><span class="line">            <span class="number">4</span>: <span class="string">'forty'</span>,</span><br><span class="line">            <span class="number">5</span>: <span class="string">'fifty'</span>,</span><br><span class="line">            <span class="number">6</span>: <span class="string">'sixty'</span>,</span><br><span class="line">            <span class="number">7</span>: <span class="string">'seventy'</span>,</span><br><span class="line">            <span class="number">8</span>: <span class="string">'eighty'</span>,</span><br><span class="line">            <span class="number">9</span>: <span class="string">'ninety'</span></span><br><span class="line">            &#125;</span><br><span class="line">    <span class="keyword">if</span> abs(number) &gt;= <span class="number">10000</span>:</span><br><span class="line">        <span class="keyword">return</span> str(number)</span><br><span class="line">    <span class="keyword">elif</span> number == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'zero'</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        output = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> number &lt; <span class="number">0</span>:</span><br><span class="line">            output += <span class="string">'negative '</span></span><br><span class="line">            number = abs(number)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> number &gt;= <span class="number">1000</span>:</span><br><span class="line">            output += _ones[number // <span class="number">1000</span>]</span><br><span class="line">            <span class="keyword">if</span> number % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">                output += <span class="string">" thousand"</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                output += <span class="string">" thousand "</span></span><br><span class="line">            number %= <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> number &gt;= <span class="number">100</span>:</span><br><span class="line">            output += _ones[number // <span class="number">100</span>]</span><br><span class="line">            <span class="keyword">if</span> number % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">                output += <span class="string">" hundred"</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                output += <span class="string">" hundred and "</span></span><br><span class="line">            number %= <span class="number">100</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> number &gt;= <span class="number">20</span>:</span><br><span class="line">            output += _tens[number // <span class="number">10</span>]</span><br><span class="line">            number %= <span class="number">10</span></span><br><span class="line">            <span class="keyword">if</span> number % <span class="number">10</span> <span class="keyword">in</span> _ones:</span><br><span class="line">                output += <span class="string">'-'</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> number <span class="keyword">in</span> _ones:</span><br><span class="line">            output += _ones[number]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cleanse_string</span><span class="params">(string)</span>:</span></span><br><span class="line">    <span class="string">'''remove spaces and hyphens'''</span></span><br><span class="line">    string = string.replace(<span class="string">' '</span>, <span class="string">''</span>)</span><br><span class="line">    string = string.replace(<span class="string">'-'</span>, <span class="string">''</span>)</span><br><span class="line">    <span class="keyword">return</span> string</span><br><span class="line"></span><br><span class="line">print(sum(len(cleanse_string(to_english(i))) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">1001</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ones = &#123;</span><br><span class="line">  <span class="number">1</span>: <span class="string">'one'</span>,</span><br><span class="line">  <span class="number">2</span>: <span class="string">'two'</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="string">'three'</span>,</span><br><span class="line">  <span class="number">4</span>: <span class="string">'four'</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="string">'five'</span>,</span><br><span class="line">  <span class="number">6</span>: <span class="string">'six'</span>,</span><br><span class="line">  <span class="number">7</span>: <span class="string">'seven'</span>,</span><br><span class="line">  <span class="number">8</span>: <span class="string">'eight'</span>,</span><br><span class="line">  <span class="number">9</span>: <span class="string">'nine'</span>,</span><br><span class="line">  <span class="number">10</span>: <span class="string">'ten'</span>,</span><br><span class="line">  <span class="number">11</span>: <span class="string">'eleven'</span>,</span><br><span class="line">  <span class="number">12</span>: <span class="string">'twelve'</span>,</span><br><span class="line">  <span class="number">13</span>: <span class="string">'thirteen'</span>,</span><br><span class="line">  <span class="number">14</span>: <span class="string">'fourteen'</span>,</span><br><span class="line">  <span class="number">15</span>: <span class="string">'fifteen'</span>,</span><br><span class="line">  <span class="number">16</span>: <span class="string">'sixteen'</span>,</span><br><span class="line">  <span class="number">17</span>: <span class="string">'seventeen'</span>,</span><br><span class="line">  <span class="number">18</span>: <span class="string">'eighteen'</span>,</span><br><span class="line">  <span class="number">19</span>: <span class="string">'nineteen'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> tens = &#123;</span><br><span class="line">  <span class="number">2</span>: <span class="string">'twenty'</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="string">'thirty'</span>,</span><br><span class="line">  <span class="number">4</span>: <span class="string">'forty'</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="string">'fifty'</span>,</span><br><span class="line">  <span class="number">6</span>: <span class="string">'sixty'</span>,</span><br><span class="line">  <span class="number">7</span>: <span class="string">'seventy'</span>,</span><br><span class="line">  <span class="number">8</span>: <span class="string">'eighty'</span>,</span><br><span class="line">  <span class="number">9</span>: <span class="string">'ninety'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">english</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> parts = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (number &gt;= <span class="number">1000</span>) &#123;</span><br><span class="line">    parts.push(ones[<span class="built_in">Math</span>.floor(number / <span class="number">1000</span>)])</span><br><span class="line">    parts.push(<span class="string">"thousand"</span>)</span><br><span class="line">    number %= <span class="number">1000</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (number &gt;= <span class="number">100</span>) &#123;</span><br><span class="line">    parts.push(ones[<span class="built_in">Math</span>.floor(number / <span class="number">100</span>)])</span><br><span class="line">    parts.push(<span class="string">"hundred"</span>)</span><br><span class="line">    <span class="keyword">if</span> (number % <span class="number">100</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">      parts.push(<span class="string">"and"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    number %= <span class="number">100</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (number &gt;= <span class="number">20</span>) &#123;</span><br><span class="line">    parts.push(tens[<span class="built_in">Math</span>.floor(number / <span class="number">10</span>)])</span><br><span class="line">    number %= <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (ones[number]) &#123;</span><br><span class="line">    parts.push(ones[number])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> parts.join(<span class="string">""</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> words = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  words.push(english(i))</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(words.join(<span class="string">""</span>).length)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'linguistics'</span> <span class="comment"># gem install linguistics</span></span><br><span class="line">Linguistics::use( <span class="symbol">:en</span> )</span><br><span class="line">puts (<span class="number">1</span>..<span class="number">1000</span>).map &#123; <span class="params">|i|</span> i.en.numwords.gsub(<span class="regexp">/[ -]/</span>, <span class="string">''</span>).length &#125;.reduce(<span class="symbol">:+</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p017</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p017().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * - For the numbers 0 to 19, we write the single word:</span></span><br><span class="line"><span class="comment"> *   &#123;zero, one, two, three, four, five, six, seven, eight, nine,</span></span><br><span class="line"><span class="comment"> *   ten, eleven, twelve, thirteen, fourteen, fifteen, sixteen, seventeen, eighteen, nineteen&#125;.</span></span><br><span class="line"><span class="comment"> * - For the numbers 20 to 99, we write the word for the tens place:</span></span><br><span class="line"><span class="comment"> *   &#123;twenty, thirty, forty, fifty, sixty, seventy, eighty, ninety&#125;.</span></span><br><span class="line"><span class="comment"> *   Subsequently if the last digit is not 0, then we write the word for the ones place (one to nine).</span></span><br><span class="line"><span class="comment"> * - For the numbers 100 to 999, we write the ones word for the hundreds place followed by "hundred":</span></span><br><span class="line"><span class="comment"> *   &#123;one hundred, two hundred, three hundred, ..., eight hundred, nine hundred&#125;.</span></span><br><span class="line"><span class="comment"> *   Subsequently if the last two digits are not 00, then we write the word "and"</span></span><br><span class="line"><span class="comment"> *   followed by the phrase for the last two digits (from 01 to 99).</span></span><br><span class="line"><span class="comment"> * - For the numbers 1000 to 999999, we write the word for the three digits starting at the</span></span><br><span class="line"><span class="comment"> *   thousands place and going leftward, followed by "thousand". Subsequently if the last three</span></span><br><span class="line"><span class="comment"> *   digits are not 000, then we write the phrase for the last three digits (from 001 to 999).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++)</span><br><span class="line">sum += toEnglish(i).length();</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">toEnglish</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="number">0</span> &lt;= n &amp;&amp; n &lt; <span class="number">20</span>)</span><br><span class="line"><span class="keyword">return</span> ONES[n];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">20</span> &lt;= n &amp;&amp; n &lt; <span class="number">100</span>)</span><br><span class="line"><span class="keyword">return</span> TENS[n / <span class="number">10</span>] + (n % <span class="number">10</span> != <span class="number">0</span> ? ONES[n % <span class="number">10</span>] : <span class="string">""</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">100</span> &lt;= n &amp;&amp; n &lt; <span class="number">1000</span>)</span><br><span class="line"><span class="keyword">return</span> ONES[n / <span class="number">100</span>] + <span class="string">"hundred"</span> + (n % <span class="number">100</span> != <span class="number">0</span> ? <span class="string">"and"</span> + toEnglish(n % <span class="number">100</span>) : <span class="string">""</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">1000</span> &lt;= n &amp;&amp; n &lt; <span class="number">1000000</span>)</span><br><span class="line"><span class="keyword">return</span> toEnglish(n / <span class="number">1000</span>) + <span class="string">"thousand"</span> + (n % <span class="number">1000</span> != <span class="number">0</span> ? toEnglish(n % <span class="number">1000</span>) : <span class="string">""</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String[] ONES = &#123;</span><br><span class="line"><span class="string">"zero"</span>, <span class="string">"one"</span>, <span class="string">"two"</span>, <span class="string">"three"</span>, <span class="string">"four"</span>, <span class="string">"five"</span>, <span class="string">"six"</span>, <span class="string">"seven"</span>, <span class="string">"eight"</span>, <span class="string">"nine"</span>,</span><br><span class="line"><span class="string">"ten"</span>, <span class="string">"eleven"</span>, <span class="string">"twelve"</span>, <span class="string">"thirteen"</span>, <span class="string">"fourteen"</span>, <span class="string">"fifteen"</span>, <span class="string">"sixteen"</span>, <span class="string">"seventeen"</span>, <span class="string">"eighteen"</span>, <span class="string">"nineteen"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String[] TENS = &#123;</span><br><span class="line"><span class="string">""</span>, <span class="string">""</span>, <span class="string">"twenty"</span>, <span class="string">"thirty"</span>, <span class="string">"forty"</span>, <span class="string">"fifty"</span>, <span class="string">"sixty"</span>, <span class="string">"seventy"</span>, <span class="string">"eighty"</span>, <span class="string">"ninety"</span>&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * - For the numbers 0 to 19, we write the single word:</span></span><br><span class="line"><span class="comment"> *   &#123;zero, one, two, three, four, five, six, seven, eight, nine,</span></span><br><span class="line"><span class="comment"> *   ten, eleven, twelve, thirteen, fourteen, fifteen, sixteen, seventeen, eighteen, nineteen&#125;.</span></span><br><span class="line"><span class="comment"> * - For the numbers 20 to 99, we write the word for the tens place:</span></span><br><span class="line"><span class="comment"> *   &#123;twenty, thirty, forty, fifty, sixty, seventy, eighty, ninety&#125;.</span></span><br><span class="line"><span class="comment"> *   Subsequently if the last digit is not 0, then we write the word for the ones place (one to nine).</span></span><br><span class="line"><span class="comment"> * - For the numbers 100 to 999, we write the ones word for the hundreds place followed by "hundred":</span></span><br><span class="line"><span class="comment"> *   &#123;one hundred, two hundred, three hundred, ..., eight hundred, nine hundred&#125;.</span></span><br><span class="line"><span class="comment"> *   Subsequently if the last two digits are not 00, then we write the word "and"</span></span><br><span class="line"><span class="comment"> *   followed by the phrase for the last two digits (from 01 to 99).</span></span><br><span class="line"><span class="comment"> * - For the numbers 1000 to 999999, we write the word for the three digits starting at the</span></span><br><span class="line"><span class="comment"> *   thousands place and going leftward, followed by "thousand". Subsequently if the last three</span></span><br><span class="line"><span class="comment"> *   digits are not 000, then we write the phrase for the last three digits (from 001 to 999).</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"></span><br><span class="line">ones = &#123;"one", "two", "three", "four", "five", "six", "seven", "eight", "nine",</span><br><span class="line">        "ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen"&#125;;</span><br><span class="line">tens = &#123;"", "twenty", "thirty", "forty", "fifty", "sixty", "seventy", "eighty", "ninety"&#125;;</span><br><span class="line"></span><br><span class="line">ToEnglish[n_] := <span class="keyword">Piecewise</span>[&#123;</span><br><span class="line">  &#123;"zero",</span><br><span class="line">    n == 0&#125;,</span><br><span class="line">  &#123;ones[[n]],</span><br><span class="line">    1 &lt;= n &lt; 20&#125;,</span><br><span class="line">  &#123;tens[[Floor[n / 10]]] &lt;&gt; If[Mod[n, 10] != 0, ones[[Mod[n, 10]]], ""],</span><br><span class="line">    20 &lt;= n &lt; 100&#125;,</span><br><span class="line">  &#123;ones[[Floor[n / 100]]] &lt;&gt; "hundred" &lt;&gt; If[Mod[n, 100] != 0, "and" &lt;&gt; ToEnglish[Mod[n, 100]], ""],</span><br><span class="line">    100 &lt;= n &lt; 1000&#125;,</span><br><span class="line">  &#123;ToEnglish[Floor[n / 1000]] &lt;&gt; "thousand" &lt;&gt; If[Mod[n, 1000] != 0, ToEnglish[Mod[n, 1000]], ""],</span><br><span class="line">    1000 &lt;= n &lt; 1000000&#125;&#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">Sum</span>[<span class="keyword">StringLength</span>[ToEnglish[n]], &#123;n, 1000&#125;]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-016</title>
      <link href="/2018/03/11/Project-Euler-016/"/>
      <url>/2018/03/11/Project-Euler-016/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p><br>$2^{15} = 32768$ and the sum of its digits is $3 + 2 + 7 + 6 + 8 = 26$.<br></p><p><br>What is the sum of the digits of the number $2^{1000}$?<br></p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1366</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">print(sum(int(digit) <span class="keyword">for</span> digit <span class="keyword">in</span> str(<span class="number">2</span>**<span class="number">1000</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">puts (<span class="number">2</span>**<span class="number">1000</span>).to_s.each_char.inject(<span class="number">0</span>) &#123;<span class="params">|s,v|</span> s+v.to_i&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">sumDigits</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">sumDigits</span> n = sumDigits' n <span class="number">0</span></span><br><span class="line">    <span class="keyword">where</span> sumDigits' <span class="number">0</span> acc = acc</span><br><span class="line">          sumDigits' n acc = sumDigits' (div n <span class="number">10</span>) (acc + (mod n <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ sumDigits $ <span class="number">2</span>^<span class="number">1000</span></span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p016</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p016().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We implement this solution in a straightforward way with help from BigInteger.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">String temp = BigInteger.ONE.shiftLeft(<span class="number">1000</span>).toString();</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; temp.length(); i++)</span><br><span class="line">sum += temp.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * We implement this solution in a straightforward way thanks to</span></span><br><span class="line"><span class="comment"> * Mathematica's built-in functions and arbitrary precision integer type.</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"><span class="keyword">Total</span>[<span class="keyword">IntegerDigits</span>[<span class="number">2</span>^<span class="number">1000</span>]]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-015</title>
      <link href="/2018/03/10/Project-Euler-015/"/>
      <url>/2018/03/10/Project-Euler-015/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p><br>Starting in the top left corner of a 2x2 grid, there are 6 routes (without backtracking) to the bottom right corner.<br></p><div style="text-align: center;"><br><img src="http://projecteuler.net/project/images/p015.gif"><br></div><p><br>How many routes are there through a 20x20 grid?<br></p><a id="more"></a><p>The grid can be expressed as <a href="http://en.wikipedia.org/wiki/Pascal&#39;s_triangle" target="_blank" rel="noopener">Pascal’s Triangle</a>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1 1</span><br><span class="line">1 (2) 1</span><br><span class="line">1 3 3 1</span><br><span class="line">1 4 (6) 4 1</span><br><span class="line">1 5 10 10 5 1</span><br><span class="line">1 6 15 (20) 15 6 1</span><br></pre></td></tr></table></figure><p>Note that the solution for a 1x1 grid is 2, a 2x2 grid is 6, and a 3x3 grid is 20.</p><p>If we compare these solutions to Pascal’s Triangle, we see that they correspond to<br>the 1st element in the 2nd row, the 2nd element in the 4th row, and the 3rd element<br>in the 6th row, respectively. (Note that Pascal’s Triangle is zero-indexed.)</p><p>The <a href="http://en.wikipedia.org/wiki/Binomial_coefficient" target="_blank" rel="noopener">binomial coefficient</a><br>$\binom {n} {k}$ can be used to determine the $k$th element in the<br>$n$th row of Pascal’s Triangle. Thus, we could express the aforementioned solutions as<br>$\binom {2} {1}$, $\binom {4} {2}$, and $\binom {6} {3}$, respectively.</p><p>Thus, a general solution for grids of size $x$ is </p><p>$$routes = \binom {2x} {x}$$.</p><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">137846528820</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> comb</span><br><span class="line">print(comb(<span class="number">2</span> * <span class="number">20</span>,<span class="number">20</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span> </span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">choose</span><span class="params">(k)</span></span> </span><br><span class="line">    (<span class="keyword">self</span>-k+<span class="number">1</span> .. <span class="keyword">self</span>).inject(<span class="number">1</span>, &amp;<span class="symbol">:*</span>) / (<span class="number">2</span> .. k).inject(<span class="number">1</span>, &amp;<span class="symbol">:*</span>) </span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts <span class="number">40</span>.choose(<span class="number">20</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line"><span class="comment">; compute pascal's triangle</span></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> ** [x n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">.</span></span> (<span class="name"><span class="builtin-name">.</span></span> java.math.BigInteger (<span class="name">valueOf</span> x)) (<span class="name">pow</span> n)))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> pascal [n k]</span><br><span class="line">  (<span class="name"><span class="builtin-name">cond</span></span> </span><br><span class="line">    (<span class="name"><span class="builtin-name">=</span></span> k n) <span class="number">1</span></span><br><span class="line">    (<span class="name"><span class="builtin-name">or</span></span> (<span class="name"><span class="builtin-name">&lt;</span></span> n <span class="number">0</span>) (<span class="name"><span class="builtin-name">&lt;</span></span> k <span class="number">0</span>)) <span class="number">0</span></span><br><span class="line">    <span class="symbol">:else</span> </span><br><span class="line">    (<span class="name"><span class="builtin-name">+</span></span></span><br><span class="line">      (<span class="name">pascal</span> (<span class="name"><span class="builtin-name">-</span></span> n <span class="number">1</span>) (<span class="name"><span class="builtin-name">-</span></span> k <span class="number">1</span>))</span><br><span class="line">      (<span class="name">pascal</span> (<span class="name"><span class="builtin-name">-</span></span> n <span class="number">1</span>) k))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> pascal-row [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">map</span></span> #(<span class="name">pascal</span> n %) (<span class="name"><span class="builtin-name">range</span></span> (<span class="name"><span class="builtin-name">+</span></span> n <span class="number">1</span>))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> pascal-triangle [num-rows]</span><br><span class="line">  (<span class="name"><span class="builtin-name">map</span></span> #(<span class="name">pascal-row</span> %) (<span class="name"><span class="builtin-name">range</span></span> num-rows)))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">dorun</span></span> (<span class="name"><span class="builtin-name">map</span></span> println (<span class="name">pascal-triangle</span> <span class="number">10</span>)))</span><br><span class="line">(<span class="name">println</span> (<span class="name">pascal</span> <span class="number">5</span> <span class="number">3</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">factorial</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">factorial</span> n = product [<span class="number">1.</span>.n]</span><br><span class="line"></span><br><span class="line"><span class="title">choose</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">choose</span> n k = div (factorial n) $ factorial k * factorial (n - k)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ choose <span class="number">40</span> <span class="number">20</span></span><br></pre></td></tr></table></figure></p><hr><p>Java<br>``java<br>import java.math.BigInteger;</p><p>public final class p016 implements EulerSolution {</p><pre><code>public static void main(String[] args) {    System.out.println(new p016().run());}/*  * We implement this solution in a straightforward way with help from BigInteger. */public String run() {    String temp = BigInteger.ONE.shiftLeft(1000).toString();    int sum = 0;    for (int i = 0; i &lt; temp.length(); i++)        sum += temp.charAt(i) - &apos;0&apos;;    return Integer.toString(sum);}</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">________</span><br><span class="line">Mathematica</span><br><span class="line">```mathematica</span><br><span class="line">(* </span><br><span class="line"> * We implement this solution in a straightforward way thanks to</span><br><span class="line"> * Mathematica&apos;s built-in functions and arbitrary precision integer type.</span><br><span class="line"> *)</span><br><span class="line">Total[IntegerDigits[2^1000]]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Perceptrons - the most basic form of a neural network</title>
      <link href="/2018/03/09/Perceptrons-the-most-basic-form-of-a-neural-network/"/>
      <url>/2018/03/09/Perceptrons-the-most-basic-form-of-a-neural-network/</url>
      <content type="html"><![CDATA[<p>Artificial Neural Networks have gained attention during the recent years, driven by advances in deep learning. But what is an Artificial Neural Network and what is it made of?</p><p>Meet the perceptron.</p><p>In this article we’ll have a quick look at artificial neural networks in general, then we examine a single neuron, and finally (this is the coding part) we take the most basic version of an artificial neuron, the perceptron, and make it classify points on a plane.</p><p>But first, let me introduce the topic.</p><h3 id="Artificial-neural-networks-as-a-model-of-the-human-brain"><a href="#Artificial-neural-networks-as-a-model-of-the-human-brain" class="headerlink" title="Artificial neural networks as a model of the human brain"></a>Artificial neural networks as a model of the human brain</h3><p>Have you ever wondered why there are tasks that are dead simple for any human but incredibly difficult for computers? Artificial neural networks (short: ANN’s) were inspired by the central nervous system of humans. Like their biological counterpart, ANN’s are built upon simple signal processing elements that are connected together into a large mesh.</p><h3 id="What-can-neural-networks-do"><a href="#What-can-neural-networks-do" class="headerlink" title="What can neural networks do?"></a>What can neural networks do?</h3><p>ANN’s have been successfully applied to a number of problem domains:</p><ul><li>Classify data by recognizing patterns. Is this a tree on that picture?</li><li>Detect anomalies or novelties, when test data does not match the usual patterns. Is the truck driver at the risk of falling asleep? Are these seismic events showing normal ground motion or a big earthquake?</li><li>Process signals, for example, by filtering, separating, or compressing.</li><li>Approximate a target function–useful for predictions and forecasting. Will this storm turn into a tornado?</li></ul><p>Agreed, this sounds a bit abstract, so let’s look at some real-world applications. Neural networks can -</p><ul><li>identify faces,</li><li>recognize speech,</li><li>read your handwriting (mine perhaps not),</li><li>translate texts,</li><li>play games (typically board games or card games)</li><li>control autonomous vehicles and robots</li><li>and surely a couple more things!</li></ul><h3 id="The-topology-of-a-neural-network"><a href="#The-topology-of-a-neural-network" class="headerlink" title="The topology of a neural network"></a>The topology of a neural network</h3><p>There are many ways of knitting the nodes of a neural network together, and each way results in a more or less complex behavior. Possibly the simplest of all topologies is the feed-forward network. Signals flow in one direction only; there is never any loop in the signal paths.</p><div align="center"><br><img src="https://appliedgo.net/media/perceptron/ffnn.png"><br></div><p>Typically, ANN’s have a layered structure. The input layer picks up the input signals and passes them on to the next layer, the so-called ‘hidden’ layer. (Actually, there may be more than one hidden layer in a neural network.) Last comes the output layer that delivers the result.</p><h3 id="Neural-networks-must-learn"><a href="#Neural-networks-must-learn" class="headerlink" title="Neural networks must learn"></a>Neural networks must learn</h3><p>Unlike traditional algorithms, neural networks cannot be ‘programmed’ or ‘configured’ to work in the intended way. Just like human brains, they have to learn how to accomplish a task. Roughly speaking, there are three learning strategies:</p><h4 id="Supervised-learning"><a href="#Supervised-learning" class="headerlink" title="Supervised learning"></a>Supervised learning</h4><p>The easiest way. Can be used if a (large enough) set of test data with known results exists. Then the learning goes like this: Process one dataset. Compare the output against the known result. Adjust the network and repeat. This is the learning strategy we’ll use here.</p><h4 id="Unsupervised-learning"><a href="#Unsupervised-learning" class="headerlink" title="Unsupervised learning"></a>Unsupervised learning</h4><p>Useful if no test data is readily available, and if it is possible to derive some kind of cost function from the desired behavior. The cost function tells the neural network how much it is off the target. The network then can adjust its parameters on the fly while working on the real data.</p><h4 id="Reinforced-learning"><a href="#Reinforced-learning" class="headerlink" title="Reinforced learning"></a>Reinforced learning</h4><p>The ‘carrot and stick’ method. Can be used if the neural network generates continuous action. Follow the carrot in front of your nose! If you go the wrong way - ouch. Over time, the network learns to prefer the right kind of action and to avoid the wrong one.</p><p>Ok, now we know a bit about the nature of artificial neural networks, but what exactly are they made of? What do we see if we open the cover and peek inside?</p><h3 id="Neurons-The-building-blocks-of-neural-networks"><a href="#Neurons-The-building-blocks-of-neural-networks" class="headerlink" title="Neurons: The building blocks of neural networks"></a>Neurons: The building blocks of neural networks</h3><p>The very basic ingredient of any artificial neural network is the artificial neuron. They are not only named after their biological counterparts but also are modeled after the behavior of the neurons in our brain.</p><h4 id="Biology-vs-technology"><a href="#Biology-vs-technology" class="headerlink" title="Biology vs technology"></a>Biology vs technology</h4><p>Just like a biological neuron has dendrites to receive signals, a cell body to process them, and an axon to send signals out to other neurons, the artificial neuron has a number of input channels, a processing stage, and one output that can fan out to multiple other artificial neurons.</p><div align="center"><br><img src="https://appliedgo.net/media/perceptron/neuron.png"><br></div><h4 id="Inside-an-artificial-neuron"><a href="#Inside-an-artificial-neuron" class="headerlink" title="Inside an artificial neuron"></a>Inside an artificial neuron</h4><h5 id="1-Each-input-gets-scaled-up-or-down"><a href="#1-Each-input-gets-scaled-up-or-down" class="headerlink" title="1. Each input gets scaled up or down"></a>1. Each input gets scaled up or down</h5><p>When a signal comes in, it gets multiplied by a weight value that is assigned to this particular input. That is, if a neuron has three inputs, then it has three weights that can be adjusted individually. During the learning phase, the neural network can adjust the weights based on the error of the last test result.</p><h5 id="2-All-signals-are-summed-up"><a href="#2-All-signals-are-summed-up" class="headerlink" title="2. All signals are summed up"></a>2. All signals are summed up</h5><p>In the next step, the modified input signals are summed up to a single value. In this step, an offset is also added to the sum. This offset is called bias. The neural network also adjusts the bias during the learning phase.</p><p>This is where the magic happens! At the start, all the neurons have random weights and random biases. After each learning iteration, weights and biases are gradually shifted so that the next result is a bit closer to the desired output. This way, the neural network gradually moves towards a state where the desired patterns are “learned”.</p><h5 id="3-Activation"><a href="#3-Activation" class="headerlink" title="3. Activation"></a>3. Activation</h5><p>Finally, the result of the neuron’s calculation is turned into an output signal. This is done by feeding the result to an activation function (also called transfer function).</p><h3 id="The-perceptron"><a href="#The-perceptron" class="headerlink" title="The perceptron"></a>The perceptron</h3><p>The most basic form of an activation function is a simple binary function that has only two possible results.</p><div align="center"><br><img src="https://appliedgo.net/media/perceptron/heaviside.png"><br></div><p>Despite looking so simple, the function has a quite elaborate name: The Heaviside Step function. This function returns 1 if the input is positive or zero, and 0 for any negative input. A neuron whose activation function is a function like this is called a perceptron.</p><h3 id="Can-we-do-something-useful-with-a-single-perceptron"><a href="#Can-we-do-something-useful-with-a-single-perceptron" class="headerlink" title="Can we do something useful with a single perceptron?"></a>Can we do something useful with a single perceptron?</h3><p>If you think about it, it looks as if the perceptron consumes a lot of information for very little output - just 0 or 1. How could this ever be useful on its own?</p><p>There is indeed a class of problems that a single perceptron can solve. Consider the input vector as the coordinates of a point. For a vector with n elements, this point would live in an n-dimensional space. To make life (and the code below) easier, let’s assume a two-dimensional plane. Like a sheet of paper.</p><p>Further consider that we draw a number of random points on this plane, and we separate them into two sets by drawing a straight line across the paper:</p><div align="center"><br><img src="https://appliedgo.net/media/perceptron/pointsandline.png"><br></div><p>This line divides the points into two sets, one above and one below the line. (The two sets are then called linearly separable.)</p><p>A single perceptron, as bare and simple as it might appear, is able to learn where this line is, and when it finished learning, it can tell whether a given point is above or below that line.</p><p>Imagine that: A single perceptron already can learn how to classify points!</p><p>Let’s jump right into coding, to see how.</p><h3 id="The-code-A-perceptron-for-classifying-points"><a href="#The-code-A-perceptron-for-classifying-points" class="headerlink" title="The code: A perceptron for classifying points"></a>The code: A perceptron for classifying points</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math/rand"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">    <span class="string">"github.com/appliedgo/perceptron/draw"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Perceptron <span class="keyword">struct</span> &#123;</span><br><span class="line">    weights []<span class="keyword">float32</span></span><br><span class="line">    bias <span class="keyword">float32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Perceptron)</span> <span class="title">heaviside</span><span class="params">(f <span class="keyword">float32</span>)</span> <span class="title">int32</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> f &lt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewPerceptron</span><span class="params">(n <span class="keyword">int32</span>)</span> *<span class="title">Perceptron</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">int32</span></span><br><span class="line">    w := <span class="built_in">make</span>([]<span class="keyword">float32</span>, n, n)</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        w[i] = rand.Float32()*<span class="number">2</span> - <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &amp;Perceptron&#123;</span><br><span class="line">        weights: w,</span><br><span class="line">        bias: rand.Float32()*<span class="number">2</span> - <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Perceptron)</span> <span class="title">Process</span><span class="params">(inputs []<span class="keyword">int32</span>)</span> <span class="title">int32</span></span> &#123;</span><br><span class="line">    sum := p.bias</span><br><span class="line">    <span class="keyword">for</span> i, input := <span class="keyword">range</span> inputs &#123;</span><br><span class="line">        sum += <span class="keyword">float32</span>(input) * p.weights[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p.heaviside(sum)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Perceptron)</span> <span class="title">Adjust</span><span class="params">(inputs []<span class="keyword">int32</span>, delta <span class="keyword">int32</span>, learningRate <span class="keyword">float32</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i, input := <span class="keyword">range</span> inputs &#123;</span><br><span class="line">        p.weights[i] += <span class="keyword">float32</span>(input) * <span class="keyword">float32</span>(delta) * learningRate</span><br><span class="line">    &#125;</span><br><span class="line">    p.bias += <span class="keyword">float32</span>(delta) * learningRate</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    a, b <span class="keyword">int32</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">(x <span class="keyword">int32</span>)</span> <span class="title">int32</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a*x + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isAboveLine</span><span class="params">(point []<span class="keyword">int32</span>, f <span class="keyword">func</span>(<span class="keyword">int32</span>)</span> <span class="title">int32</span>) <span class="title">int32</span></span> &#123;</span><br><span class="line">    x := point[<span class="number">0</span>]</span><br><span class="line">    y := point[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">if</span> y &gt; f(x) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">train</span><span class="params">(p *Perceptron, iters <span class="keyword">int</span>, rate <span class="keyword">float32</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; iters; i++ &#123;</span><br><span class="line">        point := []<span class="keyword">int32</span>&#123;</span><br><span class="line">            rand.Int31n(<span class="number">201</span>) - <span class="number">101</span>,</span><br><span class="line">            rand.Int31n(<span class="number">201</span>) - <span class="number">101</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        actual := p.Process(point)</span><br><span class="line">        expected := isAboveLine(point, f)</span><br><span class="line">        delta := expected - actual</span><br><span class="line">        p.Adjust(point, delta, rate)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">verify</span><span class="params">(p *Perceptron)</span> <span class="title">int32</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> correctAnswers <span class="keyword">int32</span> = <span class="number">0</span></span><br><span class="line">    c := draw.NewCanvas()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100</span>; i++ &#123;</span><br><span class="line">        point := []<span class="keyword">int32</span>&#123;</span><br><span class="line">            rand.Int31n(<span class="number">201</span>) - <span class="number">101</span>,</span><br><span class="line">            rand.Int31n(<span class="number">201</span>) - <span class="number">101</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        result := p.Process(point)</span><br><span class="line">        <span class="keyword">if</span> result == isAboveLine(point, f) &#123;</span><br><span class="line">            correctAnswer += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        c.DrawPoint(point[<span class="number">0</span>], point[<span class="number">1</span>], result == <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    c.DrawLinearFunction(a, b)</span><br><span class="line">    c.Save()</span><br><span class="line">    <span class="keyword">return</span> correctAnswers</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rand.Seed(time.Now().UnixNano())</span><br><span class="line">    a = rand.Int31n(<span class="number">11</span>) - <span class="number">6</span></span><br><span class="line">    b = rand.Int31n(<span class="number">101</span>) - <span class="number">51</span></span><br><span class="line">    p := NewPerceptron(<span class="number">2</span>)</span><br><span class="line">    iterations := <span class="number">1000</span></span><br><span class="line">    <span class="keyword">var</span> learningRate <span class="keyword">float32</span> = <span class="number">0.1</span></span><br><span class="line">    train(p, iterations, learningRate)</span><br><span class="line">    successRate := verify(p)</span><br><span class="line">    fmt.Printf(<span class="string">"%d%% of the answers were correct\n"</span>, successRate)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h3><ol><li><p>Play with the number of training iterations!</p><ul><li>Will the accuracy increase if you train the perceptron 10,000 times?</li><li>Try fewer iterations. What happens if you train the perceptron only 100 times? 10times?</li><li>What happens if you skip the training completely?</li></ul></li><li><p>Change the learning rate to 0.01, 0.2, 0.0001, 0.5, 1,… while keeping the training iterations constant. Do you see the accuracy change?</p></li></ol>]]></content>
      
      
        <tags>
            
            <tag> perceptron </tag>
            
            <tag> machine learning </tag>
            
            <tag> deep learning </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-014</title>
      <link href="/2018/03/09/Project-Euler-014/"/>
      <url>/2018/03/09/Project-Euler-014/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>The following iterative sequence is defined for the set of positive integers:</p><p>$$n \rightarrow<br>\begin{cases}<br>\tfrac{n}{2} &amp; \text{if } n \text{ is even} \<br>3n+1 &amp; \text{if } n \text{ is odd}<br>\end{cases}$$</p><p>Using the rule above and starting with 13, we generate the following sequence:</p><p>$$13, 40, 20, 10, 5, 16, 8, 4, 2, 1$$</p><p>It can be seen that this sequence (starting at 13 and finishing at 1) contains 10<br>terms. Although it has not been proved yet (Collatz Problem), it is thought that all<br>starting numbers finish at 1.</p><p>Which starting number, under one million, produces the longest chain?</p><a id="more"></a><p>NOTE: Once the chain starts the terms are allowed to go above one million.</p><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">837799</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">next_collatz</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> n / <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span>*n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">collatz</span><span class="params">(start)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> start &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">"start must be greater than or equal to 1"</span>)</span><br><span class="line">    <span class="keyword">elif</span> start == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> [<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    res = [start]</span><br><span class="line">    done = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> done:</span><br><span class="line">        res += [next_collatz(res[<span class="number">-1</span>])]</span><br><span class="line">        <span class="keyword">if</span> res[<span class="number">-1</span>] == <span class="number">1</span>: done = <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">_collatz_cache = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lencollatz</span><span class="params">(start)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> start &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">"start must be greater than or equal to 1"</span>)</span><br><span class="line">    <span class="keyword">elif</span> start == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    n = start</span><br><span class="line">    length = <span class="number">1</span></span><br><span class="line">    done = <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> done:</span><br><span class="line">        n = next_collatz(n)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            length += _collatz_cache[n]</span><br><span class="line">            done = <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            length += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> n == <span class="number">1</span>: done = <span class="keyword">True</span></span><br><span class="line">    _collatz_cache[start] = length</span><br><span class="line">    <span class="keyword">return</span> length</span><br><span class="line"></span><br><span class="line">max_len = <span class="number">0</span></span><br><span class="line">max_i = <span class="keyword">None</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">1000000</span>):</span><br><span class="line">    l = lencollatz(i)</span><br><span class="line">    <span class="keyword">if</span> l &gt; max_len:</span><br><span class="line">        max_len = l</span><br><span class="line">        max_i = i</span><br><span class="line">print(max_i)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line">max_l = <span class="number">0</span></span><br><span class="line">max_i = <span class="number">0</span></span><br><span class="line"><span class="number">500001</span>.step(<span class="number">1000000</span>, <span class="number">2</span>).each <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">  l = <span class="number">0</span></span><br><span class="line">  j = i</span><br><span class="line">  <span class="keyword">while</span> j != <span class="number">1</span> <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> j.even?</span><br><span class="line">      j /= <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      j = <span class="number">3</span> * j + <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    l += <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> l &gt; max_l</span><br><span class="line">    max_l = l</span><br><span class="line">    max_i = i</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts max_i</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.Word</span><br><span class="line"><span class="keyword">import</span> Data.Array</span><br><span class="line"></span><br><span class="line"><span class="title">memoCollatz</span> :: <span class="type">Array</span> <span class="type">Word</span> <span class="type">Word</span></span><br><span class="line"><span class="title">memoCollatz</span> = listArray (<span class="number">1</span>, size) $ map collatz [<span class="number">1.</span>.size]</span><br><span class="line">    <span class="keyword">where</span> size = <span class="number">1000000</span></span><br><span class="line"></span><br><span class="line"><span class="title">collatz</span> :: <span class="type">Word</span> -&gt; <span class="type">Word</span></span><br><span class="line"><span class="title">collatz</span> <span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="title">collatz</span> n | inRange (bounds memoCollatz) next = <span class="number">1</span> + memoCollatz ! next</span><br><span class="line">          | otherwise = <span class="number">1</span> + collatz next</span><br><span class="line">          <span class="keyword">where</span> next = <span class="keyword">case</span> n <span class="keyword">of</span></span><br><span class="line">                           <span class="number">1</span> -&gt; <span class="number">1</span></span><br><span class="line">                           n | even n -&gt; n `div` <span class="number">2</span></span><br><span class="line">                             | otherwise -&gt; <span class="number">3</span> * n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="title">main</span> = print $ snd $ maximum $ map (\n -&gt; (collatz n, n)) [<span class="number">1.</span><span class="number">.1000000</span>]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> collatz [start]</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> next-collatz [n]</span><br><span class="line">    (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">even?</span></span> n)</span><br><span class="line">      (/ n <span class="number">2</span>)</span><br><span class="line">      (<span class="name"><span class="builtin-name">+</span></span> (<span class="name"><span class="builtin-name">*</span></span> <span class="number">3</span> n) <span class="number">1</span>)))</span><br><span class="line">  (<span class="name"><span class="builtin-name">def</span></span> memo-collatz</span><br><span class="line">    (<span class="name"><span class="builtin-name">memoize</span></span> next-collatz))</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> not-one? [n]</span><br><span class="line">    (<span class="name"><span class="builtin-name">not</span></span> (<span class="name"><span class="builtin-name">=</span></span> n <span class="number">1</span>)))</span><br><span class="line">  (<span class="name"><span class="builtin-name">concat</span></span> (<span class="name"><span class="builtin-name">take-while</span></span> not-one? (<span class="name"><span class="builtin-name">iterate</span></span> next-collatz start)) [<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> collatz-seqs [limit]</span><br><span class="line">  (<span class="name"><span class="builtin-name">map</span></span> collatz (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> limit)))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">apply</span></span> max-key count (<span class="name">collatz-seqs</span> <span class="number">100000</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>C<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">next_collatz</span><span class="params">(<span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n / <span class="number">2</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span> * n + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">lencollatz</span><span class="params">(<span class="keyword">long</span> start)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (start == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">long</span> n = start;</span><br><span class="line">    <span class="keyword">long</span> length = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">1</span>) &#123;</span><br><span class="line">        n = next_collatz(n);</span><br><span class="line">        length++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> max_l = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> max_i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>; i &lt; <span class="number">1000000</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">long</span> l = lencollatz(i);</span><br><span class="line">        <span class="keyword">if</span> (l &gt; max_l) &#123;</span><br><span class="line">            max_l = l;</span><br><span class="line">            max_i = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%ld\n"</span>, max_i);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p014</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p014().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We compute the Collatz chain length for every integer in the range according to the iteration rule.</span></span><br><span class="line"><span class="comment"> * Also, we cache the Collatz value for small integer arguments to speed up the computation.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> LIMIT = Library.pow(<span class="number">10</span>, <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxArg = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> maxChain = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; LIMIT; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> chainLen = collatzChainLength(BigInteger.valueOf(i));</span><br><span class="line"><span class="keyword">if</span> (chainLen &gt; maxChain) &#123;</span><br><span class="line">maxArg = i;</span><br><span class="line">maxChain = chainLen;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(maxArg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Can be set to any non-negative number, but there are diminishing returns as you go larger</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> BigInteger CACHE_SIZE = BigInteger.valueOf(LIMIT);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Memoization</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] collatzChainLength = <span class="keyword">new</span> <span class="keyword">int</span>[CACHE_SIZE.intValue()];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns the Collatz chain length of the given integer with automatic caching.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">collatzChainLength</span><span class="params">(BigInteger n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n.signum() &lt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (n.compareTo(CACHE_SIZE) &gt;= <span class="number">0</span>)  <span class="comment">// Caching not available</span></span><br><span class="line"><span class="keyword">return</span> collatzChainLengthDirect(n);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> index = n.intValue();  <span class="comment">// Index in the cache</span></span><br><span class="line"><span class="keyword">if</span> (collatzChainLength[index] == <span class="number">0</span>)</span><br><span class="line">collatzChainLength[index] = collatzChainLengthDirect(n);</span><br><span class="line"><span class="keyword">return</span> collatzChainLength[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns the Collatz chain length of the given integer, with the</span></span><br><span class="line"><span class="comment">// first step uncached but the remaining steps using automatic caching.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">collatzChainLengthDirect</span><span class="params">(BigInteger n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n.equals(BigInteger.ONE))  <span class="comment">// Base case</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (!n.testBit(<span class="number">0</span>))  <span class="comment">// If n is even</span></span><br><span class="line"><span class="keyword">return</span> collatzChainLength(n.shiftRight(<span class="number">1</span>)) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span>  <span class="comment">// Else n is odd</span></span><br><span class="line"><span class="keyword">return</span> collatzChainLength(n.multiply(BigInteger.valueOf(<span class="number">3</span>)).add(BigInteger.ONE)) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Collatz[<span class="number">0</span>] := <span class="number">0</span></span><br><span class="line">Collatz[<span class="number">1</span>] := <span class="number">1</span></span><br><span class="line">Collatz[n_] := <span class="keyword">Block</span>[&#123;res = Collatz[If[EvenQ[n], n / 2, n * 3 + 1]] + 1&#125;,</span><br><span class="line">  <span class="keyword">If</span>[n &lt; <span class="number">10</span>^<span class="number">5</span>, Collatz[n] = res, res]]  <span class="comment">(* Selective memoization *)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">$RecursionLimit</span> = <span class="number">1000</span>;</span><br><span class="line">maxArg = <span class="number">-1</span>;</span><br><span class="line">maxVal = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">For</span>[i = <span class="number">0</span>, i &lt;= <span class="number">10</span>^<span class="number">6</span>, i++,</span><br><span class="line">  <span class="keyword">If</span>[Collatz[i] &gt; maxVal,</span><br><span class="line">    maxVal = Collatz[i];</span><br><span class="line">    maxArg = i]]</span><br><span class="line">maxArg</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-013</title>
      <link href="/2018/03/08/Project-Euler-013/"/>
      <url>/2018/03/08/Project-Euler-013/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Work out the first ten digits of the sum of the following<br>fifty digit numbers.<br><a id="more"></a></p><pre><code>37107287533902102798797998220837590246510135740250463769376774900097126481248969700780504170182605387432498619952474105947423330951305812372661730962991942213363574161572522430563301811072406154908250230675882075393461711719803104210475137780632466768926167069662363382013637841838368417873436172675728112879812849979408065481931592621691275889832738442742289174325203219235894228767964876702721893184745144573600130643909116721685684458871160315327670386486105843025439939619828917593665686757934951621764571418565606295021572231965867550793241933316490635246274190492910143244581382266334794475817892575867718337217661963751590579239728245598838407582035653253593990084026335689488301894586282278288018119938482628201427819413994056758715117009439035398664372827112653829987240784473053190104293586865155060062958648615320752733719591914205172558297169388870771546649911559348760353292171497005693854370070576826684624621495650076471787294438377604532826541087568284431911906346940378552177792951453612327252500029607107508256381565671088525835072145876576172410976447339110607218265236877223636045174237069058518606604482076212098132878607339694128114266041808683061932846081119106155694051268969251934325451728388641918047049293215058642563049483624672216484350762017279180399446930047329563406911573244438690812579451408905770622942919710792820955037687525678773091862540744969844508330393682126183363848253301546861961243487676812975343759465158038628759287849020152168555482871720121925776695478182833757993103614740356856449095527097864797581167263201004368978425535399209318374414978068609844840309812907779179908821879532736447567559084803087086987551392711854517078544161852424320693150332599594068957565367821070749269665376763262354472106979395067965269474259770973916669376304263398708541052684708299085211399427365734116182760315001271653786073615010808570091499395125570281987460043753582903531743471732693212357815498262974255273730794953759765105305946966067683156574377167401875275889028025717332296191766687138199318110487701902712526768027607800301367868099252546340106163286652636270218540497705585629946580636237993140746255962240744869082311749777923654662572469233228109171419143028819710328859780666976089293863828502533340334413065578016127815921815005561868836468420090470230530811728164304876237919698424872550366387845831148769693215490281042402013833512446218144177347063783299490636259666498587618221225225512486764533677201869716985443124195724099139590089523100588229554825530026352078153229679624948164195386821877476085327132285723110424803456124867697064507995236377742425354112916842768655389262050249103265729672370191327572567528565324825826546309220705859652229798860272258331913126375147341994889534765745501184957014548792889848568277260777137214037988797153829820378303147352772158034814451349137322665138134829543829199918180278916522431027392251122869539409579530664052326325380441000596549391598795936352974615218550237130764225512118369380358038858490341698116222072977186158236678424689157993532961922624679571944012690438771072750481023908955235974572318970677254791506150550495392297953090112996751986188088225875314529584099251203829009407770775672113067397083047244838165338735023408456470580773088295917476714036319800818712901187549131054712658197623331044818386269515456334926366572897563400500428462801835170705278318394258821455212272512503275512160354698120058176216521282765275169129689778932238195734329339946437501907836945765883352399886755061649651847751807381688378610915273579297013376217784275219262340194239963916804498399317331273132924185707147349566916674687634660915035914677504995186714302352196288948901024233251169136196266227326746080059154747183079839286853520694694454072476841822524674417161514036427982273348055556214818971426179103425986472045168939894221798260880768528778364618279934631376775430780936333301898264209010848802521674670883215120185883543223812876952786713296124747824645386369930090493103636197638780396218407357239979422340623539380833965132740801111666627891981488087797941876876144230030984490851411606618262936828367647447792391803351109890697907148578694408955299065364044742557608365997664579509666024396409905389607120198219976047599490197230297649139826800329731560371200413779037855660850892521673093931987275027546890690370753941304265231501194809377245048795150954100921645863754710598436791786391670211874924319957006419179697775990283006991536871371193661495281130587638027841075444973307840789923115535562561142322423255033685442488917353448899115014406480203690680639606723221932041495354150312888033953605329934036800697771065056663195481234880673210146739058568557934581403627822703280826165707739483275922328459417065250945123252306082291880205877731971983945018088807242966198081119777158542502016545090413245809786882778948721859617721078384350691861554356628840622574736922845095162084960398013400172393067166682355524525280460972253503534226472524250874054075591789781264330331690</code></pre><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5537376230</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">digits_string = <span class="string">'''</span></span><br><span class="line"><span class="string">37107287533902102798797998220837590246510135740250</span></span><br><span class="line"><span class="string">46376937677490009712648124896970078050417018260538</span></span><br><span class="line"><span class="string">74324986199524741059474233309513058123726617309629</span></span><br><span class="line"><span class="string">91942213363574161572522430563301811072406154908250</span></span><br><span class="line"><span class="string">23067588207539346171171980310421047513778063246676</span></span><br><span class="line"><span class="string">89261670696623633820136378418383684178734361726757</span></span><br><span class="line"><span class="string">28112879812849979408065481931592621691275889832738</span></span><br><span class="line"><span class="string">44274228917432520321923589422876796487670272189318</span></span><br><span class="line"><span class="string">47451445736001306439091167216856844588711603153276</span></span><br><span class="line"><span class="string">70386486105843025439939619828917593665686757934951</span></span><br><span class="line"><span class="string">62176457141856560629502157223196586755079324193331</span></span><br><span class="line"><span class="string">64906352462741904929101432445813822663347944758178</span></span><br><span class="line"><span class="string">92575867718337217661963751590579239728245598838407</span></span><br><span class="line"><span class="string">58203565325359399008402633568948830189458628227828</span></span><br><span class="line"><span class="string">80181199384826282014278194139940567587151170094390</span></span><br><span class="line"><span class="string">35398664372827112653829987240784473053190104293586</span></span><br><span class="line"><span class="string">86515506006295864861532075273371959191420517255829</span></span><br><span class="line"><span class="string">71693888707715466499115593487603532921714970056938</span></span><br><span class="line"><span class="string">54370070576826684624621495650076471787294438377604</span></span><br><span class="line"><span class="string">53282654108756828443191190634694037855217779295145</span></span><br><span class="line"><span class="string">36123272525000296071075082563815656710885258350721</span></span><br><span class="line"><span class="string">45876576172410976447339110607218265236877223636045</span></span><br><span class="line"><span class="string">17423706905851860660448207621209813287860733969412</span></span><br><span class="line"><span class="string">81142660418086830619328460811191061556940512689692</span></span><br><span class="line"><span class="string">51934325451728388641918047049293215058642563049483</span></span><br><span class="line"><span class="string">62467221648435076201727918039944693004732956340691</span></span><br><span class="line"><span class="string">15732444386908125794514089057706229429197107928209</span></span><br><span class="line"><span class="string">55037687525678773091862540744969844508330393682126</span></span><br><span class="line"><span class="string">18336384825330154686196124348767681297534375946515</span></span><br><span class="line"><span class="string">80386287592878490201521685554828717201219257766954</span></span><br><span class="line"><span class="string">78182833757993103614740356856449095527097864797581</span></span><br><span class="line"><span class="string">16726320100436897842553539920931837441497806860984</span></span><br><span class="line"><span class="string">48403098129077791799088218795327364475675590848030</span></span><br><span class="line"><span class="string">87086987551392711854517078544161852424320693150332</span></span><br><span class="line"><span class="string">59959406895756536782107074926966537676326235447210</span></span><br><span class="line"><span class="string">69793950679652694742597709739166693763042633987085</span></span><br><span class="line"><span class="string">41052684708299085211399427365734116182760315001271</span></span><br><span class="line"><span class="string">65378607361501080857009149939512557028198746004375</span></span><br><span class="line"><span class="string">35829035317434717326932123578154982629742552737307</span></span><br><span class="line"><span class="string">94953759765105305946966067683156574377167401875275</span></span><br><span class="line"><span class="string">88902802571733229619176668713819931811048770190271</span></span><br><span class="line"><span class="string">25267680276078003013678680992525463401061632866526</span></span><br><span class="line"><span class="string">36270218540497705585629946580636237993140746255962</span></span><br><span class="line"><span class="string">24074486908231174977792365466257246923322810917141</span></span><br><span class="line"><span class="string">91430288197103288597806669760892938638285025333403</span></span><br><span class="line"><span class="string">34413065578016127815921815005561868836468420090470</span></span><br><span class="line"><span class="string">23053081172816430487623791969842487255036638784583</span></span><br><span class="line"><span class="string">11487696932154902810424020138335124462181441773470</span></span><br><span class="line"><span class="string">63783299490636259666498587618221225225512486764533</span></span><br><span class="line"><span class="string">67720186971698544312419572409913959008952310058822</span></span><br><span class="line"><span class="string">95548255300263520781532296796249481641953868218774</span></span><br><span class="line"><span class="string">76085327132285723110424803456124867697064507995236</span></span><br><span class="line"><span class="string">37774242535411291684276865538926205024910326572967</span></span><br><span class="line"><span class="string">23701913275725675285653248258265463092207058596522</span></span><br><span class="line"><span class="string">29798860272258331913126375147341994889534765745501</span></span><br><span class="line"><span class="string">18495701454879288984856827726077713721403798879715</span></span><br><span class="line"><span class="string">38298203783031473527721580348144513491373226651381</span></span><br><span class="line"><span class="string">34829543829199918180278916522431027392251122869539</span></span><br><span class="line"><span class="string">40957953066405232632538044100059654939159879593635</span></span><br><span class="line"><span class="string">29746152185502371307642255121183693803580388584903</span></span><br><span class="line"><span class="string">41698116222072977186158236678424689157993532961922</span></span><br><span class="line"><span class="string">62467957194401269043877107275048102390895523597457</span></span><br><span class="line"><span class="string">23189706772547915061505504953922979530901129967519</span></span><br><span class="line"><span class="string">86188088225875314529584099251203829009407770775672</span></span><br><span class="line"><span class="string">11306739708304724483816533873502340845647058077308</span></span><br><span class="line"><span class="string">82959174767140363198008187129011875491310547126581</span></span><br><span class="line"><span class="string">97623331044818386269515456334926366572897563400500</span></span><br><span class="line"><span class="string">42846280183517070527831839425882145521227251250327</span></span><br><span class="line"><span class="string">55121603546981200581762165212827652751691296897789</span></span><br><span class="line"><span class="string">32238195734329339946437501907836945765883352399886</span></span><br><span class="line"><span class="string">75506164965184775180738168837861091527357929701337</span></span><br><span class="line"><span class="string">62177842752192623401942399639168044983993173312731</span></span><br><span class="line"><span class="string">32924185707147349566916674687634660915035914677504</span></span><br><span class="line"><span class="string">99518671430235219628894890102423325116913619626622</span></span><br><span class="line"><span class="string">73267460800591547471830798392868535206946944540724</span></span><br><span class="line"><span class="string">76841822524674417161514036427982273348055556214818</span></span><br><span class="line"><span class="string">97142617910342598647204516893989422179826088076852</span></span><br><span class="line"><span class="string">87783646182799346313767754307809363333018982642090</span></span><br><span class="line"><span class="string">10848802521674670883215120185883543223812876952786</span></span><br><span class="line"><span class="string">71329612474782464538636993009049310363619763878039</span></span><br><span class="line"><span class="string">62184073572399794223406235393808339651327408011116</span></span><br><span class="line"><span class="string">66627891981488087797941876876144230030984490851411</span></span><br><span class="line"><span class="string">60661826293682836764744779239180335110989069790714</span></span><br><span class="line"><span class="string">85786944089552990653640447425576083659976645795096</span></span><br><span class="line"><span class="string">66024396409905389607120198219976047599490197230297</span></span><br><span class="line"><span class="string">64913982680032973156037120041377903785566085089252</span></span><br><span class="line"><span class="string">16730939319872750275468906903707539413042652315011</span></span><br><span class="line"><span class="string">94809377245048795150954100921645863754710598436791</span></span><br><span class="line"><span class="string">78639167021187492431995700641917969777599028300699</span></span><br><span class="line"><span class="string">15368713711936614952811305876380278410754449733078</span></span><br><span class="line"><span class="string">40789923115535562561142322423255033685442488917353</span></span><br><span class="line"><span class="string">44889911501440648020369068063960672322193204149535</span></span><br><span class="line"><span class="string">41503128880339536053299340368006977710650566631954</span></span><br><span class="line"><span class="string">81234880673210146739058568557934581403627822703280</span></span><br><span class="line"><span class="string">82616570773948327592232845941706525094512325230608</span></span><br><span class="line"><span class="string">22918802058777319719839450180888072429661980811197</span></span><br><span class="line"><span class="string">77158542502016545090413245809786882778948721859617</span></span><br><span class="line"><span class="string">72107838435069186155435662884062257473692284509516</span></span><br><span class="line"><span class="string">20849603980134001723930671666823555245252804609722</span></span><br><span class="line"><span class="string">53503534226472524250874054075591789781264330331690</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">print(str(sum(int(line.strip()) <span class="keyword">for</span> line <span class="keyword">in</span> digits_string.strip().splitlines()))[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">digits_string = <span class="string">&lt;&lt;EOS</span></span><br><span class="line"><span class="string">37107287533902102798797998220837590246510135740250</span></span><br><span class="line"><span class="number">46376937677490009712648124896970078050417018260538</span></span><br><span class="line"><span class="number">74324986199524741059474233309513058123726617309629</span></span><br><span class="line"><span class="number">91942213363574161572522430563301811072406154908250</span></span><br><span class="line"><span class="number">23067588207539346171171980310421047513778063246676</span></span><br><span class="line"><span class="number">89261670696623633820136378418383684178734361726757</span></span><br><span class="line"><span class="number">28112879812849979408065481931592621691275889832738</span></span><br><span class="line"><span class="number">44274228917432520321923589422876796487670272189318</span></span><br><span class="line"><span class="number">47451445736001306439091167216856844588711603153276</span></span><br><span class="line"><span class="number">70386486105843025439939619828917593665686757934951</span></span><br><span class="line"><span class="number">62176457141856560629502157223196586755079324193331</span></span><br><span class="line"><span class="number">64906352462741904929101432445813822663347944758178</span></span><br><span class="line"><span class="number">92575867718337217661963751590579239728245598838407</span></span><br><span class="line"><span class="number">58203565325359399008402633568948830189458628227828</span></span><br><span class="line"><span class="number">80181199384826282014278194139940567587151170094390</span></span><br><span class="line"><span class="number">35398664372827112653829987240784473053190104293586</span></span><br><span class="line"><span class="number">86515506006295864861532075273371959191420517255829</span></span><br><span class="line"><span class="number">71693888707715466499115593487603532921714970056938</span></span><br><span class="line"><span class="number">54370070576826684624621495650076471787294438377604</span></span><br><span class="line"><span class="number">53282654108756828443191190634694037855217779295145</span></span><br><span class="line"><span class="number">36123272525000296071075082563815656710885258350721</span></span><br><span class="line"><span class="number">45876576172410976447339110607218265236877223636045</span></span><br><span class="line"><span class="number">17423706905851860660448207621209813287860733969412</span></span><br><span class="line"><span class="number">81142660418086830619328460811191061556940512689692</span></span><br><span class="line"><span class="number">51934325451728388641918047049293215058642563049483</span></span><br><span class="line"><span class="number">62467221648435076201727918039944693004732956340691</span></span><br><span class="line"><span class="number">15732444386908125794514089057706229429197107928209</span></span><br><span class="line"><span class="number">55037687525678773091862540744969844508330393682126</span></span><br><span class="line"><span class="number">18336384825330154686196124348767681297534375946515</span></span><br><span class="line"><span class="number">80386287592878490201521685554828717201219257766954</span></span><br><span class="line"><span class="number">78182833757993103614740356856449095527097864797581</span></span><br><span class="line"><span class="number">16726320100436897842553539920931837441497806860984</span></span><br><span class="line"><span class="number">48403098129077791799088218795327364475675590848030</span></span><br><span class="line"><span class="number">87086987551392711854517078544161852424320693150332</span></span><br><span class="line"><span class="number">59959406895756536782107074926966537676326235447210</span></span><br><span class="line"><span class="number">69793950679652694742597709739166693763042633987085</span></span><br><span class="line"><span class="number">41052684708299085211399427365734116182760315001271</span></span><br><span class="line"><span class="number">65378607361501080857009149939512557028198746004375</span></span><br><span class="line"><span class="number">35829035317434717326932123578154982629742552737307</span></span><br><span class="line"><span class="number">94953759765105305946966067683156574377167401875275</span></span><br><span class="line"><span class="number">88902802571733229619176668713819931811048770190271</span></span><br><span class="line"><span class="number">25267680276078003013678680992525463401061632866526</span></span><br><span class="line"><span class="number">36270218540497705585629946580636237993140746255962</span></span><br><span class="line"><span class="number">24074486908231174977792365466257246923322810917141</span></span><br><span class="line"><span class="number">91430288197103288597806669760892938638285025333403</span></span><br><span class="line"><span class="number">34413065578016127815921815005561868836468420090470</span></span><br><span class="line"><span class="number">23053081172816430487623791969842487255036638784583</span></span><br><span class="line"><span class="number">11487696932154902810424020138335124462181441773470</span></span><br><span class="line"><span class="number">63783299490636259666498587618221225225512486764533</span></span><br><span class="line"><span class="number">67720186971698544312419572409913959008952310058822</span></span><br><span class="line"><span class="number">95548255300263520781532296796249481641953868218774</span></span><br><span class="line"><span class="number">76085327132285723110424803456124867697064507995236</span></span><br><span class="line"><span class="number">37774242535411291684276865538926205024910326572967</span></span><br><span class="line"><span class="number">23701913275725675285653248258265463092207058596522</span></span><br><span class="line"><span class="number">29798860272258331913126375147341994889534765745501</span></span><br><span class="line"><span class="number">18495701454879288984856827726077713721403798879715</span></span><br><span class="line"><span class="number">38298203783031473527721580348144513491373226651381</span></span><br><span class="line"><span class="number">34829543829199918180278916522431027392251122869539</span></span><br><span class="line"><span class="number">40957953066405232632538044100059654939159879593635</span></span><br><span class="line"><span class="number">29746152185502371307642255121183693803580388584903</span></span><br><span class="line"><span class="number">41698116222072977186158236678424689157993532961922</span></span><br><span class="line"><span class="number">62467957194401269043877107275048102390895523597457</span></span><br><span class="line"><span class="number">23189706772547915061505504953922979530901129967519</span></span><br><span class="line"><span class="number">86188088225875314529584099251203829009407770775672</span></span><br><span class="line"><span class="number">11306739708304724483816533873502340845647058077308</span></span><br><span class="line"><span class="number">82959174767140363198008187129011875491310547126581</span></span><br><span class="line"><span class="number">97623331044818386269515456334926366572897563400500</span></span><br><span class="line"><span class="number">42846280183517070527831839425882145521227251250327</span></span><br><span class="line"><span class="number">55121603546981200581762165212827652751691296897789</span></span><br><span class="line"><span class="number">32238195734329339946437501907836945765883352399886</span></span><br><span class="line"><span class="number">75506164965184775180738168837861091527357929701337</span></span><br><span class="line"><span class="number">62177842752192623401942399639168044983993173312731</span></span><br><span class="line"><span class="number">32924185707147349566916674687634660915035914677504</span></span><br><span class="line"><span class="number">99518671430235219628894890102423325116913619626622</span></span><br><span class="line"><span class="number">73267460800591547471830798392868535206946944540724</span></span><br><span class="line"><span class="number">76841822524674417161514036427982273348055556214818</span></span><br><span class="line"><span class="number">97142617910342598647204516893989422179826088076852</span></span><br><span class="line"><span class="number">87783646182799346313767754307809363333018982642090</span></span><br><span class="line"><span class="number">10848802521674670883215120185883543223812876952786</span></span><br><span class="line"><span class="number">71329612474782464538636993009049310363619763878039</span></span><br><span class="line"><span class="number">62184073572399794223406235393808339651327408011116</span></span><br><span class="line"><span class="number">66627891981488087797941876876144230030984490851411</span></span><br><span class="line"><span class="number">60661826293682836764744779239180335110989069790714</span></span><br><span class="line"><span class="number">85786944089552990653640447425576083659976645795096</span></span><br><span class="line"><span class="number">66024396409905389607120198219976047599490197230297</span></span><br><span class="line"><span class="number">64913982680032973156037120041377903785566085089252</span></span><br><span class="line"><span class="number">16730939319872750275468906903707539413042652315011</span></span><br><span class="line"><span class="number">94809377245048795150954100921645863754710598436791</span></span><br><span class="line"><span class="number">78639167021187492431995700641917969777599028300699</span></span><br><span class="line"><span class="number">15368713711936614952811305876380278410754449733078</span></span><br><span class="line"><span class="number">40789923115535562561142322423255033685442488917353</span></span><br><span class="line"><span class="number">44889911501440648020369068063960672322193204149535</span></span><br><span class="line"><span class="number">41503128880339536053299340368006977710650566631954</span></span><br><span class="line"><span class="number">81234880673210146739058568557934581403627822703280</span></span><br><span class="line"><span class="number">82616570773948327592232845941706525094512325230608</span></span><br><span class="line"><span class="number">22918802058777319719839450180888072429661980811197</span></span><br><span class="line"><span class="number">77158542502016545090413245809786882778948721859617</span></span><br><span class="line"><span class="number">72107838435069186155435662884062257473692284509516</span></span><br><span class="line"><span class="number">20849603980134001723930671666823555245252804609722</span></span><br><span class="line"><span class="number">53503534226472524250874054075591789781264330331690</span></span><br><span class="line">EOS</span><br><span class="line">puts digits_string.each_line.inject(<span class="number">0</span>) &#123;<span class="params">|sum, value|</span> sum+value.to_i&#125;.to_s[<span class="number">0</span>..<span class="number">9</span>]</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">        str &lt;- readFile <span class="string">"/home/zach/code/euler/013/digits.txt"</span></span><br><span class="line">        putStrLn $ take <span class="number">10</span> $ show $ sum $ map read $ lines str</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p013</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p013().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We do a straightforward sum with help from Java's BigInteger type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">BigInteger sum = BigInteger.ZERO;</span><br><span class="line"><span class="keyword">for</span> (String num : NUMBERS)</span><br><span class="line">sum = sum.add(<span class="keyword">new</span> BigInteger(num));</span><br><span class="line"><span class="keyword">return</span> sum.toString().substring(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String[] NUMBERS = &#123;</span><br><span class="line"><span class="string">"37107287533902102798797998220837590246510135740250"</span>,</span><br><span class="line"><span class="string">"46376937677490009712648124896970078050417018260538"</span>,</span><br><span class="line"><span class="string">"74324986199524741059474233309513058123726617309629"</span>,</span><br><span class="line"><span class="string">"91942213363574161572522430563301811072406154908250"</span>,</span><br><span class="line"><span class="string">"23067588207539346171171980310421047513778063246676"</span>,</span><br><span class="line"><span class="string">"89261670696623633820136378418383684178734361726757"</span>,</span><br><span class="line"><span class="string">"28112879812849979408065481931592621691275889832738"</span>,</span><br><span class="line"><span class="string">"44274228917432520321923589422876796487670272189318"</span>,</span><br><span class="line"><span class="string">"47451445736001306439091167216856844588711603153276"</span>,</span><br><span class="line"><span class="string">"70386486105843025439939619828917593665686757934951"</span>,</span><br><span class="line"><span class="string">"62176457141856560629502157223196586755079324193331"</span>,</span><br><span class="line"><span class="string">"64906352462741904929101432445813822663347944758178"</span>,</span><br><span class="line"><span class="string">"92575867718337217661963751590579239728245598838407"</span>,</span><br><span class="line"><span class="string">"58203565325359399008402633568948830189458628227828"</span>,</span><br><span class="line"><span class="string">"80181199384826282014278194139940567587151170094390"</span>,</span><br><span class="line"><span class="string">"35398664372827112653829987240784473053190104293586"</span>,</span><br><span class="line"><span class="string">"86515506006295864861532075273371959191420517255829"</span>,</span><br><span class="line"><span class="string">"71693888707715466499115593487603532921714970056938"</span>,</span><br><span class="line"><span class="string">"54370070576826684624621495650076471787294438377604"</span>,</span><br><span class="line"><span class="string">"53282654108756828443191190634694037855217779295145"</span>,</span><br><span class="line"><span class="string">"36123272525000296071075082563815656710885258350721"</span>,</span><br><span class="line"><span class="string">"45876576172410976447339110607218265236877223636045"</span>,</span><br><span class="line"><span class="string">"17423706905851860660448207621209813287860733969412"</span>,</span><br><span class="line"><span class="string">"81142660418086830619328460811191061556940512689692"</span>,</span><br><span class="line"><span class="string">"51934325451728388641918047049293215058642563049483"</span>,</span><br><span class="line"><span class="string">"62467221648435076201727918039944693004732956340691"</span>,</span><br><span class="line"><span class="string">"15732444386908125794514089057706229429197107928209"</span>,</span><br><span class="line"><span class="string">"55037687525678773091862540744969844508330393682126"</span>,</span><br><span class="line"><span class="string">"18336384825330154686196124348767681297534375946515"</span>,</span><br><span class="line"><span class="string">"80386287592878490201521685554828717201219257766954"</span>,</span><br><span class="line"><span class="string">"78182833757993103614740356856449095527097864797581"</span>,</span><br><span class="line"><span class="string">"16726320100436897842553539920931837441497806860984"</span>,</span><br><span class="line"><span class="string">"48403098129077791799088218795327364475675590848030"</span>,</span><br><span class="line"><span class="string">"87086987551392711854517078544161852424320693150332"</span>,</span><br><span class="line"><span class="string">"59959406895756536782107074926966537676326235447210"</span>,</span><br><span class="line"><span class="string">"69793950679652694742597709739166693763042633987085"</span>,</span><br><span class="line"><span class="string">"41052684708299085211399427365734116182760315001271"</span>,</span><br><span class="line"><span class="string">"65378607361501080857009149939512557028198746004375"</span>,</span><br><span class="line"><span class="string">"35829035317434717326932123578154982629742552737307"</span>,</span><br><span class="line"><span class="string">"94953759765105305946966067683156574377167401875275"</span>,</span><br><span class="line"><span class="string">"88902802571733229619176668713819931811048770190271"</span>,</span><br><span class="line"><span class="string">"25267680276078003013678680992525463401061632866526"</span>,</span><br><span class="line"><span class="string">"36270218540497705585629946580636237993140746255962"</span>,</span><br><span class="line"><span class="string">"24074486908231174977792365466257246923322810917141"</span>,</span><br><span class="line"><span class="string">"91430288197103288597806669760892938638285025333403"</span>,</span><br><span class="line"><span class="string">"34413065578016127815921815005561868836468420090470"</span>,</span><br><span class="line"><span class="string">"23053081172816430487623791969842487255036638784583"</span>,</span><br><span class="line"><span class="string">"11487696932154902810424020138335124462181441773470"</span>,</span><br><span class="line"><span class="string">"63783299490636259666498587618221225225512486764533"</span>,</span><br><span class="line"><span class="string">"67720186971698544312419572409913959008952310058822"</span>,</span><br><span class="line"><span class="string">"95548255300263520781532296796249481641953868218774"</span>,</span><br><span class="line"><span class="string">"76085327132285723110424803456124867697064507995236"</span>,</span><br><span class="line"><span class="string">"37774242535411291684276865538926205024910326572967"</span>,</span><br><span class="line"><span class="string">"23701913275725675285653248258265463092207058596522"</span>,</span><br><span class="line"><span class="string">"29798860272258331913126375147341994889534765745501"</span>,</span><br><span class="line"><span class="string">"18495701454879288984856827726077713721403798879715"</span>,</span><br><span class="line"><span class="string">"38298203783031473527721580348144513491373226651381"</span>,</span><br><span class="line"><span class="string">"34829543829199918180278916522431027392251122869539"</span>,</span><br><span class="line"><span class="string">"40957953066405232632538044100059654939159879593635"</span>,</span><br><span class="line"><span class="string">"29746152185502371307642255121183693803580388584903"</span>,</span><br><span class="line"><span class="string">"41698116222072977186158236678424689157993532961922"</span>,</span><br><span class="line"><span class="string">"62467957194401269043877107275048102390895523597457"</span>,</span><br><span class="line"><span class="string">"23189706772547915061505504953922979530901129967519"</span>,</span><br><span class="line"><span class="string">"86188088225875314529584099251203829009407770775672"</span>,</span><br><span class="line"><span class="string">"11306739708304724483816533873502340845647058077308"</span>,</span><br><span class="line"><span class="string">"82959174767140363198008187129011875491310547126581"</span>,</span><br><span class="line"><span class="string">"97623331044818386269515456334926366572897563400500"</span>,</span><br><span class="line"><span class="string">"42846280183517070527831839425882145521227251250327"</span>,</span><br><span class="line"><span class="string">"55121603546981200581762165212827652751691296897789"</span>,</span><br><span class="line"><span class="string">"32238195734329339946437501907836945765883352399886"</span>,</span><br><span class="line"><span class="string">"75506164965184775180738168837861091527357929701337"</span>,</span><br><span class="line"><span class="string">"62177842752192623401942399639168044983993173312731"</span>,</span><br><span class="line"><span class="string">"32924185707147349566916674687634660915035914677504"</span>,</span><br><span class="line"><span class="string">"99518671430235219628894890102423325116913619626622"</span>,</span><br><span class="line"><span class="string">"73267460800591547471830798392868535206946944540724"</span>,</span><br><span class="line"><span class="string">"76841822524674417161514036427982273348055556214818"</span>,</span><br><span class="line"><span class="string">"97142617910342598647204516893989422179826088076852"</span>,</span><br><span class="line"><span class="string">"87783646182799346313767754307809363333018982642090"</span>,</span><br><span class="line"><span class="string">"10848802521674670883215120185883543223812876952786"</span>,</span><br><span class="line"><span class="string">"71329612474782464538636993009049310363619763878039"</span>,</span><br><span class="line"><span class="string">"62184073572399794223406235393808339651327408011116"</span>,</span><br><span class="line"><span class="string">"66627891981488087797941876876144230030984490851411"</span>,</span><br><span class="line"><span class="string">"60661826293682836764744779239180335110989069790714"</span>,</span><br><span class="line"><span class="string">"85786944089552990653640447425576083659976645795096"</span>,</span><br><span class="line"><span class="string">"66024396409905389607120198219976047599490197230297"</span>,</span><br><span class="line"><span class="string">"64913982680032973156037120041377903785566085089252"</span>,</span><br><span class="line"><span class="string">"16730939319872750275468906903707539413042652315011"</span>,</span><br><span class="line"><span class="string">"94809377245048795150954100921645863754710598436791"</span>,</span><br><span class="line"><span class="string">"78639167021187492431995700641917969777599028300699"</span>,</span><br><span class="line"><span class="string">"15368713711936614952811305876380278410754449733078"</span>,</span><br><span class="line"><span class="string">"40789923115535562561142322423255033685442488917353"</span>,</span><br><span class="line"><span class="string">"44889911501440648020369068063960672322193204149535"</span>,</span><br><span class="line"><span class="string">"41503128880339536053299340368006977710650566631954"</span>,</span><br><span class="line"><span class="string">"81234880673210146739058568557934581403627822703280"</span>,</span><br><span class="line"><span class="string">"82616570773948327592232845941706525094512325230608"</span>,</span><br><span class="line"><span class="string">"22918802058777319719839450180888072429661980811197"</span>,</span><br><span class="line"><span class="string">"77158542502016545090413245809786882778948721859617"</span>,</span><br><span class="line"><span class="string">"72107838435069186155435662884062257473692284509516"</span>,</span><br><span class="line"><span class="string">"20849603980134001723930671666823555245252804609722"</span>,</span><br><span class="line"><span class="string">"53503534226472524250874054075591789781264330331690"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">s =</span><br><span class="line">  <span class="number">37107287533902102798797998220837590246510135740250</span> +</span><br><span class="line">  <span class="number">46376937677490009712648124896970078050417018260538</span> +</span><br><span class="line">  <span class="number">74324986199524741059474233309513058123726617309629</span> +</span><br><span class="line">  <span class="number">91942213363574161572522430563301811072406154908250</span> +</span><br><span class="line">  <span class="number">23067588207539346171171980310421047513778063246676</span> +</span><br><span class="line">  <span class="number">89261670696623633820136378418383684178734361726757</span> +</span><br><span class="line">  <span class="number">28112879812849979408065481931592621691275889832738</span> +</span><br><span class="line">  <span class="number">44274228917432520321923589422876796487670272189318</span> +</span><br><span class="line">  <span class="number">47451445736001306439091167216856844588711603153276</span> +</span><br><span class="line">  <span class="number">70386486105843025439939619828917593665686757934951</span> +</span><br><span class="line">  <span class="number">62176457141856560629502157223196586755079324193331</span> +</span><br><span class="line">  <span class="number">64906352462741904929101432445813822663347944758178</span> +</span><br><span class="line">  <span class="number">92575867718337217661963751590579239728245598838407</span> +</span><br><span class="line">  <span class="number">58203565325359399008402633568948830189458628227828</span> +</span><br><span class="line">  <span class="number">80181199384826282014278194139940567587151170094390</span> +</span><br><span class="line">  <span class="number">35398664372827112653829987240784473053190104293586</span> +</span><br><span class="line">  <span class="number">86515506006295864861532075273371959191420517255829</span> +</span><br><span class="line">  <span class="number">71693888707715466499115593487603532921714970056938</span> +</span><br><span class="line">  <span class="number">54370070576826684624621495650076471787294438377604</span> +</span><br><span class="line">  <span class="number">53282654108756828443191190634694037855217779295145</span> +</span><br><span class="line">  <span class="number">36123272525000296071075082563815656710885258350721</span> +</span><br><span class="line">  <span class="number">45876576172410976447339110607218265236877223636045</span> +</span><br><span class="line">  <span class="number">17423706905851860660448207621209813287860733969412</span> +</span><br><span class="line">  <span class="number">81142660418086830619328460811191061556940512689692</span> +</span><br><span class="line">  <span class="number">51934325451728388641918047049293215058642563049483</span> +</span><br><span class="line">  <span class="number">62467221648435076201727918039944693004732956340691</span> +</span><br><span class="line">  <span class="number">15732444386908125794514089057706229429197107928209</span> +</span><br><span class="line">  <span class="number">55037687525678773091862540744969844508330393682126</span> +</span><br><span class="line">  <span class="number">18336384825330154686196124348767681297534375946515</span> +</span><br><span class="line">  <span class="number">80386287592878490201521685554828717201219257766954</span> +</span><br><span class="line">  <span class="number">78182833757993103614740356856449095527097864797581</span> +</span><br><span class="line">  <span class="number">16726320100436897842553539920931837441497806860984</span> +</span><br><span class="line">  <span class="number">48403098129077791799088218795327364475675590848030</span> +</span><br><span class="line">  <span class="number">87086987551392711854517078544161852424320693150332</span> +</span><br><span class="line">  <span class="number">59959406895756536782107074926966537676326235447210</span> +</span><br><span class="line">  <span class="number">69793950679652694742597709739166693763042633987085</span> +</span><br><span class="line">  <span class="number">41052684708299085211399427365734116182760315001271</span> +</span><br><span class="line">  <span class="number">65378607361501080857009149939512557028198746004375</span> +</span><br><span class="line">  <span class="number">35829035317434717326932123578154982629742552737307</span> +</span><br><span class="line">  <span class="number">94953759765105305946966067683156574377167401875275</span> +</span><br><span class="line">  <span class="number">88902802571733229619176668713819931811048770190271</span> +</span><br><span class="line">  <span class="number">25267680276078003013678680992525463401061632866526</span> +</span><br><span class="line">  <span class="number">36270218540497705585629946580636237993140746255962</span> +</span><br><span class="line">  <span class="number">24074486908231174977792365466257246923322810917141</span> +</span><br><span class="line">  <span class="number">91430288197103288597806669760892938638285025333403</span> +</span><br><span class="line">  <span class="number">34413065578016127815921815005561868836468420090470</span> +</span><br><span class="line">  <span class="number">23053081172816430487623791969842487255036638784583</span> +</span><br><span class="line">  <span class="number">11487696932154902810424020138335124462181441773470</span> +</span><br><span class="line">  <span class="number">63783299490636259666498587618221225225512486764533</span> +</span><br><span class="line">  <span class="number">67720186971698544312419572409913959008952310058822</span> +</span><br><span class="line">  <span class="number">95548255300263520781532296796249481641953868218774</span> +</span><br><span class="line">  <span class="number">76085327132285723110424803456124867697064507995236</span> +</span><br><span class="line">  <span class="number">37774242535411291684276865538926205024910326572967</span> +</span><br><span class="line">  <span class="number">23701913275725675285653248258265463092207058596522</span> +</span><br><span class="line">  <span class="number">29798860272258331913126375147341994889534765745501</span> +</span><br><span class="line">  <span class="number">18495701454879288984856827726077713721403798879715</span> +</span><br><span class="line">  <span class="number">38298203783031473527721580348144513491373226651381</span> +</span><br><span class="line">  <span class="number">34829543829199918180278916522431027392251122869539</span> +</span><br><span class="line">  <span class="number">40957953066405232632538044100059654939159879593635</span> +</span><br><span class="line">  <span class="number">29746152185502371307642255121183693803580388584903</span> +</span><br><span class="line">  <span class="number">41698116222072977186158236678424689157993532961922</span> +</span><br><span class="line">  <span class="number">62467957194401269043877107275048102390895523597457</span> +</span><br><span class="line">  <span class="number">23189706772547915061505504953922979530901129967519</span> +</span><br><span class="line">  <span class="number">86188088225875314529584099251203829009407770775672</span> +</span><br><span class="line">  <span class="number">11306739708304724483816533873502340845647058077308</span> +</span><br><span class="line">  <span class="number">82959174767140363198008187129011875491310547126581</span> +</span><br><span class="line">  <span class="number">97623331044818386269515456334926366572897563400500</span> +</span><br><span class="line">  <span class="number">42846280183517070527831839425882145521227251250327</span> +</span><br><span class="line">  <span class="number">55121603546981200581762165212827652751691296897789</span> +</span><br><span class="line">  <span class="number">32238195734329339946437501907836945765883352399886</span> +</span><br><span class="line">  <span class="number">75506164965184775180738168837861091527357929701337</span> +</span><br><span class="line">  <span class="number">62177842752192623401942399639168044983993173312731</span> +</span><br><span class="line">  <span class="number">32924185707147349566916674687634660915035914677504</span> +</span><br><span class="line">  <span class="number">99518671430235219628894890102423325116913619626622</span> +</span><br><span class="line">  <span class="number">73267460800591547471830798392868535206946944540724</span> +</span><br><span class="line">  <span class="number">76841822524674417161514036427982273348055556214818</span> +</span><br><span class="line">  <span class="number">97142617910342598647204516893989422179826088076852</span> +</span><br><span class="line">  <span class="number">87783646182799346313767754307809363333018982642090</span> +</span><br><span class="line">  <span class="number">10848802521674670883215120185883543223812876952786</span> +</span><br><span class="line">  <span class="number">71329612474782464538636993009049310363619763878039</span> +</span><br><span class="line">  <span class="number">62184073572399794223406235393808339651327408011116</span> +</span><br><span class="line">  <span class="number">66627891981488087797941876876144230030984490851411</span> +</span><br><span class="line">  <span class="number">60661826293682836764744779239180335110989069790714</span> +</span><br><span class="line">  <span class="number">85786944089552990653640447425576083659976645795096</span> +</span><br><span class="line">  <span class="number">66024396409905389607120198219976047599490197230297</span> +</span><br><span class="line">  <span class="number">64913982680032973156037120041377903785566085089252</span> +</span><br><span class="line">  <span class="number">16730939319872750275468906903707539413042652315011</span> +</span><br><span class="line">  <span class="number">94809377245048795150954100921645863754710598436791</span> +</span><br><span class="line">  <span class="number">78639167021187492431995700641917969777599028300699</span> +</span><br><span class="line">  <span class="number">15368713711936614952811305876380278410754449733078</span> +</span><br><span class="line">  <span class="number">40789923115535562561142322423255033685442488917353</span> +</span><br><span class="line">  <span class="number">44889911501440648020369068063960672322193204149535</span> +</span><br><span class="line">  <span class="number">41503128880339536053299340368006977710650566631954</span> +</span><br><span class="line">  <span class="number">81234880673210146739058568557934581403627822703280</span> +</span><br><span class="line">  <span class="number">82616570773948327592232845941706525094512325230608</span> +</span><br><span class="line">  <span class="number">22918802058777319719839450180888072429661980811197</span> +</span><br><span class="line">  <span class="number">77158542502016545090413245809786882778948721859617</span> +</span><br><span class="line">  <span class="number">72107838435069186155435662884062257473692284509516</span> +</span><br><span class="line">  <span class="number">20849603980134001723930671666823555245252804609722</span> +</span><br><span class="line">  <span class="number">53503534226472524250874054075591789781264330331690</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">FromDigits</span>[<span class="keyword">Take</span>[<span class="keyword">IntegerDigits</span>[s], <span class="number">10</span>]]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-012</title>
      <link href="/2018/03/07/Project-Euler-012/"/>
      <url>/2018/03/07/Project-Euler-012/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p><br>The sequence of triangle numbers is generated by adding<br>the natural numbers. So the 7th triangle number would be<br>$1 + 2 + 3 + 4 + 5 + 6 + 7 = 28$. The first ten terms would be:<br></p><p>$$1, 3, 6, 10, 15, 21, 28, 36, 45, 55, …$$</p><p><br>Let us list the factors of the first seven triangle numbers:<br></p><pre><code>1:  13:  1,36:  1,2,3,610: 1,2,5,1015: 1,3,5,1521: 1,3,7,2128: 1,2,4,7,14,28</code></pre><p><br>We can see that 28 is the first triangle number to have over<br>five divisors. What is the value of the first triangle number<br>to have over five hundred divisors?<br></p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">76576500</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorize</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">'fact() argument should be &gt;= 1'</span>)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> []  <span class="comment"># special case</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="comment"># iterate over all even numbers first.</span></span><br><span class="line">    <span class="keyword">while</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        res.append(<span class="number">2</span>)</span><br><span class="line">        n //= <span class="number">2</span></span><br><span class="line">    <span class="comment"># try odd numbers up to sqrt(n)</span></span><br><span class="line">    limit = math.sqrt(n + <span class="number">1</span>)</span><br><span class="line">    i = <span class="number">3</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= limit:</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            res.append(i)</span><br><span class="line">            n //= i</span><br><span class="line">            limit = math.sqrt(n + i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i += <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> n != <span class="number">1</span>:</span><br><span class="line">        res.append(n)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">_triangle_cache = &#123;<span class="number">1</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">triangle</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> _triangle_cache[n]</span><br><span class="line">    <span class="keyword">except</span> KeyError:</span><br><span class="line">        result = n + triangle(n - <span class="number">1</span>)</span><br><span class="line">        _triangle_cache[n] = result</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">num_divisors</span><span class="params">(n)</span>:</span></span><br><span class="line">    factors = sorted(factorize(n))</span><br><span class="line">    histogram = defaultdict(int)</span><br><span class="line">    <span class="keyword">for</span> factor <span class="keyword">in</span> factors:</span><br><span class="line">        histogram[factor] += <span class="number">1</span></span><br><span class="line">    <span class="comment"># number of divisors is equal to product of </span></span><br><span class="line">    <span class="comment"># incremented exponents of prime factors</span></span><br><span class="line">    <span class="keyword">from</span> operator <span class="keyword">import</span> mul</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> reduce(mul, [exponent + <span class="number">1</span> <span class="keyword">for</span> exponent <span class="keyword">in</span> list(histogram.values())])</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">triangles = (triangle(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">100000</span>))</span><br><span class="line">divisible_triangles = (i <span class="keyword">for</span> i <span class="keyword">in</span> triangles <span class="keyword">if</span> num_divisors(i) &gt; <span class="number">500</span>)</span><br><span class="line">print(next(divisible_triangles))</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span> </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span> </span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">divisors</span></span></span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>] <span class="keyword">if</span> <span class="keyword">self</span> == <span class="number">1</span></span><br><span class="line">    primes, powers = <span class="keyword">self</span>.prime_division.transpose </span><br><span class="line">    exponents = powers.map&#123;<span class="params">|i|</span> (<span class="number">0</span>..i).to_a&#125; </span><br><span class="line">    divisors = exponents.shift.product(*exponents).map <span class="keyword">do</span> <span class="params">|powers|</span> </span><br><span class="line">      primes.zip(powers).map&#123;<span class="params">|prime, power|</span> prime ** power&#125;.inject(<span class="symbol">:*</span>) </span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line">    divisors.sort.map&#123;<span class="params">|div|</span> [div, <span class="keyword">self</span> / div]&#125; </span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">triangles = Enumerator.new <span class="keyword">do</span> <span class="params">|yielder|</span></span><br><span class="line">  i = <span class="number">1</span></span><br><span class="line">  loop <span class="keyword">do</span></span><br><span class="line">    yielder.<span class="keyword">yield</span> i * (i + <span class="number">1</span>) / <span class="number">2</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts triangles.detect &#123; <span class="params">|t|</span> t.divisors.count &gt; <span class="number">500</span> &#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">group</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">triangles</span> :: [<span class="type">Int</span>]</span><br><span class="line"><span class="title">triangles</span> = scanl1 (+) [<span class="number">1.</span>.]</span><br><span class="line"></span><br><span class="line"><span class="title">primes</span> :: [<span class="type">Int</span>]</span><br><span class="line"><span class="title">primes</span> = sieve [<span class="number">2.</span>.] <span class="keyword">where</span></span><br><span class="line">    sieve [] = []</span><br><span class="line">    sieve (p:xs) = p : sieve [x | x &lt;- xs, x `mod` p &gt; <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="title">factorize</span> :: <span class="type">Int</span> -&gt; [<span class="type">Int</span>]</span><br><span class="line"><span class="title">factorize</span> n = primeFactors n primes <span class="keyword">where</span></span><br><span class="line">    primeFactors <span class="number">1</span> _ = []</span><br><span class="line">    primeFactors _ [] = []</span><br><span class="line">    primeFactors m (p:ps) | m &lt; p * p = [m]</span><br><span class="line">                          | r == <span class="number">0</span> = p : primeFactors q (p:ps)</span><br><span class="line">                          | otherwise = primeFactors m ps</span><br><span class="line">                          <span class="keyword">where</span> (q, r) = quotRem m p</span><br><span class="line"></span><br><span class="line"><span class="title">primePowers</span> :: <span class="type">Int</span> -&gt; [(<span class="type">Int</span>, <span class="type">Int</span>)]</span><br><span class="line"><span class="title">primePowers</span> n = [(head x, length x) | x &lt;- group $ factorize n]</span><br><span class="line"></span><br><span class="line"><span class="title">numDivisors</span> :: <span class="type">Int</span> -&gt;  <span class="type">Int</span></span><br><span class="line"><span class="title">numDivisors</span> n = product [k + <span class="number">1</span> | (_, k) &lt;- primePowers n]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ head $ dropWhile (\n -&gt; numDivisors n &lt;= <span class="number">500</span>) triangles</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure </span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> divisor? [b n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n b) <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> triangle-number [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">cond</span></span> </span><br><span class="line">    (<span class="name"><span class="builtin-name">&lt;</span></span> n <span class="number">1</span>) <span class="literal">nil</span></span><br><span class="line">    (<span class="name"><span class="builtin-name">=</span></span> n <span class="number">1</span>) <span class="number">1</span></span><br><span class="line">    <span class="symbol">:else</span> (<span class="name"><span class="builtin-name">+</span></span> n (<span class="name">triangle-number</span> (<span class="name"><span class="builtin-name">dec</span></span> n)))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> divisors [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">cons</span></span> n (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name">divisor?</span> % n) (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">inc</span></span> (/ n <span class="number">2</span>))))))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> num-divisors [n])</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> triangle-numbers (<span class="name"><span class="builtin-name">map</span></span> triangle-number (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> <span class="number">1000</span>)))</span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">first</span></span> (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name"><span class="builtin-name">&gt;</span></span> (<span class="name">num-divisors</span> %) <span class="number">500</span>) triangle-numbers)))</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p012</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p012().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> triangle = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; ; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (Integer.MAX_VALUE - triangle &lt; i)</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> ArithmeticException(<span class="string">"Overflow"</span>);</span><br><span class="line">triangle += i;  <span class="comment">// This is the ith triangle number, i.e. num = 1 + 2 + ... + i = i * (i + 1) / 2</span></span><br><span class="line"><span class="keyword">if</span> (countDivisors(triangle) &gt; <span class="number">500</span>)</span><br><span class="line"><span class="keyword">return</span> Integer.toString(triangle);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns the number of integers in the range [1, n] that divide n.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">countDivisors</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> end = Library.sqrt(n);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; end; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line">count += <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (end * end == n)  <span class="comment">// Perfect square</span></span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* We do a straightforward search with some help from built-in functions. *)</span></span><br><span class="line">TriangleNumber[n_] = <span class="keyword">Sum</span>[i, &#123;i, n&#125;];</span><br><span class="line">i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">While</span>[<span class="keyword">DivisorSigma</span>[<span class="number">0</span>, TriangleNumber[i]] &lt;= <span class="number">500</span>, i++]</span><br><span class="line">TriangleNumber[i]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 007</title>
      <link href="/2018/03/06/LeetCode-Notes-007/"/>
      <url>/2018/03/06/LeetCode-Notes-007/</url>
      <content type="html"><![CDATA[<h3 id="Best-Time-to-Buy-and-Sell-Stock-II"><a href="#Best-Time-to-Buy-and-Sell-Stock-II" class="headerlink" title="Best Time to Buy and Sell Stock II"></a>Best Time to Buy and Sell Stock II</h3><p>Say you have an array for which the i-th element is the price of a given stock on day i.</p><p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; prices</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">  prices.push(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = prices.length;</span><br><span class="line">  <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> begin;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i === <span class="number">0</span>) &#123;</span><br><span class="line">      begin = prices[i];</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (prices[i] &gt;= prices[i - <span class="number">1</span>])</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">    sum += (prices[i - <span class="number">1</span>] - begin);</span><br><span class="line">    begin = prices[i];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; prices</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!prices.length)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> buy = []</span><br><span class="line">    , sell = [];</span><br><span class="line"></span><br><span class="line">  prices.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!index) &#123;</span><br><span class="line">      buy[index] = -item;</span><br><span class="line">      sell[index] = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      buy[index] = <span class="built_in">Math</span>.max(buy[index - <span class="number">1</span>], sell[index - <span class="number">1</span>] - item);</span><br><span class="line">      sell[index] = <span class="built_in">Math</span>.max(sell[index - <span class="number">1</span>], buy[index - <span class="number">1</span>] + item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = prices.length;</span><br><span class="line">  <span class="keyword">return</span> sell[len - <span class="number">1</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Best-Time-to-Buy-and-Sell-Stock-III"><a href="#Best-Time-to-Buy-and-Sell-Stock-III" class="headerlink" title="Best Time to Buy and Sell Stock III"></a>Best Time to Buy and Sell Stock III</h3><p>Say you have an array for which the i-th element is the price of a given stock on day i.</p><p>Design an algorithm to find the maximum profit. You may complete at most two transactions.</p><p><strong>Note:</strong></p><p>You may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; prices</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = prices.length</span><br><span class="line">    , sell = []</span><br><span class="line">    , buy = []</span><br><span class="line">    , item</span><br><span class="line">    , i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!len)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    sell[i] = [],</span><br><span class="line">    buy[i] = [],</span><br><span class="line">    item = prices[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">      sell[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">      sell[i][<span class="number">1</span>]= <span class="number">0</span>;</span><br><span class="line">      sell[i][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">      buy[i][<span class="number">0</span>] = -item;</span><br><span class="line">      buy[i][<span class="number">1</span>] = -item;</span><br><span class="line">      buy[i][<span class="number">2</span>] = -item;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      sell[i][<span class="number">0</span>] = sell[i - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">      sell[i][<span class="number">1</span>] = <span class="built_in">Math</span>.max(sell[i - <span class="number">1</span>][<span class="number">1</span>], buy[i - <span class="number">1</span>][<span class="number">1</span>] + item);</span><br><span class="line">      sell[i][<span class="number">2</span>] = <span class="built_in">Math</span>.max(sell[i - <span class="number">1</span>][<span class="number">2</span>], buy[i - <span class="number">1</span>][<span class="number">2</span>] + item);</span><br><span class="line">      buy[i][<span class="number">0</span>] = buy[i - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">      buy[i][<span class="number">1</span>] = <span class="built_in">Math</span>.max(buy[i - <span class="number">1</span>][<span class="number">1</span>], sell[i - <span class="number">1</span>][<span class="number">0</span>] - item);</span><br><span class="line">      buy[i][<span class="number">2</span>] = <span class="built_in">Math</span>.max(buy[i - <span class="number">1</span>][<span class="number">2</span>], sell[i - <span class="number">1</span>][<span class="number">1</span>] - item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sell[len - <span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Best-Time-to-Buy-and-Sell-Stock-with-Cooldown"><a href="#Best-Time-to-Buy-and-Sell-Stock-with-Cooldown" class="headerlink" title="Best Time to Buy and Sell Stock with Cooldown"></a>Best Time to Buy and Sell Stock with Cooldown</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.</p><p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times) with the following restrictions:</p><ol><li>You may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</li><li>After you sell your stock, you cannot buy stock on next day. (ie, cooldown 1 day)</li></ol><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">prices = [1, 2, 3, 0, 2]</span><br><span class="line">maxProfit = 3</span><br><span class="line">transactions = [buy, sell, cooldown, buy, sell]</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; prices</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = prices.length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (len === <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> sell = []</span><br><span class="line">    , buy = []</span><br><span class="line">    , rest = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = prices[i];</span><br><span class="line">    <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">      sell[i] = <span class="number">0</span>;</span><br><span class="line">      buy[i] = -item;</span><br><span class="line">      rest[i] = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      sell[i] = <span class="built_in">Math</span>.max(sell[i - <span class="number">1</span>], buy[i - <span class="number">1</span>] + item);</span><br><span class="line">      buy[i] = <span class="built_in">Math</span>.max(buy[i - <span class="number">1</span>], rest[i - <span class="number">1</span>] - item);</span><br><span class="line">      rest[i] = <span class="built_in">Math</span>.max(rest[i - <span class="number">1</span>], sell[i - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.max(sell[len - <span class="number">1</span>], buy[len - <span class="number">1</span>], rest[len - <span class="number">1</span>]);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-011</title>
      <link href="/2018/03/05/Project-Euler-011/"/>
      <url>/2018/03/05/Project-Euler-011/</url>
      <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p><br>In the 20x20 grid below, four numbers along a diagonal line<br>have been marked in red.<br></p><pre><code>08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 77 91 0849 49 99 40 17 81 18 57 60 87 17 40 98 43 69 48 04 56 62 0081 49 31 73 55 79 14 29 93 71 40 67 53 88 30 03 49 13 36 6552 70 95 23 04 60 11 42 69 24 68 56 01 32 56 71 37 02 36 9122 31 16 71 51 67 63 89 41 92 36 54 22 40 40 28 66 33 13 8024 47 32 60 99 03 45 02 44 75 33 53 78 36 84 20 35 17 12 5032 98 81 28 64 23 67 10 <span style="color:#ff0000;">26</span> 38 40 67 59 54 70 66 18 38 64 7067 26 20 68 02 62 12 20 95 <span style="color:#ff0000;">63</span> 94 39 63 08 40 91 66 49 94 2124 55 58 05 66 73 99 26 97 17 <span style="color:#ff0000;">78</span> 78 96 83 14 88 34 89 63 7221 36 23 09 75 00 76 44 20 45 35 <span style="color:#ff0000;">14</span> 00 61 33 97 34 31 33 9578 17 53 28 22 75 31 67 15 94 03 80 04 62 16 14 09 53 56 9216 39 05 42 96 35 31 47 55 58 88 24 00 17 54 24 36 29 85 5786 56 00 48 35 71 89 07 05 44 44 37 44 60 21 58 51 54 17 5819 80 81 68 05 94 47 69 28 73 92 13 86 52 17 77 04 89 55 4004 52 08 83 97 35 99 16 07 97 57 32 16 26 26 79 33 27 98 6688 36 68 87 57 62 20 72 03 46 33 67 46 55 12 32 63 93 53 6904 42 16 73 38 25 39 11 24 94 72 18 08 46 29 32 40 62 76 3620 69 36 41 72 30 23 88 34 62 99 69 82 67 59 85 74 04 36 1620 73 35 29 78 31 90 01 74 31 49 71 48 86 81 16 23 57 05 5401 70 54 71 83 51 54 69 16 92 33 48 61 43 52 01 89 19 67 48</code></pre><p><br>The product of these numbers is $26 \times 63 \times 78 \times 14 = 1788696$.<br></p><p><br>What is the greatest product of four adjacent numbers in any<br>direction (up, down, left, right, or diagonally) in the 20x20 grid?<br></p><a id="more"></a><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">70600674</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">grid = []</span><br><span class="line">grid_string = <span class="string">'''</span></span><br><span class="line"><span class="string">08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 77 91 08</span></span><br><span class="line"><span class="string">49 49 99 40 17 81 18 57 60 87 17 40 98 43 69 48 04 56 62 00</span></span><br><span class="line"><span class="string">81 49 31 73 55 79 14 29 93 71 40 67 53 88 30 03 49 13 36 65</span></span><br><span class="line"><span class="string">52 70 95 23 04 60 11 42 69 24 68 56 01 32 56 71 37 02 36 91</span></span><br><span class="line"><span class="string">22 31 16 71 51 67 63 89 41 92 36 54 22 40 40 28 66 33 13 80</span></span><br><span class="line"><span class="string">24 47 32 60 99 03 45 02 44 75 33 53 78 36 84 20 35 17 12 50</span></span><br><span class="line"><span class="string">32 98 81 28 64 23 67 10 26 38 40 67 59 54 70 66 18 38 64 70</span></span><br><span class="line"><span class="string">67 26 20 68 02 62 12 20 95 63 94 39 63 08 40 91 66 49 94 21</span></span><br><span class="line"><span class="string">24 55 58 05 66 73 99 26 97 17 78 78 96 83 14 88 34 89 63 72</span></span><br><span class="line"><span class="string">21 36 23 09 75 00 76 44 20 45 35 14 00 61 33 97 34 31 33 95</span></span><br><span class="line"><span class="string">78 17 53 28 22 75 31 67 15 94 03 80 04 62 16 14 09 53 56 92</span></span><br><span class="line"><span class="string">16 39 05 42 96 35 31 47 55 58 88 24 00 17 54 24 36 29 85 57</span></span><br><span class="line"><span class="string">86 56 00 48 35 71 89 07 05 44 44 37 44 60 21 58 51 54 17 58</span></span><br><span class="line"><span class="string">19 80 81 68 05 94 47 69 28 73 92 13 86 52 17 77 04 89 55 40</span></span><br><span class="line"><span class="string">04 52 08 83 97 35 99 16 07 97 57 32 16 26 26 79 33 27 98 66</span></span><br><span class="line"><span class="string">88 36 68 87 57 62 20 72 03 46 33 67 46 55 12 32 63 93 53 69</span></span><br><span class="line"><span class="string">04 42 16 73 38 25 39 11 24 94 72 18 08 46 29 32 40 62 76 36</span></span><br><span class="line"><span class="string">20 69 36 41 72 30 23 88 34 62 99 69 82 67 59 85 74 04 36 16</span></span><br><span class="line"><span class="string">20 73 35 29 78 31 90 01 74 31 49 71 48 86 81 16 23 57 05 54</span></span><br><span class="line"><span class="string">01 70 54 71 83 51 54 69 16 92 33 48 61 43 52 01 89 19 67 48</span></span><br><span class="line"><span class="string">'''</span>.strip()</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> grid_string.splitlines():</span><br><span class="line">    grid.append([int(number) <span class="keyword">for</span> number <span class="keyword">in</span> line.split()])</span><br><span class="line"></span><br><span class="line">greatest_product = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> y, row <span class="keyword">in</span> enumerate(grid):</span><br><span class="line">    <span class="keyword">for</span> x, col <span class="keyword">in</span> enumerate(row):</span><br><span class="line">        <span class="keyword">for</span> x_dir <span class="keyword">in</span> range(<span class="number">-1</span>, <span class="number">2</span>):</span><br><span class="line">            <span class="keyword">for</span> y_dir <span class="keyword">in</span> range(<span class="number">-1</span>, <span class="number">2</span>):</span><br><span class="line">                <span class="keyword">if</span> x_dir == <span class="number">0</span> <span class="keyword">and</span> y_dir == <span class="number">0</span>: <span class="keyword">continue</span></span><br><span class="line">                product = <span class="number">1</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">                    x_pos = x + (i * x_dir)</span><br><span class="line">                    y_pos = y + (i * y_dir)</span><br><span class="line">                    <span class="keyword">if</span> (x_pos &lt; <span class="number">0</span> <span class="keyword">or</span> y_pos &lt; <span class="number">0</span>): <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">elif</span> (y_pos &gt;= len(grid) <span class="keyword">or</span> x_pos &gt;= len(row)): <span class="keyword">break</span></span><br><span class="line">                    product *= grid[y_pos][x_pos]</span><br><span class="line">                <span class="keyword">if</span> product &gt; greatest_product:</span><br><span class="line">                    greatest_product = product</span><br><span class="line"></span><br><span class="line">print(greatest_product)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">grid_string = <span class="string">&lt;&lt;EOS</span></span><br><span class="line"><span class="string">08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 77 91 08</span></span><br><span class="line"><span class="string">49 49 99 40 17 81 18 57 60 87 17 40 98 43 69 48 04 56 62 00</span></span><br><span class="line"><span class="string">81 49 31 73 55 79 14 29 93 71 40 67 53 88 30 03 49 13 36 65</span></span><br><span class="line"><span class="string">52 70 95 23 04 60 11 42 69 24 68 56 01 32 56 71 37 02 36 91</span></span><br><span class="line"><span class="string">22 31 16 71 51 67 63 89 41 92 36 54 22 40 40 28 66 33 13 80</span></span><br><span class="line"><span class="string">24 47 32 60 99 03 45 02 44 75 33 53 78 36 84 20 35 17 12 50</span></span><br><span class="line"><span class="string">32 98 81 28 64 23 67 10 26 38 40 67 59 54 70 66 18 38 64 70</span></span><br><span class="line"><span class="string">67 26 20 68 02 62 12 20 95 63 94 39 63 08 40 91 66 49 94 21</span></span><br><span class="line"><span class="string">24 55 58 05 66 73 99 26 97 17 78 78 96 83 14 88 34 89 63 72</span></span><br><span class="line"><span class="string">21 36 23 09 75 00 76 44 20 45 35 14 00 61 33 97 34 31 33 95</span></span><br><span class="line"><span class="string">78 17 53 28 22 75 31 67 15 94 03 80 04 62 16 14 09 53 56 92</span></span><br><span class="line"><span class="string">16 39 05 42 96 35 31 47 55 58 88 24 00 17 54 24 36 29 85 57</span></span><br><span class="line"><span class="string">86 56 00 48 35 71 89 07 05 44 44 37 44 60 21 58 51 54 17 58</span></span><br><span class="line"><span class="string">19 80 81 68 05 94 47 69 28 73 92 13 86 52 17 77 04 89 55 40</span></span><br><span class="line"><span class="string">04 52 08 83 97 35 99 16 07 97 57 32 16 26 26 79 33 27 98 66</span></span><br><span class="line"><span class="string">88 36 68 87 57 62 20 72 03 46 33 67 46 55 12 32 63 93 53 69</span></span><br><span class="line"><span class="string">04 42 16 73 38 25 39 11 24 94 72 18 08 46 29 32 40 62 76 36</span></span><br><span class="line"><span class="string">20 69 36 41 72 30 23 88 34 62 99 69 82 67 59 85 74 04 36 16</span></span><br><span class="line"><span class="string">20 73 35 29 78 31 90 01 74 31 49 71 48 86 81 16 23 57 05 54</span></span><br><span class="line"><span class="string">01 70 54 71 83 51 54 69 16 92 33 48 61 43 52 01 89 19 67 48</span></span><br><span class="line"><span class="string">EOS</span></span><br><span class="line"></span><br><span class="line">grid = []</span><br><span class="line">grid_string.each_line <span class="keyword">do</span> <span class="params">|line|</span></span><br><span class="line">  grid.push line.split</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">directions = []</span><br><span class="line">(-<span class="number">1</span>..<span class="number">1</span>).each <span class="keyword">do</span> <span class="params">|x|</span></span><br><span class="line">  (-<span class="number">1</span>..<span class="number">1</span>).each <span class="keyword">do</span> <span class="params">|y|</span></span><br><span class="line">    directions.push([x, y]) <span class="keyword">unless</span> x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">max = <span class="number">0</span></span><br><span class="line">grid.each_with_index <span class="keyword">do</span> <span class="params">|row, y|</span></span><br><span class="line">  row.each_with_index <span class="keyword">do</span> <span class="params">|cell, x|</span></span><br><span class="line">    directions.each <span class="keyword">do</span> <span class="params">|x_dir, y_dir|</span></span><br><span class="line">      product = <span class="number">1</span></span><br><span class="line">      <span class="number">4</span>.times <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">        x_pos = x + i * x_dir</span><br><span class="line">        y_pos = y + i * y_dir</span><br><span class="line">        <span class="keyword">unless</span> (x_pos &lt; <span class="number">0</span> <span class="params">||</span> x_pos &gt;= row.length) <span class="params">||</span> (y_pos &lt; <span class="number">0</span> <span class="params">||</span> y_pos &gt;= grid.length)</span><br><span class="line">          product *= grid[y_pos][x_pos].to_i</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">if</span> product &gt; max</span><br><span class="line">        max = product</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts max</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">tails</span>, <span class="title">transpose</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">parse</span> :: <span class="type">String</span> -&gt; [[<span class="type">Int</span>]]</span><br><span class="line"><span class="title">parse</span> = map (map read . words) . lines</span><br><span class="line"></span><br><span class="line"><span class="title">chunks</span> :: <span class="type">Int</span> -&gt; [a] -&gt; [[a]]</span><br><span class="line"><span class="title">chunks</span> n l | length chunk &lt; n = []</span><br><span class="line">           | otherwise = chunk : chunks n (tail l)</span><br><span class="line">           <span class="keyword">where</span> chunk = take n l</span><br><span class="line"></span><br><span class="line"><span class="title">horizontal</span> :: [[<span class="type">Int</span>]] -&gt; [[<span class="type">Int</span>]]</span><br><span class="line"><span class="title">horizontal</span> = concatMap (chunks <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">vertical</span> :: [[<span class="type">Int</span>]] -&gt; [[<span class="type">Int</span>]]</span><br><span class="line"><span class="title">vertical</span> = horizontal . transpose</span><br><span class="line"></span><br><span class="line"><span class="title">diagonal</span> :: [[<span class="type">Int</span>]] -&gt; [[<span class="type">Int</span>]]</span><br><span class="line"><span class="title">diagonal</span> = vertical . zipWith drop [<span class="number">0.</span>.]</span><br><span class="line"></span><br><span class="line"><span class="title">southEast</span> :: [[<span class="type">Int</span>]] -&gt; [[<span class="type">Int</span>]]</span><br><span class="line"><span class="title">southEast</span> = concatMap diagonal . tails</span><br><span class="line"></span><br><span class="line"><span class="title">southWest</span> :: [[<span class="type">Int</span>]] -&gt; [[<span class="type">Int</span>]]</span><br><span class="line"><span class="title">southWest</span> = southEast . map reverse</span><br><span class="line"></span><br><span class="line"><span class="title">largestProduct</span> :: [[<span class="type">Int</span>]] -&gt; <span class="type">Int</span></span><br><span class="line"><span class="title">largestProduct</span> = maximum . map product</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">        str &lt;- readFile <span class="string">"/home/zach/code/euler/011/grid.txt"</span></span><br><span class="line">        <span class="keyword">let</span> grid = parse str</span><br><span class="line">        print $ largestProduct $ concatMap ($grid) [horizontal, vertical, southEast, southWest]</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">square = &#123;</span><br><span class="line">  &#123;08,02,22,97,38,15,00,40,00,75,04,05,07,78,52,12,50,77,91,08&#125;,</span><br><span class="line">  &#123;49,49,99,40,17,81,18,57,60,87,17,40,98,43,69,48,04,56,62,00&#125;,</span><br><span class="line">  &#123;81,49,31,73,55,79,14,29,93,71,40,67,53,88,30,03,49,13,36,65&#125;,</span><br><span class="line">  &#123;52,70,95,23,04,60,11,42,69,24,68,56,01,32,56,71,37,02,36,91&#125;,</span><br><span class="line">  &#123;22,31,16,71,51,67,63,89,41,92,36,54,22,40,40,28,66,33,13,80&#125;,</span><br><span class="line">  &#123;24,47,32,60,99,03,45,02,44,75,33,53,78,36,84,20,35,17,12,50&#125;,</span><br><span class="line">  &#123;32,98,81,28,64,23,67,10,26,38,40,67,59,54,70,66,18,38,64,70&#125;,</span><br><span class="line">  &#123;67,26,20,68,02,62,12,20,95,63,94,39,63,08,40,91,66,49,94,21&#125;,</span><br><span class="line">  &#123;24,55,58,05,66,73,99,26,97,17,78,78,96,83,14,88,34,89,63,72&#125;,</span><br><span class="line">  &#123;21,36,23,09,75,00,76,44,20,45,35,14,00,61,33,97,34,31,33,95&#125;,</span><br><span class="line">  &#123;78,17,53,28,22,75,31,67,15,94,03,80,04,62,16,14,09,53,56,92&#125;,</span><br><span class="line">  &#123;16,39,05,42,96,35,31,47,55,58,88,24,00,17,54,24,36,29,85,57&#125;,</span><br><span class="line">  &#123;86,56,00,48,35,71,89,07,05,44,44,37,44,60,21,58,51,54,17,58&#125;,</span><br><span class="line">  &#123;19,80,81,68,05,94,47,69,28,73,92,13,86,52,17,77,04,89,55,40&#125;,</span><br><span class="line">  &#123;04,52,08,83,97,35,99,16,07,97,57,32,16,26,26,79,33,27,98,66&#125;,</span><br><span class="line">  &#123;88,36,68,87,57,62,20,72,03,46,33,67,46,55,12,32,63,93,53,69&#125;,</span><br><span class="line">  &#123;04,42,16,73,38,25,39,11,24,94,72,18,08,46,29,32,40,62,76,36&#125;,</span><br><span class="line">  &#123;20,69,36,41,72,30,23,88,34,62,99,69,82,67,59,85,74,04,36,16&#125;,</span><br><span class="line">  &#123;20,73,35,29,78,31,90,01,74,31,49,71,48,86,81,16,23,57,05,54&#125;,</span><br><span class="line">  &#123;01,70,54,71,83,51,54,69,16,92,33,48,61,43,52,01,89,19,67,48&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">InBounds[x_, y_] := y &gt;= <span class="number">1</span> &amp;&amp; y &lt;= <span class="keyword">Length</span>[square] &amp;&amp; x &gt;= <span class="number">1</span> &amp;&amp; x &lt;= <span class="keyword">Length</span>[square[[y]]]</span><br><span class="line">LineProduct[dx_, dy_, n_] := <span class="keyword">If</span>[InBounds[x + (n - <span class="number">1</span>) * dx, y + (n - <span class="number">1</span>) * dy],</span><br><span class="line">  <span class="keyword">Product</span>[square[[y + i * dy, x + i * dx]], &#123;i, 0, n - 1&#125;], <span class="number">-1</span>]</span><br><span class="line">AllLineProducts[dx_, dy_, n_] := <span class="keyword">Flatten</span>[<span class="keyword">Table</span>[LineProduct[dx, dy, n], &#123;y, 1, Length[square]&#125;, &#123;x, 1, Length[square[[y]]]&#125;]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">Max</span>[</span><br><span class="line">  AllLineProducts[<span class="number">1</span>,  <span class="number">0</span>, <span class="number">4</span>],</span><br><span class="line">  AllLineProducts[<span class="number">0</span>,  <span class="number">1</span>, <span class="number">4</span>],</span><br><span class="line">  AllLineProducts[<span class="number">1</span>,  <span class="number">1</span>, <span class="number">4</span>],</span><br><span class="line">  AllLineProducts[<span class="number">1</span>, <span class="number">-1</span>, <span class="number">4</span>]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p011</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p011().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We visit each grid cell and compute the product in the 4 directions starting from that cell.</span></span><br><span class="line"><span class="comment"> * Note that the maximum product is 99^4 = 96059601, which fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> CONSECUTIVE = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> max = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; SQUARE.length; y++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; SQUARE[y].length; x++) &#123;</span><br><span class="line">max = Math.max(product(x, y, <span class="number">1</span>,  <span class="number">0</span>, CONSECUTIVE), max);</span><br><span class="line">max = Math.max(product(x, y, <span class="number">0</span>,  <span class="number">1</span>, CONSECUTIVE), max);</span><br><span class="line">max = Math.max(product(x, y, <span class="number">1</span>,  <span class="number">1</span>, CONSECUTIVE), max);</span><br><span class="line">max = Math.max(product(x, y, <span class="number">1</span>, -<span class="number">1</span>, CONSECUTIVE), max);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(max);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">product</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> dx, <span class="keyword">int</span> dy, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="comment">// First endpoint is assumed to be in bounds. Check if second endpoint is in bounds.</span></span><br><span class="line"><span class="keyword">if</span> (!isInBounds(x + (n - <span class="number">1</span>) * dx, y + (n - <span class="number">1</span>) * dy))</span><br><span class="line"><span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> prod = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++, x += dx, y += dy)</span><br><span class="line">prod *= SQUARE[y][x];</span><br><span class="line"><span class="keyword">return</span> prod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isInBounds</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> &lt;= y &amp;&amp; y &lt; SQUARE.length &amp;&amp; <span class="number">0</span> &lt;= x &amp;&amp; x &lt; SQUARE[y].length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[][] SQUARE = &#123;</span><br><span class="line">&#123; <span class="number">8</span>, <span class="number">2</span>,<span class="number">22</span>,<span class="number">97</span>,<span class="number">38</span>,<span class="number">15</span>, <span class="number">0</span>,<span class="number">40</span>, <span class="number">0</span>,<span class="number">75</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>,<span class="number">78</span>,<span class="number">52</span>,<span class="number">12</span>,<span class="number">50</span>,<span class="number">77</span>,<span class="number">91</span>, <span class="number">8</span>&#125;,</span><br><span class="line">&#123;<span class="number">49</span>,<span class="number">49</span>,<span class="number">99</span>,<span class="number">40</span>,<span class="number">17</span>,<span class="number">81</span>,<span class="number">18</span>,<span class="number">57</span>,<span class="number">60</span>,<span class="number">87</span>,<span class="number">17</span>,<span class="number">40</span>,<span class="number">98</span>,<span class="number">43</span>,<span class="number">69</span>,<span class="number">48</span>, <span class="number">4</span>,<span class="number">56</span>,<span class="number">62</span>, <span class="number">0</span>&#125;,</span><br><span class="line">&#123;<span class="number">81</span>,<span class="number">49</span>,<span class="number">31</span>,<span class="number">73</span>,<span class="number">55</span>,<span class="number">79</span>,<span class="number">14</span>,<span class="number">29</span>,<span class="number">93</span>,<span class="number">71</span>,<span class="number">40</span>,<span class="number">67</span>,<span class="number">53</span>,<span class="number">88</span>,<span class="number">30</span>, <span class="number">3</span>,<span class="number">49</span>,<span class="number">13</span>,<span class="number">36</span>,<span class="number">65</span>&#125;,</span><br><span class="line">&#123;<span class="number">52</span>,<span class="number">70</span>,<span class="number">95</span>,<span class="number">23</span>, <span class="number">4</span>,<span class="number">60</span>,<span class="number">11</span>,<span class="number">42</span>,<span class="number">69</span>,<span class="number">24</span>,<span class="number">68</span>,<span class="number">56</span>, <span class="number">1</span>,<span class="number">32</span>,<span class="number">56</span>,<span class="number">71</span>,<span class="number">37</span>, <span class="number">2</span>,<span class="number">36</span>,<span class="number">91</span>&#125;,</span><br><span class="line">&#123;<span class="number">22</span>,<span class="number">31</span>,<span class="number">16</span>,<span class="number">71</span>,<span class="number">51</span>,<span class="number">67</span>,<span class="number">63</span>,<span class="number">89</span>,<span class="number">41</span>,<span class="number">92</span>,<span class="number">36</span>,<span class="number">54</span>,<span class="number">22</span>,<span class="number">40</span>,<span class="number">40</span>,<span class="number">28</span>,<span class="number">66</span>,<span class="number">33</span>,<span class="number">13</span>,<span class="number">80</span>&#125;,</span><br><span class="line">&#123;<span class="number">24</span>,<span class="number">47</span>,<span class="number">32</span>,<span class="number">60</span>,<span class="number">99</span>, <span class="number">3</span>,<span class="number">45</span>, <span class="number">2</span>,<span class="number">44</span>,<span class="number">75</span>,<span class="number">33</span>,<span class="number">53</span>,<span class="number">78</span>,<span class="number">36</span>,<span class="number">84</span>,<span class="number">20</span>,<span class="number">35</span>,<span class="number">17</span>,<span class="number">12</span>,<span class="number">50</span>&#125;,</span><br><span class="line">&#123;<span class="number">32</span>,<span class="number">98</span>,<span class="number">81</span>,<span class="number">28</span>,<span class="number">64</span>,<span class="number">23</span>,<span class="number">67</span>,<span class="number">10</span>,<span class="number">26</span>,<span class="number">38</span>,<span class="number">40</span>,<span class="number">67</span>,<span class="number">59</span>,<span class="number">54</span>,<span class="number">70</span>,<span class="number">66</span>,<span class="number">18</span>,<span class="number">38</span>,<span class="number">64</span>,<span class="number">70</span>&#125;,</span><br><span class="line">&#123;<span class="number">67</span>,<span class="number">26</span>,<span class="number">20</span>,<span class="number">68</span>, <span class="number">2</span>,<span class="number">62</span>,<span class="number">12</span>,<span class="number">20</span>,<span class="number">95</span>,<span class="number">63</span>,<span class="number">94</span>,<span class="number">39</span>,<span class="number">63</span>, <span class="number">8</span>,<span class="number">40</span>,<span class="number">91</span>,<span class="number">66</span>,<span class="number">49</span>,<span class="number">94</span>,<span class="number">21</span>&#125;,</span><br><span class="line">&#123;<span class="number">24</span>,<span class="number">55</span>,<span class="number">58</span>, <span class="number">5</span>,<span class="number">66</span>,<span class="number">73</span>,<span class="number">99</span>,<span class="number">26</span>,<span class="number">97</span>,<span class="number">17</span>,<span class="number">78</span>,<span class="number">78</span>,<span class="number">96</span>,<span class="number">83</span>,<span class="number">14</span>,<span class="number">88</span>,<span class="number">34</span>,<span class="number">89</span>,<span class="number">63</span>,<span class="number">72</span>&#125;,</span><br><span class="line">&#123;<span class="number">21</span>,<span class="number">36</span>,<span class="number">23</span>, <span class="number">9</span>,<span class="number">75</span>, <span class="number">0</span>,<span class="number">76</span>,<span class="number">44</span>,<span class="number">20</span>,<span class="number">45</span>,<span class="number">35</span>,<span class="number">14</span>, <span class="number">0</span>,<span class="number">61</span>,<span class="number">33</span>,<span class="number">97</span>,<span class="number">34</span>,<span class="number">31</span>,<span class="number">33</span>,<span class="number">95</span>&#125;,</span><br><span class="line">&#123;<span class="number">78</span>,<span class="number">17</span>,<span class="number">53</span>,<span class="number">28</span>,<span class="number">22</span>,<span class="number">75</span>,<span class="number">31</span>,<span class="number">67</span>,<span class="number">15</span>,<span class="number">94</span>, <span class="number">3</span>,<span class="number">80</span>, <span class="number">4</span>,<span class="number">62</span>,<span class="number">16</span>,<span class="number">14</span>, <span class="number">9</span>,<span class="number">53</span>,<span class="number">56</span>,<span class="number">92</span>&#125;,</span><br><span class="line">&#123;<span class="number">16</span>,<span class="number">39</span>, <span class="number">5</span>,<span class="number">42</span>,<span class="number">96</span>,<span class="number">35</span>,<span class="number">31</span>,<span class="number">47</span>,<span class="number">55</span>,<span class="number">58</span>,<span class="number">88</span>,<span class="number">24</span>, <span class="number">0</span>,<span class="number">17</span>,<span class="number">54</span>,<span class="number">24</span>,<span class="number">36</span>,<span class="number">29</span>,<span class="number">85</span>,<span class="number">57</span>&#125;,</span><br><span class="line">&#123;<span class="number">86</span>,<span class="number">56</span>, <span class="number">0</span>,<span class="number">48</span>,<span class="number">35</span>,<span class="number">71</span>,<span class="number">89</span>, <span class="number">7</span>, <span class="number">5</span>,<span class="number">44</span>,<span class="number">44</span>,<span class="number">37</span>,<span class="number">44</span>,<span class="number">60</span>,<span class="number">21</span>,<span class="number">58</span>,<span class="number">51</span>,<span class="number">54</span>,<span class="number">17</span>,<span class="number">58</span>&#125;,</span><br><span class="line">&#123;<span class="number">19</span>,<span class="number">80</span>,<span class="number">81</span>,<span class="number">68</span>, <span class="number">5</span>,<span class="number">94</span>,<span class="number">47</span>,<span class="number">69</span>,<span class="number">28</span>,<span class="number">73</span>,<span class="number">92</span>,<span class="number">13</span>,<span class="number">86</span>,<span class="number">52</span>,<span class="number">17</span>,<span class="number">77</span>, <span class="number">4</span>,<span class="number">89</span>,<span class="number">55</span>,<span class="number">40</span>&#125;,</span><br><span class="line">&#123; <span class="number">4</span>,<span class="number">52</span>, <span class="number">8</span>,<span class="number">83</span>,<span class="number">97</span>,<span class="number">35</span>,<span class="number">99</span>,<span class="number">16</span>, <span class="number">7</span>,<span class="number">97</span>,<span class="number">57</span>,<span class="number">32</span>,<span class="number">16</span>,<span class="number">26</span>,<span class="number">26</span>,<span class="number">79</span>,<span class="number">33</span>,<span class="number">27</span>,<span class="number">98</span>,<span class="number">66</span>&#125;,</span><br><span class="line">&#123;<span class="number">88</span>,<span class="number">36</span>,<span class="number">68</span>,<span class="number">87</span>,<span class="number">57</span>,<span class="number">62</span>,<span class="number">20</span>,<span class="number">72</span>, <span class="number">3</span>,<span class="number">46</span>,<span class="number">33</span>,<span class="number">67</span>,<span class="number">46</span>,<span class="number">55</span>,<span class="number">12</span>,<span class="number">32</span>,<span class="number">63</span>,<span class="number">93</span>,<span class="number">53</span>,<span class="number">69</span>&#125;,</span><br><span class="line">&#123; <span class="number">4</span>,<span class="number">42</span>,<span class="number">16</span>,<span class="number">73</span>,<span class="number">38</span>,<span class="number">25</span>,<span class="number">39</span>,<span class="number">11</span>,<span class="number">24</span>,<span class="number">94</span>,<span class="number">72</span>,<span class="number">18</span>, <span class="number">8</span>,<span class="number">46</span>,<span class="number">29</span>,<span class="number">32</span>,<span class="number">40</span>,<span class="number">62</span>,<span class="number">76</span>,<span class="number">36</span>&#125;,</span><br><span class="line">&#123;<span class="number">20</span>,<span class="number">69</span>,<span class="number">36</span>,<span class="number">41</span>,<span class="number">72</span>,<span class="number">30</span>,<span class="number">23</span>,<span class="number">88</span>,<span class="number">34</span>,<span class="number">62</span>,<span class="number">99</span>,<span class="number">69</span>,<span class="number">82</span>,<span class="number">67</span>,<span class="number">59</span>,<span class="number">85</span>,<span class="number">74</span>, <span class="number">4</span>,<span class="number">36</span>,<span class="number">16</span>&#125;,</span><br><span class="line">&#123;<span class="number">20</span>,<span class="number">73</span>,<span class="number">35</span>,<span class="number">29</span>,<span class="number">78</span>,<span class="number">31</span>,<span class="number">90</span>, <span class="number">1</span>,<span class="number">74</span>,<span class="number">31</span>,<span class="number">49</span>,<span class="number">71</span>,<span class="number">48</span>,<span class="number">86</span>,<span class="number">81</span>,<span class="number">16</span>,<span class="number">23</span>,<span class="number">57</span>, <span class="number">5</span>,<span class="number">54</span>&#125;,</span><br><span class="line">&#123; <span class="number">1</span>,<span class="number">70</span>,<span class="number">54</span>,<span class="number">71</span>,<span class="number">83</span>,<span class="number">51</span>,<span class="number">54</span>,<span class="number">69</span>,<span class="number">16</span>,<span class="number">92</span>,<span class="number">33</span>,<span class="number">48</span>,<span class="number">61</span>,<span class="number">43</span>,<span class="number">52</span>, <span class="number">1</span>,<span class="number">89</span>,<span class="number">19</span>,<span class="number">67</span>,<span class="number">48</span>&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 006</title>
      <link href="/2018/03/04/LeetCode-Notes-006/"/>
      <url>/2018/03/04/LeetCode-Notes-006/</url>
      <content type="html"><![CDATA[<h3 id="Basic-Calculator-II"><a href="#Basic-Calculator-II" class="headerlink" title="Basic Calculator II"></a>Basic Calculator II</h3><p>Implement a basic calculator to evaluate a simple expression string.</p><p>The expression string contains only non-negative integers, +, -, *, / operators and empty spaces . The integer division should truncate toward zero.</p><p>You may assume that the given expression is always valid.</p><p>Some examples:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;3+2*2&quot; = 7</span><br><span class="line">&quot; 3/2 &quot; = 1</span><br><span class="line">&quot; 3+5 / 2 &quot; = 5</span><br></pre></td></tr></table></figure></p><a id="more"></a><p><strong>Note:</strong> Do not use the eval built-in library function.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> calculate = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  s = s.replace(<span class="regexp">/\s/g</span>, <span class="string">''</span>);</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> numStack = [];</span><br><span class="line">  <span class="keyword">var</span> sym = <span class="string">'+'</span>;  <span class="comment">// 前一个符号，默认可为 '+'</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = s.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = s[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (~<span class="string">'+-*/'</span>.indexOf(item) || i === len - <span class="number">1</span>) &#123;</span><br><span class="line">      (i === len - <span class="number">1</span>) &amp;&amp; (num = num * <span class="number">10</span> + (+item));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (sym === <span class="string">'-'</span>)</span><br><span class="line">        numStack.push(-num);</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (sym === <span class="string">'+'</span>)</span><br><span class="line">        numStack.push(+num);</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (sym === <span class="string">'*'</span>)</span><br><span class="line">        numStack.push(numStack.pop() * num);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        numStack.push(~~(numStack.pop() / num));</span><br><span class="line"></span><br><span class="line">      num = <span class="number">0</span>;</span><br><span class="line">      sym = item;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      num = num * <span class="number">10</span> + (+item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">  numStack.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    ans += item;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Battleships-in-a-Board"><a href="#Battleships-in-a-Board" class="headerlink" title="Battleships in a Board"></a>Battleships in a Board</h3><p>Given an 2D board, count how many battleships are in it. The battleships are represented with <code>&#39;X&#39;</code>s, empty slots are represented with <code>&#39;.&#39;</code>s. You may assume the following rules:</p><ol><li>You receive a valid board, made of only battleships or empty slots.</li><li>Battleships can only be placed horizontally or vertically. In other words, they can only be made of the shape <code>1xN</code> (1 row, N columns) or <code>Nx1</code> (N rows, 1 column), where N can be of any size.</li><li>At least one horizontal or vertical cell separates between two battleships - there are no adjacent battleships.</li></ol><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X..X</span><br><span class="line">...X</span><br><span class="line">...X</span><br></pre></td></tr></table></figure></p><p>In the above board there are 2 battleships.</p><p><strong>Invalid Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...X</span><br><span class="line">XXXX</span><br><span class="line">...X</span><br></pre></td></tr></table></figure></p><p>This is an invalid board that you will not receive - as battleships will always have a cell separating between them.</p><p><strong>Follow up:</strong></p><p>Could you do it in one-pass, using only <strong>O(1) extra memory</strong> and without modifying the value of the board</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;character[][]&#125; board</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countBattleships = <span class="function"><span class="keyword">function</span>(<span class="params">board</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dir = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">-1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">-1</span>, <span class="number">0</span>]];</span><br><span class="line">  <span class="keyword">const</span> m = board.length;</span><br><span class="line">  <span class="keyword">const</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">  <span class="keyword">const</span> hash = [];</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">    hash[i] = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (board[i][j] === <span class="string">'.'</span> || hash[i][j])</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      hash[i][j] = <span class="literal">true</span>;</span><br><span class="line">      ans++;</span><br><span class="line">      dfs(i, j);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> nx = x + dir[i][<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">let</span> ny = y + dir[i][<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">if</span> (nx &lt; <span class="number">0</span> || nx &gt;= m || ny &lt; <span class="number">0</span> || ny &gt;= n || board[nx][ny] === <span class="string">'.'</span> || hash[nx][ny])</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      hash[nx][ny] = <span class="literal">true</span>;</span><br><span class="line">      dfs(nx, ny);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Beautiful-Arrangement"><a href="#Beautiful-Arrangement" class="headerlink" title="Beautiful Arrangement"></a>Beautiful Arrangement</h3><p>Suppose you have N integers from 1 to N. We define a beautiful arrangement as an array that is constructed by these N numbers successfully if one of the following is true for the i-th position (1 &lt;= i &lt;= N) in this array:</p><ol><li>The number at the i-th position is divisible by i.</li><li>i is divisible by the number at the i-th position.</li></ol><p>Now given N, how many beautiful arrangements can you construct?</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input: 2</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: </span><br><span class="line"></span><br><span class="line">The first beautiful arrangement is [1, 2]:</span><br><span class="line"></span><br><span class="line">Number at the 1st position (i=1) is 1, and 1 is divisible by i (i=1).</span><br><span class="line"></span><br><span class="line">Number at the 2nd position (i=2) is 2, and 2 is divisible by i (i=2).</span><br><span class="line"></span><br><span class="line">The second beautiful arrangement is [2, 1]:</span><br><span class="line"></span><br><span class="line">Number at the 1st position (i=1) is 2, and 2 is divisible by i (i=1).</span><br><span class="line"></span><br><span class="line">Number at the 2nd position (i=2) is 1, and i (i=2) is divisible by 1.</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong></p><ol><li>N is a positive integer and will not exceed 15.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; N</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> countArrangement = <span class="function"><span class="keyword">function</span>(<span class="params">N</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [ans, hash] = [<span class="number">0</span>, &#123;&#125;];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> dfs = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index === N + <span class="number">1</span>) &#123;</span><br><span class="line">      ans++;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!hash[i] &amp;&amp; (index % i === <span class="number">0</span> || i % index === <span class="number">0</span>)) &#123;</span><br><span class="line">        hash[i] = <span class="literal">true</span>;</span><br><span class="line">        dfs(index + <span class="number">1</span>);</span><br><span class="line">        hash[i] = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  dfs(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Best-Time-to-Buy-and-Sell-Stock"><a href="#Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="Best Time to Buy and Sell Stock"></a>Best Time to Buy and Sell Stock</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.</p><p>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [7, 1, 5, 3, 6, 4]</span><br><span class="line">Output: 5</span><br><span class="line"></span><br><span class="line">max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [7, 6, 4, 3, 1]</span><br><span class="line">Output: 0</span><br><span class="line"></span><br><span class="line">In this case, no transaction is done, i.e. max profit = 0.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; prices</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = prices.length;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> minn = <span class="literal">Infinity</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    minn = <span class="built_in">Math</span>.min(minn, prices[i]);</span><br><span class="line">    ans = <span class="built_in">Math</span>.max(ans, prices[i] - minn);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 005</title>
      <link href="/2018/03/03/LeetCode-Notes-005/"/>
      <url>/2018/03/03/LeetCode-Notes-005/</url>
      <content type="html"><![CDATA[<h3 id="Balanced-Binary-Tree"><a href="#Balanced-Binary-Tree" class="headerlink" title="Balanced Binary Tree"></a>Balanced Binary Tree</h3><p>Given a binary tree, determine if it is height-balanced.</p><p>For this problem, a height-balanced binary tree is defined as:</p><blockquote><p>a binary tree in which the depth of the two subtrees of every node never differ by more than 1.</p></blockquote><p><strong>Example 1:</strong></p><p>Given the following tree <code>[3,9,20,null,null,15,7]</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure></p><p>Return true.</p><p><strong>Example 2:</strong></p><p>Given the following tree <code>[1,2,2,3,3,null,null,4,4]</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      1</span><br><span class="line">     / \</span><br><span class="line">    2   2</span><br><span class="line">   / \</span><br><span class="line">  3   3</span><br><span class="line"> / \</span><br><span class="line">4   4</span><br></pre></td></tr></table></figure></p><p>Return false.</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.left = this.right = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;TreeNode&#125; root</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> a = root.left ? dfs(root.left) : <span class="number">0</span></span><br><span class="line">    , b = root.right ? dfs(root.right) : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(a - b) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    ans = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.max(a, b) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isBalanced = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">  ans = <span class="literal">true</span>;</span><br><span class="line">  dfs(root);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Base-7"><a href="#Base-7" class="headerlink" title="Base 7"></a>Base 7</h3><p>Given an integer, return its base 7 string representation.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 100</span><br><span class="line">Output: &quot;202&quot;</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: -7</span><br><span class="line">Output: &quot;-10&quot;</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong> The input will be in range of [-1e7, 1e7].</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> convertToBase7 = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num === <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'0'</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> prefix = num &lt; <span class="number">0</span> ? <span class="string">'-'</span> : <span class="string">''</span></span><br><span class="line">    , res = []</span><br><span class="line">    , base = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">  num = <span class="built_in">Math</span>.abs(num);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (num) &#123;</span><br><span class="line">    res.push(num % base);</span><br><span class="line">    num = ~~(num / base);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> prefix + res.reverse().join(<span class="string">''</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Basic-Calculator"><a href="#Basic-Calculator" class="headerlink" title="Basic Calculator"></a>Basic Calculator</h3><p>Implement a basic calculator to evaluate a simple expression string.</p><p>The expression string may contain open <code>(</code> and closing parentheses <code>)</code>, the plus + or minus sign -, non-negative integers and empty spaces .</p><p>You may assume that the given expression is always valid.</p><p>Some examples:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;1 + 1&quot; = 2</span><br><span class="line">&quot; 2-1 + 2 &quot; = 3</span><br><span class="line">&quot;(1+(4+5+2)-3)+(6+8)&quot; = 23</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong> Do not use the eval built-in library function.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> calculate = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  s = s.replace(<span class="regexp">/\s/g</span>, <span class="string">''</span>);</span><br><span class="line">  <span class="keyword">var</span> numStack = [];</span><br><span class="line">  <span class="keyword">var</span> symStack = [];</span><br><span class="line">  <span class="keyword">var</span> len = s.length;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = s[i];</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">'-+('</span>.indexOf(item) !== <span class="number">-1</span>) &#123;</span><br><span class="line">      symStack.push(item);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (i &amp;&amp; <span class="string">'0123456789'</span>.indexOf(s[i - <span class="number">1</span>]) !== <span class="number">-1</span>) &#123;</span><br><span class="line">        numStack.push(num);</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">')'</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i &amp;&amp; <span class="string">'0123456789'</span>.indexOf(s[i - <span class="number">1</span>]) !== <span class="number">-1</span>) &#123;</span><br><span class="line">        numStack.push(num);</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> _numStack = [];</span><br><span class="line">      <span class="keyword">var</span> _symStack = [];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> sym = symStack.pop();</span><br><span class="line">        <span class="keyword">if</span> (sym === <span class="string">'('</span>) &#123;</span><br><span class="line">          _numStack.unshift(numStack.pop());</span><br><span class="line">          numStack.push(help(_numStack, _symStack));</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        _numStack.unshift(numStack.pop());</span><br><span class="line">        _symStack.unshift(sym);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      num = num * <span class="number">10</span> + (+item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (s[len - <span class="number">1</span>] !== <span class="string">')'</span>)</span><br><span class="line">    numStack.push(num);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> help(numStack, symStack);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param  &#123;array&#125; numStack</span></span><br><span class="line"><span class="comment"> * @param  &#123;array&#125; symStack</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">help</span>(<span class="params">numStack, symStack</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (numStack.length !== <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> sym = symStack.shift();</span><br><span class="line">    <span class="keyword">var</span> a = numStack.shift();</span><br><span class="line">    <span class="keyword">var</span> b = numStack.shift();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sym === <span class="string">'+'</span>)</span><br><span class="line">      numStack.unshift(a + b);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      numStack.unshift(a - b);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> numStack[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> calculate = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">0</span>;  <span class="comment">// single number</span></span><br><span class="line">  <span class="keyword">var</span> sign = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> numStack = [];</span><br><span class="line">  <span class="keyword">var</span> symStack = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = s.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = s[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">'0123456789'</span>.indexOf(item) !== <span class="number">-1</span>) &#123;</span><br><span class="line">      num = num * <span class="number">10</span> + (+item);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ans += sign * num;</span><br><span class="line">      num = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span> (item === <span class="string">'+'</span>)</span><br><span class="line">        sign = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">'-'</span>)</span><br><span class="line">        sign = <span class="number">-1</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">'('</span>) &#123;</span><br><span class="line">        numStack.push(ans);</span><br><span class="line">        symStack.push(sign);</span><br><span class="line">        ans = <span class="number">0</span>;</span><br><span class="line">        sign = <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">')'</span>) &#123;</span><br><span class="line">        ans = symStack.pop() * ans + numStack.pop();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ans += sign * num;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 004</title>
      <link href="/2018/03/02/LeetCode-Notes-004/"/>
      <url>/2018/03/02/LeetCode-Notes-004/</url>
      <content type="html"><![CDATA[<h3 id="Arithmetic-Slices"><a href="#Arithmetic-Slices" class="headerlink" title="Arithmetic Slices"></a>Arithmetic Slices</h3><p>A sequence of number is called arithmetic if it consists of at least three elements and if the difference between any two consecutive elements is the same.</p><p>For example, these are arithmetic sequence:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1, 3, 5, 7, 9</span><br><span class="line">7, 7, 7, 7</span><br><span class="line">3, -1, -5, -9</span><br></pre></td></tr></table></figure></p><p>The following sequence is not arithmetic.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1, 1, 2, 5, 7</span><br></pre></td></tr></table></figure></p><p>A zero-indexed array A consisting of N numbers is given. A slice of that array is any pair of integers (P, Q) such that 0 &lt;= P &lt; Q &lt; N.</p><p>A slice (P, Q) of array A is called arithmetic if the sequence:<br>A[P], A[p + 1], …, A[Q - 1], A[Q] is arithmetic. In particular, this means that P + 1 &lt; Q.</p><p>The function should return the number of arithmetic slices in the array A.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A = [1, 2, 3, 4]</span><br><span class="line"></span><br><span class="line">return: 3, for 3 arithmetic slices in A: [1, 2, 3], [2, 3, 4] and [1, 2, 3, 4] itself.</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; A</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> numberOfArithmeticSlices = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> len = A.length;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> diff;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j === i + <span class="number">1</span>)</span><br><span class="line">        diff = A[j] - A[i];</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (A[j] - A[j - <span class="number">1</span>] === diff)</span><br><span class="line">        num++;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans += num - <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Arranging-Coins"><a href="#Arranging-Coins" class="headerlink" title="Arranging Coins"></a>Arranging Coins</h3><p>You have a total of n coins that you want to form in a staircase shape, where every k-th row must have exactly k coins.</p><p>Given n, find the total number of full staircase rows that can be formed.</p><p>n is a non-negative integer and fits within the range of a 32-bit signed integer.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n = 5</span><br><span class="line"></span><br><span class="line">The coins can form the following rows:</span><br><span class="line">¤</span><br><span class="line">¤ ¤</span><br><span class="line">¤ ¤</span><br><span class="line"></span><br><span class="line">Because the 3rd row is incomplete, we return 2.</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">n = 8</span><br><span class="line"></span><br><span class="line">The coins can form the following rows:</span><br><span class="line">¤</span><br><span class="line">¤ ¤</span><br><span class="line">¤ ¤ ¤</span><br><span class="line">¤ ¤</span><br><span class="line"></span><br><span class="line">Because the 4th row is incomplete, we return 3.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; n</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> arrangeCoins = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="built_in">Math</span>.sqrt(<span class="number">1</span> + <span class="number">8</span> * n) - <span class="number">1</span>;</span><br><span class="line">  ans /= <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ~~ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Assign-Cookies"><a href="#Assign-Cookies" class="headerlink" title="Assign Cookies"></a>Assign Cookies</h3><p>Assume you are an awesome parent and want to give your children some cookies. But, you should give each child at most one cookie. Each child $i$ has a greed factor $g_i$, which is the minimum size of a cookie that the child will be content with; and each cookie $j$ has a size $s_j$. If $s_j &gt;= g_i$, we can assign the cookie $j$ to the child $i$, and the child $i$ will be content. Your goal is to maximize the number of your content children and output the maximum number.</p><p><strong>Note:</strong></p><p>You may assume the greed factor is always positive. </p><p>You cannot assign more than one cookie to one child.</p><p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,3], [1,1]</span><br><span class="line"></span><br><span class="line">Output: 1</span><br><span class="line"></span><br><span class="line">Explanation: You have 3 children and 2 cookies. The greed factors of 3 children are 1, 2, 3. </span><br><span class="line">And even though you have 2 cookies, since their size is both 1, you could only make the child whose greed factor is 1 content.</span><br><span class="line">You need to output 1.</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2], [1,2,3]</span><br><span class="line"></span><br><span class="line">Output: 2</span><br><span class="line"></span><br><span class="line">Explanation: You have 2 children and 3 cookies. The greed factors of 2 children are 1, 2. </span><br><span class="line">You have 3 cookies and their sizes are big enough to gratify all of the children, </span><br><span class="line">You need to output 2.</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; g</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> findContentChildren = <span class="function"><span class="keyword">function</span>(<span class="params">g, s</span>) </span>&#123;</span><br><span class="line">  g.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a - b;&#125;);</span><br><span class="line">  s.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a - b;&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> sIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> sLen = s.length;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// greedy</span></span><br><span class="line">  loop:</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = g.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> item = g[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = sIndex; j &lt; sLen; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (s[j] &gt;= item) &#123;</span><br><span class="line">        ans++;</span><br><span class="line">        sIndex = j + <span class="number">1</span>; <span class="comment">// the index next loop should be from</span></span><br><span class="line">        <span class="keyword">if</span> (sIndex === sLen) <span class="keyword">break</span> loop;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 003</title>
      <link href="/2018/03/01/LeetCode-Notes-003/"/>
      <url>/2018/03/01/LeetCode-Notes-003/</url>
      <content type="html"><![CDATA[<h3 id="Add-two-numbers"><a href="#Add-two-numbers" class="headerlink" title="Add two numbers"></a>Add two numbers</h3><p>You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</p><p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">Output: 7 -&gt; 0 -&gt; 8</span><br><span class="line">Explanation: 342 + 465 = 807.</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.next = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l1</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l2</span></span><br><span class="line"><span class="comment"> * @return &#123;ListNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> addTwoNumbers = <span class="function"><span class="keyword">function</span>(<span class="params">l1, l2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> add = <span class="number">0</span></span><br><span class="line">    , ans</span><br><span class="line">    , head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(l1 || l2) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = l1 ? l1.val : <span class="number">0</span></span><br><span class="line">      , b = l2 ? l2.val : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> sum = a + b + add;</span><br><span class="line">    add = ~~(sum / <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!ans)</span><br><span class="line">      ans = head = node;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      head.next = node;</span><br><span class="line">      head = node; </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (l1)</span><br><span class="line">      l1 = l1.next;</span><br><span class="line">    <span class="keyword">if</span> (l2)</span><br><span class="line">      l2 = l2.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (add) &#123;</span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> ListNode(add);</span><br><span class="line">    head.next = node;</span><br><span class="line">    head = node;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Add-two-numbers-II"><a href="#Add-two-numbers-II" class="headerlink" title="Add two numbers II"></a>Add two numbers II</h3><p>You are given two non-empty linked lists representing two non-negative integers. The most significant digit comes first and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</p><p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p><p>Follow up:<br>What if you cannot modify the input lists? In other words, reversing the lists is not allowed.</p><p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">Output: 7 -&gt; 8 -&gt; 0 -&gt; 7</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.next = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l1</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; l2</span></span><br><span class="line"><span class="comment"> * @return &#123;ListNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> addTwoNumbers = <span class="function"><span class="keyword">function</span>(<span class="params">l1, l2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = []</span><br><span class="line">    , b = []</span><br><span class="line">    , newL1 = l1</span><br><span class="line">    , newL2 = l2;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (newL1) &#123;</span><br><span class="line">    a.push(newL1.val);</span><br><span class="line">    newL1 = newL1.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (newL2) &#123;</span><br><span class="line">    b.push(newL2.val);</span><br><span class="line">    newL2 = newL2.next;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  a.reverse();</span><br><span class="line">  b.reverse();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line">  <span class="keyword">let</span> add = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (a.length || b.length) &#123;</span><br><span class="line">    <span class="keyword">let</span> c = a.length ? a.shift() : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> d = b.length ? b.shift() : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> sum = c + d + add;</span><br><span class="line"></span><br><span class="line">    ans.push(sum % <span class="number">10</span>);</span><br><span class="line">    add = ~~(sum / <span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  add &amp;&amp; (ans.push(add));</span><br><span class="line"></span><br><span class="line">  ans.reverse();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ret = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = ans.length; i &lt; len; i++)</span><br><span class="line">    ret[i] = <span class="keyword">new</span> ListNode(ans[i]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = ans.length; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">    ret[i].next = ret[i + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ret[<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Additive-number"><a href="#Additive-number" class="headerlink" title="Additive number"></a>Additive number</h3><p>Additive number is a string whose digits can form additive sequence.</p><p>A valid additive sequence should contain at least three numbers. Except for the first two numbers, each subsequent number in the sequence must be the sum of the preceding two.</p><p>For example:</p><p>“112358” is an additive number because the digits can form an additive sequence: <code>1, 1, 2, 3, 5, 8.</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 + 1 = 2, 1 + 2 = 3, 2 + 3 = 5, 3 + 5 = 8</span><br></pre></td></tr></table></figure><p><code>&quot;199100199&quot;</code> is also an additive number, the additive sequence is: <code>1, 99, 100, 199.</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 + 99 = 100, 99 + 100 = 199</span><br></pre></td></tr></table></figure><p><strong>Note:</strong> Numbers in the additive sequence cannot have leading zeros, so sequence 1, 2, 03 or 1, 02, 3 is invalid.</p><p>Given a string containing only digits <code>&#39;0&#39;-&#39;9&#39;</code>, write a function to determine if it’s an additive number.</p><p><strong>Follow up:</strong></p><p>How would you handle overflow for very large input integers?</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// use Depth-First-Search Algorithm</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">a, b, c, index, num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (ans)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (index === num.length) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a === <span class="number">-1</span> || b === <span class="number">-1</span> || c === <span class="number">-1</span>)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> ((+a) + (+b) === (+c))</span><br><span class="line">      ans = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (a === <span class="number">-1</span>) &#123;</span><br><span class="line">    dfs(num[index], b, c, index + <span class="number">1</span>, num);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (b === <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a !== <span class="string">'0'</span>)</span><br><span class="line">      dfs(a + num[index], b, c, index + <span class="number">1</span>, num);</span><br><span class="line"></span><br><span class="line">    dfs(a, num[index], c, index + <span class="number">1</span>, num);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (c === <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (b !== <span class="string">'0'</span>)</span><br><span class="line">      dfs(a, b + num[index], c, index + <span class="number">1</span>, num);</span><br><span class="line"></span><br><span class="line">    dfs(a, b, num[index], index + <span class="number">1</span>, num);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (c !== <span class="string">'0'</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> ((+a) + (+b) === (+c)) &#123;</span><br><span class="line">      dfs(b, c, <span class="number">-1</span>, index, num);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> ((+a) + (+b) &lt; (+c))</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      dfs(a, b, c + num[index], index + <span class="number">1</span>, num);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (a === <span class="string">'0'</span> &amp;&amp; b === <span class="string">'0'</span>)</span><br><span class="line">      dfs(b, c, <span class="number">-1</span>, index, num);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isAdditiveNumber = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  ans = <span class="literal">false</span>;</span><br><span class="line">  dfs(<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, num);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-010</title>
      <link href="/2018/03/01/Project-Euler-010/"/>
      <url>/2018/03/01/Project-Euler-010/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><br>The sum of the primes below 10 is $2 + 3 + 5 + 7 = 17$.<br></p><p><br>Find the sum of all the primes below two million.<br></p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">142913828922</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> takewhile</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eratosthenes</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''Yields the sequence of prime numbers via the Sieve of Eratosthenes.'''</span></span><br><span class="line">    D = &#123;&#125;  <span class="comment"># map composite integers to primes witnessing their compositeness</span></span><br><span class="line">    q = <span class="number">2</span>   <span class="comment"># first integer to test for primality</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> q <span class="keyword">not</span> <span class="keyword">in</span> D:</span><br><span class="line">            <span class="keyword">yield</span> q        <span class="comment"># not marked composite, must be prime</span></span><br><span class="line">            D[q*q] = [q]   <span class="comment"># first multiple of q not already marked</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> p <span class="keyword">in</span> D[q]: <span class="comment"># move each witness to its next multiple</span></span><br><span class="line">                D.setdefault(p+q,[]).append(p)</span><br><span class="line">            <span class="keyword">del</span> D[q]       <span class="comment"># no longer need D[q], free memory</span></span><br><span class="line">        q += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(sum(takewhile(<span class="keyword">lambda</span> x: x &lt; <span class="number">2000000</span>, eratosthenes())))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sieve = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> s = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> q = <span class="number">2</span>; q &lt; <span class="number">2000000</span>; q++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (sieve[q]) &#123;</span><br><span class="line">    sieve[q].forEach(<span class="function">(<span class="params">p</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> list = sieve[p + q] || []</span><br><span class="line">      list.push(p)</span><br><span class="line">      sieve[p + q] = list</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">delete</span> sieve[q]</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    s += q</span><br><span class="line">    sieve[q * q] = [q]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s)</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PrimeSieve</span><span class="params">(n <span class="keyword">int64</span>)</span> []<span class="title">int64</span></span> &#123;</span><br><span class="line">result := <span class="built_in">make</span>([]<span class="keyword">int64</span>, <span class="number">0</span>, n/<span class="keyword">int64</span>(math.Log(<span class="keyword">float64</span>(n))))</span><br><span class="line">sieve := <span class="built_in">make</span>([]<span class="keyword">bool</span>, n+<span class="number">1</span>)</span><br><span class="line">sn := <span class="keyword">int64</span>(math.Sqrt(<span class="keyword">float64</span>(n)))</span><br><span class="line"><span class="keyword">var</span> i, j <span class="keyword">int64</span></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= sn; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line"><span class="keyword">for</span> j = i * i; j &lt;= n; j += i &#123;</span><br><span class="line">sieve[j] = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line">result = <span class="built_in">append</span>(result, i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">primes := PrimeSieve(<span class="number">2000000</span>)</span><br><span class="line"><span class="keyword">var</span> sum <span class="keyword">int64</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> _, p := <span class="keyword">range</span> primes &#123;</span><br><span class="line">sum += p</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span></span><br><span class="line">puts Prime.take_while&#123; <span class="params">|n|</span> n &lt; <span class="number">2000000</span> &#125;.reduce(<span class="symbol">:+</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">primes</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">primes</span> = <span class="number">2</span> : sieve primes [<span class="number">3</span>,<span class="number">5.</span>.] <span class="keyword">where</span></span><br><span class="line">    sieve (p:ps) xs = h ++ sieve ps [x | x &lt;- t, rem x p /= <span class="number">0</span>]</span><br><span class="line">                      <span class="keyword">where</span> (h, t) = span (&lt; p*p) xs</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ sum $ takeWhile (&lt; <span class="number">2000000</span>) primes</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> primes [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> improve [p nums]</span><br><span class="line">    (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name"><span class="builtin-name">or</span></span> </span><br><span class="line">               (<span class="name"><span class="builtin-name">not</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> % p) <span class="number">0</span>))</span><br><span class="line">               (<span class="name"><span class="builtin-name">=</span></span> % p))</span><br><span class="line">            nums))</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> prime-iter [p nums i]</span><br><span class="line">    (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">&gt;</span></span> (<span class="name"><span class="builtin-name">*</span></span> p p) n)</span><br><span class="line">      nums</span><br><span class="line">      (<span class="name">prime-iter</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) (<span class="name">improve</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) nums) (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>))))</span><br><span class="line">  (<span class="name">prime-iter</span> <span class="number">2</span> (<span class="name"><span class="builtin-name">range</span></span> <span class="number">2</span> (<span class="name"><span class="builtin-name">+</span></span> n <span class="number">1</span>)) <span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name">primes</span> <span class="number">2000000</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* Use Mathematica's built-in functions for easy problem-solving. *)</span></span><br><span class="line"><span class="keyword">Total</span>[<span class="keyword">Select</span>[<span class="keyword">Range</span>[<span class="number">1999999</span>], <span class="keyword">PrimeQ</span>]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p010</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p010().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Call the sieve of Eratosthenes and sum the primes found.</span></span><br><span class="line"><span class="comment"> * A conservative upper bound for the sum is 2000000^2, which fits in a Java long type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> LIMIT = <span class="number">2000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> p : Library.listPrimes(LIMIT - <span class="number">1</span>))</span><br><span class="line">sum += p;</span><br><span class="line"><span class="keyword">return</span> Long.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-009</title>
      <link href="/2018/02/27/Project-Euler-009/"/>
      <url>/2018/02/27/Project-Euler-009/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>A Pythagorean triplet is a set of three natural numbers, $a \lt b \lt c$,<br>for which</p><p>$$a^2 + b^2 = c^2$$</p><p>For example, $3^2 + 4^2 = 9 + 16 = 25 = 5^2$.</p><p>There exists exactly one Pythagorean triplet for which $a + b + c = 1000$.<br>Find the product $a \times b \times c$.</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">31875000</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute</span><span class="params">()</span>:</span></span><br><span class="line">PERIMETER = <span class="number">1000</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">1</span>, PERIMETER + <span class="number">1</span>):</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> range(a + <span class="number">1</span>, PERIMETER + <span class="number">1</span>):</span><br><span class="line">c = PERIMETER - a - b</span><br><span class="line"><span class="keyword">if</span> a * a + b * b == c * c:</span><br><span class="line"><span class="comment"># It is now implied that b &lt; c, because we have a &gt; 0</span></span><br><span class="line"><span class="keyword">return</span> str(a * b * c)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">print(compute())</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> a = <span class="number">1</span>; a &lt; <span class="number">1000</span>; a++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> b = a, lb = <span class="number">1000</span> - a; b &lt; lb; b++) &#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="number">1000</span> - (a + b)</span><br><span class="line">    <span class="keyword">if</span> (a * a + b * b === c * c) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">console</span>.log(a * b * c)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> a, b, c, lb <span class="keyword">int</span></span><br><span class="line">max := <span class="number">1000</span></span><br><span class="line"><span class="keyword">for</span> a = <span class="number">1</span>; a &lt; max; a++ &#123;</span><br><span class="line">lb = max - a</span><br><span class="line"><span class="keyword">for</span> b = a; b &lt; lb; b++ &#123;</span><br><span class="line">c = max - (a + b)</span><br><span class="line"><span class="keyword">if</span> a*a+b*b == c*c &#123;</span><br><span class="line">fmt.Println(a * b * c)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">500</span>)</span><br><span class="line">  <span class="keyword">for</span> b <span class="keyword">in</span> (a..<span class="number">500</span>)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> (b..<span class="number">500</span>)</span><br><span class="line">      <span class="keyword">if</span> a**<span class="number">2</span> + b**<span class="number">2</span> == c**<span class="number">2</span> <span class="keyword">and</span> a+b+c == <span class="number">1000</span></span><br><span class="line">        puts a*b*c</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ head [a*b*c | a &lt;- [<span class="number">1.</span><span class="number">.500</span>], b &lt;- [a.<span class="number">.500</span>], c &lt;- [b.<span class="number">.500</span>],</span><br><span class="line">                             a+b+c == <span class="number">1000</span>, a*a + b*b == c*c]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> square [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">*</span></span> n n))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> triple? [a b c]</span><br><span class="line">  (<span class="name"><span class="builtin-name">and</span></span></span><br><span class="line">    (<span class="name"><span class="builtin-name">and</span></span> (<span class="name"><span class="builtin-name">&gt;</span></span> a <span class="number">0</span>) (<span class="name"><span class="builtin-name">&gt;</span></span> b <span class="number">0</span>) (<span class="name"><span class="builtin-name">&gt;</span></span> c <span class="number">0</span>))</span><br><span class="line">    (<span class="name"><span class="builtin-name">and</span></span> (<span class="name"><span class="builtin-name">&lt;</span></span> a b) (<span class="name"><span class="builtin-name">&lt;</span></span> b c))</span><br><span class="line">    (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">+</span></span> (<span class="name">square</span> a) (<span class="name">square</span> b)) (<span class="name">square</span> c))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> candidates [limit]</span><br><span class="line">  (<span class="name"><span class="builtin-name">for</span></span> [a (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">inc</span></span> limit)) </span><br><span class="line">        b (<span class="name"><span class="builtin-name">range</span></span> a (<span class="name"><span class="builtin-name">inc</span></span> limit)) </span><br><span class="line">        c (<span class="name"><span class="builtin-name">range</span></span> b (<span class="name"><span class="builtin-name">inc</span></span> limit))</span><br><span class="line">        <span class="symbol">:when</span> (<span class="name"><span class="builtin-name">and</span></span> </span><br><span class="line">                (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">+</span></span> a b c) <span class="number">1000</span>)</span><br><span class="line">                (<span class="name">triple?</span> a b c))] </span><br><span class="line">    (<span class="name"><span class="builtin-name">list</span></span> a b c)))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> * (<span class="name"><span class="builtin-name">first</span></span> (<span class="name">candidates</span> <span class="number">500</span>))))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">For</span>[a = <span class="number">1</span>, a &lt;= <span class="number">1000</span>, a++,</span><br><span class="line">  <span class="keyword">For</span>[b = a + <span class="number">1</span>, b &lt;= <span class="number">1000</span>, b++,</span><br><span class="line">    <span class="keyword">Block</span>[&#123;c = 1000 - a - b&#125;,</span><br><span class="line">      <span class="keyword">If</span>[a &lt; b &lt; c &amp;&amp; a^<span class="number">2</span> + b^<span class="number">2</span> == c^<span class="number">2</span>,</span><br><span class="line">        <span class="keyword">Print</span>[a, <span class="string">" "</span>, b, <span class="string">" "</span>, c, <span class="string">" "</span>, a * b * c]]]]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p009</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p009().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement a brute-force search to directly solve the problem.</span></span><br><span class="line"><span class="comment"> * Note that a^2 + b^2 is bounded above by 2*(1000^2), which fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PERIMETER = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">1</span>; a &lt; PERIMETER; a++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> b = a + <span class="number">1</span>; b &lt; PERIMETER; b++) &#123;</span><br><span class="line"><span class="keyword">int</span> c = PERIMETER - a - b;</span><br><span class="line"><span class="keyword">if</span> (a * a + b * b == c * c) &#123;</span><br><span class="line"><span class="comment">// It is now implied that b &lt; c, because we have a &gt; 0</span></span><br><span class="line"><span class="keyword">return</span> Integer.toString(a * b * c);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> AssertionError(<span class="string">"Not found"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Simple Perceptron using Processing</title>
      <link href="/2018/02/26/Simple-Perceptron-using-Processing/"/>
      <url>/2018/02/26/Simple-Perceptron-using-Processing/</url>
      <content type="html"><![CDATA[<p>This code is mainly based on <a href="https://processing.org" target="_blank" rel="noopener">Processing</a>, a flexible software sketchbook for visualizing things and arts.</p><p>First, we derive a class named Perceptron with two useful method <code>guess</code> and <code>train</code>.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sign</span><span class="params">(<span class="keyword">float</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Perceptron</span> </span>&#123;</span><br><span class="line">  <span class="keyword">float</span>[] weights = <span class="keyword">new</span> <span class="keyword">float</span>[<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">float</span> lr = <span class="number">0.2</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// constructor</span></span><br><span class="line">  Perceptron() &#123;</span><br><span class="line">    <span class="comment">// initialize the weight randomly</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; weights.length; i++) &#123;</span><br><span class="line">      weights[i] = random(-<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">guess</span><span class="params">(<span class="keyword">float</span>[] inputs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">float</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; weights.length; i++) &#123;</span><br><span class="line">      sum += inputs[i] * weights[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> output = sign(sum);</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">train</span><span class="params">(<span class="keyword">float</span>[] inputs, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> guess = guess(inputs);</span><br><span class="line">    <span class="keyword">int</span> error = target - guess;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; weights.length; i++) &#123;</span><br><span class="line">      weights[i] += error * inputs[i] * lr;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>To specify the training procession using a simple perceptron, we activate a sketchbook named Training.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">float</span> x;</span><br><span class="line">  <span class="keyword">float</span> y;</span><br><span class="line">  <span class="keyword">int</span> label;</span><br><span class="line">  </span><br><span class="line">  Point() &#123;</span><br><span class="line">    x = random(width);</span><br><span class="line">    y = random(height);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">      label = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      label = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    stroke(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (label == <span class="number">1</span>) &#123;</span><br><span class="line">      fill(<span class="number">255</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fill(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ellipse(x, y, <span class="number">32</span>, <span class="number">32</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Now, come to our basic purpose. Draw random samples and make trainings. Here is the main sketchbook file <code>SimplePerceptron</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">Perceptron brain;</span><br><span class="line"></span><br><span class="line">Point[] points = <span class="keyword">new</span> Point[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> trainingIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  size(<span class="number">800</span>, <span class="number">800</span>);</span><br><span class="line">  brain = <span class="keyword">new</span> Perceptron();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; points.length; i++) &#123;</span><br><span class="line">    points[i] = <span class="keyword">new</span> Point();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">float</span>[] inputs = &#123;-<span class="number">1</span>, <span class="number">0.5</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> guess = brain.guess(inputs);</span><br><span class="line">  println(guess);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  background(<span class="number">255</span>);</span><br><span class="line">  stroke(<span class="number">0</span>);</span><br><span class="line">  line(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">  <span class="keyword">for</span> (Point pt : points) &#123;</span><br><span class="line">    pt.show();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (Point pt : points) &#123;</span><br><span class="line">    <span class="keyword">float</span>[] inputs = &#123;pt.x, pt.y&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> target = pt.label;</span><br><span class="line">    <span class="keyword">int</span> guess = brain.guess(inputs);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (guess == target) &#123;</span><br><span class="line">      fill(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fill(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    noStroke();</span><br><span class="line">    ellipse(pt.x, pt.y, <span class="number">16</span>, <span class="number">16</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  Point training = points[trainingIndex];</span><br><span class="line">  <span class="keyword">float</span>[] inputs = &#123;training.x, training.y&#125;;</span><br><span class="line">  <span class="keyword">int</span> target = training.label;</span><br><span class="line">  brain.train(inputs, target);</span><br><span class="line">  trainingIndex++;</span><br><span class="line">  <span class="keyword">if</span> (trainingIndex == points.length) &#123;</span><br><span class="line">    trainingIndex = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Simply click the run button, Processing will help start an interative interface (similar to the canvas) and render the result below.</p><div align="center"><br><img src="http://oxyywddt8.bkt.clouddn.com/processing/Perceptron.gif" width="60%"><br></div>]]></content>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> machine learning </tag>
            
            <tag> processing </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Linear Regression in JS</title>
      <link href="/2018/02/23/Linear-Regression-in-JS/"/>
      <url>/2018/02/23/Linear-Regression-in-JS/</url>
      <content type="html"><![CDATA[<p>This code is mainly based on the <a href="https://p5js.org/" target="_blank" rel="noopener">p5js</a> library, which provide us an accessible sketchbook to interactive with HTML objects.</p><a id="more"></a><p>In p5, we only need to make our own changes to the file named sketch.js.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    createCanvas(<span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">linearRegression</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xsum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> ysum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        xsum += data[i].x;</span><br><span class="line">        ysum += data[i].y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> xmean = xsum / data.length;</span><br><span class="line">    <span class="keyword">var</span> ymean = ysum / data.length;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> den = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = data[i].x;</span><br><span class="line">        <span class="keyword">var</span> y = data[i].y;</span><br><span class="line">        num += (x - xmean) * (y - ymean);</span><br><span class="line">        den += (x - xmean) * (x - xmean);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    m = num / den;</span><br><span class="line">    b = ymean - m * xmean;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawLine</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> y1 = m * x1 + b;</span><br><span class="line">    <span class="keyword">var</span> x2 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> y2 = m * x2 + b;</span><br><span class="line"></span><br><span class="line">    x1 = map(x1, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, width);</span><br><span class="line">    y1 = map(y1, <span class="number">0</span>, <span class="number">1</span>, height, <span class="number">0</span>);</span><br><span class="line">    x2 = map(x2, <span class="number">0</span>, <span class="number">0</span>, width);</span><br><span class="line">    y2 = map(y2, <span class="number">0</span>, <span class="number">1</span>, height, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    stroke(<span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line">    line(x1, y1, x2, y2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mousePressed</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = map(mouseX, <span class="number">0</span>, width, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> y = map(mouseY, <span class="number">0</span>, height, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> point = createVector(x, y);</span><br><span class="line">    data.push(point);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    background(<span class="number">51</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = map(data[i].x, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, width);</span><br><span class="line">        <span class="keyword">var</span> y = map(data[i].y, <span class="number">0</span>, <span class="number">1</span>, height, <span class="number">0</span>);</span><br><span class="line">        fill(<span class="number">255</span>);</span><br><span class="line">        stroke(<span class="number">255</span>);</span><br><span class="line">        ellipse(x, y, <span class="number">8</span>, <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (data.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        linearRegression();</span><br><span class="line">        drawLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Click on the index.html file, and we can make our regression on any browser support javascript. Here is the design sketch.</p><div align="center"><br><img src="http://oxyywddt8.bkt.clouddn.com/p5js/OLS.gif" width="60%"><br></div>]]></content>
      
      
        <tags>
            
            <tag> statistics </tag>
            
            <tag> javascript </tag>
            
            <tag> p5js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-008</title>
      <link href="/2018/02/14/Project-Euler-008/"/>
      <url>/2018/02/14/Project-Euler-008/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The four adjacent digits in the 1000-digit number that have the greatest product are 9 × 9 × 8 × 9 = 5832.</p><pre><code>7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450</code></pre><p>Find the thirteen adjacent digits in the 1000-digit number that have the greatest product. What is the value of this product?</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">23514624000</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line">numbers = <span class="string">'''</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="string">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="string">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="string">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="string">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="string">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="string">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="string">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="string">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="string">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="string">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="string">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="string">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="string">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="string">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="string">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="string">07198403850962455444362981230987879927244284909188</span></span><br><span class="line"><span class="string">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="string">05886116467109405077541002256983155200055935729725</span></span><br><span class="line"><span class="string">71636269561882670428252483600823257530420752963450</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">numstring = numbers.strip().replace(<span class="string">'\n'</span>, <span class="string">''</span>)</span><br><span class="line">greatest_product = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(numstring)):</span><br><span class="line">    product = <span class="number">1</span></span><br><span class="line">    substring = numstring[i:i+<span class="number">13</span>]</span><br><span class="line">    <span class="keyword">for</span> digit <span class="keyword">in</span> substring:</span><br><span class="line">        product *= int(digit)</span><br><span class="line">    <span class="keyword">if</span> product &gt; greatest_product:</span><br><span class="line">        greatest_product = product</span><br><span class="line"></span><br><span class="line">print(greatest_product)</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> runs = <span class="string">`</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="string">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="string">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="string">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="string">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="string">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="string">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="string">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="string">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="string">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="string">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="string">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="string">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="string">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="string">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="string">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="string">07198403850962455444362981230987879927244284909188</span></span><br><span class="line"><span class="string">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="string">05886116467109405077541002256983155200055935729725</span></span><br><span class="line"><span class="string">71636269561882670428252483600823257530420752963450</span></span><br><span class="line"><span class="string">`</span>.trim().split(<span class="string">"\n"</span>).join(<span class="string">""</span>).split(<span class="regexp">/[01]+/</span>)</span><br><span class="line"><span class="keyword">const</span> x = <span class="number">13</span></span><br><span class="line"><span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line">runs.forEach(<span class="function">(<span class="params">run</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (run.length &lt; x) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, l = run.length; i &lt;= l - x; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> digits = run.substring(i, i + x).split(<span class="string">""</span>)</span><br><span class="line">    <span class="keyword">const</span> product = digits.reduce(<span class="function">(<span class="params">prod, c</span>) =&gt;</span> prod * <span class="built_in">parseInt</span>(c), <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> (product &gt; max) max = product</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(max)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">numbers = <span class="string">&lt;&lt;EOS</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="number">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="number">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="number">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="number">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="number">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="number">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="number">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="number">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="number">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="number">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="number">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="number">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="number">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="number">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="number">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="number">071</span>98403850962455444362981230987879927244284909188</span><br><span class="line"><span class="number">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="number">05</span>886116467109405077541002256983155200055935729725</span><br><span class="line"><span class="number">71636269561882670428252483600823257530420752963450</span></span><br><span class="line">EOS</span><br><span class="line">numbers = numbers.split.join(<span class="string">''</span>)</span><br><span class="line">max = <span class="number">0</span></span><br><span class="line">numbers.split(<span class="string">''</span>).each_with_index <span class="keyword">do</span> <span class="params">|char, i|</span></span><br><span class="line">  product = numbers[i...i+<span class="number">13</span>].each_char.inject(<span class="number">1</span>) &#123;<span class="params">|acc, digit|</span> acc * digit.to_i&#125;</span><br><span class="line">  <span class="keyword">if</span> product &gt; max</span><br><span class="line">    max = product</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts max</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"strings"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">digits := <span class="string">`</span></span><br><span class="line"><span class="string">73167176531330624919225119674426574742355349194934</span></span><br><span class="line"><span class="string">96983520312774506326239578318016984801869478851843</span></span><br><span class="line"><span class="string">85861560789112949495459501737958331952853208805511</span></span><br><span class="line"><span class="string">12540698747158523863050715693290963295227443043557</span></span><br><span class="line"><span class="string">66896648950445244523161731856403098711121722383113</span></span><br><span class="line"><span class="string">62229893423380308135336276614282806444486645238749</span></span><br><span class="line"><span class="string">30358907296290491560440772390713810515859307960866</span></span><br><span class="line"><span class="string">70172427121883998797908792274921901699720888093776</span></span><br><span class="line"><span class="string">65727333001053367881220235421809751254540594752243</span></span><br><span class="line"><span class="string">52584907711670556013604839586446706324415722155397</span></span><br><span class="line"><span class="string">53697817977846174064955149290862569321978468622482</span></span><br><span class="line"><span class="string">83972241375657056057490261407972968652414535100474</span></span><br><span class="line"><span class="string">82166370484403199890008895243450658541227588666881</span></span><br><span class="line"><span class="string">16427171479924442928230863465674813919123162824586</span></span><br><span class="line"><span class="string">17866458359124566529476545682848912883142607690042</span></span><br><span class="line"><span class="string">24219022671055626321111109370544217506941658960408</span></span><br><span class="line"><span class="string">07198403850962455444362981230987879927244284909188</span></span><br><span class="line"><span class="string">84580156166097919133875499200524063689912560717606</span></span><br><span class="line"><span class="string">05886116467109405077541002256983155200055935729725</span></span><br><span class="line"><span class="string">71636269561882670428252483600823257530420752963450</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">digits = strings.Replace(digits, <span class="string">"\n"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">digits = strings.Replace(digits, <span class="string">"\t"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">max := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i, l := <span class="number">0</span>, <span class="built_in">len</span>(digits); i &lt; l<span class="number">-13</span>; i++ &#123;</span><br><span class="line">slice := digits[i : i+<span class="number">13</span>]</span><br><span class="line">product := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> _, c := <span class="keyword">range</span> slice &#123;</span><br><span class="line">product *= <span class="keyword">int</span>(c - <span class="string">'0'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> product &gt; max &#123;</span><br><span class="line">max = product</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(max)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">parse</span> :: <span class="type">String</span> -&gt; [<span class="type">Int</span>]</span><br><span class="line"><span class="title">parse</span> = map (read . return) . concat . lines</span><br><span class="line"></span><br><span class="line"><span class="title">chunks</span> :: <span class="type">Int</span> -&gt; [a] -&gt; [[a]]</span><br><span class="line"><span class="title">chunks</span> n l | length chunk &lt; n = []</span><br><span class="line">           | otherwise = chunk : chunks n (tail l)</span><br><span class="line">           <span class="keyword">where</span> chunk = take n l</span><br><span class="line"></span><br><span class="line"><span class="title">largestProduct</span> :: [[<span class="type">Int</span>]] -&gt; <span class="type">Int</span></span><br><span class="line"><span class="title">largestProduct</span> = maximum . map product</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">        str &lt;- readFile <span class="string">"/home/zach/code/euler/008/numbers.txt"</span></span><br><span class="line">        print $ largestProduct $ chunks <span class="number">13</span> $ parse str</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* We implement a straightforward algorithm that examines every substring of length 13. *)</span></span><br><span class="line">adjacent = <span class="number">13</span>;</span><br><span class="line">bignumber = <span class="keyword">IntegerDigits</span>[<span class="number">7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450</span>];</span><br><span class="line">MyProduct[x_] := <span class="keyword">Apply</span>[<span class="keyword">Times</span>, x]</span><br><span class="line"><span class="keyword">Max</span>[<span class="keyword">Table</span>[MyProduct[<span class="keyword">Take</span>[bignumber, &#123;i, i + adjacent - 1&#125;]], &#123;i, 1, Length[bignumber] - adjacent + 1&#125;]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p008</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p008().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * We implement a straightforward algorithm that examines every substring of length 13.</span></span><br><span class="line"><span class="comment"> * Note that the maximum product is 9^13 = 2541865828329, which fits in a Java long type (but not int).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> maxProd = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i + ADJACENT &lt;= NUMBER.length(); i++) &#123;</span><br><span class="line"><span class="keyword">long</span> prod = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; ADJACENT; j++)</span><br><span class="line">prod *= NUMBER.charAt(i + j) - <span class="string">'0'</span>;</span><br><span class="line">maxProd = Math.max(prod, maxProd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Long.toString(maxProd);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ADJACENT = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String NUMBER = <span class="string">"7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450"</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-007</title>
      <link href="/2018/02/14/Project-Euler-007/"/>
      <url>/2018/02/14/Project-Euler-007/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13,<br>we can see that the 6th prime is 13.</p><p>What is the 10001st prime number?</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">104743</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eratosthenes</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''Yields the sequence of prime numbers via the Sieve of Eratosthenes.'''</span></span><br><span class="line">    D = &#123;&#125;  <span class="comment"># map composite integers to primes witnessing their compositeness</span></span><br><span class="line">    q = <span class="number">2</span>   <span class="comment"># first integer to test for primality</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> q <span class="keyword">not</span> <span class="keyword">in</span> D:</span><br><span class="line">            <span class="keyword">yield</span> q        <span class="comment"># not marked composite, must be prime</span></span><br><span class="line">            D[q*q] = [q]   <span class="comment"># first multiple of q not already marked</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> p <span class="keyword">in</span> D[q]: <span class="comment"># move each witness to its next multiple</span></span><br><span class="line">                D.setdefault(p+q,[]).append(p)</span><br><span class="line">            <span class="keyword">del</span> D[q]       <span class="comment"># no longer need D[q], free memory</span></span><br><span class="line">        q += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nth_prime</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i, prime <span class="keyword">in</span> enumerate(eratosthenes()):</span><br><span class="line">        <span class="keyword">if</span> i == n - <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> prime</span><br><span class="line"></span><br><span class="line">print(nth_prime(<span class="number">10001</span>))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const sieve = &#123;&#125;</span><br><span class="line">let n = 0</span><br><span class="line">for (var q = 2; n &lt; 10001; q++) &#123;</span><br><span class="line">  if (sieve[q]) &#123;</span><br><span class="line">    sieve[q].forEach((p) =&gt; &#123;</span><br><span class="line">      const list = sieve[p + q] || []</span><br><span class="line">      list.push(p)</span><br><span class="line">      sieve[p + q] = list</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    sieve[q * q] = [q]</span><br><span class="line">    n++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(q - 1)</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">iSqrt</span><span class="params">(n <span class="keyword">int64</span>)</span> <span class="title">int64</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> r1, r <span class="keyword">int64</span> = n, n + <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> r1 &lt; r &#123;</span><br><span class="line">r, r1 = r1, (r1+n/r1)&gt;&gt;<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PrimeSieve</span><span class="params">(n <span class="keyword">int64</span>)</span> []<span class="title">int64</span></span> &#123;</span><br><span class="line">result := <span class="built_in">make</span>([]<span class="keyword">int64</span>, <span class="number">0</span>, n)</span><br><span class="line">sieve := <span class="built_in">make</span>([]<span class="keyword">bool</span>, n+<span class="number">1</span>)</span><br><span class="line">sn := iSqrt(n)</span><br><span class="line"><span class="keyword">var</span> i, j <span class="keyword">int64</span></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= sn; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line"><span class="keyword">for</span> j = i * i; j &lt;= n; j += i &#123;</span><br><span class="line">sieve[j] = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> !sieve[i] &#123;</span><br><span class="line">result = <span class="built_in">append</span>(result, i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">primes := PrimeSieve(<span class="number">1000000</span>)</span><br><span class="line">fmt.Println(primes[<span class="number">10000</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'mathn'</span></span><br><span class="line">puts Prime.take(<span class="number">10001</span>).last</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">primes</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">primes</span> = <span class="number">2</span> : sieve primes [<span class="number">3</span>,<span class="number">5.</span>.] <span class="keyword">where</span></span><br><span class="line">    sieve (p:ps) xs = h ++ sieve ps [x | x &lt;- t, rem x p /= <span class="number">0</span>]</span><br><span class="line">                      <span class="keyword">where</span> (h, t) = span (&lt; p*p) xs</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ primes !! <span class="number">10000</span></span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> primes [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> improve [p nums]</span><br><span class="line">    (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name"><span class="builtin-name">or</span></span> </span><br><span class="line">               (<span class="name"><span class="builtin-name">not</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> % p) <span class="number">0</span>))</span><br><span class="line">               (<span class="name"><span class="builtin-name">=</span></span> % p))</span><br><span class="line">            nums))</span><br><span class="line">  (<span class="name"><span class="builtin-name">defn</span></span> prime-iter [p nums i]</span><br><span class="line">    (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">&gt;</span></span> (<span class="name"><span class="builtin-name">*</span></span> p p) n)</span><br><span class="line">      nums</span><br><span class="line">      (<span class="name">prime-iter</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) (<span class="name">improve</span> (<span class="name"><span class="builtin-name">nth</span></span> nums (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>)) nums) (<span class="name"><span class="builtin-name">+</span></span> i <span class="number">1</span>))))</span><br><span class="line">  (<span class="name">prime-iter</span> <span class="number">2</span> (<span class="name"><span class="builtin-name">range</span></span> <span class="number">2</span> (<span class="name"><span class="builtin-name">+</span></span> n <span class="number">1</span>)) <span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">nth</span></span> (<span class="name">primes</span> <span class="number">1000000</span>) <span class="number">10000</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">eratosthenes</span></span>(limit: <span class="built_in">usize</span>) -&gt; <span class="built_in">Vec</span>&lt;<span class="built_in">usize</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> sieve = <span class="built_in">vec!</span>[<span class="literal">true</span>; limit];</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> p = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="comment">// Eliminate multiples of p.</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> i = <span class="number">2</span> * p - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> i &lt; limit &#123;</span><br><span class="line">            sieve[i] = <span class="literal">false</span>;</span><br><span class="line">            i += p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Find the next prime.</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(n) = (p..limit).find(|&amp;n| sieve[n]) &#123;</span><br><span class="line">            p = n + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sieve</span><br><span class="line">        .iter()</span><br><span class="line">        .enumerate()</span><br><span class="line">        .filter(|&amp;(_, &amp;is_prime)| is_prime)</span><br><span class="line">        .skip(<span class="number">1</span>)</span><br><span class="line">        .map(|(i, _)| i + <span class="number">1</span>)</span><br><span class="line">        .collect()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> primes = eratosthenes(<span class="number">1000000</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, primes[<span class="number">10000</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* Use Mathematica's built-in functions for easy problem-solving. *)</span></span><br><span class="line"><span class="keyword">Prime</span>[<span class="number">10001</span>]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p007</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p007().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution by testing each number</span></span><br><span class="line"><span class="comment"> * individually for primeness, instead of using the more efficient sieve of Eratosthenes.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>, count = <span class="number">0</span>; ; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (Library.isPrime(i)) &#123;</span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">if</span> (count == <span class="number">10001</span>)</span><br><span class="line"><span class="keyword">return</span> Integer.toString(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-006</title>
      <link href="/2018/02/13/Project-Euler-006/"/>
      <url>/2018/02/13/Project-Euler-006/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><br>The sum of the squares of the first ten natural numbers is,<br></p><p>$$1^2 + 2^2 + … + 10^2 = 385$$</p><p><br>The square of the sum of the first ten natural numbers is,<br></p><p>$$(1 + 2 + … + 10)^2 = 55^2 = 3025$$</p><p><br>Hence the difference between the sum of the squares of the first ten natural<br>numbers and the square of the sum is $3025 - 385 = 2640$.<br></p><p><br>Find the difference between the sum of the squares of the first one hundred<br>natural numbers and the square of the sum.<br></p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">25164150</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">print(sum(range(<span class="number">1</span>, <span class="number">101</span>))**<span class="number">2</span> - sum(x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">101</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>, sumSquares = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">  sum += i</span><br><span class="line">  sumSquares += i * i</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum * sum - sumSquares)</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sumSquares, squareSum := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++ &#123;</span><br><span class="line">sumSquares += i * i</span><br><span class="line">squareSum += i</span><br><span class="line">&#125;</span><br><span class="line">squareSum *= squareSum</span><br><span class="line">fmt.Println(squareSum - sumSquares)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">puts ((<span class="number">1</span>..<span class="number">100</span>).inject(<span class="number">0</span>) &#123;<span class="params">|s,v|</span> s += v&#125;)**<span class="number">2</span> - ((<span class="number">1</span>..<span class="number">100</span>).collect &#123;<span class="params">|x|</span> x**<span class="number">2</span>&#125;.inject(<span class="number">0</span>) &#123; <span class="params">|s,v|</span> s += v&#125;)</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ (s*s) - sqS <span class="keyword">where</span></span><br><span class="line">    s = sum [<span class="number">1.</span><span class="number">.100</span>]</span><br><span class="line">    sqS = sum [i * i | i &lt;- [<span class="number">1.</span><span class="number">.100</span>]]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> square [x]</span><br><span class="line">  (<span class="name"><span class="builtin-name">*</span></span> x x))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> sum-squares [limit]</span><br><span class="line">  (<span class="name"><span class="builtin-name">apply</span></span> + (<span class="name"><span class="builtin-name">map</span></span> square (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">+</span></span> limit <span class="number">1</span>)))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> square-sum [limit]</span><br><span class="line">  (<span class="name">square</span> (<span class="name"><span class="builtin-name">apply</span></span> + (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">+</span></span> limit <span class="number">1</span>)))))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">-</span></span> (<span class="name">square-sum</span> <span class="number">100</span>) (<span class="name">sum-squares</span> <span class="number">100</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> sum_squares = (<span class="number">1</span>..<span class="number">101</span>).map(|x| x*x).sum::&lt;<span class="built_in">u64</span>&gt;();</span><br><span class="line">    <span class="keyword">let</span> square_sum = (<span class="number">1</span>..<span class="number">101</span>).sum::&lt;<span class="built_in">u64</span>&gt;().pow(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, square_sum - sum_squares);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathemtica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * However for the mathematically inclined, there are closed-form formulas:</span></span><br><span class="line"><span class="comment"> *   sum  = n(n + 1) / 2.</span></span><br><span class="line"><span class="comment"> *   sum2 = n(n + 1)(2n + 1) / 6.</span></span><br><span class="line"><span class="comment"> * Hence sum^2 - sum2 = (n^4 / 4) + (n^3 / 6) - (n^2 / 4) - (n / 6).</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line">n = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">Sum</span>[k, &#123;k, n&#125;]^<span class="number">2</span> - <span class="keyword">Sum</span>[k^<span class="number">2</span>, &#123;k, n&#125;]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p006</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p006().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * Note that sum^2 is bounded above by (100*100)^2 and sum2 is</span></span><br><span class="line"><span class="comment"> * bounded above by 100*(100^2), both of which fit in a Java int type.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * However for the mathematically inclined, there are closed-form formulas:</span></span><br><span class="line"><span class="comment"> *   sum  = N(N + 1) / 2.</span></span><br><span class="line"><span class="comment"> *   sum2 = N(N + 1)(2N + 1) / 6.</span></span><br><span class="line"><span class="comment"> * Hence sum^2 - sum2 = (N^4 / 4) + (N^3 / 6) - (N^2 / 4) - (N / 6).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> N = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> sum2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">sum += i;</span><br><span class="line">sum2 += i * i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum * sum - sum2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-005</title>
      <link href="/2018/02/12/Project-Euler-005/"/>
      <url>/2018/02/12/Project-Euler-005/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>2520 is the smallest number that can be divided by each<br>of the numbers from 1 to 10 without any remainder.</p><p>What is the smallest positive number that is evenly divisible<br>by all of the numbers from 1 to 20?</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">232792560</span><br></pre></td></tr></table></figure><hr><p>The critical insight of this problem is this:</p><p>$$divisibleto(x) = n \times divisibleto(x-1)$$</p><p>This means that when searching for the smallest number divisible to 20,<br>we can increment by the smallest number divisible to 19 each time (since the<br>smallest number divisible to 19 is inherently a factor of the smallest number<br>divisible to 20).</p><p>This insight is used in the python solution on line 14:</p><pre><code>step = divisible_to(x-1)</code></pre><p>This is a recursive solution to the problem, and yields incredible performance. It can calculate<br>the smallest number divisible to 500 in a fraction of a second.</p><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_divisible_to</span><span class="params">(number, x)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> reversed(list(range(<span class="number">1</span>, x+<span class="number">1</span>))):</span><br><span class="line">        <span class="keyword">if</span> number % i != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divisible_to</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">elif</span> x == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        step = divisible_to(x<span class="number">-1</span>)</span><br><span class="line">        number = <span class="number">0</span></span><br><span class="line">        found = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> found:</span><br><span class="line">            number += step</span><br><span class="line">            found = is_divisible_to(number, x)</span><br><span class="line">        <span class="keyword">return</span> number</span><br><span class="line"></span><br><span class="line">print(divisible_to(<span class="number">20</span>))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDivisibleTo</span>(<span class="params">x, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (; n &gt; <span class="number">0</span>; n -= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (x % n !== <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">divisibleTo</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> step = divisibleTo(n - <span class="number">1</span>), i = step; !isDivisibleTo(i, n); i += step);</span><br><span class="line">  <span class="keyword">return</span> i</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(divisibleTo(<span class="number">20</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GCD</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> b != <span class="number">0</span> &#123;</span><br><span class="line">a, b = b, a%b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">lcm := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= <span class="number">20</span>; i++ &#123;</span><br><span class="line">lcm *= i / GCD(i, lcm)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(lcm)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Numeric</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">divisible_to?</span><span class="params">(x)</span></span></span><br><span class="line">    <span class="keyword">self</span> &gt; <span class="number">0</span> <span class="keyword">and</span> x.downto(<span class="number">1</span>).all? &#123; <span class="params">|i|</span> <span class="keyword">self</span> % i == <span class="number">0</span> &#125;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divisible_to</span><span class="params">(x)</span></span></span><br><span class="line">  <span class="keyword">if</span> x &lt; <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">elsif</span> x == <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    step = divisible_to(x-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">until</span> n.divisible_to? x</span><br><span class="line">      n += step</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts divisible_to(<span class="number">20</span>)</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">gcd</span></span>(<span class="keyword">mut</span> a: <span class="built_in">u64</span>, <span class="keyword">mut</span> b: <span class="built_in">u64</span>) -&gt; <span class="built_in">u64</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> b != <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> t = a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = t % b;</span><br><span class="line">    &#125;</span><br><span class="line">    a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> lcm = (<span class="number">2</span>..<span class="number">21</span>).fold(<span class="number">1</span>, |acc, i| &#123;</span><br><span class="line">        acc * i / gcd(i, acc)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, lcm);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">isDivisibleTo</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isDivisibleTo</span> x n = all (\i -&gt; n `mod` i == <span class="number">0</span>) (reverse [<span class="number">1.</span>.x])</span><br><span class="line"></span><br><span class="line"><span class="title">divisibleTo</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">divisibleTo</span> <span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="title">divisibleTo</span> x = <span class="keyword">let</span> step = divisibleTo (x<span class="number">-1</span>)</span><br><span class="line">                <span class="keyword">in</span>  head $ filter (isDivisibleTo x) [step,<span class="number">2</span>*step..]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ divisibleTo <span class="number">20</span></span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> divisible-to-x? [n x]</span><br><span class="line">  (<span class="name">every?</span> #(<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n %) <span class="number">0</span>) (<span class="name"><span class="builtin-name">reverse</span></span> (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> (<span class="name"><span class="builtin-name">+</span></span> x <span class="number">1</span>)))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> divisible-to [x]</span><br><span class="line">  (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">=</span></span> x <span class="number">1</span>)</span><br><span class="line">    x</span><br><span class="line">    (<span class="name"><span class="builtin-name">first</span></span> (<span class="name"><span class="builtin-name">filter</span></span> #(<span class="name">divisible-to-x?</span> % x) (<span class="name"><span class="builtin-name">iterate</span></span> inc (<span class="name">divisible-to</span> (<span class="name"><span class="builtin-name">-</span></span> x <span class="number">1</span>)))))))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name">divisible-to</span> <span class="number">20</span>))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* </span></span><br><span class="line"><span class="comment"> * The smallest number n that is evenly divisible by every number in a set &#123;k1, k2, ..., k_m&#125;</span></span><br><span class="line"><span class="comment"> * is also known as the lowest common multiple (LCM) of the set of numbers.</span></span><br><span class="line"><span class="comment"> * The LCM of two natural numbers x and y is given by LCM(x, y) = x * y / GCD(x, y).</span></span><br><span class="line"><span class="comment"> * When LCM is applied to a collection of numbers, it is commutative, associative, and idempotent.</span></span><br><span class="line"><span class="comment"> * Hence LCM(k1, k2, ..., k_m) = LCM(...(LCM(LCM(k1, k2), k3)...), k_m).</span></span><br><span class="line"><span class="comment"> *)</span></span><br><span class="line"><span class="keyword">Apply</span>[<span class="keyword">LCM</span>, <span class="keyword">Range</span>[<span class="number">20</span>]]</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p005</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p005().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * The smallest number n that is evenly divisible by every number in a set &#123;k1, k2, ..., k_m&#125;</span></span><br><span class="line"><span class="comment"> * is also known as the lowest common multiple (LCM) of the set of numbers.</span></span><br><span class="line"><span class="comment"> * The LCM of two natural numbers x and y is given by LCM(x, y) = x * y / GCD(x, y).</span></span><br><span class="line"><span class="comment"> * When LCM is applied to a collection of numbers, it is commutative, associative, and idempotent.</span></span><br><span class="line"><span class="comment"> * Hence LCM(k1, k2, ..., k_m) = LCM(...(LCM(LCM(k1, k2), k3)...), k_m).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">BigInteger allLcm = BigInteger.ONE;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++)</span><br><span class="line">allLcm = lcm(BigInteger.valueOf(i), allLcm);</span><br><span class="line"><span class="keyword">return</span> allLcm.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> BigInteger <span class="title">lcm</span><span class="params">(BigInteger x, BigInteger y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> x.divide(x.gcd(y)).multiply(y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-004</title>
      <link href="/2018/02/11/Project-Euler-004/"/>
      <url>/2018/02/11/Project-Euler-004/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>A palindromic number reads the same both ways. The largest palindrome<br>made from the product of two 2-digit numbers is $9009 = 91 \times 99$.</p><p>Find the largest palindrome made from the product of two 3-digit numbers.</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">906609</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">print(max(a * b <span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">100</span>, <span class="number">1000</span>) <span class="keyword">for</span> b <span class="keyword">in</span> range(a, <span class="number">1000</span>) <span class="keyword">if</span> str(a * b) == str(a * b)[::<span class="number">-1</span>]))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isPalindrome = <span class="function">(<span class="params">s</span>) =&gt;</span> s === s.split(<span class="string">""</span>).reverse().join(<span class="string">""</span>)</span><br><span class="line"><span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">100</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">100</span>; j &lt; <span class="number">1000</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">const</span> s = (i * j)</span><br><span class="line">    <span class="keyword">if</span> (s &gt; max &amp;&amp; isPalindrome(s.toString())) &#123;</span><br><span class="line">      max = s</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(max)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">palindromic?</span></span></span><br><span class="line">    digits = <span class="keyword">self</span>.to_s.split(<span class="string">''</span>)</span><br><span class="line">    <span class="keyword">return</span> digits == digits.reverse</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">max = <span class="number">0</span></span><br><span class="line">(<span class="number">100</span>..<span class="number">999</span>).each <span class="keyword">do</span> <span class="params">|a|</span></span><br><span class="line">  (a..<span class="number">999</span>).each <span class="keyword">do</span> <span class="params">|b|</span></span><br><span class="line">    product = a * b</span><br><span class="line">    <span class="keyword">if</span> product &gt; max <span class="keyword">and</span> product.palindromic?</span><br><span class="line">      max = product</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts max</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IsPalindrome</span><span class="params">(number <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">n := number</span><br><span class="line">reversed, digit := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">digit = n % <span class="number">10</span></span><br><span class="line">reversed = reversed*<span class="number">10</span> + digit</span><br><span class="line">n /= <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> number == reversed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">product, max := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> a := <span class="number">100</span>; a &lt; <span class="number">1000</span>; a++ &#123;</span><br><span class="line"><span class="keyword">for</span> b := a; b &lt; <span class="number">1000</span>; b++ &#123;</span><br><span class="line">product = a * b</span><br><span class="line"><span class="keyword">if</span> product &gt; max &amp;&amp; IsPalindrome(product) &#123;</span><br><span class="line">max = product</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(max)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">isPalindrome</span> ::  <span class="type">Integer</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isPalindrome</span> n = show n == reverse (show n)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ maximum [prod | a &lt;- [<span class="number">100.</span><span class="number">.999</span>], b &lt;- [a.<span class="number">.999</span>], <span class="keyword">let</span> prod = a * b, isPalindrome prod]</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> palindrome? [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">seq</span></span> (<span class="name"><span class="builtin-name">str</span></span> n)) (<span class="name"><span class="builtin-name">reverse</span></span> (<span class="name"><span class="builtin-name">str</span></span> n))))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> palindromes [limit]</span><br><span class="line">  (<span class="name"><span class="builtin-name">filter</span></span> palindrome? (<span class="name"><span class="builtin-name">for</span></span> [a (<span class="name"><span class="builtin-name">range</span></span> <span class="number">100</span> <span class="number">1000</span>) b (<span class="name"><span class="builtin-name">range</span></span> a <span class="number">1000</span>)] (<span class="name"><span class="builtin-name">*</span></span> a b))))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> max (<span class="name">palindromes</span> <span class="number">1000</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">is_palindrome</span></span>(number: <span class="built_in">u64</span>) -&gt; <span class="built_in">bool</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> n = number;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> reversed = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> digit = n % <span class="number">10</span>;</span><br><span class="line">        reversed = reversed * <span class="number">10</span> + digit;</span><br><span class="line">        n /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    number == reversed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> largest = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> <span class="number">100</span>..<span class="number">1000</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> <span class="number">100</span>..<span class="number">1000</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> product = a * b;</span><br><span class="line">            <span class="keyword">if</span> product &gt; largest &amp;&amp; is_palindrome(product) &#123;</span><br><span class="line">                largest = product;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, largest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p004</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p004().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * Note that the maximum product is 999 * 999, which fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxPalin = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">100</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">100</span>; j &lt; <span class="number">1000</span>; j++) &#123;</span><br><span class="line"><span class="keyword">int</span> prod = i * j;</span><br><span class="line"><span class="keyword">if</span> (Library.isPalindrome(prod) &amp;&amp; prod &gt; maxPalin)</span><br><span class="line">maxPalin = prod;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(maxPalin);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PalindromeQ[x_] := <span class="keyword">IntegerDigits</span>[x] == <span class="keyword">Reverse</span>[<span class="keyword">IntegerDigits</span>[x]]</span><br><span class="line"><span class="keyword">Max</span>[<span class="keyword">Select</span>[<span class="keyword">Flatten</span>[<span class="keyword">Table</span>[i * j, &#123;i, 100, 999&#125;, &#123;j, 100, 999&#125;]], PalindromeQ]]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-003</title>
      <link href="/2018/02/10/Project-Euler-003/"/>
      <url>/2018/02/10/Project-Euler-003/</url>
      <content type="html"><![CDATA[<h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>The prime factors of 13195 are 5, 7, 13 and 29.</p><p>What is the largest prime factor of the number 600851475143 ?</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6857</span><br></pre></td></tr></table></figure><hr><p>Python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorize</span><span class="params">(n)</span>:</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="comment"># iterate over all even numbers first.</span></span><br><span class="line">    <span class="keyword">while</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        res.append(<span class="number">2</span>)</span><br><span class="line">        n //= <span class="number">2</span></span><br><span class="line">    <span class="comment"># try odd numbers up to sqrt(n)</span></span><br><span class="line">    limit = math.sqrt(n+<span class="number">1</span>)</span><br><span class="line">    i = <span class="number">3</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= limit:</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            res.append(i)</span><br><span class="line">            n //= i</span><br><span class="line">            limit = math.sqrt(n+i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i += <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> n != <span class="number">1</span>:</span><br><span class="line">        res.append(n)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">print(max(factorize(<span class="number">600851475143</span>)))</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">600851475143</span></span><br><span class="line"><span class="keyword">let</span> limit = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.sqrt(n))</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">3</span>; i &lt;= limit; i += <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="keyword">while</span> (n % i === <span class="number">0</span>) &#123;</span><br><span class="line">    n = <span class="built_in">Math</span>.floor(n / i)</span><br><span class="line">    limit = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.sqrt(n))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(n)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorize</span><span class="params">(orig)</span></span></span><br><span class="line">  factors = &#123;&#125;</span><br><span class="line">  factors.default = <span class="number">0</span>     <span class="comment"># return 0 instead nil if key not found in hash</span></span><br><span class="line">  n = orig</span><br><span class="line">  i = <span class="number">2</span></span><br><span class="line">  sqi = <span class="number">4</span>                 <span class="comment"># square of i</span></span><br><span class="line">  <span class="keyword">while</span> sqi &lt;= n <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">while</span> n.modulo(i) == <span class="number">0</span> <span class="keyword">do</span></span><br><span class="line">      n /= i</span><br><span class="line">      factors[i] += <span class="number">1</span></span><br><span class="line">      <span class="comment"># puts "Found factor #&#123;i&#125;"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment"># we take advantage of the fact that (i +1)**2 = i**2 + 2*i +1</span></span><br><span class="line">    sqi += <span class="number">2</span> * i + <span class="number">1</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (n != <span class="number">1</span>) &amp;&amp; (n != orig)</span><br><span class="line">    factors[n] += <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  factors</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">puts factorize(<span class="number">600851475143</span>).keys.max</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math/big"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">eratosthenes</span><span class="params">(max <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">nums := <span class="built_in">make</span>([]<span class="keyword">int</span>, max)</span><br><span class="line"></span><br><span class="line">p := <span class="number">2</span> <span class="comment">// first prime, 2</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">i := p - <span class="number">1</span></span><br><span class="line"><span class="comment">// mark multiples not prime</span></span><br><span class="line"><span class="keyword">for</span> i += p; i &lt; max; i += p &#123;</span><br><span class="line">nums[i] = <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// find first unmarked number greater than p</span></span><br><span class="line"><span class="keyword">for</span> i = p; i &lt; max; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> nums[i] != <span class="number">-1</span> &#123;</span><br><span class="line">p = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// no unmarked numbers greater than p found; finished</span></span><br><span class="line"><span class="keyword">if</span> i == max &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// filter out all marked numbers</span></span><br><span class="line">primes := <span class="built_in">make</span>([]<span class="keyword">int</span>, max)</span><br><span class="line">j := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> nums &#123;</span><br><span class="line"><span class="keyword">if</span> nums[i] == <span class="number">0</span> &#123;</span><br><span class="line">primes[j] = i + <span class="number">1</span></span><br><span class="line">j++</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> primes[:j]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">n := <span class="built_in">new</span>(big.Int)</span><br><span class="line">n.SetString(<span class="string">"600851475143"</span>, <span class="number">10</span>)</span><br><span class="line">m := <span class="built_in">new</span>(big.Int)</span><br><span class="line">max := <span class="keyword">int</span>(math.Sqrt(<span class="number">600851475143</span>))</span><br><span class="line">primes := eratosthenes(max)</span><br><span class="line"><span class="comment">// find the largest prime factor of n</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="built_in">len</span>(primes) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">p := big.NewInt(<span class="keyword">int64</span>(primes[i]))</span><br><span class="line">m.Mod(n, p)</span><br><span class="line"><span class="keyword">if</span> m.Int64() == <span class="number">0</span> &#123;</span><br><span class="line">fmt.Println(p)</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">primes</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">primes</span> = sieve [<span class="number">2.</span>.] <span class="keyword">where</span></span><br><span class="line">    sieve (p:xs) = p : sieve [x | x &lt;- xs, x `mod` p &gt; <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="title">factorize</span> :: <span class="type">Integer</span> -&gt; [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">factorize</span> n = primeFactors n primes <span class="keyword">where</span></span><br><span class="line">    primeFactors <span class="number">1</span> _ = []</span><br><span class="line">    primeFactors m (p:ps) | m &lt; p * p = [m]</span><br><span class="line">                          | r == <span class="number">0</span> = p : primeFactors q (p:ps)</span><br><span class="line">                          | otherwise = primeFactors m ps</span><br><span class="line">                          <span class="keyword">where</span> (q, r) = quotRem m p</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ maximum $ factorize <span class="number">600851475143</span></span><br></pre></td></tr></table></figure></p><hr><p>Rust<br><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> n: <span class="built_in">u64</span> = <span class="number">600851475143</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> limit = n / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> i = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">while</span> i &lt; limit &#123;</span><br><span class="line">        <span class="keyword">while</span> n % i == <span class="number">0</span> &#123;</span><br><span class="line">            n = n / i;</span><br><span class="line">            limit = n / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        i += <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p003</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p003().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * By the fundamental theorem of arithmetic, every integer n &gt; 1 has a unique factorization as a product of prime numbers.</span></span><br><span class="line"><span class="comment"> * In other words, the theorem says that n = p_0 * p_1 * ... * p_&#123;m-1&#125;, where each p_i &gt; 1 is prime but not necessarily unique.</span></span><br><span class="line"><span class="comment"> * Now if we take the number n and repeatedly divide out its smallest factor (which must also be prime), then the last</span></span><br><span class="line"><span class="comment"> * factor that we divide out must be the largest prime factor of n. For reference, 600851475143 = 71 * 839 * 1471 * 6857.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> n = <span class="number">600851475143L</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">long</span> p = smallestFactor(n);</span><br><span class="line"><span class="keyword">if</span> (p &lt; n)</span><br><span class="line">n /= p;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> Long.toString(n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns the smallest factor of n, which is in the range [2, n]. The result is always prime.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">smallestFactor</span><span class="params">(<span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n &lt;= <span class="number">1</span>)</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">long</span> i = <span class="number">2</span>, end = Library.sqrt(n); i &lt;= end; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> n;  <span class="comment">// n itself is prime</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">First</span>[<span class="keyword">Last</span>[<span class="keyword">FactorInteger</span>[<span class="number">600851475143</span>]]]</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project-Euler-002</title>
      <link href="/2018/02/09/Project-Euler-002/"/>
      <url>/2018/02/09/Project-Euler-002/</url>
      <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p><p>$$<br>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, …<br>$$</p><p>Find the sum of all the even-valued terms in the sequence which do not exceed four million.</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4613732</span><br></pre></td></tr></table></figure><hr><p>python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute</span><span class="params">()</span>:</span></span><br><span class="line">ans = <span class="number">0</span></span><br><span class="line">x = <span class="number">1</span>  <span class="comment"># Represents the current Fibonacci number being processed</span></span><br><span class="line">y = <span class="number">2</span>  <span class="comment"># Represents the next Fibonacci number in the sequence</span></span><br><span class="line"><span class="keyword">while</span> x &lt;= <span class="number">4000000</span>:</span><br><span class="line"><span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">ans += x</span><br><span class="line">x, y = y, x + y</span><br><span class="line"><span class="keyword">return</span> str(ans)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">print(compute())</span><br></pre></td></tr></table></figure></p><hr><p>JavaScript<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> f = [<span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">while</span> (f[<span class="number">0</span>] &lt; <span class="number">4e6</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (f[<span class="number">0</span>] % <span class="number">2</span> === <span class="number">0</span>) s+= f[<span class="number">0</span>]</span><br><span class="line">    f = [f[<span class="number">1</span>], f[<span class="number">0</span>]+f[<span class="number">1</span>]]</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s)</span><br></pre></td></tr></table></figure></p><hr><p>Ruby<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">sum a, b = <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"><span class="keyword">while</span> b &lt; <span class="number">4000000</span></span><br><span class="line">  sum += b <span class="keyword">if</span> b.even?</span><br><span class="line">  a, b = b, a+b</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts sum</span><br></pre></td></tr></table></figure></p><hr><p>Go<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> a, b := <span class="number">1</span>, <span class="number">2</span>; b &lt;= <span class="number">4e6</span>; a, b = b, a+b &#123;</span><br><span class="line">        <span class="keyword">if</span> b%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">            sum += b</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>Haskell<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">fibs</span> :: [<span class="type">Integer</span>]</span><br><span class="line"><span class="title">fibs</span> = <span class="number">0</span>:<span class="number">1</span>:zipWith (+) fibs (tail fibs)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span>()</span><br><span class="line"><span class="title">main</span> = print $sum $ filter even $ takeWhile (&lt;<span class="number">4000000</span>) fibs</span><br></pre></td></tr></table></figure></p><hr><p>Clojure<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> fibs (<span class="name">lazy-cat</span> [<span class="number">0</span> <span class="number">1</span>] (<span class="name"><span class="builtin-name">map</span></span> + (<span class="name"><span class="builtin-name">rest</span></span> fibs) fibs)))</span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name"><span class="builtin-name">filter</span></span> even? (<span class="name"><span class="builtin-name">take-while</span></span> #(<span class="name"><span class="builtin-name">&lt;</span></span> % <span class="number">4000000</span>) fibs))))</span><br></pre></td></tr></table></figure></p><hr><p>Mathematica<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">For</span>[i = <span class="number">0</span>, (f = <span class="keyword">Fibonacci</span>[i]) &lt;= <span class="number">4000000</span>, i++,</span><br><span class="line">  <span class="keyword">If</span>[<span class="keyword">EvenQ</span>[f],</span><br><span class="line">    s += f]]</span><br><span class="line">s</span><br></pre></td></tr></table></figure></p><hr><p>Java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p002</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p002().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * Because the Fibonacci sequence grows exponentially by a factor of 1.618, the sum is</span></span><br><span class="line"><span class="comment"> * bounded above by a small multiple of 4 million. Thus the answer fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">1</span>;  <span class="comment">// Represents the current Fibonacci number being processed</span></span><br><span class="line"><span class="keyword">int</span> y = <span class="number">2</span>;  <span class="comment">// Represents the next Fibonacci number in the sequence</span></span><br><span class="line"><span class="keyword">while</span> (x &lt;= <span class="number">4000000</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (x % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">sum += x;</span><br><span class="line"><span class="keyword">int</span> z = x + y;</span><br><span class="line">x = y;</span><br><span class="line">y = z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project Euler 001</title>
      <link href="/2018/02/08/Project-Euler-001/"/>
      <url>/2018/02/08/Project-Euler-001/</url>
      <content type="html"><![CDATA[<h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we<br>get 3, 5, 6 and 9. The sum of these multiples is 23.</p><p>Find the sum of all the multiples of 3 or 5 below 1000.</p><a id="more"></a><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">233168</span><br></pre></td></tr></table></figure><hr><p>C</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span> || i % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This forces every solution class to implement a common interface,</span></span><br><span class="line"><span class="comment">// which is helpful for unit testing like in the EulerTest implementation.</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">p001</span> <span class="keyword">implements</span> <span class="title">EulerSolution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="keyword">new</span> p001().run());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * Computers are fast, so we can implement this solution directly without any clever math.</span></span><br><span class="line"><span class="comment"> * A conservative upper bound for the sum is 1000 * 1000, which fits in a Java int type.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span> || i % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">sum += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Integer.toString(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Mathematica</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Total</span>[<span class="keyword">Select</span>[<span class="keyword">Range</span>[<span class="number">999</span>], <span class="keyword">Function</span>[x, <span class="keyword">Mod</span>[x, <span class="number">3</span>] == <span class="number">0</span> || <span class="keyword">Mod</span>[x, <span class="number">5</span>] == <span class="number">0</span>]]]</span><br></pre></td></tr></table></figure><hr><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">print(sum(i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>) <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span>) <span class="keyword">or</span> (i % <span class="number">5</span> == <span class="number">0</span>)))</span><br></pre></td></tr></table></figure><hr><p>JavaScript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">3</span> === <span class="number">0</span> || i % <span class="number">5</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    s += i</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s)</span><br></pre></td></tr></table></figure><hr><p>Ruby</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env ruby</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="number">1000</span>.times <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">  <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">0</span> <span class="keyword">or</span> i % <span class="number">5</span> == <span class="number">0</span></span><br><span class="line">    sum += i</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts sum</span><br></pre></td></tr></table></figure><hr><p>Go</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> i%<span class="number">3</span> == <span class="number">0</span> || i%<span class="number">5</span> == <span class="number">0</span> &#123;</span><br><span class="line">sum += i</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>Haskell</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> ::  <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = print $ sum [n | n &lt;- [<span class="number">1.</span><span class="number">.999</span>], or [(n `mod` <span class="number">3</span> == <span class="number">0</span>), (n `mod` <span class="number">5</span> == <span class="number">0</span>)]]</span><br></pre></td></tr></table></figure><hr><p>Clojure</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env clojure</span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> multiple? [n]</span><br><span class="line">  (<span class="name"><span class="builtin-name">or</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n <span class="number">3</span>) <span class="number">0</span>) (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">rem</span></span> n <span class="number">5</span>) <span class="number">0</span>)))</span><br><span class="line"></span><br><span class="line">(<span class="name">println</span> (<span class="name"><span class="builtin-name">reduce</span></span> + (<span class="name"><span class="builtin-name">filter</span></span> multiple? (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1000</span>))))</span><br></pre></td></tr></table></figure><hr><p>Scheme</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">display</span></span></span><br><span class="line">  (<span class="name">reduce</span> + <span class="number">0</span></span><br><span class="line">          (<span class="name">filter</span></span><br><span class="line">            (<span class="name"><span class="builtin-name">lambda</span></span> (n)</span><br><span class="line">              (<span class="name"><span class="builtin-name">or</span></span> (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">remainder</span></span> n <span class="number">3</span>) <span class="number">0</span>) (<span class="name"><span class="builtin-name">=</span></span> (<span class="name"><span class="builtin-name">remainder</span></span> n <span class="number">5</span>) <span class="number">0</span>)))</span><br><span class="line">            (<span class="name">iota</span> <span class="number">1000</span>))))</span><br><span class="line">(<span class="name"><span class="builtin-name">newline</span></span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> euler </tag>
            
            <tag> multilingual </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 002</title>
      <link href="/2017/12/30/LeetCode-Notes-002/"/>
      <url>/2017/12/30/LeetCode-Notes-002/</url>
      <content type="html"><![CDATA[<h3 id="Add-Binary"><a href="#Add-Binary" class="headerlink" title="Add Binary"></a>Add Binary</h3><p>Given two binary strings, return their sum (also a binary string).</p><p>For example,<br>a = “11”<br>b = “1”<br>Return “100”.</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; a</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; b</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> addBinary = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  a = a.split(<span class="string">''</span>).reverse();</span><br><span class="line">  b = b.split(<span class="string">''</span>).reverse();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> c = [];</span><br><span class="line">  <span class="keyword">var</span> add = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="built_in">Math</span>.max(a.length, b.length);i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = (a[i] === <span class="literal">undefined</span> ? <span class="number">0</span> : <span class="built_in">Number</span>(a[i])) + (b[i] === <span class="literal">undefined</span> ? <span class="number">0</span>: <span class="built_in">Number</span>(b[i])) + add;</span><br><span class="line">    c[i] = sum &amp; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (sum &gt;= <span class="number">2</span>) </span><br><span class="line">      add = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">      add = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (add)</span><br><span class="line">    c[len] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> c.reverse().join(<span class="string">''</span>).toString();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Add-Digit"><a href="#Add-Digit" class="headerlink" title="Add Digit"></a>Add Digit</h3><p>Given a non-negative integer num, repeatedly add all its digits until the result has only one digit.</p><p><strong>For example:</strong></p><p>Given num = 38, the process is like: 3 + 8 = 11, 1 + 1 = 2. Since 2 has only one digit, return it.</p><p><strong>Follow up:</strong><br>Could you do it without any loop/recursion in O(1) runtime?</p><p><strong>Credits:</strong><br>Special thanks to @jianchao.li.fighter for adding this problem and creating all test cases.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> addDigits = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(num.toString().length !== <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (num) &#123;</span><br><span class="line">      sum += num % <span class="number">10</span>;</span><br><span class="line">      num = ~~(num / <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    num = sum;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> num;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Add-Strings"><a href="#Add-Strings" class="headerlink" title="Add Strings"></a>Add Strings</h3><p>Given two non-negative integers num1 and num2 represented as string, return the sum of num1 and num2.</p><p>Note:</p><ol><li>The length of both num1 and num2 is &lt; 5100.</li><li>Both num1 and num2 contains only digits 0-9.</li><li>Both num1 and num2 does not contain any leading zero.</li><li>You must not use any built-in BigInteger library or convert the inputs to integer directly.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; num1</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; num2</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> addStrings = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [i, j] = [num1.length, num2.length];</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">let</span> add = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  i -= <span class="number">1</span>, j -= <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> ( ; i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>; i--, j--) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = i &gt;= <span class="number">0</span> ? +num1[i] : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> b = j &gt;= <span class="number">0</span> ? +num2[j] : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> sum = a + b + add;</span><br><span class="line">    ans = sum % <span class="number">10</span> + ans;</span><br><span class="line">    add = ~~(sum / <span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  add &amp;&amp; (ans = add + ans);</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>A simple Metropolis-Hastings MCMC in R</title>
      <link href="/2017/12/29/A-simple-Metropolis-Hastings-MCMC-in-R/"/>
      <url>/2017/12/29/A-simple-Metropolis-Hastings-MCMC-in-R/</url>
      <content type="html"><![CDATA[<p>While there are certainly good software packages out there to do the job for you, notably BUGS or JAGS, it is instructive to program a simple MCMC yourself. In this post, I give an educational example of the Bayesian equivalent of a linear regression, sampled by an MCMC with Metropolis-Hastings steps, based on an earlier version which I did to together with Tamara Münkemüller. Since first publishing this post, I have made a few small modifications to improve clarity. A similar post on Metropolis-Hastings MCMC algorithms by Darren Wilkinson is also worth looking at. More on analyzing the results of this algorithm can be found in a recent post.</p><a id="more"></a><h2 id="Creating-test-data"><a href="#Creating-test-data" class="headerlink" title="Creating test data"></a>Creating test data</h2><p>As a first step, we create some test data that will be used to fit our model. Let’s assume a linear relationship between the predictor and the response variable, so we take a linear model and add some noise.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">trueA &lt;- <span class="number">5</span></span><br><span class="line">trueB &lt;- <span class="number">0</span></span><br><span class="line">trueSd &lt;- <span class="number">10</span></span><br><span class="line">sampleSize &lt;- <span class="number">31</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create independent x-values</span></span><br><span class="line">x &lt;- (-(sampleSize-<span class="number">1</span>)/<span class="number">2</span>):((sampleSize-<span class="number">1</span>)/<span class="number">2</span>)</span><br><span class="line"><span class="comment"># create dependent values according to ax + b + N(0,sd)</span></span><br><span class="line">y &lt;-  trueA * x + trueB + rnorm(n=sampleSize,mean=<span class="number">0</span>,sd=trueSd)</span><br><span class="line"></span><br><span class="line">plot(x,y, main=<span class="string">"Test Data"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/machineLearning/MCMC/output_2_0.png" width="60%"><br></div><p>I balanced x values around zero to “de-correlate” slope and intercept. The result should look something like the figure to the above.</p><h2 id="Defining-the-statistical-model"><a href="#Defining-the-statistical-model" class="headerlink" title="Defining the statistical model"></a>Defining the statistical model</h2><p>The next step is to specify the statistical model. We already know that the data was created with a linear relationship $y = a*x + b$ between $x$ and $y$ and a normal error model $N(0,sd)$ with standard deviation $sd$, so let’s use the same model for the fit and see if we can retrieve our original parameter values.</p><h2 id="Derive-the-likelihood-function-from-the-model"><a href="#Derive-the-likelihood-function-from-the-model" class="headerlink" title="Derive the likelihood function from the model"></a>Derive the likelihood function from the model</h2><p>For estimating parameters in a Bayesian analysis, we need to derive the likelihood function for the model that we want to fit. The likelihood is the probability (density) with which we would expect the observed data to occur conditional on the parameters of the model that we look at. So, given that our linear model $y = b + a<em>x + N(0,sd)$ takes the parameters $(a, b, sd)$ as an input, we have to return the probability of obtaining the test data above under this model (this sounds more complicated as it is, as you see in the code, we simply calculate the difference between predictions $y = b + a</em>x$ and the observed $y$, and then we have to look up the probability densities (using <code>dnorm</code>) for such deviations to occur.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">likelihood &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">    a = param[<span class="number">1</span>]</span><br><span class="line">    b = param[<span class="number">2</span>]</span><br><span class="line">    sd = param[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">    pred = a*x + b</span><br><span class="line">    singlelikelihoods = dnorm(y, mean = pred, sd = sd, log = <span class="literal">T</span>)</span><br><span class="line">    sumll = sum(singlelikelihoods)</span><br><span class="line">    <span class="keyword">return</span>(sumll)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Example: plot the likelihood profile of the slope a</span></span><br><span class="line">slopevalues &lt;- <span class="keyword">function</span>(x)&#123;<span class="keyword">return</span>(likelihood(c(x, trueB, trueSd)))&#125;</span><br><span class="line">slopelikelihoods &lt;- lapply(seq(<span class="number">3</span>, <span class="number">7</span>, by=<span class="number">.05</span>), slopevalues )</span><br><span class="line">plot (seq(<span class="number">3</span>, <span class="number">7</span>, by=<span class="number">.05</span>), slopelikelihoods , type=<span class="string">"l"</span>, xlab = <span class="string">"values of slope parameter a"</span>, ylab = <span class="string">"Log likelihood"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/machineLearning/MCMC/output_5_0.png" width="60%"><br></div><p>As an illustration, the last lines of the code plot the Likelihood for a range of parameter values of the slope parameter a. The result should look something like the plot to the above.</p><h2 id="Why-we-work-with-logarithms"><a href="#Why-we-work-with-logarithms" class="headerlink" title="Why we work with logarithms"></a>Why we work with logarithms</h2><p>You might have noticed that I return the logarithm of the probabilities in the likelihood function, which is also the reason why I sum the probabilities of all our datapoints (the logarithm of a product equals the sum of the logarithms). Why do we do this?</p><p>You don’t have to, but it’s strongly advisable because likelihoods, where a lot of small probabilities are multiplied, can get ridiculously small pretty fast (something like $10^-34$). At some stage, computer programs are getting into numerical rounding or underflow problems then. So, bottom-line: when you program something with likelihoods, always use logarithms!!!</p><h2 id="Defining-the-prior"><a href="#Defining-the-prior" class="headerlink" title="Defining the prior"></a>Defining the prior</h2><p>As a second step, as always in Bayesian statistics, we have to specify a <a href="https://en.wikipedia.org/wiki/Prior_probability" target="_blank" rel="noopener">prior distribution</a> for each parameter. To make it easy, I used uniform distributions and normal distributions for all three parameters. Some additional information for the “professionals”, skip this when you don’t understand what I’m talking about: while this choice can be considered pretty <a href="https://en.wikipedia.org/wiki/Prior_probability#Uninformative_priors" target="_blank" rel="noopener">“uninformative”</a> for the slope and intercept parameters, it is not really uninformative for the standard deviations. An uninformative prior for the latter would usually be scale with $1/sigma$ (if you want to understand the reason, see <a href="https://en.wikipedia.org/wiki/Jeffreys_prior#Gaussian_distribution_with_standard_deviation_parameter" target="_blank" rel="noopener">here</a>. This stuff is important when you seriously dive into Bayesian statistics, but I didn’t want to make the code more confusing here.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prior distribution</span></span><br><span class="line">prior &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">    a = param[<span class="number">1</span>]</span><br><span class="line">    b = param[<span class="number">2</span>]</span><br><span class="line">    sd = param[<span class="number">3</span>]</span><br><span class="line">    aprior = dunif(a, min=<span class="number">0</span>, max=<span class="number">10</span>, log = <span class="literal">T</span>)</span><br><span class="line">    bprior = dnorm(b, sd = <span class="number">5</span>, log = <span class="literal">T</span>)</span><br><span class="line">    sdprior = dunif(sd, min=<span class="number">0</span>, max=<span class="number">30</span>, log = <span class="literal">T</span>)</span><br><span class="line">    <span class="keyword">return</span>(aprior+bprior+sdprior)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="The-posterior"><a href="#The-posterior" class="headerlink" title="The posterior"></a>The posterior</h2><p>The product of prior and likelihood is the actual quantity the MCMC will be working on. This function is called the <a href="https://en.wikipedia.org/wiki/Posterior_probability" target="_blank" rel="noopener">posterior</a> (or to be exact, it’s called the posterior after it’s normalized, which the MCMC will do for us, but let’s not be picky for the moment). Again, here we work with the sum because we work with logarithms.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">posterior &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">   <span class="keyword">return</span> (likelihood(param) + prior(param))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="The-MCMC"><a href="#The-MCMC" class="headerlink" title="The MCMC"></a>The MCMC</h2><p>Now, here comes the actual <a href="https://en.wikipedia.org/wiki/Metropolis%E2%80%93Hastings_algorithm" target="_blank" rel="noopener">Metropolis-Hastings algorithm</a>. One of the most frequent applications of this algorithm (as in this example) is sampling from the posterior density in Bayesian statistics. In principle, however, the algorithm may be used to sample from any integrable function. So, the aim of this algorithm is to jump around in parameter space, but in a way that the probability to be at a point is proportional to the function we sample from (this is usually called the target function). In our case this is the posterior defined above.</p><p>This is achieved by</p><ol><li>Starting at a random parameter value</li><li>Choosing a new parameter value close to the old value based on some probability density that is called the proposal function</li><li>Jumping to this new point with a probability p(new)/p(old), where p is the target function, and $p&gt;1$ means jumping as well</li></ol><p>It’s fun to think about why that works, but for the moment I can assure you it does – when we run this algorithm, distribution of the parameters it visits converges to the target distribution $p$. So, let’s get this in R:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">######## Metropolis algorithm ################</span></span><br><span class="line"></span><br><span class="line">proposalfunction &lt;- <span class="keyword">function</span>(param)&#123;</span><br><span class="line">    <span class="keyword">return</span>(rnorm(<span class="number">3</span>,mean = param, sd= c(<span class="number">0.1</span>,<span class="number">0.5</span>,<span class="number">0.3</span>)))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">run_metropolis_MCMC &lt;- <span class="keyword">function</span>(startvalue, iterations)&#123;</span><br><span class="line">    chain = array(dim = c(iterations+<span class="number">1</span>,<span class="number">3</span>))</span><br><span class="line">    chain[<span class="number">1</span>,] = startvalue</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:iterations)&#123;</span><br><span class="line">        proposal = proposalfunction(chain[i,])</span><br><span class="line"></span><br><span class="line">        probab = exp(posterior(proposal) - posterior(chain[i,]))</span><br><span class="line">        <span class="keyword">if</span> (runif(<span class="number">1</span>) &lt; probab)&#123;</span><br><span class="line">            chain[i+<span class="number">1</span>,] = proposal</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            chain[i+<span class="number">1</span>,] = chain[i,]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>(chain)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">startvalue = c(<span class="number">4</span>,<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">chain = run_metropolis_MCMC(startvalue, <span class="number">10000</span>)</span><br><span class="line"></span><br><span class="line">burnIn = <span class="number">5000</span></span><br><span class="line">acceptance = <span class="number">1</span>-mean(duplicated(chain[-(<span class="number">1</span>:burnIn),]))</span><br></pre></td></tr></table></figure><p>Again, working with the logarithms of the posterior might be a bit confusing at first, in particular when you look at the line where the acceptance probability is calculated (probab = exp(posterior(proposal) – posterior(chain[i,]))). To understand why we do this, note that $p1/p2 = exp[log(p1)-log(p2)]$.</p><p>The first steps of the algorithm may be biased by the initial value, and are therefore usually discarded for the further analysis (burn-in time). An interesting output to look at is the acceptance rate: how often was a proposal rejected by the metropolis-hastings acceptance criterion? The acceptance rate can be influenced by the proposal function: generally, the closer the proposals are, the larger the acceptance rate. Very high acceptance rates, however, are usually not beneficial: this means that the algorithms is “staying” at the same point, which results in a suboptimal probing of the parameter space (mixing). It can be shown that acceptance rates between 20% and 30% are optimal for typical applications (more on that here).</p><p>Finally, we can plot the results. There are more elegant ways of plotting this which I discuss in another recent post, so check this out, but for the moment I didn’t want to use any packages, so we do it the hard way:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### Summary: #######################</span></span><br><span class="line"></span><br><span class="line">par(mfrow = c(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">hist(chain[-(<span class="number">1</span>:burnIn),<span class="number">1</span>],nclass=<span class="number">30</span>, , main=<span class="string">"Posterior of a"</span>, xlab=<span class="string">"True value = red line"</span> )</span><br><span class="line">abline(v = mean(chain[-(<span class="number">1</span>:burnIn),<span class="number">1</span>]))</span><br><span class="line">abline(v = trueA, col=<span class="string">"red"</span> )</span><br><span class="line">hist(chain[-(<span class="number">1</span>:burnIn),<span class="number">2</span>],nclass=<span class="number">30</span>, main=<span class="string">"Posterior of b"</span>, xlab=<span class="string">"True value = red line"</span>)</span><br><span class="line">abline(v = mean(chain[-(<span class="number">1</span>:burnIn),<span class="number">2</span>]))</span><br><span class="line">abline(v = trueB, col=<span class="string">"red"</span> )</span><br><span class="line">hist(chain[-(<span class="number">1</span>:burnIn),<span class="number">3</span>],nclass=<span class="number">30</span>, main=<span class="string">"Posterior of sd"</span>, xlab=<span class="string">"True value = red line"</span>)</span><br><span class="line">abline(v = mean(chain[-(<span class="number">1</span>:burnIn),<span class="number">3</span>]) )</span><br><span class="line">abline(v = trueSd, col=<span class="string">"red"</span> )</span><br><span class="line">plot(chain[-(<span class="number">1</span>:burnIn),<span class="number">1</span>], type = <span class="string">"l"</span>, xlab=<span class="string">"True value = red line"</span> , main = <span class="string">"Chain values of a"</span>, )</span><br><span class="line">abline(h = trueA, col=<span class="string">"red"</span> )</span><br><span class="line">plot(chain[-(<span class="number">1</span>:burnIn),<span class="number">2</span>], type = <span class="string">"l"</span>, xlab=<span class="string">"True value = red line"</span> , main = <span class="string">"Chain values of b"</span>, )</span><br><span class="line">abline(h = trueB, col=<span class="string">"red"</span> )</span><br><span class="line">plot(chain[-(<span class="number">1</span>:burnIn),<span class="number">3</span>], type = <span class="string">"l"</span>, xlab=<span class="string">"True value = red line"</span> , main = <span class="string">"Chain values of sd"</span>, )</span><br><span class="line">abline(h = trueSd, col=<span class="string">"red"</span> )</span><br><span class="line"></span><br><span class="line"><span class="comment"># for comparison:</span></span><br><span class="line">summary(lm(y~x))</span><br></pre></td></tr></table></figure><p>​<br>    Call:<br>    lm(formula = y ~ x)</p><pre><code>Residuals:    Min      1Q  Median      3Q     Max-15.844  -5.834  -1.342   5.479  19.348Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept)  -0.7967     1.6512  -0.482    0.633x             5.0498     0.1846  27.354   &lt;2e-16 ***---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 9.193 on 29 degrees of freedomMultiple R-squared:  0.9627,    Adjusted R-squared:  0.9614F-statistic: 748.3 on 1 and 29 DF,  p-value: &lt; 2.2e-16</code></pre><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/machineLearning/MCMC/output_13_1.png" width="100%"><br></div><p>The resulting plots should look something like the plot above. You see that we retrieve more or less the original parameters that were used to create our data, and you also see that we get a certain area around the highest posterior values that also have some support by the data, which is the Bayesian equivalent of confidence intervals.</p><p><strong>Remark</strong>:</p><p>The upper row shows posterior estimates for slope (a), intercept (b) and standard deviation of the error (sd). The lower row shows the Markov Chain of parameter values.</p><h2 id="References-for-further-reading"><a href="#References-for-further-reading" class="headerlink" title="References for further reading"></a>References for further reading</h2><ol><li>Gelman, A.; Carlin, J. B.; Stern, H. S. &amp; Rubin, D. B. (2003) Bayesian Data Analysis</li><li>Andrieu, C.; de Freitas, N.; Doucet, A. &amp; Jordan, M. I. (2003) An introduction to MCMC for machine learning Mach. Learning, Springer, 50, 5-43</li><li>Hartig, F.; Calabrese, J. M.; Reineking, B.; Wiegand, T. &amp; Huth, A. (2011) Statistical inference for stochastic simulation models – theory and application Ecol. Lett., 14, 816–827.</li></ol>]]></content>
      
      
        <tags>
            
            <tag> r </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Decision_Tree_Regression</title>
      <link href="/2017/12/29/Decision-Tree-Regression/"/>
      <url>/2017/12/29/Decision-Tree-Regression/</url>
      <content type="html"><![CDATA[<h1 id="Decision-Tree-Regression-using-DecisionTrees-jl"><a href="#Decision-Tree-Regression-using-DecisionTrees-jl" class="headerlink" title="Decision Tree Regression (using DecisionTrees.jl)"></a>Decision Tree Regression (using DecisionTrees.jl)</h1><p>Adapted from <a href="http://scikit-learn.org/stable/auto_examples/tree/plot_tree_regression.html" target="_blank" rel="noopener">http://scikit-learn.org/stable/auto_examples/tree/plot_tree_regression.html</a></p><a id="more"></a><p>A 1D regression with decision tree.</p><p>The decision trees is used to fit a sine curve with addition noisy observation. As a result, it learns local linear regressions approximating the sine curve.</p><p>We can see that if the maximum depth of the tree (controlled by the max_depth parameter) is set too high, the decision trees learn too fine details of the training data and learn from the noise, i.e. they overfit.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> DecisionTree</span><br><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a random dataset</span></span><br><span class="line">srand(<span class="number">42</span>)</span><br><span class="line">X = sort(<span class="number">5</span> * rand(<span class="number">80</span>))</span><br><span class="line">XX = reshape(X, <span class="number">80</span>, <span class="number">1</span>)</span><br><span class="line">y = sin(X)</span><br><span class="line">y[<span class="number">1</span>:<span class="number">5</span>:<span class="keyword">end</span>] += <span class="number">3</span> * (<span class="number">0.5</span> - rand(<span class="number">16</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fit regression model</span></span><br><span class="line">regr_1 = DecisionTreeRegressor()</span><br><span class="line">regr_2 = DecisionTreeRegressor(pruning_purity_threshold=<span class="number">0.05</span>)</span><br><span class="line">regr_3 = RandomForestRegressor(ntrees=<span class="number">20</span>)</span><br><span class="line">fit!(regr_1, XX, y)</span><br><span class="line">fit!(regr_2, XX, y)</span><br><span class="line">fit!(regr_3, XX, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Predict</span></span><br><span class="line">X_test = <span class="number">0</span>:<span class="number">0.01</span>:<span class="number">5.0</span></span><br><span class="line">y_1 = predict(regr_1, hcat(X_test))</span><br><span class="line">y_2 = predict(regr_2, hcat(X_test))</span><br><span class="line">y_3 = predict(regr_3, hcat(X_test))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot the results</span></span><br><span class="line">scatter(X, y, c=<span class="string">"k"</span>, label=<span class="string">"data"</span>)</span><br><span class="line">plot(X_test, y_1, c=<span class="string">"g"</span>, label=<span class="string">"no pruning"</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">plot(X_test, y_2, c=<span class="string">"r"</span>, label=<span class="string">"pruning_purity_threshold=0.05"</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">plot(X_test, y_3, c=<span class="string">"b"</span>, label=<span class="string">"RandomForestClassifier"</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">xlabel(<span class="string">"data"</span>)</span><br><span class="line">ylabel(<span class="string">"target"</span>)</span><br><span class="line">title(<span class="string">"Decision Tree Regression"</span>)</span><br><span class="line">legend(prop=<span class="built_in">Dict</span>(<span class="string">"size"</span>=&gt;<span class="number">10</span>));</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/leanote/Decision_Tree_Regression/output_3_0.png" alt="png"></p>]]></content>
      
      
        <tags>
            
            <tag> julia </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Classifier_Comparison</title>
      <link href="/2017/12/29/Classifier-Comparison/"/>
      <url>/2017/12/29/Classifier-Comparison/</url>
      <content type="html"><![CDATA[<h1 id="Classifier-Comparison"><a href="#Classifier-Comparison" class="headerlink" title="Classifier Comparison"></a>Classifier Comparison</h1><p>Adapted from <a href="http://scikit-learn.org/stable/auto_examples/classification/plot_classifier_comparison.html" target="_blank" rel="noopener">http://scikit-learn.org/stable/auto_examples/classification/plot_classifier_comparison.html</a></p><a id="more"></a><p>A comparison of a several classifiers in scikit-learn on synthetic datasets. The point of this example is to illustrate the nature of decision boundaries of different classifiers. This should be taken with a grain of salt, as the intuition conveyed by these examples does not necessarily carry over to real datasets.</p><p>Particularly in high-dimensional spaces, data can more easily be separated linearly and the simplicity of classifiers such as naive Bayes and linear SVMs might lead to better generalization than is achieved by other classifiers.</p><p>The plots show training points in solid colors and testing points semi-transparent. The lower right shows the classification accuracy on the test set.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python Code source: Gaël Varoquaux</span></span><br><span class="line"><span class="comment">#                     Andreas Müller</span></span><br><span class="line"><span class="comment"># Julia adaptation: Cédric St-Jean</span></span><br><span class="line"><span class="comment"># Modified for documentation by Jaques Grobler</span></span><br><span class="line"><span class="comment"># License: BSD 3 clause</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"><span class="keyword">using</span> PyCall</span><br><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line"><span class="keyword">using</span> ScikitLearn.CrossValidation: train_test_split</span><br><span class="line"><span class="meta">@pyimport</span> matplotlib.colors as mplc</span><br><span class="line"><span class="meta">@sk_import</span> preprocessing: StandardScaler</span><br><span class="line"><span class="meta">@sk_import</span> datasets: (make_moons, make_circles, make_classification)</span><br><span class="line"><span class="meta">@sk_import</span> neighbors: KNeighborsClassifier</span><br><span class="line"><span class="meta">@sk_import</span> svm: SVC</span><br><span class="line"><span class="meta">@sk_import</span> tree: DecisionTreeClassifier</span><br><span class="line"><span class="meta">@sk_import</span> ensemble: (RandomForestClassifier, AdaBoostClassifier)</span><br><span class="line"><span class="meta">@sk_import</span> naive_bayes: GaussianNB</span><br><span class="line"><span class="meta">@sk_import</span> discriminant_analysis: (LinearDiscriminantAnalysis, QuadraticDiscriminantAnalysis)</span><br><span class="line"><span class="keyword">using</span> ScikitLearn.Utils: meshgrid</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">h = <span class="number">.02</span>  <span class="comment"># step size in the mesh</span></span><br><span class="line"></span><br><span class="line">names = [<span class="string">"Nearest Neighbors"</span>, <span class="string">"Linear SVM"</span>, <span class="string">"RBF SVM"</span>, <span class="string">"Decision Tree"</span>,</span><br><span class="line">         <span class="string">"Random Forest"</span>, <span class="string">"AdaBoost"</span>, <span class="string">"Naive Bayes"</span>, <span class="string">"Linear Discriminant Analysis"</span>,</span><br><span class="line">         <span class="string">"Quadratic Discriminant Analysis"</span>]</span><br><span class="line">classifiers = [</span><br><span class="line">    KNeighborsClassifier(<span class="number">3</span>),</span><br><span class="line">    SVC(kernel=<span class="string">"linear"</span>, C=<span class="number">0.025</span>),</span><br><span class="line">    SVC(gamma=<span class="number">2</span>, C=<span class="number">1</span>),</span><br><span class="line">    DecisionTreeClassifier(max_depth=<span class="number">5</span>),</span><br><span class="line">    RandomForestClassifier(max_depth=<span class="number">5</span>, n_estimators=<span class="number">10</span>, max_features=<span class="number">1</span>),</span><br><span class="line">    AdaBoostClassifier(),</span><br><span class="line">    GaussianNB(),</span><br><span class="line">    LinearDiscriminantAnalysis(),</span><br><span class="line">    QuadraticDiscriminantAnalysis()]</span><br><span class="line"></span><br><span class="line">X, y = make_classification(n_features=<span class="number">2</span>, n_redundant=<span class="number">0</span>, n_informative=<span class="number">2</span>,</span><br><span class="line">                           random_state=<span class="number">1</span>, n_clusters_per_class=<span class="number">1</span>)</span><br><span class="line">srand(<span class="number">42</span>)</span><br><span class="line">X += <span class="number">2</span> * rand(size(X)...)</span><br><span class="line">linearly_separable = (X, y)</span><br><span class="line"></span><br><span class="line">datasets = [make_moons(noise=<span class="number">0.3</span>, random_state=<span class="number">0</span>),</span><br><span class="line">            make_circles(noise=<span class="number">0.2</span>, factor=<span class="number">0.5</span>, random_state=<span class="number">1</span>),</span><br><span class="line">            linearly_separable</span><br><span class="line">            ];</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">fig = figure(figsize=(<span class="number">27</span>, <span class="number">9</span>))</span><br><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="comment"># iterate over datasets</span></span><br><span class="line"><span class="keyword">for</span> ds <span class="keyword">in</span> datasets</span><br><span class="line">    <span class="comment"># preprocess dataset, split into training and test part</span></span><br><span class="line">    X, y = ds</span><br><span class="line">    X = fit_transform!(StandardScaler(), X)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">.4</span>)</span><br><span class="line"></span><br><span class="line">    x_min, x_max = minimum(X[:, <span class="number">1</span>]) - <span class="number">.5</span>, maximum(X[:, <span class="number">1</span>]) + <span class="number">.5</span></span><br><span class="line">    y_min, y_max = minimum(X[:, <span class="number">2</span>]) - <span class="number">.5</span>, maximum(X[:, <span class="number">2</span>]) + <span class="number">.5</span></span><br><span class="line">    xx, yy = meshgrid(x_min:h:x_max, y_min:h:y_max)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># just plot the dataset first</span></span><br><span class="line">    cm = PyPlot.cm[:RdBu]</span><br><span class="line">    cm_bright = mplc.ListedColormap([<span class="string">"#FF0000"</span>, <span class="string">"#0000FF"</span>])</span><br><span class="line">    ax = subplot(length(datasets), length(classifiers) + <span class="number">1</span>, i)</span><br><span class="line">    <span class="comment"># Plot the training points</span></span><br><span class="line">    ax[:scatter](X_train[:, <span class="number">1</span>], X_train[:, <span class="number">2</span>], c=y_train, cmap=cm_bright)</span><br><span class="line">    <span class="comment"># and testing points</span></span><br><span class="line">    ax[:scatter](X_test[:, <span class="number">1</span>], X_test[:, <span class="number">2</span>], c=y_test, cmap=cm_bright, alpha=<span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">    ax[:set_xlim](minimum(xx), maximum(xx))</span><br><span class="line">    ax[:set_ylim](minimum(yy), maximum(yy))</span><br><span class="line">    ax[:set_xticks](())</span><br><span class="line">    ax[:set_yticks](())</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># iterate over classifiers</span></span><br><span class="line">    <span class="keyword">for</span> (name, clf) <span class="keyword">in</span> zip(names, classifiers)</span><br><span class="line">        ax = subplot(length(datasets), length(classifiers) + <span class="number">1</span>, i)</span><br><span class="line">        fit!(clf, X_train, y_train)</span><br><span class="line">        scor = score(clf, X_test, y_test)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Plot the decision boundary. For that, we will assign a color to each</span></span><br><span class="line">        <span class="comment"># point in the mesh [x_min, m_max]x[y_min, y_max].</span></span><br><span class="line">        <span class="keyword">try</span> </span><br><span class="line">            <span class="comment"># Not implemented for some</span></span><br><span class="line">            Z = decision_function(clf, hcat(xx[:], yy[:]))</span><br><span class="line">        <span class="keyword">catch</span></span><br><span class="line">            Z = predict_proba(clf, hcat(xx[:], yy[:]))[:, <span class="number">2</span>]</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Put the result into a color plot</span></span><br><span class="line">        Z = reshape(Z, size(xx)...)</span><br><span class="line">        ax[:contourf](xx, yy, Z, cmap=cm, alpha=<span class="number">.8</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Plot also the training points</span></span><br><span class="line">        ax[:scatter](X_train[:, <span class="number">1</span>], X_train[:, <span class="number">2</span>], c=y_train, cmap=cm_bright)</span><br><span class="line">        <span class="comment"># and testing points</span></span><br><span class="line">        ax[:scatter](X_test[:, <span class="number">1</span>], X_test[:, <span class="number">2</span>], c=y_test, cmap=cm_bright,</span><br><span class="line">                   alpha=<span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">        ax[:set_xlim](minimum(xx), maximum(xx))</span><br><span class="line">        ax[:set_ylim](minimum(yy), maximum(yy))</span><br><span class="line">        ax[:set_xticks](())</span><br><span class="line">        ax[:set_yticks](())</span><br><span class="line">        ax[:set_title](name)</span><br><span class="line"></span><br><span class="line">        ax[:text](maximum(xx) - <span class="number">.3</span>, minimum(yy) + <span class="number">.3</span>, <span class="meta">@sprintf</span>(<span class="string">"%.2f"</span>, scor),</span><br><span class="line">                size=<span class="number">15</span>, horizontalalignment=<span class="string">"right"</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">fig[:subplots_adjust](left=<span class="number">.02</span>, right=<span class="number">.98</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/leanote/Classifier_Comparison/output_5_0.png" alt="png"></p><pre><code>/Users/kay/.julia/v0.6/Conda/deps/usr/lib/python2.7/site-packages/sklearn/cross_validation.py:41: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.  &quot;This module will be removed in 0.20.&quot;, DeprecationWarning)</code></pre>]]></content>
      
      
        <tags>
            
            <tag> julia </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Cross_Validated_Predictions</title>
      <link href="/2017/12/29/Cross-Validated-Predictions/"/>
      <url>/2017/12/29/Cross-Validated-Predictions/</url>
      <content type="html"><![CDATA[<h1 id="Plotting-Cross-Validated-Predictions"><a href="#Plotting-Cross-Validated-Predictions" class="headerlink" title="Plotting Cross-Validated Predictions"></a>Plotting Cross-Validated Predictions</h1><p>Adapted from <a href="http://scikit-learn.org/stable/auto_examples/plot_cv_predict.html" target="_blank" rel="noopener">http://scikit-learn.org/stable/auto_examples/plot_cv_predict.html</a></p><a id="more"></a><p>This example shows how to use cross_val_predict to visualize prediction errors.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"><span class="keyword">using</span> ScikitLearn.CrossValidation: cross_val_predict</span><br><span class="line"></span><br><span class="line"><span class="meta">@sk_import</span> datasets: load_boston</span><br><span class="line"><span class="meta">@sk_import</span> linear_model: LinearRegression</span><br><span class="line"><span class="keyword">using</span> PyPlot</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">lr = LinearRegression()</span><br><span class="line">boston = load_boston()</span><br><span class="line">y = boston[<span class="string">"target"</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># cross_val_predict returns an array of the same size as `y` where each entry</span></span><br><span class="line"><span class="comment"># is a prediction obtained by cross validated:</span></span><br><span class="line">predicted = cross_val_predict(lr, boston[<span class="string">"data"</span>], y, cv=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">scatter(y, predicted)</span><br><span class="line">plot([minimum(y), maximum(y)], [minimum(y), maximum(y)], <span class="string">"k--"</span>, lw=<span class="number">4</span>)</span><br><span class="line">xlabel(<span class="string">"Measured"</span>)</span><br><span class="line">ylabel(<span class="string">"Predicted"</span>);</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/leanote/Cross_Validated_Predictions/output_4_0.png" alt="png"></p>]]></content>
      
      
        <tags>
            
            <tag> julia </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Clustering_Comparison</title>
      <link href="/2017/12/29/Clustering-Comparison/"/>
      <url>/2017/12/29/Clustering-Comparison/</url>
      <content type="html"><![CDATA[<h1 id="Comparing-different-clustering-algorithms-on-toy-datasets"><a href="#Comparing-different-clustering-algorithms-on-toy-datasets" class="headerlink" title="Comparing different clustering algorithms on toy datasets"></a>Comparing different clustering algorithms on toy datasets</h1><p>Adapted from <a href="http://scikit-learn.org/stable/auto_examples/cluster/plot_cluster_comparison.html" target="_blank" rel="noopener">http://scikit-learn.org/stable/auto_examples/cluster/plot_cluster_comparison.html</a></p><a id="more"></a><p>This example aims at showing characteristics of different clustering algorithms on datasets that are “interesting” but still in 2D. The last dataset is an example of a ‘null’ situation for clustering: the data is homogeneous, and there is no good clustering.</p><p>While these examples give some intuition about the algorithms, this intuition might not apply to very high dimensional data.</p><p>The results could be improved by tweaking the parameters for each clustering strategy, for instance setting the number of clusters for the methods that needs this parameter specified. Note that affinity propagation has a tendency to create many clusters. Thus in this example its two parameters (damping and per-point preference) were set to to mitigate this behavior.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line"></span><br><span class="line"><span class="meta">@sk_import</span> datasets: (make_circles, make_moons, make_blobs)</span><br><span class="line"><span class="meta">@sk_import</span> cluster: (estimate_bandwidth, MeanShift, MiniBatchKMeans, AgglomerativeClustering, SpectralClustering)</span><br><span class="line"><span class="meta">@sk_import</span> cluster: (DBSCAN, AffinityPropagation, Birch)</span><br><span class="line"><span class="meta">@sk_import</span> preprocessing: StandardScaler</span><br><span class="line"><span class="meta">@sk_import</span> neighbors: kneighbors_graph</span><br></pre></td></tr></table></figure><pre><code>PyObject &lt;function kneighbors_graph at 0x1a30ba77d0&gt;</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">srand(<span class="number">33</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Generate datasets. We choose the size big enough to see the scalability</span></span><br><span class="line"><span class="comment"># of the algorithms, but not too big to avoid too long running times</span></span><br><span class="line">n_samples = <span class="number">1500</span></span><br><span class="line">noisy_circles = make_circles(n_samples=n_samples, factor=<span class="number">.5</span>, noise=<span class="number">.05</span>)</span><br><span class="line">noisy_moons = make_moons(n_samples=n_samples, noise=<span class="number">.05</span>)</span><br><span class="line">blobs = make_blobs(n_samples=n_samples, random_state=<span class="number">8</span>)</span><br><span class="line">no_structure = rand(n_samples, <span class="number">2</span>), <span class="literal">nothing</span></span><br><span class="line"></span><br><span class="line">colors0 = collect(<span class="string">"bgrcmykbgrcmykbgrcmykbgrcmyk"</span>)</span><br><span class="line">colors = vcat(fill(colors0, <span class="number">20</span>)...)</span><br><span class="line"></span><br><span class="line">clustering_names = [</span><br><span class="line">    <span class="string">"MiniBatchKMeans"</span>, <span class="string">"AffinityPropagation"</span>, <span class="string">"MeanShift"</span>,</span><br><span class="line">    <span class="string">"SpectralClustering"</span>, <span class="string">"Ward"</span>, <span class="string">"AgglomerativeClustering"</span>,</span><br><span class="line">    <span class="string">"DBSCAN"</span>, <span class="string">"Birch"</span>];</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">figure(figsize=(length(clustering_names) * <span class="number">2</span> + <span class="number">3</span>, <span class="number">9.5</span>))</span><br><span class="line">subplots_adjust(left=<span class="number">.02</span>, right=<span class="number">.98</span>, bottom=<span class="number">.001</span>, top=<span class="number">.96</span>, wspace=<span class="number">.05</span>,</span><br><span class="line">                    hspace=<span class="number">.01</span>)</span><br><span class="line"></span><br><span class="line">plot_num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">datasets = [noisy_circles, noisy_moons, blobs, no_structure]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i_dataset, dataset) <span class="keyword">in</span> enumerate(datasets)</span><br><span class="line"></span><br><span class="line">    X, y = dataset</span><br><span class="line">    <span class="comment"># normalize dataset for easier parameter selection</span></span><br><span class="line">    X = fit_transform!(StandardScaler(), X)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># estimate bandwidth for mean shift</span></span><br><span class="line">    bandwidth = estimate_bandwidth(X, quantile=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># connectivity matrix for structured Ward</span></span><br><span class="line">    connectivity = kneighbors_graph(X, n_neighbors=<span class="number">10</span>, include_self=<span class="literal">false</span>)[:todense]() <span class="comment"># PyCall does not support numpy sparse matrices</span></span><br><span class="line">    <span class="comment"># make connectivity symmetric</span></span><br><span class="line">    connectivity = <span class="number">0.5</span> * (connectivity + connectivity')</span><br><span class="line"></span><br><span class="line">    <span class="comment"># create clustering estimators</span></span><br><span class="line">    ms = MeanShift(bandwidth=bandwidth, bin_seeding=<span class="literal">true</span>)</span><br><span class="line">    two_means = MiniBatchKMeans(n_clusters=<span class="number">2</span>)</span><br><span class="line">    ward = AgglomerativeClustering(n_clusters=<span class="number">2</span>, linkage=<span class="string">"ward"</span>,</span><br><span class="line">                                   connectivity=connectivity)</span><br><span class="line">    spectral = SpectralClustering(n_clusters=<span class="number">2</span>,</span><br><span class="line">                                  eigen_solver=<span class="string">"arpack"</span>,</span><br><span class="line">                                  affinity=<span class="string">"nearest_neighbors"</span>)</span><br><span class="line">    dbscan = DBSCAN(eps=<span class="number">.2</span>)</span><br><span class="line">    affinity_propagation = AffinityPropagation(damping=<span class="number">.9</span>, preference=-<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    average_linkage = AgglomerativeClustering(</span><br><span class="line">        linkage=<span class="string">"average"</span>, affinity=<span class="string">"cityblock"</span>, n_clusters=<span class="number">2</span>,</span><br><span class="line">        connectivity=connectivity)</span><br><span class="line"></span><br><span class="line">    birch = Birch(n_clusters=<span class="number">2</span>)</span><br><span class="line">    clustering_algorithms = [</span><br><span class="line">        two_means, affinity_propagation, ms, spectral, ward, average_linkage,</span><br><span class="line">        dbscan, birch]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (name, algorithm) <span class="keyword">in</span> zip(clustering_names, clustering_algorithms)</span><br><span class="line">        fit!(algorithm, X)</span><br><span class="line">        y_pred = <span class="literal">nothing</span></span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">            y_pred = predict(algorithm, X)</span><br><span class="line">        <span class="keyword">catch</span> <span class="literal">e</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">isa</span>(<span class="literal">e</span>, <span class="built_in">KeyError</span>)</span><br><span class="line">                y_pred = map(<span class="built_in">Int</span>, algorithm[:labels_])</span><br><span class="line">                clamp!(y_pred, <span class="number">0</span>, <span class="number">27</span>) <span class="comment"># not sure why some algorithms return -1</span></span><br><span class="line">            <span class="keyword">else</span> rethrow() <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        subplot(<span class="number">4</span>, length(clustering_algorithms), plot_num)</span><br><span class="line">        <span class="keyword">if</span> i_dataset == <span class="number">1</span></span><br><span class="line">            title(name, size=<span class="number">18</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> y_val <span class="keyword">in</span> unique(y_pred)</span><br><span class="line">            selected = y_pred.==y_val</span><br><span class="line">            scatter(X[selected, <span class="number">1</span>], X[selected, <span class="number">2</span>], color=string(colors0[y_val+<span class="number">1</span>]), s=<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        xlim(-<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        ylim(-<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        xticks(())</span><br><span class="line">        yticks(())</span><br><span class="line">        plot_num += <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/leanote/Classifier_Comparison/output_5_1.png" alt="png"></p><pre><code>/Users/kay/.julia/v0.6/Conda/deps/usr/lib/python2.7/site-packages/sklearn/manifold/spectral_embedding_.py:234: UserWarning: Graph is not fully connected, spectral embedding may not work as expected.  warnings.warn(&quot;Graph is not fully connected, spectral embedding&quot;/Users/kay/.julia/v0.6/Conda/deps/usr/lib/python2.7/site-packages/sklearn/cluster/hierarchical.py:193: UserWarning: the number of connected components of the connectivity matrix is 2 &gt; 1. Completing it to avoid stopping the tree early.  affinity=&apos;euclidean&apos;)/Users/kay/.julia/v0.6/Conda/deps/usr/lib/python2.7/site-packages/sklearn/cluster/hierarchical.py:426: UserWarning: the number of connected components of the connectivity matrix is 2 &gt; 1. Completing it to avoid stopping the tree early.  affinity=affinity)/Users/kay/.julia/v0.6/Conda/deps/usr/lib/python2.7/site-packages/sklearn/cluster/hierarchical.py:193: UserWarning: the number of connected components of the connectivity matrix is 3 &gt; 1. Completing it to avoid stopping the tree early.  affinity=&apos;euclidean&apos;)/Users/kay/.julia/v0.6/Conda/deps/usr/lib/python2.7/site-packages/sklearn/cluster/hierarchical.py:426: UserWarning: the number of connected components of the connectivity matrix is 3 &gt; 1. Completing it to avoid stopping the tree early.  affinity=affinity)</code></pre>]]></content>
      
      
        <tags>
            
            <tag> julia </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>DataFrame_Demo</title>
      <link href="/2017/12/29/DataFrame-Demo/"/>
      <url>/2017/12/29/DataFrame-Demo/</url>
      <content type="html"><![CDATA[<p>Credits: this code and documentation was adapted from Paul Butler’s <a href="https://github.com/paulgb/sklearn-pandas" target="_blank" rel="noopener">sklearn-pandas</a></p><a id="more"></a><h1 id="DataFrames"><a href="#DataFrames" class="headerlink" title="DataFrames"></a>DataFrames</h1><p>It is possible to use a dataframe as a training set, but it needs to be converted to an array first. <code>DataFrameMapper</code> is used to specify how this conversion proceeds. For example, PCA might be applied to some numerical dataframe columns, and one-hot-encoding to a categorical column.</p><h2 id="Transformation-Mapping"><a href="#Transformation-Mapping" class="headerlink" title="Transformation Mapping"></a>Transformation Mapping</h2><p>Consider this dataset:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"><span class="keyword">using</span> DataFrames: DataFrame, NA, DataArray</span><br><span class="line"><span class="keyword">using</span> DataArrays: <span class="meta">@data</span></span><br><span class="line"><span class="meta">@sk_import</span> preprocessing: (LabelBinarizer, StandardScaler)</span><br><span class="line"></span><br><span class="line">data = DataFrame(pet=[<span class="string">"cat"</span>, <span class="string">"dog"</span>, <span class="string">"dog"</span>, <span class="string">"fish"</span>, <span class="string">"cat"</span>, <span class="string">"dog"</span>, <span class="string">"cat"</span>, <span class="string">"fish"</span>],</span><br><span class="line">                 children=[<span class="number">4.</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>],</span><br><span class="line">                 salary=[<span class="number">90</span>, <span class="number">24</span>, <span class="number">44</span>, <span class="number">27</span>, <span class="number">32</span>, <span class="number">59</span>, <span class="number">36</span>, <span class="number">27</span>])</span><br></pre></td></tr></table></figure><table class="data-frame"><tr><th></th><th>pet</th><th>children</th><th>salary</th></tr><tr><th>1</th><td>cat</td><td>4.0</td><td>90</td></tr><tr><th>2</th><td>dog</td><td>6.0</td><td>24</td></tr><tr><th>3</th><td>dog</td><td>3.0</td><td>44</td></tr><tr><th>4</th><td>fish</td><td>3.0</td><td>27</td></tr><tr><th>5</th><td>cat</td><td>2.0</td><td>32</td></tr><tr><th>6</th><td>dog</td><td>3.0</td><td>59</td></tr><tr><th>7</th><td>cat</td><td>5.0</td><td>36</td></tr><tr><th>8</th><td>fish</td><td>4.0</td><td>27</td></tr></table><h3 id="Map-the-Columns-to-Transformations"><a href="#Map-the-Columns-to-Transformations" class="headerlink" title="Map the Columns to Transformations"></a>Map the Columns to Transformations</h3><p>The mapper takes a list of pairs. The first is a column name from the DataFrame, or a list containing one or multiple columns (we will see an example with multiple columns later). The second is an object which will perform the transformation which will be applied to that column:</p><p>Note: <code>ScikitLearn.DataFrameMapper</code> won’t be available until <code>DataFrames</code> is imported</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mapper = DataFrameMapper([(:pet, LabelBinarizer()),</span><br><span class="line">                          ([:children], StandardScaler())]);</span><br></pre></td></tr></table></figure><p>The difference between specifying the column selector as :column (as a single symbol) and [:column] (as a list with one element) is the shape of the array that is passed to the transformer. In the first case, a one dimensional array with be passed, while in the second case it will be a 2-dimensional array with one column, i.e. a column vector.</p><h3 id="Test-the-Transformation"><a href="#Test-the-Transformation" class="headerlink" title="Test the Transformation"></a>Test the Transformation</h3><p>We can use the <code>fit_transform!</code> shortcut to both fit the model and see what transformed data looks like. In this and the other examples, output is rounded to two digits with <code>round</code> to account for rounding errors on different hardware:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">round(fit_transform!(mapper, copy(data)), <span class="number">2</span>)</span><br></pre></td></tr></table></figure><pre><code>8x4 Array{Float64,2}: 1.0  0.0  0.0   0.21 0.0  1.0  0.0   1.88 0.0  1.0  0.0  -0.63 0.0  0.0  1.0  -0.63 1.0  0.0  0.0  -1.46 0.0  1.0  0.0  -0.63 1.0  0.0  0.0   1.04 0.0  0.0  1.0   0.21</code></pre><p>Note that the first three columns are the output of the LabelBinarizer (corresponding to <code>cat</code>, <code>dog</code>, and <code>fish</code><br> respectively) and the fourth column is the standardized value for the number of children. In general, the columns are ordered according to the order given when the DataFrameMapper is constructed.</p><p>Now that the transformation is trained, we confirm that it works on new data:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sample = DataFrame(pet= [<span class="string">"cat"</span>], children= [<span class="number">5.</span>])</span><br><span class="line">round(transform(mapper, sample), <span class="number">2</span>)</span><br></pre></td></tr></table></figure><pre><code>1x4 Array{Float64,2}: 1.0  0.0  0.0  1.04</code></pre><h3 id="Transform-Multiple-Columns"><a href="#Transform-Multiple-Columns" class="headerlink" title="Transform Multiple Columns"></a>Transform Multiple Columns</h3><p>Transformations may require multiple input columns. In these cases, the column names can be specified in a list:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@sk_import</span> decomposition: PCA</span><br><span class="line">mapper2 = DataFrameMapper([([:children, :salary], PCA(<span class="number">1</span>))]);</span><br></pre></td></tr></table></figure><p>Now running <code>fit_transform!</code> will run PCA on the <code>children</code> and <code>salary</code> columns and return the first principal component:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">round(fit_transform!(mapper2, copy(data)), <span class="number">1</span>)</span><br></pre></td></tr></table></figure><pre><code>8x1 Array{Float64,2}:  47.6 -18.4   1.6 -15.4 -10.4  16.6  -6.4 -15.4</code></pre><h3 id="Multiple-transformers-for-the-same-column"><a href="#Multiple-transformers-for-the-same-column" class="headerlink" title="Multiple transformers for the same column"></a>Multiple transformers for the same column</h3><p>Multiple transformers can be applied to the same column specifying them in a list:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@sk_import</span> preprocessing: Imputer</span><br><span class="line">mapper3 = DataFrameMapper([([:age], [Imputer()])]; NA2NaN=<span class="literal">true</span>)</span><br><span class="line">data_3 = DataFrame(age= <span class="meta">@data</span>([<span class="number">1</span>, NA, <span class="number">3</span>]))</span><br><span class="line">fit_transform!(mapper3, data_3)</span><br></pre></td></tr></table></figure><pre><code>3x1 Array{Float64,2}: 1.0 2.0 3.0</code></pre><h3 id="Columns-that-don’t-need-any-transformation"><a href="#Columns-that-don’t-need-any-transformation" class="headerlink" title="Columns that don’t need any transformation"></a>Columns that don’t need any transformation</h3><p>Only columns that are listed in the <code>DataFrameMapper</code> are kept. To keep a column but don’t apply any transformation to it, use <code>nothing</code> as transformer:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mapper3 = DataFrameMapper([</span><br><span class="line">     (:pet, LabelBinarizer()),</span><br><span class="line">     (:children, <span class="literal">nothing</span>)])</span><br><span class="line">round(fit_transform!(mapper3, copy(data)))</span><br></pre></td></tr></table></figure><pre><code>8x4 Array{Float64,2}: 1.0  0.0  0.0  4.0 0.0  1.0  0.0  6.0 0.0  1.0  0.0  3.0 0.0  0.0  1.0  3.0 1.0  0.0  0.0  2.0 0.0  1.0  0.0  3.0 1.0  0.0  0.0  5.0 0.0  0.0  1.0  4.0</code></pre><h2 id="Cross-validation"><a href="#Cross-validation" class="headerlink" title="Cross-validation"></a>Cross-validation</h2><p>Now that we can combine features from a DataFrame, we may want to use cross-validation to see whether our model works.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@sk_import</span> linear_model: LinearRegression</span><br><span class="line"></span><br><span class="line">pipe = Pipelines.Pipeline([</span><br><span class="line">     (:featurize, mapper),</span><br><span class="line">     (:lm, LinearRegression())])</span><br><span class="line">round(CrossValidation.cross_val_score(pipe, data, data[:salary]), <span class="number">2</span>)</span><br></pre></td></tr></table></figure><pre><code>3-element Array{Float64,1}:  -1.09  -5.3  -15.38</code></pre><h2 id="Iris-Dataset"><a href="#Iris-Dataset" class="headerlink" title="Iris Dataset"></a>Iris Dataset</h2><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> RDatasets: dataset</span><br><span class="line"><span class="keyword">using</span> ScikitLearn</span><br><span class="line"></span><br><span class="line"><span class="meta">@sk_import</span> linear_model: LogisticRegression</span><br><span class="line"></span><br><span class="line">iris = dataset(<span class="string">"datasets"</span>, <span class="string">"iris"</span>)</span><br><span class="line"></span><br><span class="line">X = convert(<span class="built_in">Array</span>, iris[[:SepalLength, :SepalWidth, :PetalLength, :PetalWidth]])</span><br><span class="line">y = convert(<span class="built_in">Array</span>, iris[:Species])</span><br><span class="line"></span><br><span class="line">model = fit!(LogisticRegression(), X, y)</span><br><span class="line">accuracy = sum(predict(model, X) .== y) / length(y)</span><br><span class="line">println(<span class="string">"accuracy: <span class="variable">$accuracy</span>"</span>)  <span class="comment"># accuracy on training set</span></span><br></pre></td></tr></table></figure><pre><code>WARNING: Compat.UTF8String is deprecated, use String instead.  likely near /Users/kay/.julia/v0.6/IJulia/src/kernel.jl:31WARNING: Compat.UTF8String is deprecated, use String instead.  likely near /Users/kay/.julia/v0.6/IJulia/src/kernel.jl:31WARNING: Compat.UTF8String is deprecated, use String instead.  likely near /Users/kay/.julia/v0.6/IJulia/src/kernel.jl:31WARNING: Compat.UTF8String is deprecated, use String instead.  likely near /Users/kay/.julia/v0.6/IJulia/src/kernel.jl:31WARNING: Compat.UTF8String is deprecated, use String instead.  likely near /Users/kay/.julia/v0.6/IJulia/src/kernel.jl:31WARNING: Compat.UTF8String is deprecated, use String instead.  likely near /Users/kay/.julia/v0.6/IJulia/src/kernel.jl:31WARNING: Compat.UTF8String is deprecated, use String instead.  likely near /Users/kay/.julia/v0.6/IJulia/src/kernel.jl:31accuracy: 0.96</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> ScikitLearn.CrossValidation: cross_val_score</span><br><span class="line"></span><br><span class="line">cross_val_score(LogisticRegression(), X, y, cv=<span class="number">5</span>)  <span class="comment"># 5-fold</span></span><br></pre></td></tr></table></figure><pre><code>5-element Array{Float64,1}: 1.0      0.966667 0.933333 0.9      1.0     </code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> ScikitLearn.GridSearch: GridSearchCV</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gridsearch = GridSearchCV(LogisticRegression(), <span class="built_in">Dict</span>(:C =&gt; <span class="number">0.1</span>:<span class="number">0.1</span>:<span class="number">2.0</span>))</span><br><span class="line">fit!(gridsearch, X, y)</span><br><span class="line">println(<span class="string">"Best parameters: <span class="subst">$(gridsearch.best_params_)</span>"</span>)</span><br></pre></td></tr></table></figure><pre><code>Best parameters: Dict{Symbol,Any}(Pair{Symbol,Any}(:C, 1.1))</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line"></span><br><span class="line">plot([cv_res.parameters[:C] <span class="keyword">for</span> cv_res <span class="keyword">in</span> gridsearch.grid_scores_],</span><br><span class="line">[mean(cv_res.cv_validation_scores) <span class="keyword">for</span> cv_res <span class="keyword">in</span> gridsearch.grid_scores_])</span><br></pre></td></tr></table></figure><pre><code>[1m[36mINFO: [39m[22m[36mRecompiling stale cache file /Users/kay/.julia/lib/v0.6/PyPlot.ji for module PyPlot.[39m</code></pre><p><img src="http://oye4atjxc.bkt.clouddn.com/leanote/iris/output_4_1.png" alt="png"></p><pre><code>1-element Array{PyCall.PyObject,1}: PyObject &lt;matplotlib.lines.Line2D object at 0x1a3b5abc50&gt;</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?GridSearchCV</span><br></pre></td></tr></table></figure><pre><code>search: [1mG[22m[1mr[22m[1mi[22m[1md[22m[1mS[22m[1me[22m[1ma[22m[1mr[22m[1mc[22m[1mh[22m</code></pre><p>Exhaustive search over specified parameter values for an estimator.</p><p>Important members are fit, predict.</p><p>GridSearchCV implements a “fit” method and a “predict” method like any classifier except that the parameters of the classifier used to predict is optimized by cross-validation.</p><h2 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h2><p>estimator : object type that implements the “fit” and “predict” methods     A object of that type is instantiated for each grid point.</p><p>param_grid : dict or list of dictionaries     Dictionary with parameters names (string) as keys and lists of     parameter settings to try as values, or a list of such     dictionaries, in which case the grids spanned by each dictionary     in the list are explored. This enables searching over any sequence     of parameter settings.</p><p>scoring : string, callable or None, optional, default: None     A string (see model evaluation documentation) or     a scorer callable object / function with signature     $scorer(estimator, X, y)$.</p><p>fit_params : dict, optional     Parameters to pass to the fit method.</p><p>n_jobs : int, default 1     Number of jobs to run in parallel.</p><p>pre_dispatch : int, or string, optional     Controls the number of jobs that get dispatched during parallel     execution. Reducing this number can be useful to avoid an     explosion of memory consumption when more jobs get dispatched     than CPUs can process. This parameter can be:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- None, in which case all the jobs are immediately</span><br><span class="line">  created and spawned. Use this for lightweight and</span><br><span class="line">  fast-running jobs, to avoid delays due to on-demand</span><br><span class="line">  spawning of the jobs</span><br><span class="line"></span><br><span class="line">- An int, giving the exact number of total jobs that are</span><br><span class="line">  spawned</span><br><span class="line"></span><br><span class="line">- A string, giving an expression as a function of n_jobs,</span><br><span class="line">  as in &apos;2*n_jobs&apos;</span><br></pre></td></tr></table></figure><p>iid : boolean, default=True     If True, the data is assumed to be identically distributed across     the folds, and the loss minimized is the total loss per sample,     and not the mean loss across the folds.</p><p>cv : integer or cross-validation generator, default=3     If an integer is passed, it is the number of folds.     Specific cross-validation objects can be passed, see     sklearn.cross_validation module for the list of possible objects</p><p>refit : boolean, default=True     Refit the best estimator with the entire dataset.     If “False”, it is impossible to make predictions using     this GridSearchCV instance after fitting.</p><p>verbose : integer     Controls the verbosity: the higher, the more messages.</p><p>error_score : ‘raise’ (default) or numeric     Value to assign to the score if an error occurs in estimator fitting.     If set to ‘raise’, the error is raised. If a numeric value is given,     FitFailedWarning is raised. This parameter does not affect the refit     step, which will always raise the error.</p><h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><blockquote><blockquote><blockquote><p>from sklearn import svm, grid_search, datasets iris = datasets.load_iris() parameters = {‘kernel’:(‘linear’, ‘rbf’), ‘C’:[1, 10]} svr = svm.SVC() clf = grid_search.GridSearchCV(svr, parameters) clf.fit(iris.data, iris.target)</p></blockquote></blockquote></blockquote><p>…                             # doctest: +NORMALIZE_WHITESPACE +ELLIPSIS GridSearchCV(cv=None, error_score=…,        estimator=SVC(C=1.0, cache_size=…, class_weight=…, coef0=…,                      degree=…, gamma=…, kernel=’rbf’, max_iter=-1,                      probability=False, random_state=None, shrinking=True,                      tol=…, verbose=False),        fit_params={}, iid=…, n_jobs=1,        param_grid=…, pre_dispatch=…, refit=…,        scoring=…, verbose=…)</p><h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><p>grid<em>scores</em> : list of named tuples     Contains scores for all parameter combinations in param_grid.     Each entry corresponds to one parameter setting.     Each named tuple has the attributes:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* ``parameters``, a dict of parameter settings</span><br><span class="line">* ``mean_validation_score``, the mean score over the</span><br><span class="line">  cross-validation folds</span><br><span class="line">* ``cv_validation_scores``, the list of scores for each fold</span><br></pre></td></tr></table></figure><p>best<em>estimator</em> : estimator     Estimator that was chosen by the search, i.e. estimator     which gave highest score (or smallest loss if specified)     on the left out data. Not available if refit=False.</p><p>best<em>score</em> : float     Score of best_estimator on the left out data.</p><p>best<em>params</em> : dict     Parameter setting that gave the best results on the hold out data.</p><p>scorer_ : function     Scorer function used on the held out data to choose the best     parameters for the model.</p><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><p>The parameters selected are those that maximize the score of the left out data, unless an explicit score is passed in which case it is used instead.</p><p>If <code>n_jobs</code> was set to a value higher than one, the data is copied for each point in the grid (and not <code>n_jobs</code> times). This is done for efficiency reasons if individual jobs take very little time, but may raise errors if the dataset is large and not enough memory is available.  A workaround in this case is to set <code>pre_dispatch</code>. Then, the memory is copied only <code>pre_dispatch</code> many times. A reasonable value for <code>pre_dispatch</code> is <code>2 * n_jobs</code>.</p><h2 id="See-Also"><a href="#See-Also" class="headerlink" title="See Also"></a>See Also</h2><p>:class:<code>ParameterGrid</code>:     generates all the combinations of a an hyperparameter grid.</p><p>:func:<code>sklearn.cross_validation.train_test_split</code>:     utility function to split the data into a development set usable     for fitting a GridSearchCV instance and an evaluation set for     its final evaluation.</p><p>:func:<code>sklearn.metrics.make_scorer</code>:     Make a scorer from a performance metric or loss function.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Grid</span><br></pre></td></tr></table></figure><pre><code>UndefVarError: Grid not defined</code></pre><p>​    </p><pre><code>Stacktrace: [1] include_string(::String, ::String) at ./loading.jl:515</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> PyCall</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PyCall.np</span><br></pre></td></tr></table></figure><pre><code>UndefVarError: np not defined</code></pre><p>​    </p><pre><code>Stacktrace: [1] include_string(::String, ::String) at ./loading.jl:515</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pyimport</span> numpy</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytypeof(model[:predict](X))</span><br></pre></td></tr></table></figure><pre><code>PyObject &lt;type &apos;numpy.ndarray&apos;&gt;</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyisinstance(model[:predict](X), numpy.ndarray)</span><br></pre></td></tr></table></figure><pre><code>true</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pyimport</span> sklearn.decomposition as decomp</span><br><span class="line"><span class="meta">@pyimport</span> sklearn.linear_model as lin</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">log_mod = lin.LinearRegression()[:fit](randn(<span class="number">50</span>, <span class="number">3</span>), rand(<span class="number">0</span>:<span class="number">1</span>, <span class="number">50</span>))</span><br><span class="line">log_mod[:predict](randn(<span class="number">50</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure><pre><code>50-element Array{Float64,1}:  0.162175   0.722845   0.362414   0.549103   0.763084   0.270936   0.485301   0.41325    0.393773   0.663121   0.595053   0.498473   0.42885    ⋮          0.639132   0.702459   0.60041    0.229709   0.296202   0.34932   -0.0609968  0.680865   0.0816659  0.433398   0.463019   0.542642 </code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m = decomp.PCA()[:fit](randn(<span class="number">20</span>,<span class="number">10</span>))</span><br><span class="line">m[:transform](randn(<span class="number">30</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure><pre><code>30×10 Array{Float64,2}:  0.0492857  -0.740589     0.0282217  …   0.607899    0.582307    1.04095   -0.766687   -0.00563516  -0.972977      -0.111523   -1.61246     1.21119   -0.304345   -0.195561     0.523944       1.17019    -0.159978   -2.34993   -1.5165      0.725348    -0.589536      -0.077829    0.384159   -2.53808    0.10421    -0.592984    -0.579348       0.581532    0.0428926  -0.231679  -1.92898     1.20708     -1.7819     …  -1.17005    -0.994895   -1.03124   -0.436318    0.954802    -0.300581      -0.849914    2.33628     0.810238  -1.10481     0.913266     0.872128      -0.0772121  -0.562754   -0.689544  -0.456214    0.16222      0.0980988     -0.773041   -0.764416    0.683189  -0.273398    1.21917      0.627378      -1.00523     0.514595   -2.58339    0.570575    0.247493    -1.07453    …  -0.366462    0.36321    -0.639821  -0.233897   -1.67526     -1.66674        1.33278     0.122427    1.04181   -0.624457    0.741128    -1.67955       -0.311017    1.28079    -0.685025   ⋮                                   ⋱                                     -0.388898   -2.29054      0.498946      -2.33793     1.6837     -0.488352   0.403224    0.317897    -0.290501      -1.13959     0.55129     1.11115    0.857659   -0.918163    -0.0997422  …  -1.3764      0.581696   -0.0762093  0.304933    0.549334     1.4302         0.335545   -0.934283    0.110987  -0.255592   -1.78458     -0.831169       0.572008    1.22434     0.335873   0.31237    -1.03264     -1.22471       -0.258204   -0.299442   -0.995692   0.405265   -0.508662     0.657679      -0.404234    1.092      -0.439828   0.390309   -1.77777      0.132518   …   2.10857    -1.26122     0.442358  -0.687856    1.27136      1.76452       -1.73486    -0.400697    0.084941  -0.963835   -0.826341    -1.03699       -0.11351     2.36443    -1.27699   -1.94291    -1.02019      0.786294      -2.08115    -0.954      -1.44567   -0.926151    1.12885     -0.56298       -1.75913     0.183775   -0.987595 </code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model[:predict](X)</span><br></pre></td></tr></table></figure><pre><code>PyObject array([&apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;, &apos;setosa&apos;,       &apos;setosa&apos;, &apos;setosa&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;virginica&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;virginica&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;,       &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;versicolor&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;versicolor&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;,       &apos;virginica&apos;, &apos;virginica&apos;, &apos;virginica&apos;],      dtype=&apos;|S10&apos;)</code></pre>]]></content>
      
      
        <tags>
            
            <tag> julia </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>dot语法总结</title>
      <link href="/2017/12/28/dot%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93/"/>
      <url>/2017/12/28/dot%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h2><p>dot是开源工具包<a href="http://graphviz.org/" target="_blank" rel="noopener">Graphviz</a>上用来画图的一门脚本语言。通过布局引擎解析脚本得到图像，然后可以将图像导出为各种格式以满足需求。主要用于编写脚本来画各种结构示意图和流程图。</p><a id="more"></a><p>Graphviz的文件后缀名是<code>.gv</code>。每个<code>.gv</code>文件代表一个图，可以通过<code>dot -Tpng example.gv -o example.png</code>命令生成图像，或者使用Graphviz提供的工具gvedit来编辑和运行脚本。</p><p>dot脚本的语法特别简单，官方doc只有8页。下面简单介绍下dot脚本的一些语法。</p><h2 id="2-图的声明"><a href="#2-图的声明" class="headerlink" title="2.图的声明"></a>2.图的声明</h2><p>使用<code>digraph graphName</code>可以申明一个图，具体实现代码用一对花括号包裹起来。</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">digraph graph1 &#123;</span><br><span class="line">  <span class="comment">// statement</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当图中某些内容同属一个类时，我们可以申明一个子图将其包含在齐齐。使用<code>subgraph cluster_subgraphName</code>可以申明一个子图<a href="注意，子图的名字必须以cluster开始，否则引擎在解析时无法识别">^1</a>。</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subgraph cluster_subgraphName &#123;</span><br><span class="line">  <span class="comment">// statement</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>来看一个具体的例子</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">digraph example1 &#123;</span><br><span class="line">  label = <span class="string">"this is a graph"</span>;</span><br><span class="line">  a;b;</span><br><span class="line"></span><br><span class="line">  subgraph cluster_subgraphName1 &#123;</span><br><span class="line">    label = <span class="string">"this is a  subgraph"</span>;</span><br><span class="line">    bgcolor = greenyellow;</span><br><span class="line">    c;d;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.blog.csdn.net/20160731141833407"><br></div><h2 id="3-结点和边的声明"><a href="#3-结点和边的声明" class="headerlink" title="3.结点和边的声明"></a>3.结点和边的声明</h2><p>dot里结点的申明非常简单，只需要键入结点名字<code>nodeName</code>；同时，结点默认的现实内容为结点名字。</p><p>当结点内容有空格时，我们可以将结点用一堆双引号包含起来，解析引擎会直接提取双引号里面的内容创建结点。</p><p>使用符号<code>-&gt;</code>就可以申明一条边，<code>a -&gt; b</code>就代表由结点a连接到结点b的边<a href="这是在不需要对结点进行单独的属性设置情况下的">^2</a>。结点也可以连接到结点自身。</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a;</span><br><span class="line">b;</span><br><span class="line">a -&gt; b;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.blog.csdn.net/20160731143659300"><br></div><p>申明多条边的便捷语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a; b; c;</span><br><span class="line">a -&gt; b -&gt; c -&gt; c;</span><br></pre></td></tr></table></figure><h2 id="4-图的属性"><a href="#4-图的属性" class="headerlink" title="4.图的属性"></a>4.图的属性</h2><p>图的属性可以写在<code>graph[]</code>里，也可以直接写在外面:</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">digraph graph1 &#123;</span><br><span class="line">  bgcolor = red;</span><br><span class="line">  graph [bgcolor = red];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>图的属性包括</strong>：</p><ol><li><code>bgcolor</code>：设置图的背景颜色，可以使用rgb值，也可以用<code>#rrggbb</code>编码形式</li><li><code>label</code>：设置图的描述。label会继承到子图，如果不想子图重复label需手动设置</li><li><code>rankdir</code>：设置图的方向，包括：TB（top to bottom）、BT（bottom to top）、LR(left to Right）、RL（right to left）</li><li><code>rotate</code>：设置图的旋转。如<code>rotata = 90</code>代表旋转90度，默认逆时针</li><li><code>ratio</code>：设置图的长宽比，可以是一个浮点数，也可以是：fill、compress、auto</li></ol><h2 id="5-结点属性和边属性"><a href="#5-结点属性和边属性" class="headerlink" title="5.结点属性和边属性"></a>5.结点属性和边属性</h2><p>结点和边的属性设置非常简单，只需要在结点或者边的声明后面加上方括号，然后在方括号里填写属性键值对即可。键值对之间使用逗号进行分割。</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a [shape = egg, label = <span class="string">"this is node a"</span>];</span><br><span class="line">b [shape = circle, label = <span class="string">"this is node b"</span>];</span><br><span class="line">a -&gt; b [style = dashed, label = <span class="string">"this is edge a to b"</span>];</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.blog.csdn.net/20160731153349495"><br></div><p><strong>结点的常用属性</strong>：</p><ol><li><code>shape</code>：设置结点形状。包括：Mrecord（圆角矩形）、record（矩形）、circle（圆形）、box（矩形，和record略有区别，下面会讲到）、egg（蛋形）、doublecircle（双圆形）、plaintext（纯文本）、 ellipse（椭圆，默认）。</li><li><code>label</code>：设置结点的显示内容，内容用双引号包含，可以使用转义字符。当结点内容!=结点名时使用</li><li><code>style</code>：设置结点的样式。包括：filled(填充)、dotted（点状边框）、solid（普通边框）、dashed（虚线边框）、bold（边框加粗）、invis（隐形）。</li><li><code>color</code>：设置边框颜色。可以使用单词形式或者<code>#rrggbb</code>形式。</li><li><code>fillcolor</code>：设置填充颜色，仅style = filled时有效。</li><li><code>width</code>：设置结点宽度。</li><li><code>height</code>：设置结点高度。</li><li><code>perpheries</code>：设置结点边框个数。</li><li><code>fontcolor</code>：设置结点内容颜色。可以使用单词形式或者<code>#rrggbb</code>形式。</li></ol><p><strong>边的常用属性</strong>：<br>1.<code>style</code>：设置边的形状。包括：solid（实线）、dashed（虚线）、dotted（点线）、bold（加粗）、invis（隐形）。</p><ol><li><code>label</code>：设置边标签。内容用双引号包含，可以使用转义字符。</li><li><code>color</code>：设置边颜色。可以使用单词形式或者<code>#rrggbb</code>形式。</li><li><code>arrowhead</code>：设置结点箭头样式。包括：none、empty、odiamond等。</li></ol><p>使用<code>node[]</code>和<code>edge[]</code>可以分别设置结点和边的全局设置：</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">digraph graph1&#123;</span><br><span class="line">node [shape = egg];</span><br><span class="line">edge [style = dashed];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.blog.csdn.net/20160731152414150"><br></div><h2 id="6-其他应用"><a href="#6-其他应用" class="headerlink" title="6.其他应用"></a>6.其他应用</h2><h3 id="使dot支持中文"><a href="#使dot支持中文" class="headerlink" title="使dot支持中文"></a>使dot支持中文</h3><p>Graphviz默认是不支持中文的，输入的中文在生成的图中显示为一个空方块。如果想要让其支持中文，可以尝试以下方法：</p><ul><li>在命令行制定<code>-Nfontname = xxx.ttf</code>，在gv文件中输入utf-8编码的汉字</li><li>给graph、node、edge设置<code>fontname = xxx.ttf</code>然后设置label</li></ul><h3 id="使用record的label属性生成表格"><a href="#使用record的label属性生成表格" class="headerlink" title="使用record的label属性生成表格"></a>使用record的label属性生成表格</h3><p>前面提到record和box有所区别。原因就是：设置为record和Mrecord的结点的label属性可以很方便地生成单列的表格和UML图等。（类似于XAML里面的stack）</p><p>用一对双引号+一对花括号包含起来的就是表格内容，不同的格子之间用符号 | 隔开，尖括号里的内容表示一个锚点</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">example [shape = record, label = <span class="string">"&#123;&lt;head&gt;cell1 | cell2 | cell3&#125;"</span>];</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.blog.csdn.net/20160731165525158"><br></div><p>也可以生成空格只保留锚点：</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label=<span class="string">"&#123;&lt;b1&gt;|&lt;b2&gt;|&lt;b3&gt;&#125;"</span></span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.blog.csdn.net/20160731165843222"><br></div><h3 id="使用html标签生成表格"><a href="#使用html标签生成表格" class="headerlink" title="使用html标签生成表格"></a>使用html标签生成表格</h3><p>如果record生成的表格不符合预期，还可以使用html标签生成表格。只需要将结点的label属性设置为相应的html代码即可。</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">table1 [label=&lt;</span><br><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td port=<span class="string">"one"</span>&gt;<span class="number">1</span>&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;<span class="number">2</span>&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;<span class="number">3</span>&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;<span class="number">4</span>&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&gt;];</span><br></pre></td></tr></table></figure><p><code>port</code>属性可以给<code>td</code>增加一个锚点</p><h3 id="表格锚点的应用"><a href="#表格锚点的应用" class="headerlink" title="表格锚点的应用"></a>表格锚点的应用</h3><p>cell的锚点可以让使用者在cell之间划线</p><p>引用cell的锚点的语法为<code>table: anchorName</code></p><p>示例代码<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">digraph example2 &#123;</span><br><span class="line">  node [shape = record];</span><br><span class="line">  table1 [label = <span class="string">"&#123;&lt;head&gt;cell1 | cell2 | cell3&#125;"</span>];</span><br><span class="line">  table2 [label = <span class="string">"&#123;&lt;head&gt;cell1 | cell2&#125;"</span>];</span><br><span class="line"></span><br><span class="line">  table1: head -&gt; table2: head</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><div align="center"><br><img src="http://img.blog.csdn.net/20160731170546038"><br></div><h3 id="生成图形"><a href="#生成图形" class="headerlink" title="生成图形"></a>生成图形</h3><p>可以使用结点的某些属性来生成图形，如</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">circle [label=<span class="string">""</span>, shape=<span class="string">"circle"</span>, width=<span class="number">0.5</span>, fixedsize=<span class="literal">true</span>, style=filled, color=black];</span><br></pre></td></tr></table></figure><p>就生成了一个实心的黑色圆形。</p><h3 id="命令行全局设置"><a href="#命令行全局设置" class="headerlink" title="命令行全局设置"></a>命令行全局设置</h3><p>不仅可以使用代码里的全局设置，还可以在命令行里进行全局设置，这样就可以根据不同要求来生成图形。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dot -Grankdir=LR -Nshape=<span class="string">"plaintext"</span> -Earrowhead=<span class="string">"odiamond"</span> -Tpng example.dot -o example.png</span><br></pre></td></tr></table></figure><p><code>Grankdir</code>: graph rankdir<br><code>Nshape</code>: node shape<br><code>Earrowhead</code>: edge arrowhead</p><p>其他一些属性也可以按照这种规则填写</p><h3 id="添加注释"><a href="#添加注释" class="headerlink" title="添加注释"></a>添加注释</h3><p>dot的注释使用<code>//</code>（单行）或者<code>/* */</code>（多行）</p><h2 id="7-几个实例"><a href="#7-几个实例" class="headerlink" title="7.几个实例"></a>7.几个实例</h2><p>(1) 复杂的标签</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">digraph structs&#123;</span><br><span class="line">  <span class="comment">/* 把结点默认形状设置为矩形record,默认的是圆角矩形Mrecord */</span></span><br><span class="line">  node [shape = record];</span><br><span class="line"></span><br><span class="line">  struct1 [label = <span class="string">"left|middle|right"</span>];</span><br><span class="line">  struct2 [label = <span class="string">"one|two"</span>];</span><br><span class="line">  struct3 [label = <span class="string">"hello\nworld|&#123;b|&#123;c|d|e&#125;|f&#125;|g|h"</span>];</span><br><span class="line"></span><br><span class="line">  struct1 -&gt; struct2;</span><br><span class="line">  struct1 -&gt; struct3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.my.csdn.net/uploads/201212/03/1354528144_9002.png"><br></div><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">graph picture &#123;</span><br><span class="line"><span class="comment">//这幅图的名字</span></span><br><span class="line">label = <span class="string">"I love you"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//图名字的位置在bottom，也可以是t</span></span><br><span class="line">labelloc = b;</span><br><span class="line"></span><br><span class="line"><span class="comment">//图名字的位置在left，也可以是r</span></span><br><span class="line">labeljust = l;</span><br><span class="line"></span><br><span class="line">edge[decorate = <span class="literal">true</span>];</span><br><span class="line"></span><br><span class="line">C -- D [label = <span class="string">"s1"</span>];</span><br><span class="line">C -- E [label = <span class="string">"s2"</span>];</span><br><span class="line">C -- F [label = <span class="string">"s3"</span>];</span><br><span class="line">D -- E [label = <span class="string">"s4"</span>];</span><br><span class="line">D -- F [label = <span class="string">"s5"</span>];</span><br><span class="line"></span><br><span class="line">edge[decorate = <span class="literal">false</span>, labelfontcolor = blue, fontcolor = red];</span><br><span class="line">C1 -- D1 [headlabel = <span class="string">"c1"</span>,taillabel = <span class="string">"d1"</span>,label = <span class="string">"c1 - d1"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.my.csdn.net/uploads/201212/03/1354528195_3992.png"><br></div><p>(2) 行列对齐</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">digraph html &#123;</span><br><span class="line">rankdir = LR;</span><br><span class="line">&#123;</span><br><span class="line">node[shape = plaintext];</span><br><span class="line"><span class="number">1995</span> -&gt; <span class="number">1996</span> -&gt; <span class="number">1997</span> -&gt; <span class="number">1998</span> -&gt; <span class="number">1999</span> -&gt; <span class="number">2000</span> -&gt; <span class="number">2001</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">node[shape = box, style = filled];</span><br><span class="line">WAR3 -&gt; Xhero -&gt; Footman -&gt; DOTA:</span><br><span class="line">WAR3 -&gt; Battleship;</span><br><span class="line">&#125;</span><br><span class="line">&#123;rank = same; <span class="number">1996</span>; WAR3;&#125;</span><br><span class="line">&#123;rank = same; <span class="number">1998</span>; Xhero; Battleship;&#125;</span><br><span class="line">&#123;rank = same; <span class="number">1999</span>; Footman;&#125;</span><br><span class="line">&#123;rank = same; <span class="number">2001</span>; DOTA;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.my.csdn.net/uploads/201212/03/1354528314_2222.png"><br></div><p>(2)二叉树</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">digraph G &#123;</span><br><span class="line">label = <span class="string">"Binary search tree"</span>;</span><br><span class="line">node [shape = record];</span><br><span class="line"></span><br><span class="line">A [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;A|&lt;f2&gt;"</span>];</span><br><span class="line">B [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;B|&lt;f2&gt;"</span>];</span><br><span class="line">C [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;C|&lt;f2&gt;"</span>];</span><br><span class="line">D [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;D|&lt;f2&gt;"</span>];</span><br><span class="line">E [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;E|&lt;f2&gt;"</span>];</span><br><span class="line">F [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;F|&lt;f2&gt;"</span>];</span><br><span class="line">G [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;G|&lt;f2&gt;"</span>];</span><br><span class="line"></span><br><span class="line">A:f0 -&gt; B:f1;</span><br><span class="line">A:f2 -&gt; C:f1;</span><br><span class="line">B:f0 -&gt; D:f1;</span><br><span class="line">B:f2 -&gt; E:f1;</span><br><span class="line">C:f0 -&gt; F:f1;</span><br><span class="line">C:f2 -&gt; G:f1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.my.csdn.net/uploads/201212/03/1354528355_9701.png"><br></div><p>(4)哈希表</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">digraph G&#123;</span><br><span class="line">nodesep = .<span class="number">0</span>5;</span><br><span class="line">rankdir = LR;</span><br><span class="line"></span><br><span class="line">node [shape = record,width = .<span class="number">1</span>,height = .<span class="number">1</span>];</span><br><span class="line">node0 [label = <span class="string">"&lt;f0&gt;|&lt;f1&gt;|&lt;f2&gt;|&lt;f3&gt;|&lt;f4&gt;|&lt;f5&gt;|&lt;f6&gt;|"</span>,height = <span class="number">2.5</span>];</span><br><span class="line"></span><br><span class="line">node [width = <span class="number">1.5</span>];</span><br><span class="line">node1 [label = <span class="string">"&#123;&lt;n&gt;n14|719|&lt;p&gt;&#125;"</span>];</span><br><span class="line">node2 [label = <span class="string">"&#123;&lt;n&gt;a1|805|&lt;p&gt;&#125;"</span>];</span><br><span class="line">node3 [label = <span class="string">"&#123;&lt;n&gt;i9|718|&lt;p&gt;&#125;"</span>];</span><br><span class="line">node4 [label = <span class="string">"&#123;&lt;n&gt;e5|989|&lt;p&gt;&#125;"</span>];</span><br><span class="line">node5 [label = <span class="string">"&#123;&lt;n&gt;t20|959|&lt;p&gt;&#125;"</span>];</span><br><span class="line">node6 [label = <span class="string">"&#123;&lt;n&gt;o15|794|&lt;p&gt;&#125;"</span>];</span><br><span class="line">node7 [label = <span class="string">"&#123;&lt;n&gt;s19|659|&lt;p&gt;&#125;"</span>];</span><br><span class="line"></span><br><span class="line">node0:f0 -&gt; node1:n;</span><br><span class="line">node0:f1 -&gt; node2:n;</span><br><span class="line">node0:f2 -&gt; node3:n;</span><br><span class="line">node0:f5 -&gt; node4:n;</span><br><span class="line">node0:f6 -&gt; node5:n;</span><br><span class="line">node2:p -&gt; node6:n;</span><br><span class="line">node4:p -&gt; node7:n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.my.csdn.net/uploads/201212/03/1354528430_5081.png"><br></div><p>(5)流程图</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">digraph G&#123;</span><br><span class="line">subgraph cluster0 &#123;</span><br><span class="line">node [style = filled,color = white];</span><br><span class="line">style = filled;</span><br><span class="line">color = lightgrey;</span><br><span class="line">a0 -&gt; a1 -&gt; a2 -&gt; a3;</span><br><span class="line">label = <span class="string">"process #1"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">subgraph cluster1 &#123;</span><br><span class="line">node [style = filled];</span><br><span class="line">b0 -&gt; b1 -&gt; b2 -&gt; b3;</span><br><span class="line">label = <span class="string">"process #2"</span>;</span><br><span class="line">color = blue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">start -&gt; a0;</span><br><span class="line">start -&gt; b0;</span><br><span class="line">a1 -&gt; b3;</span><br><span class="line">b2 -&gt; a3;</span><br><span class="line">a3 -&gt; a0;</span><br><span class="line">a3 -&gt; end;</span><br><span class="line">b3 -&gt; end;</span><br><span class="line">start [shape = Mdiamond];</span><br><span class="line">end [shape = Msquare];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://img.my.csdn.net/uploads/201212/03/1354528519_8284.png"><br></div><h2 id="8-参考文献"><a href="#8-参考文献" class="headerlink" title="8.参考文献"></a>8.参考文献</h2><ol><li>啄木鸟社区关于GraphViz的文章：<a href="https://wiki.woodpecker.org.cn/moin/GraphViz" target="_blank" rel="noopener">https://wiki.woodpecker.org.cn/moin/GraphViz</a></li><li>Cnblog上的一篇文章：<a href="http://www.cnblogs.com/CoolJie/archive/2012/07/17/graphviz.html" target="_blank" rel="noopener">http://www.cnblogs.com/CoolJie/archive/2012/07/17/graphviz.html</a></li><li>简书上的dot学习笔记：<a href="http://www.jianshu.com/p/e44885a777f0" target="_blank" rel="noopener">http://www.jianshu.com/p/e44885a777f0</a></li><li>dot官方文档：<a href="http://www.graphviz.org/pdf/dotguide.pdf" target="_blank" rel="noopener">http://www.graphviz.org/pdf/dotguide.pdf</a></li><li>CSDN上关于python实现graphviz的文章：<a href="http://blog.csdn.net/a1368783069/article/details/52067404" target="_blank" rel="noopener">http://blog.csdn.net/a1368783069/article/details/52067404</a></li></ol>]]></content>
      
      
        <tags>
            
            <tag> dot </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>LeetCode Notes 001</title>
      <link href="/2017/12/28/LeetCode-Notes-001/"/>
      <url>/2017/12/28/LeetCode-Notes-001/</url>
      <content type="html"><![CDATA[<h3 id="Matrix"><a href="#Matrix" class="headerlink" title="Matrix"></a>Matrix</h3><p>Given a matrix consists of 0 and 1, find the distance of the nearest 0 for each cell.</p><p>The distance between two adjacent cells is 1.</p><a id="more"></a><p><strong>Example 1:</strong></p><p>Input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 0 0</span><br><span class="line">0 1 0</span><br><span class="line">0 0 0</span><br></pre></td></tr></table></figure></p><p>Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 0 0</span><br><span class="line">0 1 0</span><br><span class="line">0 0 0</span><br></pre></td></tr></table></figure></p><p><strong>Example 2:</strong></p><p>Input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 0 0</span><br><span class="line">0 1 0</span><br><span class="line">1 1 1</span><br></pre></td></tr></table></figure></p><p>Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 0 0</span><br><span class="line">0 1 0</span><br><span class="line">1 2 1</span><br></pre></td></tr></table></figure></p><p><strong>Note:</strong></p><ol><li>The number of elements of the given matrix will not exceed 10,000.</li><li>There are at least one 0 in the given matrix.</li><li>The cells are adjacent in only four directions: up, down, left and right.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[][]&#125; matrix</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> updateMatrix = <span class="function"><span class="keyword">function</span>(<span class="params">matrix</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// BFS</span></span><br><span class="line">  <span class="keyword">let</span> q = [];</span><br><span class="line">  <span class="keyword">let</span> hash = [];</span><br><span class="line">  <span class="keyword">let</span> [m, n] = [matrix.length, matrix[<span class="number">0</span>].length];</span><br><span class="line">  <span class="keyword">const</span> dir = [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">-1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">-1</span>]];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    hash[i] = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (matrix[i][j] === <span class="number">0</span>) &#123;</span><br><span class="line">        q.push(&#123;<span class="attr">x</span>: i, <span class="attr">y</span>: j, <span class="attr">step</span>: <span class="number">0</span>&#125;);</span><br><span class="line">        hash[i][j] = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (q.length) &#123;</span><br><span class="line">    <span class="keyword">let</span> item = q.shift();</span><br><span class="line">    <span class="keyword">let</span> &#123;x, y, step&#125; = item;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> _x = x + dir[i][<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">let</span> _y = y + dir[i][<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">if</span> (_x &lt; <span class="number">0</span> || _x &gt;= m || _y &lt; <span class="number">0</span> || _y &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">      <span class="keyword">if</span> (hash[_x][_y] !== <span class="literal">undefined</span>) <span class="keyword">continue</span>;</span><br><span class="line">      hash[_x][_y] = step + <span class="number">1</span>;</span><br><span class="line">      q.push(&#123;<span class="attr">x</span>: _x, <span class="attr">y</span>: _y, <span class="attr">step</span>: step + <span class="number">1</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> hash;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="3Sum"><a href="#3Sum" class="headerlink" title="3Sum"></a>3Sum</h3><p>Given an array S of n integers, are there elements a, b, c in S such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero.</p><p><strong>Note:</strong> The solution set must not contain duplicate triplets.</p><p>For example, given array S = [-1, 0, 1, 2, -1, -4],</p><p>A solution set is:<br>[<br>  [-1, 0, 1],<br>  [-1, -1, 2]<br>]</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> threeSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  nums.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = []</span><br><span class="line">  <span class="keyword">let</span> len = nums.length</span><br><span class="line"></span><br><span class="line">  <span class="comment">// enumerate the array, and assume the item to be the smallest one</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++ ) &#123; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// have already enumerate the item as the smallest one among the three</span></span><br><span class="line">    <span class="comment">// then continue</span></span><br><span class="line">    <span class="keyword">if</span> (i &amp;&amp; nums[i] === nums[i - <span class="number">1</span>]) <span class="keyword">continue</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">// the sum of another two should be</span></span><br><span class="line">    <span class="keyword">let</span> target = -nums[i]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// the indexes of another two </span></span><br><span class="line">    <span class="keyword">let</span> [start, end] = [i + <span class="number">1</span>, len - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">      <span class="keyword">let</span> sum = nums[start] + nums[end]</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">        end--</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">        start++</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ans.push([nums[i], nums[start], nums[end]])</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// remove the duplication</span></span><br><span class="line">        <span class="keyword">while</span> (nums[start] === nums[start + <span class="number">1</span>]) </span><br><span class="line">          start++</span><br><span class="line">        start++</span><br><span class="line"></span><br><span class="line">        <span class="comment">// remove the duplication</span></span><br><span class="line">        <span class="keyword">while</span> (nums[end] === nums[end - <span class="number">1</span>])</span><br><span class="line">          end--</span><br><span class="line">        end--</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3Sum-Closest"><a href="#3Sum-Closest" class="headerlink" title="3Sum Closest"></a>3Sum Closest</h3><p>Given an array S of n integers, find three integers in S such that the sum is closest to a given number, target. Return the sum of the three integers. You may assume that each input would have exactly one solution.</p><p>For example, given array <code>S = {-1 2 1 -4}</code>, and <code>target = 1</code>.</p><p>The sum that is closest to the target is <code>2</code>. (-1 + 2 + 1 = 2).</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params">a, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> start = <span class="number">0</span></span><br><span class="line">    , end = a.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(start &lt;= end) &#123;</span><br><span class="line">    <span class="keyword">var</span> mid = ~~((start + end) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (a[mid] &gt;= target)</span><br><span class="line">      end = mid - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">      start = mid + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> threeSumClosest = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  nums.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = nums.length;</span><br><span class="line">  <span class="keyword">var</span> ans = <span class="literal">Infinity</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = target - nums[i] - nums[j];</span><br><span class="line">      <span class="keyword">var</span> pos = binarySearch(nums, a);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="built_in">Math</span>.max(<span class="number">0</span>, pos - <span class="number">1</span>); k &lt;= <span class="built_in">Math</span>.min(pos + <span class="number">0</span>, len - <span class="number">1</span>); k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k === i || k === j) </span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> sum = nums[i] + nums[j] + nums[k];</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(sum - target) &lt; <span class="built_in">Math</span>.abs(ans - target))</span><br><span class="line">          ans = sum;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="4Sum"><a href="#4Sum" class="headerlink" title="4Sum"></a>4Sum</h3><p>Given an array S of n integers, are there elements a, b, c, and d in S such that a + b + c + d = target? Find all unique quadruplets in the array which gives the sum of target.</p><p><strong>Note:</strong> The solution set must not contain duplicate quadruplets.</p><p>For example, given array S = [1, 0, -1, 0, -2, 2], and target = 0.</p><p>A solution set is:<br>[<br>  [-1,  0, 0, 1],<br>  [-2, -1, 1, 2],<br>  [-2,  0, 0, 2]<br>]</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; target</span></span><br><span class="line"><span class="comment"> * @return &#123;number[][]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> fourSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  nums.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> hash = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> len = nums.length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = nums[i]</span><br><span class="line">        , b = nums[j]</span><br><span class="line">        , c = a + b;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (hash[c] === <span class="literal">undefined</span>) </span><br><span class="line">        hash[c] = [[i, j]];</span><br><span class="line">      <span class="keyword">else</span> </span><br><span class="line">        hash[c].push([i, j]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ans = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> hashSet = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = nums[i]</span><br><span class="line">        , b = nums[j]</span><br><span class="line">        , sum = target - a - b;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!hash[sum])</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>, _len = hash[sum].length; k &lt; _len; k++) &#123;</span><br><span class="line">        <span class="keyword">var</span> item = hash[sum][k];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item[<span class="number">0</span>] === i || item[<span class="number">1</span>] === i || item[<span class="number">0</span>] === j || item[<span class="number">1</span>] === j)</span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> c = nums[item[<span class="number">0</span>]]</span><br><span class="line">          , d = nums[item[<span class="number">1</span>]];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> tmp = [a, b, c, d].sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> a - b;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> str = tmp.join(<span class="string">','</span>);</span><br><span class="line">        <span class="keyword">if</span> (!hashSet[str]) &#123;</span><br><span class="line">          hashSet[str] = <span class="literal">true</span>;</span><br><span class="line">          ans.push(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="4Sum-II"><a href="#4Sum-II" class="headerlink" title="4Sum II"></a>4Sum II</h3><p>Given four lists A, B, C, D of integer values, compute how many tuples (i, j, k, l) there are such that A[i] + B[j] + C[k] + D[l] is zero.</p><p>To make problem a bit easier, all A, B, C, D have same length of N where 0 ≤ N ≤ 500. All integers are in the range of -228 to 228 - 1 and the result is guaranteed to be at most 231 - 1.</p><p><strong>Example:</strong></p><p>Input:<br>A = [ 1, 2]<br>B = [-2,-1]<br>C = [-1, 2]<br>D = [ 0, 2]</p><p>Output:<br>2</p><p>Explanation:<br>The two tuples are:</p><ol><li>(0, 0, 0, 1) -&gt; A[0] + B[0] + C[0] + D[1] = 1 + (-2) + (-1) + 2 = 0</li><li>(1, 1, 0, 0) -&gt; A[1] + B[1] + C[0] + D[0] = 2 + (-1) + (-1) + 0 = 0</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; A</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; B</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; C</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; D</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> fourSumCount = <span class="function"><span class="keyword">function</span>(<span class="params">A, B, C, D</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, lenA = A.length; i &lt; lenA; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>, lenB = B.length; j &lt; lenB; j++) &#123;</span><br><span class="line">      <span class="keyword">let</span> sum = A[i] + B[j];</span><br><span class="line">      <span class="keyword">let</span> count = ~~p.get(sum);</span><br><span class="line">      p.set(sum, count + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, lenC = C.length; i &lt; lenC; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>, lenD = D.length; j &lt; lenD; j++) &#123;</span><br><span class="line">      <span class="keyword">let</span> sum = C[i] + D[j];</span><br><span class="line">      ans += ~~p.get(-sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Add-and-Search-Word-–-Data-structure-design"><a href="#Add-and-Search-Word-–-Data-structure-design" class="headerlink" title="Add and Search Word – Data structure design"></a>Add and Search Word – Data structure design</h3><p>Design a data structure that supports the following two operations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void addWord(word)</span><br><span class="line">bool search(word)</span><br></pre></td></tr></table></figure><p>search(word) can search a literal word or a regular expression string containing only letters a-z or .. A . means it can represent any one letter.</p><p>For example:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">addWord(&quot;bad&quot;)</span><br><span class="line">addWord(&quot;dad&quot;)</span><br><span class="line">addWord(&quot;mad&quot;)</span><br><span class="line">search(&quot;pad&quot;) -&gt; false</span><br><span class="line">search(&quot;bad&quot;) -&gt; true</span><br><span class="line">search(&quot;.ad&quot;) -&gt; true</span><br><span class="line">search(&quot;b..&quot;) -&gt; true</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>You may assume that all words are consist of lowercase letters <code>a-z</code>.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.nodes = [];</span><br><span class="line">  <span class="keyword">this</span>.endFlag = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @constructor</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> WordDictionary = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.startNode = <span class="keyword">new</span> Node();</span><br><span class="line">  <span class="comment">// 以该 node 结尾的单词存在</span></span><br><span class="line">  <span class="keyword">this</span>.startNode.endFlag = <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; word</span></span><br><span class="line"><span class="comment"> * @return &#123;void&#125;</span></span><br><span class="line"><span class="comment"> * Adds a word into the data structure.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">WordDictionary.prototype.addWord = <span class="function"><span class="keyword">function</span>(<span class="params">word</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> node = <span class="keyword">this</span>.startNode;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = word.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = word.charCodeAt(i) - <span class="number">97</span>;</span><br><span class="line">    <span class="keyword">if</span> (!node.nodes[item]) &#123;</span><br><span class="line">      node.nodes[item] = <span class="keyword">new</span> Node();</span><br><span class="line">    &#125;</span><br><span class="line">    node = node.nodes[item];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  node.endFlag = <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; word</span></span><br><span class="line"><span class="comment"> * @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> * Returns if the word is in the data structure. A word could</span></span><br><span class="line"><span class="comment"> * contain the dot character '.' to represent any one letter.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">WordDictionary.prototype.search = <span class="function"><span class="keyword">function</span>(<span class="params">word</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> node = <span class="keyword">this</span>.startNode;</span><br><span class="line">  <span class="keyword">var</span> isFound = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  dfs(node, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">node, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (isFound)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (index === word.length) &#123;</span><br><span class="line">      isFound = node.endFlag;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (word[index] === <span class="string">'.'</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node.nodes[i])</span><br><span class="line">          dfs(node.nodes[i], index + <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> item = word.charCodeAt(index) - <span class="number">97</span>;</span><br><span class="line">      <span class="keyword">if</span> (node.nodes[item])</span><br><span class="line">        dfs(node.nodes[item], index + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isFound;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your WordDictionary object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * var wordDictionary = new WordDictionary();</span></span><br><span class="line"><span class="comment"> * wordDictionary.addWord("word");</span></span><br><span class="line"><span class="comment"> * wordDictionary.search("pattern");</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>剑指offer--JavaScript版III</title>
      <link href="/2017/12/27/%E5%89%91%E6%8C%87offer-JavaScript%E7%89%88III/"/>
      <url>/2017/12/27/%E5%89%91%E6%8C%87offer-JavaScript%E7%89%88III/</url>
      <content type="html"><![CDATA[<p>51.<br>请实现一个函数用来判断字符串是否表示数值（包括整数和小数）。例如，字符串”+100”,”5e2”,”-123”,”3.1416”和”-1E-16”都表示数值。 但是”12e”,”1a3.14”,”1.2.3”,”+-5”和”12e+4.3”都不是。</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumeric</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="regexp">/^[+-]?(?:(\d+)(\.\d+)?|(\.\d+))([eE][+-]?\d+)?$/</span>;</span><br><span class="line">    <span class="keyword">return</span> reg.test(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>52.<br>请实现一个函数用来找出字符流中第一个只出现一次的字符。例如，当从字符流中只读出前两个字符”go”时，第一个只出现一次的字符是”g”。当从该字符流中读出前六个字符“google”时，第一个只出现一次的字符是”l”。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    streamNums = [];</span><br><span class="line">    streamNumsLen = <span class="number">256</span>;</span><br><span class="line">    streamNumsIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; streamNumsLen; i++) &#123;</span><br><span class="line">        streamNums[i] = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Insert</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> code = ch.charCodeAt();</span><br><span class="line">    <span class="keyword">if</span> (streamNums[code] == <span class="number">-1</span>) &#123;</span><br><span class="line">        streamNums[code] = streamNumsIndex;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (streamNums[code] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        streamNums[code] = <span class="number">-2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    streamNumsIndex++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FirstAppearingOnce</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    result = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">var</span> ch = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">var</span> minIndex = <span class="literal">Infinity</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; streamNumsLen; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (streamNums[i] &gt;= <span class="number">0</span> &amp;&amp; streamNums[i] &lt; minIndex) &#123;</span><br><span class="line">            ch = <span class="built_in">String</span>.fromCharCode(i);</span><br><span class="line">            minIndex = streamNums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ch == <span class="string">""</span> ? <span class="string">'#'</span> : ch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>53.<br>一个链表中包含环，请找出该链表的环的入口结点。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">EntryNodeOfLoop</span>(<span class="params">pHead</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pHead) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> meeting = meetingNode(pHead);</span><br><span class="line">    <span class="keyword">if</span> (!meeting) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> nodeLoop = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> node1 = meeting;</span><br><span class="line">    <span class="keyword">while</span> (node1.next != meeting) &#123;</span><br><span class="line">        node1 = node1.next;</span><br><span class="line">        nodeLoop++;</span><br><span class="line">    &#125;</span><br><span class="line">    node1 = pHead;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nodeLoop; i++) &#123;</span><br><span class="line">        node1 = node1.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> node2 = pHead;</span><br><span class="line">    <span class="keyword">while</span> (node1 != node2) &#123;</span><br><span class="line">        node1 = node1.next;</span><br><span class="line">        node2 = node2.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node1;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">meetingNode</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!node || !node.next) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> slow = node.next;</span><br><span class="line">        <span class="keyword">var</span> fast = slow.next;</span><br><span class="line">        <span class="keyword">while</span> (fast &amp;&amp; slow) &#123;</span><br><span class="line">            <span class="keyword">if</span> (fast === slow) &#123;</span><br><span class="line">                <span class="keyword">return</span> fast;</span><br><span class="line">            &#125;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">            <span class="keyword">if</span> (fast) &#123;</span><br><span class="line">                fast = fast.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>54.<br>在一个排序的链表中，存在重复的结点，请删除该链表中重复的结点，重复的结点不保留，返回链表头指针。 例如，链表1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5 处理后为 1-&gt;2-&gt;5</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteDuplication</span>(<span class="params">pHead</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pHead) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> tempHead = <span class="keyword">new</span> ListNode(<span class="number">-1</span>);</span><br><span class="line">    tempHead.next = pHead;</span><br><span class="line">    <span class="keyword">var</span> preNode = tempHead;</span><br><span class="line">    <span class="keyword">var</span> curr1 = preNode.next;</span><br><span class="line">    <span class="keyword">var</span> curr2 = curr1.next;</span><br><span class="line">    <span class="keyword">while</span> (curr1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!curr2 || curr2.val !== curr1.val) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr1.next !== curr2) &#123;</span><br><span class="line">                clear(curr1, curr2);</span><br><span class="line">                preNode.next = curr2;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                preNode = curr1;</span><br><span class="line">            &#125;</span><br><span class="line">            curr1 = curr2;</span><br><span class="line">            <span class="keyword">if</span> (curr2) &#123;</span><br><span class="line">                curr2 = curr2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr2) &#123;</span><br><span class="line">                curr2 = curr2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tempHead.next;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params">node, stop</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> temp;</span><br><span class="line">        <span class="keyword">while</span> (node !== stop) &#123;</span><br><span class="line">            temp = node.next;</span><br><span class="line">            node.next = <span class="literal">null</span>;</span><br><span class="line">            node = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>55.<br>给定一个二叉树和其中的一个结点，请找出中序遍历顺序的下一个结点并且返回。注意，树中的结点不仅包含左右子结点，同时包含指向父结点的指针。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetNext</span>(<span class="params">pNode</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pNode) &#123;</span><br><span class="line">        <span class="keyword">return</span> pNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (pNode.right) &#123;</span><br><span class="line">        pNode = pNode.right;</span><br><span class="line">        <span class="keyword">while</span> (pNode.left) &#123;</span><br><span class="line">            pNode = pNode.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pNode;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pNode.next &amp;&amp; pNode.next.left == pNode) &#123;</span><br><span class="line">        <span class="keyword">return</span> pNode.next;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pNode.next &amp;&amp; pNode.next.right == pNode) &#123;</span><br><span class="line">        <span class="keyword">while</span> (pNode.next &amp;&amp; pNode.next.left != pNode) &#123;</span><br><span class="line">            pNode = pNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pNode.next;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>56.<br>请实现一个函数，用来判断一颗二叉树是不是对称的。注意，如果一个二叉树同此二叉树的镜像是同样的，定义其为对称的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isSymmetrical</span>(<span class="params">pRoot</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pRoot) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> symmetrical(pRoot, pRoot);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">symmetrical</span>(<span class="params">node1, node2</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!node1 &amp;&amp; !node2)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (!node1 || !node2)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (node1.val != node2.val)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> symmetrical(node1.left, node2.right) &amp;&amp; symmetrical(node1.right, node2.left);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>57.<br>请实现一个函数按照之字形打印二叉树，即第一行按照从左到右的顺序打印，第二层按照从右至左的顺序打印，第三行按照从左到右的顺序打印，其他行以此类推。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Print</span>(<span class="params">pRoot</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = [];</span><br><span class="line">    <span class="keyword">if</span> (!pRoot) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> que = [];</span><br><span class="line">    que.push(pRoot);</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span> (que.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> vec = [];</span><br><span class="line">        <span class="keyword">var</span> len = que.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> tmp = que.shift(); <span class="comment">//front</span></span><br><span class="line">            vec.push(tmp.val);</span><br><span class="line">            <span class="keyword">if</span> (tmp.left)</span><br><span class="line">                que.push(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right)</span><br><span class="line">                que.push(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            vec.reverse();</span><br><span class="line">        &#125;</span><br><span class="line">        res.push(vec);</span><br><span class="line">        flag = !flag;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>58.<br>从上到下按层打印二叉树，同一层结点从左至右输出。每一层输出一行。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Print</span>(<span class="params">pRoot</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = [];</span><br><span class="line">    <span class="keyword">if</span> (!pRoot) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> que = [];</span><br><span class="line">    que.push(pRoot);</span><br><span class="line">    <span class="keyword">while</span> (que.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> vec = [];</span><br><span class="line">        <span class="keyword">var</span> len = que.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> tmp = que.shift(); <span class="comment">//front</span></span><br><span class="line">            vec.push(tmp.val);</span><br><span class="line">            <span class="keyword">if</span> (tmp.left)</span><br><span class="line">                que.push(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right)</span><br><span class="line">                que.push(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        res.push(vec);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>59.<br>请实现两个函数，分别用来序列化和反序列化二叉树</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Serialize</span>(<span class="params">pNode</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> str = [];</span><br><span class="line">    ser(pNode);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = str.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (str[i] !== <span class="string">'#'</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        str.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str.join();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ser</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!node) &#123;</span><br><span class="line">            str.push(<span class="string">'#'</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        str.push(node.val);</span><br><span class="line">        ser(node.left);</span><br><span class="line">        ser(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Deserialize</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">var</span> len = str.length;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= len) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr = str.split(<span class="string">","</span>);</span><br><span class="line">    <span class="keyword">var</span> head = des();</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">des</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        index++;</span><br><span class="line">        <span class="keyword">if</span> (arr[index] &amp;&amp; arr[index] !== <span class="string">'#'</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> temp = <span class="keyword">new</span> TreeNode(arr[index]);</span><br><span class="line">            node = temp;</span><br><span class="line">            node.left = des();</span><br><span class="line">            node.right = des();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>60.<br>给定一颗二叉搜索树，请找出其中的第k大的结点。例如， 5 / \ 3 7 /\ /\ 2 4 6 8 中，按结点数值大小顺序第三个结点的值为4。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">KthNode</span>(<span class="params">pRoot, k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pRoot || !k) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> KthCore(pRoot);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">KthCore</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> target = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (node.left) &#123;</span><br><span class="line">            target = KthCore(node.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!target) &#123;</span><br><span class="line">            <span class="keyword">if</span> (k === <span class="number">1</span>)</span><br><span class="line">                target = node;</span><br><span class="line">            k--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!target &amp;&amp; node.right)</span><br><span class="line">            target = KthCore(node.right);</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>61.<br>如何得到一个数据流中的中位数？如果从数据流中读出奇数个数值，那么中位数就是所有数值排序之后位于中间的数值。如果从数据流中读出偶数个数值，那么中位数就是所有数值排序之后中间两个数的平均值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Insert</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    arr.push(num);</span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetMedian</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> mid = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> ((arr.length &amp; <span class="number">1</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n1 = arr[mid];</span><br><span class="line">        <span class="keyword">var</span> n2 = arr[mid - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span> (n1 + n2) / <span class="number">2</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> arr[mid]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>62.<br>给定一个数组和滑动窗口的大小，找出所有滑动窗口里数值的最大值。例如，如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口的大小3，那么一共存在6个滑动窗口，他们的最大值分别为{4,4,6,6,6,5}； 针对数组{2,3,4,2,6,2,5,1}的滑动窗口有以下6个： {[2,3,4],2,6,2,5,1}， {2,[3,4,2],6,2,5,1}， {2,3,[4,2,6],2,5,1}， {2,3,4,[2,6,2],5,1}， {2,3,4,2,[6,2,5],1}， {2,3,4,2,6,[2,5,1]}。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxInWindows</span>(<span class="params">num, size</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!num || num.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> max = [];</span><br><span class="line">    <span class="keyword">if</span> (num.length &gt;= size &amp;&amp; size &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> index = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (index.length &gt; <span class="number">0</span> &amp;&amp; num[i] &gt;= num[index[index.length - <span class="number">1</span>]])</span><br><span class="line">                index.pop();</span><br><span class="line">            index.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = size; i &lt; num.length; ++i) &#123;</span><br><span class="line">            max.push(num[index[<span class="number">0</span>]]);</span><br><span class="line">            <span class="keyword">while</span> (index.length &gt; <span class="number">0</span> &amp;&amp; num[i] &gt;= num[index[index.length - <span class="number">1</span>]])</span><br><span class="line">                index.pop();</span><br><span class="line">            <span class="keyword">if</span> (index.length &gt; <span class="number">0</span> &amp;&amp; index[<span class="number">0</span>] &lt;= i - size)</span><br><span class="line">                index.shift();</span><br><span class="line">            index.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        max.push(num[index[<span class="number">0</span>]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>63.<br>请设计一个函数，用来判断在一个矩阵中是否存在一条包含某字符串所有字符的路径。路径可以从矩阵中的任意一个格子开始，每一步可以在矩阵中向左，向右，向上，向下移动一个格子。如果一条路径经过了矩阵中的某一个格子，则该路径不能再进入该格子。 例如 a b c e s f c s a d e e 矩阵中包含一条字符串”bcced”的路径，但是矩阵中不包含”abcb”路径，因为字符串的第一个字符b占据了矩阵中的第一行第二个格子之后，路径不能再次进入该格子。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPath</span>(<span class="params">matrix, rows, cols, path</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> visited = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; rows * cols; i++) &#123;</span><br><span class="line">        visited[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pathLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (core(i, j)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        visited.length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">core</span>(<span class="params">row, col</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (path.length === pathLen) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> hasPath = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (row &gt;= <span class="number">0</span> &amp;&amp; row = <span class="number">0</span> &amp;&amp; col &lt; cols &amp;&amp; matrix[row * cols + col] === path[pathLen] &amp;&amp; !visited[row * cols + col]) &#123;</span><br><span class="line">            pathLen++;</span><br><span class="line">            visited[row * cols + col] = <span class="literal">true</span>;</span><br><span class="line">            hasPath = core(row - <span class="number">1</span>, col) + core(row, col - <span class="number">1</span>)</span><br><span class="line">                + core(row + <span class="number">1</span>, col) + core(row, col + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (!hasPath) &#123;</span><br><span class="line">                pathLen--;</span><br><span class="line">                visited[row * cols + col] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hasPath;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>64.<br>地上有一个m行和n列的方格。一个机器人从坐标0,0的格子开始移动，每一次只能向左，右，上，下四个方向移动一格，但是不能进入行坐标和列坐标的数位之和大于k的格子。 例如，当k为18时，机器人能够进入方格（35,37），因为3+5+3+7 = 18。但是，它不能进入方格（35,38），因为3+5+3+8 = 19。请问该机器人能够达到多少个格子？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">movingCount</span>(<span class="params">threshold, rows, cols</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> visited = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; rows * cols; ++i)</span><br><span class="line">        visited[i] = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> count = movingCountCore(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    visited.length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getDigitSum</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (number &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            sum += number % <span class="number">10</span>;</span><br><span class="line">            number = <span class="built_in">Math</span>.floor(number / <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">row, col</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (row &gt;= <span class="number">0</span> &amp;&amp; row = <span class="number">0</span> &amp;&amp; col &lt; cols &amp;&amp; getDigitSum(row) + getDigitSum(col) &lt;= threshold &amp;&amp; !visited[row * cols + col])</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">movingCountCore</span>(<span class="params">row, col</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (check(row, col)) &#123;</span><br><span class="line">            visited[row * cols + col] = <span class="literal">true</span>;</span><br><span class="line">            count = <span class="number">1</span> + movingCountCore(row - <span class="number">1</span>, col)</span><br><span class="line">                + movingCountCore(row, col - <span class="number">1</span>)</span><br><span class="line">                + movingCountCore(row + <span class="number">1</span>, col)</span><br><span class="line">                + movingCountCore(row, col + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>手动测试框架</p><ul><li>二叉树构造</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TreeNode</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.val = x;</span><br><span class="line">    <span class="keyword">this</span>.left = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.right = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tree</span>(<span class="params">arr, node, num = <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!arr || arr.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    node = node || <span class="keyword">new</span> TreeNode(arr[num - <span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">var</span> curr = node;</span><br><span class="line">    <span class="keyword">if</span> (num * <span class="number">2</span> - <span class="number">1</span> &lt; arr.length &amp;&amp; arr[num * <span class="number">2</span> - <span class="number">1</span>]) &#123;</span><br><span class="line">        curr.left = <span class="keyword">new</span> TreeNode(arr[num * <span class="number">2</span> - <span class="number">1</span>]);</span><br><span class="line">        Tree(arr, curr.left, num * <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (num * <span class="number">2</span> &lt; arr.length &amp;&amp; arr[num * <span class="number">2</span>]) &#123;</span><br><span class="line">        curr.right = <span class="keyword">new</span> TreeNode(arr[num * <span class="number">2</span>]);</span><br><span class="line">        Tree(arr, curr.right, num * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 根据数组生成二叉树</span></span><br><span class="line"><span class="keyword">var</span> tree = <span class="keyword">new</span> Tree([<span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="literal">null</span>, <span class="number">10</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="number">5</span>, <span class="number">9</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(tree);</span><br></pre></td></tr></table></figure><ul><li>单向链表构造</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListNode</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.val = x;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LinkedList</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!arr || arr.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListNode(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="keyword">new</span> ListNode(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="keyword">var</span> curr = head;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> temp = <span class="keyword">new</span> ListNode(arr[i]);</span><br><span class="line">        curr.next = temp;</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ll = <span class="keyword">new</span> LinkedList([<span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">9</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(ll);</span><br></pre></td></tr></table></figure><ul><li>Node.js 多行输入测试 (如果不能运行请更新浏览器来支持 es6 语法)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* Todo: This Array contains the input lines in sequence. Each of the elements is like a line of input. */</span></span><br><span class="line">    <span class="keyword">var</span> test_lines = [<span class="string">'5'</span>, <span class="string">'1 2 3 3 5'</span>, <span class="string">'3'</span>, <span class="string">'1 2 1'</span>, <span class="string">'2 4 5'</span>, <span class="string">'3 5 3'</span>];   <span class="comment">// Do not change the name of this array if you don't like bugs.</span></span><br><span class="line">    <span class="comment">/****************************************************************</span></span><br><span class="line"><span class="comment">    Todo: Add your code here including the callback function of event 'rl.on()' and</span></span><br><span class="line"><span class="comment">    global variables except the statements and definitions of 'readline' and 'rl'.</span></span><br><span class="line"><span class="comment">    *****************************************************************/</span></span><br><span class="line">    <span class="comment">/* global variables here */</span></span><br><span class="line">    <span class="keyword">var</span> lines = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* callback function of 'rl.on()' */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">line</span>) </span>&#123;    <span class="comment">// Do not change the name of this function if you don't like bugs.</span></span><br><span class="line">        <span class="keyword">var</span> str = line.trim();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'lines'</span>, lines++, <span class="string">':'</span>, str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**************** End of Your Code *****************/</span></span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> test_len = test_lines.length;</span><br><span class="line">        <span class="keyword">var</span> test_it = gen(test_lines);</span><br><span class="line">        <span class="keyword">var</span> test_val = test_it.next();</span><br><span class="line">        <span class="keyword">while</span> (test_len) &#123;</span><br><span class="line">            main(test_val.value);</span><br><span class="line">            test_val = test_it.next();</span><br><span class="line">            test_len--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params">test_lines</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> len = test_lines.length;</span><br><span class="line">            <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (len) &#123;</span><br><span class="line">                <span class="keyword">yield</span> test_lines[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;())</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>剑指offer--JavaScript版II</title>
      <link href="/2017/12/27/%E5%89%91%E6%8C%87offer-JavaScript%E7%89%88II/"/>
      <url>/2017/12/27/%E5%89%91%E6%8C%87offer-JavaScript%E7%89%88II/</url>
      <content type="html"><![CDATA[<p>26.<br>输入一个字符串,按字典序打印出该字符串中字符的所有排列。例如输入字符串abc,则打印出由字符a,b,c所能排列出来的所有字符串abc,acb,bac,bca,cab和cba。</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Convert</span>(<span class="params">pRootOfTree</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pRootOfTree) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> lastNode = <span class="literal">null</span>;</span><br><span class="line">    lastNode = ConvertNode(pRootOfTree);</span><br><span class="line">    <span class="keyword">var</span> head = lastNode;</span><br><span class="line">    <span class="keyword">while</span> (head &amp;&amp; head.left) &#123;</span><br><span class="line">        head = head.left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ConvertNode</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!node) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.left) &#123;</span><br><span class="line">            lastNode = ConvertNode(node.left);</span><br><span class="line">        &#125;</span><br><span class="line">        node.left = lastNode;</span><br><span class="line">        <span class="keyword">if</span> (lastNode) &#123;</span><br><span class="line">            lastNode.right = node;</span><br><span class="line">        &#125;</span><br><span class="line">        lastNode = node;</span><br><span class="line">        <span class="keyword">if</span> (node.right) &#123;</span><br><span class="line">            lastNode = ConvertNode(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lastNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>27.<br>数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MoreThanHalfNum_Solution</span>(<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!numbers || numbers.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">var</span> len = numbers.length, index;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> index = numbers[i];</span><br><span class="line">        arr[index] !== <span class="literal">undefined</span> ? arr[index]++ : arr[index] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">var</span> arrLen = arr.length;</span><br><span class="line">    <span class="keyword">var</span> max = -<span class="literal">Infinity</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrLen; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!arr[i]) <span class="keyword">continue</span>;</span><br><span class="line">        max = arr[i] &gt; max ? (index = i, arr[i]) : max;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max &gt; len / <span class="number">2</span> ? index : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>28.<br>输入n个整数，找出其中最小的K个数。例如输入4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetLeastNumbers_Solution</span>(<span class="params">input, k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!input || input.length &lt; k) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> input.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;).slice(<span class="number">0</span>, k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>29.<br>HZ偶尔会拿些专业问题来忽悠那些非计算机专业的同学。今天测试组开完会后,他又发话了:在古老的一维模式识别中,常常需要计算连续子向量的最大和,当向量全为正数的时候,问题很好解决。但是,如果向量中包含负数,是否应该包含某个负数,并期望旁边的正数会弥补它呢？例如:{6,-3,-2,7,-15,1,2,2},连续子向量的最大和为8(从第0个开始,到第3个为止)。你会不会被他忽悠住？(子向量的长度至少是1)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FindGreatestSumOfSubArray</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (array.length &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> sum = array[<span class="number">0</span>],</span><br><span class="line">        tempsum = array[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">        tempsum = tempsum &lt; <span class="number">0</span> ? array[i] : tempsum + array[i];</span><br><span class="line">        sum = tempsum &gt; sum ? tempsum : sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>30.<br>求出1~13的整数中1出现的次数,并算出100~1300的整数中1出现的次数？为此他特别数了一下1~13中包含1的数字有1、10、11、12、13因此共出现6次,但是对于后面问题他就没辙了。ACMer希望你们帮帮他,并把问题更加普遍化,可以很快的求出任意非负整数区间中1出现的次数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberOf1Between1AndN</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> ones = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">while</span> (n) &#123;</span><br><span class="line">        arr.push(n);</span><br><span class="line">        n--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr.join(<span class="string">''</span>).replace(<span class="regexp">/[^1]+/g</span>, <span class="string">''</span>).length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>31.<br>输入一个正整数数组，把数组里所有数字拼接起来排成一个数，打印能拼接出的所有数字中最小的一个。例如输入数组{3，32，321}，则打印出这三个数字能排成的最小数字为321323。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrintMinNumber</span>(<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!numbers || numbers.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">var</span> temp = <span class="string">''</span>;</span><br><span class="line">    ordering(numbers);</span><br><span class="line">    result = result.map(<span class="built_in">Number</span>).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">min, a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> min &lt; a ? min : a;</span><br><span class="line">    &#125;, <span class="literal">Infinity</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ordering</span>(<span class="params">tempArr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> innerLen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (tempArr.length === <span class="number">0</span>) &#123;</span><br><span class="line">            result.push(temp);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; tempArr.length; i++) &#123;</span><br><span class="line">            innerLen = tempArr[i].toString().length;</span><br><span class="line">            temp += tempArr[i];</span><br><span class="line">            insideArr = tempArr.concat();</span><br><span class="line">            insideArr.splice(i, <span class="number">1</span>);</span><br><span class="line">            ordering(insideArr);</span><br><span class="line">            temp = temp.substring(<span class="number">0</span>, temp.length - innerLen);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>32.<br>把只包含因子2、3和5的数称作丑数（Ugly Number）。例如6、8都是丑数，但14不是，因为它包含因子7。 习惯上我们把1当做是第一个丑数。求按从小到大的顺序的第N个丑数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetUglyNumber</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index === <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> uglyNum = [<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">var</span> factor2 = <span class="number">0</span>, factor3 = <span class="number">0</span>, factor5 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; index; i++) &#123;</span><br><span class="line">        uglyNum[i] = <span class="built_in">Math</span>.min(uglyNum[factor2] * <span class="number">2</span>, uglyNum[factor3] * <span class="number">3</span>, uglyNum[factor5] * <span class="number">5</span>);</span><br><span class="line">        <span class="keyword">if</span> (uglyNum[i] === uglyNum[factor2] * <span class="number">2</span>) factor2++;</span><br><span class="line">        <span class="keyword">if</span> (uglyNum[i] === uglyNum[factor3] * <span class="number">3</span>) factor3++;</span><br><span class="line">        <span class="keyword">if</span> (uglyNum[i] === uglyNum[factor5] * <span class="number">5</span>) factor5++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> uglyNum[index - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>33.<br>在一个字符串(1&lt;=字符串长度&lt;=10000，全部由字母组成)中找到第一个只出现一次的字符,并返回它的位置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FirstNotRepeatingChar</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!str || !str.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> hash = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> tempArr = str.split(<span class="string">''</span>);</span><br><span class="line">    <span class="keyword">var</span> unique = [];</span><br><span class="line">    <span class="keyword">var</span> len = str.length, temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        temp = tempArr[i];</span><br><span class="line">        <span class="keyword">if</span> (hash[temp]) &#123;</span><br><span class="line">            hash[temp].push(i);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            hash[temp] = [i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> hash) &#123;</span><br><span class="line">        <span class="keyword">if</span> (hash.hasOwnProperty(key)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hash[key].length === <span class="number">1</span>) &#123;</span><br><span class="line">                unique.push(hash[key].pop());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, unique);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>35.<br>输入两个链表，找出它们的第一个公共结点。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FindFirstCommonNode</span>(<span class="params">pHead1, pHead2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pHead1 || !pHead2) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> len1 = getLength(pHead1);</span><br><span class="line">    <span class="keyword">var</span> len2 = getLength(pHead2);</span><br><span class="line">    <span class="keyword">var</span> lenDiff = len1 - len2;</span><br><span class="line">    <span class="keyword">var</span> curr1 = pHead1;</span><br><span class="line">    <span class="keyword">var</span> curr2 = pHead2;</span><br><span class="line">    <span class="keyword">if</span> (len2 &gt; len1) &#123;</span><br><span class="line">        curr1 = pHead2;</span><br><span class="line">        curr2 = pHead1;</span><br><span class="line">        lenDiff = len2 - len1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lenDiff; ++i)</span><br><span class="line">        curr1 = curr1.next;</span><br><span class="line">    <span class="keyword">while</span> (curr1 &amp;&amp; curr2 &amp;&amp; curr1 != curr2) &#123;</span><br><span class="line">        curr1 = curr1.next;</span><br><span class="line">        curr2 = curr2.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr1;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getLength</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> len = <span class="number">0</span>;</span><br><span class="line">        curr = node;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            len++;</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>36.<br>统计一个数字在排序数组中出现的次数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetNumberofK</span>(<span class="params">data, k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> data.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">count, a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a === k ? count+<span class="number">1</span> : count;</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>37.<br>输入一棵二叉树，求该树的深度。从根结点到叶结点依次经过的结点（含根、叶结点）形成树的一条路径，最长路径的长度为树的深度。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TreeDepth</span>(<span class="params">pRoot</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pRoot) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> depth = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> currDepth = <span class="number">0</span>;</span><br><span class="line">    dfs(pRoot);</span><br><span class="line">    <span class="keyword">return</span> depth;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!node) &#123;</span><br><span class="line">            depth = depth &gt; currDepth ? depth : currDepth;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        currDepth++;</span><br><span class="line">        dfs(node.left);</span><br><span class="line">        dfs(node.right);</span><br><span class="line">        currDepth--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>38.<br>输入一棵二叉树，判断该二叉树是否是平衡二叉树。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsBalanced</span>(<span class="params">pRoot</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pRoot) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> left = TreeDepth(pRoot.left);</span><br><span class="line">    <span class="keyword">var</span> right = TreeDepth(pRoot.right);</span><br><span class="line">    <span class="keyword">var</span> diff = left - right;</span><br><span class="line">    <span class="keyword">if</span> (diff &gt; <span class="number">1</span> || diff &lt; <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> IsBalanced(pRoot.left) &amp;&amp; IsBalanced(pRoot.right);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">TreeDepth</span>(<span class="params">pRoot</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!pRoot) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> depth = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> currDepth = <span class="number">0</span>;</span><br><span class="line">        dfs(pRoot);</span><br><span class="line">        <span class="keyword">return</span> depth;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!node) &#123;</span><br><span class="line">                depth = depth &gt; currDepth ? depth : currDepth;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            currDepth++;</span><br><span class="line">            dfs(node.left);</span><br><span class="line">            dfs(node.right);</span><br><span class="line">            currDepth--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>39.<br>一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FindNumsAppearOnce</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!array || array.length &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    <span class="keyword">return</span> array.sort().join(<span class="string">','</span>).replace(<span class="regexp">/(\d+),\1/g</span>, <span class="string">""</span>).replace(<span class="regexp">/,+/g</span>, <span class="string">','</span>).replace(<span class="regexp">/^,|,$/</span>,<span class="string">''</span>).split(<span class="string">','</span>).map(<span class="built_in">Number</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>40.<br>小明很喜欢数学,有一天他在做数学作业时,要求计算出9~16的和,他马上就写出了正确答案是100。但是他并不满足于此,他在想究竟有多少种连续的正数序列的和为100(至少包括两个数)。没多久,他就得到另一组连续正数和为100的序列:18,19,20,21,22。现在把问题交给你,你能不能也很快的找出所有和为S的连续正数序列? Good Luck!</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FindContinuousSequence</span>(<span class="params">sum</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sum &lt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> small = <span class="number">1</span>, big = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">var</span> mid = (<span class="number">1</span> + sum) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">var</span> curr = small + big;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">while</span> (small &lt; mid) &#123;</span><br><span class="line">        <span class="keyword">if</span> (curr === sum) &#123;</span><br><span class="line">            pushSeq(small, big);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (curr &gt; sum &amp;&amp; small &lt; mid) &#123;</span><br><span class="line">            curr -= small;</span><br><span class="line">            small++;</span><br><span class="line">            <span class="keyword">if</span> (curr === sum) &#123;</span><br><span class="line">                pushSeq(small, big);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        big++;</span><br><span class="line">        curr += big;</span><br><span class="line">    &#125;</span><br><span class="line">    result.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a[<span class="number">0</span>] - b[<span class="number">0</span>];&#125;);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">pushSeq</span>(<span class="params">small, big</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> temp = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = small; i &lt;= big; i++) &#123;</span><br><span class="line">            temp.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        result.push(temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>41.<br>输入一个递增排序的数组和一个数字S，在数组中查找两个数，是的他们的和正好是S，如果有多对数字的和等于S，输出两个数的乘积最小的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FindNumbersWith</span>(<span class="params">array, sum</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!array || !array.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">var</span> product = [];</span><br><span class="line">    <span class="keyword">var</span> head = <span class="number">0</span>, tail = array.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (head &lt; tail) &#123;</span><br><span class="line">        <span class="keyword">var</span> curr = array[head] + array[tail];</span><br><span class="line">        <span class="keyword">if</span> (curr === sum) &#123;</span><br><span class="line">            result.push([array[head], array[tail]]);</span><br><span class="line">            product.push(array[head] * array[tail]);</span><br><span class="line">            tail--;</span><br><span class="line">            head++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (curr &gt; sum) &#123;</span><br><span class="line">            tail--;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            head++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (result.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> min = <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, product);</span><br><span class="line">    <span class="keyword">var</span> index = product.indexOf(min);</span><br><span class="line">    <span class="keyword">return</span> result[index];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>42.<br>汇编语言中有一种移位指令叫做循环左移（ROL），现在有个简单的任务，就是用字符串模拟这个指令的运算结果。对于一个给定的字符序列S，请你把其循环左移K位后的序列输出。例如，字符序列S=”abcXYZdef”,要求输出循环左移3位后的结果，即“XYZdefabc”。是不是很简单？OK，搞定它！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LeftRotateString</span>(<span class="params">str, n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!str) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> len = str.length;</span><br><span class="line">    n = n % len;</span><br><span class="line">    <span class="keyword">var</span> left = str.slice(<span class="number">0</span>, n);</span><br><span class="line">    <span class="keyword">var</span> right = str.slice(n);</span><br><span class="line">    <span class="keyword">return</span> right + left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>43.<br>牛客最近来了一个新员工Fish，每天早晨总是会拿着一本英文杂志，写些句子在本子上。同事Cat对Fish写的内容颇感兴趣，有一天他向Fish借来翻看，但却读不懂它的意思。例如，“student. a am I”。后来才意识到，这家伙原来把句子单词的顺序翻转了，正确的句子应该是“I am a student.”。Cat对一一的翻转这些单词顺序可不在行，你能帮助他么？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ReverseSentence</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.split(<span class="string">' '</span>).reverse().join(<span class="string">' '</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>44.<br>LL今天心情特别好,因为他去买了一副扑克牌,发现里面居然有2个大王,2个小王(一副牌原本是54张^_^)…他随机从中抽出了5张牌,想测测自己的手气,看看能不能抽到顺子,如果抽到的话,他决定去买体育彩票,嘿嘿！！“红心A,黑桃3,小王,大王,方片5”,“Oh My God!”不是顺子…..LL不高兴了,他想了想,决定大\小 王可以看成任何数字,并且A看作1,J为11,Q为12,K为13。上面的5张牌就可以变成“1,2,3,4,5”(大小王分别看作2和4),“So Lucky!”。LL决定去买体育彩票啦。 现在,要求你使用这幅牌模拟上面的过程,然后告诉我们LL的运气如何。为了方便起见,你可以认为大小王是0。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsContinuous</span>(<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!numbers || numbers.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> len = numbers.length;</span><br><span class="line">    numbers.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a - b;&#125;);</span><br><span class="line">    <span class="keyword">var</span> zeros = <span class="number">0</span>, gaps = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len &amp;&amp; numbers[i] == <span class="number">0</span>; i++) &#123;</span><br><span class="line">        zeros++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> small = zeros, big = small + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (big &lt; len) &#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers[small] == numbers[big]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        gaps += numbers[big] - numbers[small] - <span class="number">1</span>;</span><br><span class="line">        small = big++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> gaps &lt;= zeros;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>45.<br>每年六一儿童节,牛客都会准备一些小礼物去看望孤儿院的小朋友,今年亦是如此。HF作为牛客的资深元老,自然也准备了一些小游戏。其中,有个游戏是这样的:首先,让小朋友们围成一个大圈。然后,他随机指定一个数m,让编号为0的小朋友开始报数。每次喊到m-1的那个小朋友要出列唱首歌,然后可以在礼品箱中任意的挑选礼物,并且不再回到圈中,从他的下一个小朋友开始,继续0…m-1报数….这样下去….直到剩下最后一个小朋友,可以不用表演,并且拿到牛客名贵的“名侦探柯南”典藏版(名额有限哦!!^_^)。请你试着想下,哪个小朋友会得到这份礼品呢？(注：小朋友的编号是从0到n-1)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LastRemaining</span>(<span class="params">n, m</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span> || m &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> last = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        last = (last + m) % i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>46.<br>求1+2+3+…+n，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sum</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">    plus(n);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">plus</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">        sum += num;</span><br><span class="line">        num &gt; <span class="number">0</span> &amp;&amp; plus(--num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>47.<br>写一个函数，求两个整数之和，要求在函数体内不得使用+、-、*、/四则运算符号。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sum, carry;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        sum = num1 ^ num2;</span><br><span class="line">        carry = (num1 &amp; num2) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        num1 = sum;</span><br><span class="line">        num2 = carry;</span><br><span class="line">    &#125; <span class="keyword">while</span> (num2 != <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> num1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>48.<br>在一个长度为n的数组里的所有数字都在0到n-1的范围内。 数组中某些数字是重复的，但不知道有几个数字是重复的。也不知道每个数字重复几次。请找出数组中任意一个重复的数字。 例如，如果输入长度为7的数组{2,3,1,0,2,5,3}，那么对应的输出是第一个重复的数字2。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">duplicate</span>(<span class="params">numbers, duplication</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!numbers || !numbers.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> len = numbers.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> curr = numbers[i];</span><br><span class="line">        <span class="keyword">if</span> (numbers.indexOf(curr) !== i) &#123;</span><br><span class="line">            duplication[<span class="number">0</span>] = curr;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>49.<br>给定一个数组A[0,1,…,n-1],请构建一个数组B[0,1,…,n-1],其中B中的元素B[i]=A[0]A[1]…A[i-1]A[i+1]…A[n-1]。不能使用除法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!array || !array.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">var</span> len1 = array.length;</span><br><span class="line">    result[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len1; i++) &#123;</span><br><span class="line">        result[i] = array[i - <span class="number">1</span>] * result[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = len1 - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        temp *= array[i + <span class="number">1</span>];</span><br><span class="line">        result[i] *= temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>50.<br>请实现一个函数用来匹配包括’.’和’’的正则表达式。模式中的字符’.’表示任意一个字符，而’’表示它前面的字符可以出现任意次（包含0次）。 在本题中，匹配是指字符串的所有字符匹配整个模式。例如，字符串”aaa”与模式”a.a”和”abaca”匹配，但是与”aa.a”和”ab*a”均不匹配</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">s, pattern</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s === <span class="string">""</span> &amp;&amp; pattern === <span class="string">""</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!pattern || pattern.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'^'</span> + pattern + <span class="string">'$'</span>);</span><br><span class="line">    <span class="keyword">return</span> reg.test(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>剑指offer--JavaScript版I</title>
      <link href="/2017/12/27/%E5%89%91%E6%8C%87offer-JavaScript%E7%89%88I/"/>
      <url>/2017/12/27/%E5%89%91%E6%8C%87offer-JavaScript%E7%89%88I/</url>
      <content type="html"><![CDATA[<p>1.<br>在一个二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Find</span>(<span class="params">target, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rowCount = array.length - <span class="number">1</span>, i, j;</span><br><span class="line">    <span class="keyword">for</span> (i=rowCount, j=<span class="number">0</span>; i&gt;=<span class="number">0</span> &amp;&amp; j&lt;array[i].length;) &#123;</span><br><span class="line">        <span class="keyword">if</span> (target == array[i][j]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; array[i][j]) &#123;</span><br><span class="line">            j++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; array[i][j]) &#123;</span><br><span class="line">            i--;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.<br>请实现一个函数，将一个字符串中的空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceSpace</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.replace(<span class="regexp">/ /g</span>, <span class="string">'%20'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.<br>输入一个链表，从尾到头打印链表每个节点的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceSpace</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.replace(<span class="regexp">/ /g</span>, <span class="string">'%20'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListNode</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.val = x;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printListFromTailToHead</span>(<span class="params">head</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!head) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">        <span class="keyword">var</span> curr = head;</span><br><span class="line">        <span class="keyword">while</span>(curr) &#123;</span><br><span class="line">            arr.push(curr.val);</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr.reverse();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.<br>输入某二叉树的前序遍历和中序遍历的结果，请重建出该二叉树。假设输入的前序遍历和中序遍历的结果中都不含重复的数字。例如输入前序遍历序列 {1,2,4,7,3,5,6,8} 和中序遍历序列 {4,7,2,1,5,3,8,6}，则重建二叉树并返回。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TreeNode</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.val = x;</span><br><span class="line">    <span class="keyword">this</span>.left = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.right = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reConstructBinaryTree</span>(<span class="params">pre, vin</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pre.length == <span class="number">0</span> || vin.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> index = vin.indexOf(pre[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">var</span> left = vin.slice(<span class="number">0</span>, index);</span><br><span class="line">    <span class="keyword">var</span> right = vin.slice(index+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> TreeNode(vin[index]);</span><br><span class="line"></span><br><span class="line">    node.left = reConstructBinaryTree(pre.slice(<span class="number">1</span>, index+<span class="number">1</span>), left);</span><br><span class="line">    node.right = reConstructBinaryTree(pre.slice(index+<span class="number">1</span>), right);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.<br>用两个栈来实现一个队列，完成队列的Push和Pop操作。 队列中的元素为int类型。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stack1 = [];</span><br><span class="line"><span class="keyword">var</span> stack2 = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    stack1.push(node);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temp = stack1.pop();</span><br><span class="line">    <span class="keyword">while</span> (temp) &#123;</span><br><span class="line">        stack2.push(temp);</span><br><span class="line">        temp = stack1.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> result = stack2.pop();</span><br><span class="line">        temp = stack2.pop();</span><br><span class="line">    <span class="keyword">while</span> (temp) &#123;</span><br><span class="line">        stack1.push(temp);</span><br><span class="line">        temp = stack2.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>6.<br>把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。 输入一个非递减排序的数组的一个旋转，输出旋转数组的最小元素。 例如数组{3,4,5,1,2}为{1,2,3,4,5}的一个旋转，该数组的最小值为1。 NOTE：给出的所有元素都大于0，若数组大小为0，请返回0。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minNumberInRotateArray</span>(<span class="params">rotateArray</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = rotateArray.length;</span><br><span class="line">    <span class="keyword">if</span> (len === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, rotateArray);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.<br>大家都知道斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。n&lt;=39</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">1</span>, temp;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        temp = b;</span><br><span class="line">        b = a + b;</span><br><span class="line">        a = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8.<br>一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级的台阶总共有多少种跳法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jumpFloor</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (number &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (number === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (number === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = <span class="number">0</span>, a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">3</span>; i &lt;= number; i++) &#123;</span><br><span class="line">        temp = a + b;</span><br><span class="line">        a = b;</span><br><span class="line">        b = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>9.<br>一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jumpFloorII</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.pow(<span class="number">2</span>, number - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>10.<br>我们可以用21的小矩形横着或者竖着去覆盖更大的矩形。请问用n个21的小矩形无重叠地覆盖一个2*n的大矩形，总共有多少种方法？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rectCover</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">2</span>,, temp;</span><br><span class="line">    <span class="keyword">if</span> (number &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (number === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (number === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">3</span>; i &lt;= number; i++) &#123;</span><br><span class="line">        temp = a + b;</span><br><span class="line">        a = b;</span><br><span class="line">        b = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>11.<br>输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberOf1</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        n = n &gt;&gt;&gt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr = n.toString(<span class="number">2</span>).split(<span class="string">''</span>);</span><br><span class="line">    <span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b === <span class="string">"1"</span> ? a+<span class="number">1</span> : a;</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>12.<br>给定一个double类型的浮点数base和int类型的整数exponent。求base的exponent次方。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Power</span>(<span class="params">base, exponent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.pow(base, exponent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>13.<br>输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reOrderArray</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">var</span> even = [];</span><br><span class="line">    array.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((item &amp; <span class="number">1</span>) === <span class="number">1</span>) &#123;</span><br><span class="line">            result.push(item);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            even.push(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> result.concat(even);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>14.<br>输入一个链表，输出该链表中倒数第k个结点。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListNode</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.val = x;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FindKthToTail</span>(<span class="params">head, k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!head || k&lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> i = head, j = head;</span><br><span class="line">    <span class="keyword">while</span> (--k) &#123;</span><br><span class="line">        j = j.next;</span><br><span class="line">        <span class="keyword">if</span> (!j) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j.next) &#123;</span><br><span class="line">        i = i.next;</span><br><span class="line">        j = j.next;</span><br><span class="line">    &#125;</span><br><span class="line">    j = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>15.<br>输入一个链表，反转链表后，输出链表的所有元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ReverseList</span>(<span class="params">pHead</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newHead, temp;</span><br><span class="line">    <span class="keyword">if</span> (!pHead) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (pHead.next === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> pHead;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        newHead = ReverseList(pHead.next);</span><br><span class="line">    &#125;</span><br><span class="line">    temp = pHead.next;</span><br><span class="line">    temp.next = pHead;</span><br><span class="line">    pHead.next = <span class="literal">null</span>;</span><br><span class="line">    temp = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>16.<br>输入两个单调递增的链表，输出两个链表合成后的链表，当然我们需要合成后的链表满足单调不减规则。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Merge</span>(<span class="params">pHead1, pHead2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pHead1) &#123;</span><br><span class="line">        <span class="keyword">return</span> pHead2 ? pHead2 : <span class="literal">null</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!pHead2) &#123;</span><br><span class="line">        <span class="keyword">return</span> pHead1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// debugger;</span></span><br><span class="line">    <span class="keyword">var</span> curr1 = pHead1;</span><br><span class="line">    <span class="keyword">var</span> curr2 = pHead2;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">new</span> ListNode(<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">var</span> curr = result;</span><br><span class="line">    <span class="keyword">while</span> (curr1 &amp;&amp; curr2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (curr1.val &lt; curr2.val) &#123;</span><br><span class="line">            curr.next = curr1;</span><br><span class="line">            curr1 = curr1.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            curr.next = curr2;</span><br><span class="line">            curr2 = curr2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (curr1) &#123;</span><br><span class="line">        curr.next = curr1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (curr2) &#123;</span><br><span class="line">        curr.next = curr2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 防止内存泄漏</span></span><br><span class="line">    curr = result.next;</span><br><span class="line">    result.next = <span class="literal">null</span>;</span><br><span class="line">    result = curr;</span><br><span class="line">    curr = curr1 = curr2 = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>17.<br>v输入两棵二叉树A，B，判断B是不是A的子结构。（ps：我们约定空树不是任意一个树的子结构）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HasSubtree</span>(<span class="params">pRoot1, pRoot2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pRoot1 == <span class="literal">null</span> || pRoot2 == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isSubTree(pRoot1, pRoot2)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> HasSubtree(pRoot1.left, pRoot2) || HasSubtree(pRoot1.right, pRoot2)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isSubTree</span>(<span class="params">pRoot1, pRoot2</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pRoot2 == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (pRoot1 == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (pRoot1.val === pRoot2.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> isSubTree(pRoot1.left, pRoot2.left) &amp;&amp; isSubTree(pRoot1.right, pRoot2.right)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>18.<br>操作给定的二叉树，将其变换为源二叉树的镜像。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Mirror</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = root.left;</span><br><span class="line">    root.left = root.right;</span><br><span class="line">    root.right = temp;</span><br><span class="line">    <span class="keyword">if</span> (root.left) &#123;</span><br><span class="line">        Mirror(root.left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.right) &#123;</span><br><span class="line">        Mirror(root.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>19.<br>输入一个矩阵，按照从外向里以顺时针的顺序依次打印出每一个数字，例如，如果输入如下矩阵： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 则依次打印出数字1,2,3,4,8,12,16,15,14,13,9,5,6,7,11,10.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printMatrix</span>(<span class="params">matrix</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!matrix || !matrix.length) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">var</span> rows = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">var</span> len = rows * cols;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> circle = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; cols - cirle) &#123;</span><br><span class="line">            result.push(matrix[i][j]);</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result.length === len) <span class="keyword">break</span>;</span><br><span class="line">        j--, i++;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; rows - circle) &#123;</span><br><span class="line">            result.push(matrix[i][j]);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result.length === len) <span class="keyword">break</span>;</span><br><span class="line">        i--, j--;</span><br><span class="line">        <span class="keyword">while</span> (j &gt;= circle) &#123;</span><br><span class="line">            result.push(matrix[i][j]);</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result.length === len) <span class="keyword">break</span>;</span><br><span class="line">        j++, i--;</span><br><span class="line">        circle++;</span><br><span class="line">        <span class="keyword">while</span> (i &gt;= circle) &#123;</span><br><span class="line">            result.push(matrix[i][j]);</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result.length === len) <span class="keyword">break</span>;</span><br><span class="line">        j++, i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>20.<br>定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stack = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    stack.push(node);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> stack.pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">top</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> stack[stack.length - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">min</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, stack);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>21.<br>输入两个整数序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。假设压入栈的所有数字均不相等。例如序列1,2,3,4,5是某栈的压入顺序，序列4，5,3,2,1是该压栈序列对应的一个弹出序列，但4,3,5,1,2就不可能是该压栈序列的弹出序列。（注意：这两个序列的长度是相等的）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsPopOrder</span>(<span class="params">pushV, popV</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pushV.length || !popV.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = [];</span><br><span class="line">    <span class="keyword">var</span> popIndex = <span class="number">0</span>;;</span><br><span class="line">    <span class="keyword">var</span> len = pushV.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        temp.push(pushV[i]);</span><br><span class="line">        <span class="keyword">while</span> (temp.length &amp;&amp; temp[temp.length - <span class="number">1</span>] === popV[popIndex]) &#123;</span><br><span class="line">            temp.pop();</span><br><span class="line">            popIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp.length === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>22.<br>从上往下打印出二叉树的每个节点，同层节点从左至右打印。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsPopOrder</span>(<span class="params">pushV, popV</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pushV.length || !popV.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = [];</span><br><span class="line">    <span class="keyword">var</span> popIndex = <span class="number">0</span>;;</span><br><span class="line">    <span class="keyword">var</span> len = pushV.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        temp.push(pushV[i]);</span><br><span class="line">        <span class="keyword">while</span> (temp.length &amp;&amp; temp[temp.length - <span class="number">1</span>] === popV[popIndex]) &#123;</span><br><span class="line">            temp.pop();</span><br><span class="line">            popIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp.length === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>23.<br>输入一颗二叉树和一个整数，打印出二叉树中结点值的和为输入整数的所有路径。路径定义为从树的根结点开始往下一直到叶结点所经过的结点形成一条路径。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsPopOrder</span>(<span class="params">pushV, popV</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pushV.length || !popV.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = [];</span><br><span class="line">    <span class="keyword">var</span> popIndex = <span class="number">0</span>;;</span><br><span class="line">    <span class="keyword">var</span> len = pushV.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        temp.push(pushV[i]);</span><br><span class="line">        <span class="keyword">while</span> (temp.length &amp;&amp; temp[temp.length - <span class="number">1</span>] === popV[popIndex]) &#123;</span><br><span class="line">            temp.pop();</span><br><span class="line">            popIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp.length === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>24.<br>输入一个复杂链表（每个节点中有节点值，以及两个指针，一个指向下一个节点，另一个特殊指针指向任意一个节点），返回结果为复制后复杂链表的head。（注意，输出结果中请不要返回参数中的节点引用，否则判题程序会直接返回空）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsPopOrder</span>(<span class="params">pushV, popV</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pushV.length || !popV.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = [];</span><br><span class="line">    <span class="keyword">var</span> popIndex = <span class="number">0</span>;;</span><br><span class="line">    <span class="keyword">var</span> len = pushV.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        temp.push(pushV[i]);</span><br><span class="line">        <span class="keyword">while</span> (temp.length &amp;&amp; temp[temp.length - <span class="number">1</span>] === popV[popIndex]) &#123;</span><br><span class="line">            temp.pop();</span><br><span class="line">            popIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp.length === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>25.<br>输入一棵二叉搜索树，将该二叉搜索树转换成一个排序的双向链表。要求不能创建任何新的结点，只能调整树中结点指针的指向。</p><blockquote><p>将左子树构成双向链表，返回的是左子树的尾结点，将其连接到root的左边；<br>将右子树构成双向链表，将其追加到root结点之后，并返回尾结点；<br>向左遍历返回的链表至头结点处，即为所求双向链表的首结点。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Convert</span>(<span class="params">pRootOfTree</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pRootOfTree) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> lastNode = <span class="literal">null</span>;</span><br><span class="line">    lastNode = ConvertNode(pRootOfTree);</span><br><span class="line">    <span class="keyword">var</span> head = lastNode;</span><br><span class="line">    <span class="keyword">while</span> (head &amp;&amp; head.left) &#123;</span><br><span class="line">        head = head.left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ConvertNode</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!node) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.left) &#123;</span><br><span class="line">            lastNode = ConvertNode(node.left);</span><br><span class="line">        &#125;</span><br><span class="line">        node.left = lastNode;</span><br><span class="line">        <span class="keyword">if</span> (lastNode) &#123;</span><br><span class="line">            lastNode.right = node;</span><br><span class="line">        &#125;</span><br><span class="line">        lastNode = node;</span><br><span class="line">        <span class="keyword">if</span> (node.right) &#123;</span><br><span class="line">            lastNode = ConvertNode(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lastNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>30 seconds of code</title>
      <link href="/2017/12/25/30-seconds-of-code/"/>
      <url>/2017/12/25/30-seconds-of-code/</url>
      <content type="html"><![CDATA[<blockquote><p>Curated collection of useful Javascript snippets that you can understand in 30 seconds or less.</p></blockquote><a id="more"></a><h2 id="table-of-contents"><a href="#table-of-contents" class="headerlink" title="table-of-contents"></a>table-of-contents</h2><h3 id="Adapter"><a href="#Adapter" class="headerlink" title="Adapter"></a>Adapter</h3><ul><li><a href="#call"><code>call</code></a></li><li><a href="#collectinto"><code>collectInto</code></a></li><li><a href="#flip"><code>flip</code></a></li><li><a href="#pipefunctions"><code>pipeFunctions</code></a></li><li><a href="#promisify"><code>promisify</code></a></li><li><a href="#spreadover"><code>spreadOver</code></a></li></ul><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><ul><li><a href="#arraygcd"><code>arrayGcd</code></a></li><li><a href="#arraylcm"><code>arrayLcm</code></a></li><li><a href="#arraymax"><code>arrayMax</code></a></li><li><a href="#arraymin"><code>arrayMin</code></a></li><li><a href="#chunk"><code>chunk</code></a></li><li><a href="#compact"><code>compact</code></a></li><li><a href="#countoccurrences"><code>countOccurrences</code></a></li><li><a href="#deepflatten"><code>deepFlatten</code></a></li><li><a href="#difference"><code>difference</code></a></li><li><a href="#differencewith"><code>differenceWith</code></a></li><li><a href="#distinctvaluesofarray"><code>distinctValuesOfArray</code></a></li><li><a href="#dropelements"><code>dropElements</code></a></li><li><a href="#dropright"><code>dropRight</code></a></li><li><a href="#everynth"><code>everyNth</code></a></li><li><a href="#filternonunique"><code>filterNonUnique</code></a></li><li><a href="#flatten"><code>flatten</code></a></li><li><a href="#flattendepth"><code>flattenDepth</code></a></li><li><a href="#groupby"><code>groupBy</code></a></li><li><a href="#head"><code>head</code></a></li><li><a href="#initial"><code>initial</code></a></li><li><a href="#initialize2darray"><code>initialize2DArray</code></a></li><li><a href="#initializearraywithrange"><code>initializeArrayWithRange</code></a></li><li><a href="#initializearraywithvalues"><code>initializeArrayWithValues</code></a></li><li><a href="#intersection"><code>intersection</code></a></li><li><a href="#last"><code>last</code></a></li><li><a href="#mapobject"><code>mapObject</code></a></li><li><a href="#nthelement"><code>nthElement</code></a></li><li><a href="#pick"><code>pick</code></a></li><li><a href="#pull"><code>pull</code></a></li><li><a href="#pullatindex"><code>pullAtIndex</code></a></li><li><a href="#pullatvalue"><code>pullAtValue</code></a></li><li><a href="#remove"><code>remove</code></a></li><li><a href="#sample"><code>sample</code></a></li><li><a href="#shuffle"><code>shuffle</code></a></li><li><a href="#similarity"><code>similarity</code></a></li><li><a href="#symmetricdifference"><code>symmetricDifference</code></a></li><li><a href="#tail"><code>tail</code></a></li><li><a href="#take"><code>take</code></a></li><li><a href="#takeright"><code>takeRight</code></a></li><li><a href="#union"><code>union</code></a></li><li><a href="#without"><code>without</code></a></li><li><a href="#zip"><code>zip</code></a></li><li><a href="#zipobject"><code>zipObject</code></a></li></ul><h3 id="Browser"><a href="#Browser" class="headerlink" title="Browser"></a>Browser</h3><ul><li><a href="#arraytohtmllist"><code>arrayToHtmlList</code></a></li><li><a href="#bottomvisible"><code>bottomVisible</code></a></li><li><a href="#currenturl"><code>currentURL</code></a></li><li><a href="#detectdevicetype"><code>detectDeviceType</code></a></li><li><a href="#elementisvisibleinviewport"><code>elementIsVisibleInViewport</code></a></li><li><a href="#getscrollposition"><code>getScrollPosition</code></a></li><li><a href="#geturlparameters"><code>getURLParameters</code></a></li><li><a href="#httpsredirect"><code>httpsRedirect</code></a></li><li><a href="#redirect"><code>redirect</code></a></li><li><a href="#scrolltotop"><code>scrollToTop</code></a></li></ul><h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><ul><li><a href="#getdaysdiffbetweendates"><code>getDaysDiffBetweenDates</code></a></li><li><a href="#jsontodate"><code>JSONToDate</code></a></li><li><a href="#toenglishdate"><code>toEnglishDate</code></a></li><li><a href="#tomorrow"><code>tomorrow</code></a></li></ul><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><ul><li><a href="#chainasync"><code>chainAsync</code></a></li><li><a href="#compose"><code>compose</code></a></li><li><a href="#curry"><code>curry</code></a></li><li><a href="#functionname"><code>functionName</code></a></li><li><a href="#runpromisesinseries"><code>runPromisesInSeries</code></a></li><li><a href="#sleep"><code>sleep</code></a></li></ul><h3 id="Logic"><a href="#Logic" class="headerlink" title="Logic"></a>Logic</h3><ul><li><a href="#negate"><code>negate</code></a></li></ul><h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><ul><li><a href="#arrayaverage"><code>arrayAverage</code></a></li><li><a href="#arraysum"><code>arraySum</code></a></li><li><a href="#clampnumber"><code>clampNumber</code></a></li><li><a href="#collatz"><code>collatz</code></a></li><li><a href="#digitize"><code>digitize</code></a></li><li><a href="#distance"><code>distance</code></a></li><li><a href="#factorial"><code>factorial</code></a></li><li><a href="#fibonacci"><code>fibonacci</code></a></li><li><a href="#fibonaccicountuntilnum"><code>fibonacciCountUntilNum</code></a></li><li><a href="#fibonacciuntilnum"><code>fibonacciUntilNum</code></a></li><li><a href="#gcd"><code>gcd</code></a></li><li><a href="#hammingdistance"><code>hammingDistance</code></a></li><li><a href="#inrange"><code>inRange</code></a></li><li><a href="#isarmstrongnumber"><code>isArmstrongNumber</code></a></li><li><a href="#isdivisible"><code>isDivisible</code></a></li><li><a href="#iseven"><code>isEven</code></a></li><li><a href="#isprime"><code>isPrime</code></a></li><li><a href="#lcm"><code>lcm</code></a></li><li><a href="#median"><code>median</code></a></li><li><a href="#palindrome"><code>palindrome</code></a></li><li><a href="#percentile"><code>percentile</code></a></li><li><a href="#powerset"><code>powerset</code></a></li><li><a href="#primes"><code>primes</code></a></li><li><a href="#randomintegerinrange"><code>randomIntegerInRange</code></a></li><li><a href="#randomnumberinrange"><code>randomNumberInRange</code></a></li><li><a href="#round"><code>round</code></a></li><li><a href="#sdbmhashalgorithm"><code>sdbmHashAlgorithm</code></a></li><li><a href="#standarddeviation"><code>standardDeviation</code></a></li></ul><h3 id="Media"><a href="#Media" class="headerlink" title="Media"></a>Media</h3><ul><li><a href="#speechsynthesis"><code>speechSynthesis</code></a></li></ul><h3 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h3><ul><li><a href="#jsontofile"><code>JSONToFile</code></a></li><li><a href="#readfilelines"><code>readFileLines</code></a></li></ul><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><ul><li><a href="#cleanobj"><code>cleanObj</code></a></li><li><a href="#objectfrompairs"><code>objectFromPairs</code></a></li><li><a href="#objecttopairs"><code>objectToPairs</code></a></li><li><a href="#orderby"><code>orderBy</code></a></li><li><a href="#select"><code>select</code></a></li><li><a href="#shallowclone"><code>shallowClone</code></a></li><li><a href="#truthcheckcollection"><code>truthCheckCollection</code></a></li></ul><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ul><li><a href="#anagrams"><code>anagrams</code></a></li><li><a href="#capitalize"><code>capitalize</code></a></li><li><a href="#capitalizeeveryword"><code>capitalizeEveryWord</code></a></li><li><a href="#countvowels"><code>countVowels</code></a></li><li><a href="#escaperegexp"><code>escapeRegExp</code></a></li><li><a href="#fromcamelcase"><code>fromCamelCase</code></a></li><li><a href="#repeatstring"><code>repeatString</code></a></li><li><a href="#reversestring"><code>reverseString</code></a></li><li><a href="#sortcharactersinstring"><code>sortCharactersInString</code></a></li><li><a href="#tocamelcase"><code>toCamelCase</code></a></li><li><a href="#tokebabcase"><code>toKebabCase</code></a></li><li><a href="#tosnakecase"><code>toSnakeCase</code></a></li><li><a href="#truncatestring"><code>truncateString</code></a></li><li><a href="#words"><code>words</code></a></li></ul><h3 id="Utility"><a href="#Utility" class="headerlink" title="Utility"></a>Utility</h3><ul><li><a href="#coalesce"><code>coalesce</code></a></li><li><a href="#coalescefactory"><code>coalesceFactory</code></a></li><li><a href="#extendhex"><code>extendHex</code></a></li><li><a href="#gettype"><code>getType</code></a></li><li><a href="#hextorgb"><code>hexToRGB</code></a></li><li><a href="#isarray"><code>isArray</code></a></li><li><a href="#isboolean"><code>isBoolean</code></a></li><li><a href="#isfunction"><code>isFunction</code></a></li><li><a href="#isnumber"><code>isNumber</code></a></li><li><a href="#isstring"><code>isString</code></a></li><li><a href="#issymbol"><code>isSymbol</code></a></li><li><a href="#randomhexcolor"><code>randomHexColor</code></a></li><li><a href="#rgbtohex"><code>RGBToHex</code></a></li><li><a href="#timetaken"><code>timeTaken</code></a></li><li><a href="#todecimalmark"><code>toDecimalMark</code></a></li><li><a href="#toordinalsuffix"><code>toOrdinalSuffix</code></a></li><li><a href="#uuidgenerator"><code>UUIDGenerator</code></a></li><li><a href="#validatenumber"><code>validateNumber</code></a></li></ul><h2 id="Adapter-1"><a href="#Adapter-1" class="headerlink" title="Adapter"></a>Adapter</h2><h3 id="call"><a href="#call" class="headerlink" title="call"></a>call</h3><p>Given a key and a set of arguments, call them when given a context. Primarily useful in composition.</p><p>Use a closure to call a stored key with stored arguments.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> call = <span class="function">(<span class="params">key, ...args</span>) =&gt;</span> context =&gt; context[ key ](...args);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Promise.resolve( [ 1, 2, 3 ] ).then( call('map', x =&gt; 2 * x ) ).then( console.log ) //[ 2, 4, 6 ]</span></span><br><span class="line"><span class="comment">const map = call.bind(null, 'map')</span></span><br><span class="line"><span class="comment">Promise.resolve( [ 1, 2, 3 ] ).then( map( x =&gt; 2 * x ) ).then( console.log ) //[ 2, 4, 6 ]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="collectInto"><a href="#collectInto" class="headerlink" title="collectInto"></a>collectInto</h3><p>Changes a function that accepts an array into a variadic function.</p><p>Given a function, return a closure that collects all inputs into an array-accepting function.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> collectInto = <span class="function"><span class="params">fn</span> =&gt;</span> (...args) =&gt; fn(args);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const Pall = collectInto( Promise.all.bind(Promise) )</span></span><br><span class="line"><span class="comment">let p1 = Promise.resolve(1)</span></span><br><span class="line"><span class="comment">let p2 = Promise.resolve(2)</span></span><br><span class="line"><span class="comment">let p3 = new Promise((resolve) =&gt; setTimeout(resolve,2000,3))</span></span><br><span class="line"><span class="comment">Pall(p1, p2, p3).then(console.log)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="flip"><a href="#flip" class="headerlink" title="flip"></a>flip</h3><p>Flip takes a function as an argument, then makes the first argument the last</p><p>Return a closure that takes variadic inputs, and splices the last argument to make it the first argument before applying the rest.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flip = <span class="function"><span class="params">fn</span> =&gt;</span> (...args) =&gt; fn(args.pop(), ...args);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let a = &#123;name: 'John Smith'&#125;</span></span><br><span class="line"><span class="comment">let b = &#123;&#125;</span></span><br><span class="line"><span class="comment">const mergeFrom = flip(Object.assign)</span></span><br><span class="line"><span class="comment">let mergePerson = mergeFrom.bind(null, a)</span></span><br><span class="line"><span class="comment">mergePerson(b) // == b</span></span><br><span class="line"><span class="comment">b = &#123;&#125;</span></span><br><span class="line"><span class="comment">Object.assign(b, a) // == b</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="pipeFunctions"><a href="#pipeFunctions" class="headerlink" title="pipeFunctions"></a>pipeFunctions</h3><p>Performs left-to-right function composition.</p><p>Use <code>Array.reduce()</code> with the spread operator (<code>...</code>) to perform left-to-right function composition.<br>The first (leftmost) function can accept one or more arguments; the remaining functions must be unary.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pipeFunctions = <span class="function">(<span class="params">...fns</span>) =&gt;</span> fns.reduce(<span class="function">(<span class="params">f, g</span>) =&gt;</span> (...args) =&gt; g(f(...args)));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const add5 = x =&gt; x + 5</span></span><br><span class="line"><span class="comment">const multiply = (x, y) =&gt; x * y</span></span><br><span class="line"><span class="comment">const multiplyAndAdd5 = pipeFunctions(multiply, add5)</span></span><br><span class="line"><span class="comment">multiplyAndAdd5(5, 2) -&gt; 15</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="promisify"><a href="#promisify" class="headerlink" title="promisify"></a>promisify</h3><p>Converts an asynchronous function to return a promise.</p><p>Use currying to return a function returning a <code>Promise</code> that calls the original function.<br>Use the <code>...rest</code> operator to pass in all the parameters.</p><p><em>In Node 8+, you can use <a href="https://nodejs.org/api/util.html#util_util_promisify_original" target="_blank" rel="noopener"><code>util.promisify</code></a></em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promisify = <span class="function"><span class="params">func</span> =&gt;</span></span><br><span class="line">  (...args) =&gt;</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span></span><br><span class="line">      func(...args, (err, result) =&gt;</span><br><span class="line">        err ? reject(err) : resolve(result))</span><br><span class="line">    );</span><br><span class="line"><span class="comment">// const delay = promisify((d, cb) =&gt; setTimeout(cb, d))</span></span><br><span class="line"><span class="comment">// delay(2000).then(() =&gt; console.log('Hi!')) -&gt; Promise resolves after 2s</span></span><br></pre></td></tr></table></figure><p><a href="#Table of Contents">⬆ back to top</a></p><h3 id="spreadOver"><a href="#spreadOver" class="headerlink" title="spreadOver"></a>spreadOver</h3><p>Takes a variadic function and returns a closure that accepts an array of arguments to map to the inputs of the function.</p><p>Use closures and the spread operator (<code>...</code>) to map the array of arguments to the inputs of the function.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> spreadOver = <span class="function"><span class="params">fn</span> =&gt;</span> argsArr =&gt; fn(...argsArr);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const arrayMax = spreadOver(Math.max)</span></span><br><span class="line"><span class="comment">arrayMax([1,2,3]) // -&gt; 3</span></span><br><span class="line"><span class="comment">arrayMax([1,2,4]) // -&gt; 4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Array-1"><a href="#Array-1" class="headerlink" title="Array"></a>Array</h2><h3 id="arrayGcd"><a href="#arrayGcd" class="headerlink" title="arrayGcd"></a>arrayGcd</h3><p>Calculates the greatest common denominator (gcd) of an array of numbers.</p><p>Use <code>Array.reduce()</code> and the <code>gcd</code> formula (uses recursion) to calculate the greatest common denominator of an array of numbers.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayGcd = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> gcd = <span class="function">(<span class="params">x, y</span>) =&gt;</span> !y ? x : gcd(y, x % y);</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> gcd(a, b));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// arrayGcd([1,2,3,4,5]) -&gt; 1</span></span><br><span class="line"><span class="comment">// arrayGcd([4,8,12]) -&gt; 4</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="arrayLcm"><a href="#arrayLcm" class="headerlink" title="arrayLcm"></a>arrayLcm</h3><p>Calculates the lowest common multiple (lcm) of an array of numbers.</p><p>Use <code>Array.reduce()</code> and the <code>lcm</code> formula (uses recursion) to calculate the lowest common multiple of an array of numbers.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayLcm = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> gcd = <span class="function">(<span class="params">x, y</span>) =&gt;</span> !y ? x : gcd(y, x % y);</span><br><span class="line">  <span class="keyword">const</span> lcm = <span class="function">(<span class="params">x, y</span>) =&gt;</span> (x * y) / gcd(x, y);</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> lcm(a, b));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// arrayLcm([1,2,3,4,5]) -&gt; 60</span></span><br><span class="line"><span class="comment">// arrayLcm([4,8,12]) -&gt; 24</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="arrayMax"><a href="#arrayMax" class="headerlink" title="arrayMax"></a>arrayMax</h3><p>Returns the maximum value in an array.</p><p>Use <code>Math.max()</code> combined with the spread operator (<code>...</code>) to get the maximum value in the array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayMax = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="built_in">Math</span>.max(...arr);</span><br><span class="line"><span class="comment">// arrayMax([10, 1, 5]) -&gt; 10</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="arrayMin"><a href="#arrayMin" class="headerlink" title="arrayMin"></a>arrayMin</h3><p>Returns the minimum value in an array.</p><p>Use <code>Math.min()</code> combined with the spread operator (<code>...</code>) to get the minimum value in the array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayMin = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="built_in">Math</span>.min(...arr);</span><br><span class="line"><span class="comment">// arrayMin([10, 1, 5]) -&gt; 1</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="chunk"><a href="#chunk" class="headerlink" title="chunk"></a>chunk</h3><p>Chunks an array into smaller arrays of a specified size.</p><p>Use <code>Array.from()</code> to create a new array, that fits the number of chunks that will be produced.<br>Use <code>Array.slice()</code> to map each element of the new array to a chunk the length of <code>size</code>.<br>If the original array can’t be split evenly, the final chunk will contain the remaining elements.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chunk = <span class="function">(<span class="params">arr, size</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="built_in">Math</span>.ceil(arr.length / size)&#125;, (v, i) =&gt; arr.slice(i * size, i * size + size));</span><br><span class="line"><span class="comment">// chunk([1,2,3,4,5], 2) -&gt; [[1,2],[3,4],[5]]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="compact"><a href="#compact" class="headerlink" title="compact"></a>compact</h3><p>Removes falsey values from an array.</p><p>Use <code>Array.filter()</code> to filter out falsey values (<code>false</code>, <code>null</code>, <code>0</code>, <code>&quot;&quot;</code>, <code>undefined</code>, and <code>NaN</code>).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compact = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="built_in">Boolean</span>);</span><br><span class="line"><span class="comment">// compact([0, 1, false, 2, '', 3, 'a', 'e'*23, NaN, 's', 34]) -&gt; [ 1, 2, 3, 'a', 's', 34 ]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="countOccurrences"><a href="#countOccurrences" class="headerlink" title="countOccurrences"></a>countOccurrences</h3><p>Counts the occurrences of a value in an array.</p><p>Use <code>Array.reduce()</code> to increment a counter each time you encounter the specific value inside the array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countOccurrences = <span class="function">(<span class="params">arr, value</span>) =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> v === value ? a + <span class="number">1</span> : a + <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// countOccurrences([1,1,2,1,2,3], 1) -&gt; 3</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="deepFlatten"><a href="#deepFlatten" class="headerlink" title="deepFlatten"></a>deepFlatten</h3><p>Deep flattens an array.</p><p>Use recursion.<br>Use <code>Array.concat()</code> with an empty array (<code>[]</code>) and the spread operator (<code>...</code>) to flatten an array.<br>Recursively flatten each element that is an array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepFlatten = <span class="function"><span class="params">arr</span> =&gt;</span> [].concat(...arr.map(<span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">Array</span>.isArray(v) ? deepFlatten(v) : v));</span><br><span class="line"><span class="comment">// deepFlatten([1,[2],[[3],4],5]) -&gt; [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="difference"><a href="#difference" class="headerlink" title="difference"></a>difference</h3><p>Returns the difference between two arrays.</p><p>Create a <code>Set</code> from <code>b</code>, then use <code>Array.filter()</code> on <code>a</code> to only keep values not contained in <code>b</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> difference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b); <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(x)); &#125;;</span><br><span class="line"><span class="comment">// difference([1,2,3], [1,2,4]) -&gt; [3]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="differenceWith"><a href="#differenceWith" class="headerlink" title="differenceWith"></a>differenceWith</h3><p>Filters out all values from an array for which the comparator function does not return <code>true</code>.</p><p>Use <code>Array.filter()</code> and <code>Array.find()</code> to find the appropriate values.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> differenceWith = <span class="function">(<span class="params">arr, val, comp</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">a</span> =&gt;</span> !val.find(<span class="function"><span class="params">b</span> =&gt;</span> comp(a, b)));</span><br><span class="line"><span class="comment">// differenceWith([1, 1.2, 1.5, 3], [1.9, 3], (a,b) =&gt; Math.round(a) == Math.round(b)) -&gt; [1, 1.2]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="distinctValuesOfArray"><a href="#distinctValuesOfArray" class="headerlink" title="distinctValuesOfArray"></a>distinctValuesOfArray</h3><p>Returns all the distinct values of an array.</p><p>Use ES6 <code>Set</code> and the <code>...rest</code> operator to discard all duplicated values.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> distinctValuesOfArray = <span class="function"><span class="params">arr</span> =&gt;</span> [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"><span class="comment">// distinctValuesOfArray([1,2,2,3,4,4,5]) -&gt; [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="dropElements"><a href="#dropElements" class="headerlink" title="dropElements"></a>dropElements</h3><p>Removes elements in an array until the passed function returns <code>true</code>. Returns the remaining elements in the array.</p><p>Loop through the array, using <code>Array.slice()</code> to drop the first element of the array until the returned value from the function is <code>true</code>.<br>Returns the remaining elements.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropElements = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span> &amp;&amp; !func(arr[<span class="number">0</span>])) arr = arr.slice(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// dropElements([1, 2, 3, 4], n =&gt; n &gt;= 3) -&gt; [3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="dropRight"><a href="#dropRight" class="headerlink" title="dropRight"></a>dropRight</h3><p>Returns a new array with <code>n</code> elements removed from the right.</p><p>Use <code>Array.slice()</code> to slice the remove the specified number of elements from the right.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropRight = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(<span class="number">0</span>, -n);</span><br><span class="line"><span class="comment">// dropRight([1,2,3]) -&gt; [1,2]</span></span><br><span class="line"><span class="comment">// dropRight([1,2,3], 2) -&gt; [1]</span></span><br><span class="line"><span class="comment">// dropRight([1,2,3], 42) -&gt; []</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="everyNth"><a href="#everyNth" class="headerlink" title="everyNth"></a>everyNth</h3><p>Returns every nth element in an array.</p><p>Use <code>Array.filter()</code> to create a new array that contains every nth element of a given array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> everyNth = <span class="function">(<span class="params">arr, nth</span>) =&gt;</span> arr.filter(<span class="function">(<span class="params">e, i</span>) =&gt;</span> i % nth === nth - <span class="number">1</span>);</span><br><span class="line"><span class="comment">// everyNth([1,2,3,4,5,6], 2) -&gt; [ 2, 4, 6 ]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="filterNonUnique"><a href="#filterNonUnique" class="headerlink" title="filterNonUnique"></a>filterNonUnique</h3><p>Filters out the non-unique values in an array.</p><p>Use <code>Array.filter()</code> for an array containing only the unique values.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterNonUnique = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="function"><span class="params">i</span> =&gt;</span> arr.indexOf(i) === arr.lastIndexOf(i));</span><br><span class="line"><span class="comment">// filterNonUnique([1,2,2,3,4,4,5]) -&gt; [1,3,5]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="flatten"><a href="#flatten" class="headerlink" title="flatten"></a>flatten</h3><p>Flattens an array.</p><p>Use a new array and concatenate it with the spread input array causing a shallow denesting of any contained arrays.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten = <span class="function"><span class="params">arr</span> =&gt;</span> [ ].concat(...arr);</span><br><span class="line"><span class="comment">// flatten([1,[2],3,4]) -&gt; [1,2,3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="flattenDepth"><a href="#flattenDepth" class="headerlink" title="flattenDepth"></a>flattenDepth</h3><p>Flattens an array up to the specified depth.</p><p>Use recursion, decrementing <code>depth</code> by 1 for each level of depth.<br>Use <code>Array.reduce()</code> and <code>Array.concat()</code> to merge elements or arrays.<br>Base case, for <code>depth</code> equal to <code>1</code> stops recursion.<br>Omit the second element, <code>depth</code> to flatten only to a depth of <code>1</code> (single flatten).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flattenDepth = <span class="function">(<span class="params">arr, depth = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  depth != <span class="number">1</span> ? arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(<span class="built_in">Array</span>.isArray(v) ? flattenDepth(v, depth - <span class="number">1</span>) : v), [])</span><br><span class="line">  : arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(v), []);</span><br><span class="line"><span class="comment">// flattenDepth([1,[2],[[[3],4],5]], 2) -&gt; [1,2,[3],4,5]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="groupBy"><a href="#groupBy" class="headerlink" title="groupBy"></a>groupBy</h3><p>Groups the elements of an array based on the given function.</p><p>Use <code>Array.map()</code> to map the values of an array to a function or property name.<br>Use <code>Array.reduce()</code> to create an object, where the keys are produced from the mapped results.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> groupBy = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="keyword">typeof</span> func === <span class="string">'function'</span> ? func : <span class="function"><span class="params">val</span> =&gt;</span> val[func])</span><br><span class="line">    .reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> &#123; acc[val] = (acc[val] || []).concat(arr[i]); <span class="keyword">return</span> acc; &#125;, &#123;&#125;);</span><br><span class="line"><span class="comment">// groupBy([6.1, 4.2, 6.3], Math.floor) -&gt; &#123;4: [4.2], 6: [6.1, 6.3]&#125;</span></span><br><span class="line"><span class="comment">// groupBy(['one', 'two', 'three'], 'length') -&gt; &#123;3: ['one', 'two'], 5: ['three']&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="head"><a href="#head" class="headerlink" title="head"></a>head</h3><p>Returns the head of a list.</p><p>Use <code>arr[0]</code> to return the first element of the passed array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> head = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// head([1,2,3]) -&gt; 1</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="initial"><a href="#initial" class="headerlink" title="initial"></a>initial</h3><p>Returns all the elements of an array except the last one.</p><p>Use <code>arr.slice(0,-1)</code> to return all but the last element of the array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initial = <span class="function"><span class="params">arr</span> =&gt;</span> arr.slice(<span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line"><span class="comment">// initial([1,2,3]) -&gt; [1,2]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="initialize2DArray"><a href="#initialize2DArray" class="headerlink" title="initialize2DArray"></a>initialize2DArray</h3><p>Initializes a 2D array of given width and height and value.</p><p>Use <code>Array.map()</code> to generate h rows where each is a new array of size w initialize with value. If the value is not provided, default to <code>null</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialize2DArray = <span class="function">(<span class="params">w, h, val = <span class="literal">null</span></span>) =&gt;</span> <span class="built_in">Array</span>(h).fill().map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Array</span>(w).fill(val));</span><br><span class="line"><span class="comment">// initializeArrayWithRange(2, 2, 0) -&gt; [[0,0], [0,0]]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="initializeArrayWithRange"><a href="#initializeArrayWithRange" class="headerlink" title="initializeArrayWithRange"></a>initializeArrayWithRange</h3><p>Initializes an array containing the numbers in the specified range where <code>start</code> and <code>end</code> are inclusive.</p><p>Use <code>Array((end + 1) - start)</code> to create an array of the desired length, <code>Array.map()</code> to fill with the desired values in a range.<br>You can omit <code>start</code> to use a default value of <code>0</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithRange = <span class="function">(<span class="params">end, start = <span class="number">0</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="function">(<span class="params">end + <span class="number">1</span></span>) - <span class="params">start</span> &#125;).<span class="params">map</span>(<span class="params">(v, i</span>) =&gt;</span> i + start);</span><br><span class="line"><span class="comment">// initializeArrayWithRange(5) -&gt; [0,1,2,3,4,5]</span></span><br><span class="line"><span class="comment">// initializeArrayWithRange(7, 3) -&gt; [3,4,5,6,7]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="initializeArrayWithValues"><a href="#initializeArrayWithValues" class="headerlink" title="initializeArrayWithValues"></a>initializeArrayWithValues</h3><p>Initializes and fills an array with the specified values.</p><p>Use <code>Array(n)</code> to create an array of the desired length, <code>fill(v)</code> to fill it with the desired values.<br>You can omit <code>value</code> to use a default value of <code>0</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithValues = <span class="function">(<span class="params">n, value = <span class="number">0</span></span>) =&gt;</span> <span class="built_in">Array</span>(n).fill(value);</span><br><span class="line"><span class="comment">// initializeArrayWithValues(5, 2) -&gt; [2,2,2,2,2]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="intersection"><a href="#intersection" class="headerlink" title="intersection"></a>intersection</h3><p>Returns a list of elements that exist in both arrays.</p><p>Create a <code>Set</code> from <code>b</code>, then use <code>Array.filter()</code> on <code>a</code> to only keep values contained in <code>b</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersection = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b); <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> s.has(x)); &#125;;</span><br><span class="line"><span class="comment">// intersection([1,2,3], [4,3,2]) -&gt; [2,3]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="last"><a href="#last" class="headerlink" title="last"></a>last</h3><p>Returns the last element in an array.</p><p>Use <code>arr.length - 1</code> to compute the index of the last element of the given array and returning it.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> last = <span class="function"><span class="params">arr</span> =&gt;</span> arr[arr.length - <span class="number">1</span>];</span><br><span class="line"><span class="comment">// last([1,2,3]) -&gt; 3</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="mapObject"><a href="#mapObject" class="headerlink" title="mapObject"></a>mapObject</h3><p>Maps the values of an array to an object using a function, where the key-value pairs consist of the original value as the key and the mapped value.</p><p>Use an anonymous inner function scope to declare an undefined memory space, using closures to store a return value. Use a new <code>Array</code> to store the array with a map of the function over its data set and a comma operator to return a second step, without needing to move from one context to another (due to closures and order of operations).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapObject = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  (<span class="function"><span class="params">a</span> =&gt;</span> (a = [arr, arr.map(fn)], a[<span class="number">0</span>].reduce(<span class="function">(<span class="params">acc, val, ind</span>) =&gt;</span> (acc[val] = a[<span class="number">1</span>][ind], acc), &#123;&#125;)))();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const squareIt = arr =&gt; mapObject(arr, a =&gt; a*a)</span></span><br><span class="line"><span class="comment">squareIt([1,2,3]) // &#123; 1: 1, 2: 4, 3: 9 &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="nthElement"><a href="#nthElement" class="headerlink" title="nthElement"></a>nthElement</h3><p>Returns the nth element of an array.</p><p>Use <code>Array.slice()</code> to get an array containing the nth element at the first place.<br>If the index is out of bounds, return <code>[]</code>.<br>Omit the second argument, <code>n</code>, to get the first element of the array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nthElement = <span class="function">(<span class="params">arr, n = <span class="number">0</span></span>) =&gt;</span> (n &gt; <span class="number">0</span> ? arr.slice(n, n + <span class="number">1</span>) : arr.slice(n))[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// nthElement(['a','b','c'],1) -&gt; 'b'</span></span><br><span class="line"><span class="comment">// nthElement(['a','b','b'],-3) -&gt; 'a'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="pick"><a href="#pick" class="headerlink" title="pick"></a>pick</h3><p>Picks the key-value pairs corresponding to the given keys from an object.</p><p>Use <code>Array.reduce()</code> to convert the filtered/picked keys back to an object with the corresponding key-value pair if the key exists in the obj.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pick = <span class="function">(<span class="params">obj, arr</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, curr</span>) =&gt;</span> (curr <span class="keyword">in</span> obj &amp;&amp; (acc[curr] = obj[curr]), acc), &#123;&#125;);</span><br><span class="line"><span class="comment">// pick(&#123; 'a': 1, 'b': '2', 'c': 3 &#125;, ['a', 'c']) -&gt; &#123; 'a': 1, 'c': 3 &#125;</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><p>Mutates the original array to filter out the values specified.</p><p>Use <code>Array.filter()</code> and <code>Array.includes()</code> to pull out the values that are not needed.<br>Use <code>Array.length = 0</code> to mutate the passed in an array by resetting it’s length to zero and <code>Array.push()</code> to re-populate it with only the pulled values.</p><p><em>(For a snippet that does not mutate the original array see <a href="#without"><code>without</code></a>)</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pull = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> argState = <span class="built_in">Array</span>.isArray(args[<span class="number">0</span>]) ? args[<span class="number">0</span>] : args;</span><br><span class="line">  <span class="keyword">let</span> pulled = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !argState.includes(v));</span><br><span class="line">  arr.length = <span class="number">0</span>;</span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let myArray1 = ['a', 'b', 'c', 'a', 'b', 'c'];</span></span><br><span class="line"><span class="comment">// pull(myArray1, 'a', 'c');</span></span><br><span class="line"><span class="comment">// console.log(myArray1) -&gt; [ 'b', 'b' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let myArray2 = ['a', 'b', 'c', 'a', 'b', 'c'];</span></span><br><span class="line"><span class="comment">// pull(myArray2, ['a', 'c']);</span></span><br><span class="line"><span class="comment">// console.log(myArray2) -&gt; [ 'b', 'b' ]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="pullAtIndex"><a href="#pullAtIndex" class="headerlink" title="pullAtIndex"></a>pullAtIndex</h3><p>Mutates the original array to filter out the values at the specified indexes.</p><p>Use <code>Array.filter()</code> and <code>Array.includes()</code> to pull out the values that are not needed.<br>Use <code>Array.length = 0</code> to mutate the passed in an array by resetting it’s length to zero and <code>Array.push()</code> to re-populate it with only the pulled values.<br>Use <code>Array.push()</code> to keep track of pulled values</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullAtIndex = <span class="function">(<span class="params">arr, pullArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> removed = [];</span><br><span class="line">  <span class="keyword">let</span> pulled = arr.map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> pullArr.includes(i) ? removed.push(v) : v)</span><br><span class="line">                  .filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !pullArr.includes(i));</span><br><span class="line">  arr.length = <span class="number">0</span>;</span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">  <span class="keyword">return</span> removed;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let myArray = ['a', 'b', 'c', 'd'];</span></span><br><span class="line"><span class="comment">// let pulled = pullAtIndex(myArray, [1, 3]);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(myArray); -&gt; [ 'a', 'c' ]</span></span><br><span class="line"><span class="comment">// console.log(pulled); -&gt; [ 'b', 'd' ]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="pullAtValue"><a href="#pullAtValue" class="headerlink" title="pullAtValue"></a>pullAtValue</h3><p>Mutates the original array to filter out the values specified. Returns the removed elements.</p><p>Use <code>Array.filter()</code> and <code>Array.includes()</code> to pull out the values that are not needed.<br>Use <code>Array.length = 0</code> to mutate the passed in an array by resetting it’s length to zero and <code>Array.push()</code> to re-populate it with only the pulled values.<br>Use <code>Array.push()</code> to keep track of pulled values</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullAtValue = <span class="function">(<span class="params">arr, pullArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> removed = [],</span><br><span class="line">    pushToRemove = arr.forEach(<span class="function">(<span class="params">v, i</span>) =&gt;</span> pullArr.includes(v) ? removed.push(v) : v),</span><br><span class="line">    mutateTo = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !pullArr.includes(v));</span><br><span class="line">  arr.length = <span class="number">0</span>;</span><br><span class="line">  mutateTo.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">  <span class="keyword">return</span> removed;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let myArray = ['a', 'b', 'c', 'd'];</span></span><br><span class="line"><span class="comment">let pulled = pullAtValue(myArray, ['b', 'd']);</span></span><br><span class="line"><span class="comment">console.log(myArray); -&gt; [ 'a', 'c' ]</span></span><br><span class="line"><span class="comment">console.log(pulled); -&gt; [ 'b', 'd' ]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h3><p>Removes elements from an array for which the given function returns <code>false</code>.</p><p>Use <code>Array.filter()</code> to find array elements that return truthy values and <code>Array.reduce()</code> to remove elements using <code>Array.splice()</code>.<br>The <code>func</code> is invoked with three arguments (<code>value, index, array</code>).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> remove = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.isArray(arr) ? arr.filter(func).reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> &#123;</span><br><span class="line">    arr.splice(arr.indexOf(val), <span class="number">1</span>); <span class="keyword">return</span> acc.concat(val);</span><br><span class="line">  &#125;, [])</span><br><span class="line">  : [];</span><br><span class="line"><span class="comment">// remove([1, 2, 3, 4], n =&gt; n % 2 == 0) -&gt; [2, 4]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="sample"><a href="#sample" class="headerlink" title="sample"></a>sample</h3><p>Returns a random element from an array.</p><p>Use <code>Math.random()</code> to generate a random number, multiply it by <code>length</code> and round it of to the nearest whole number using <code>Math.floor()</code>.<br>This method also works with strings.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sample = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)];</span><br><span class="line"><span class="comment">// sample([3, 7, 9, 11]) -&gt; 9</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="shuffle"><a href="#shuffle" class="headerlink" title="shuffle"></a>shuffle</h3><p>Randomizes the order of the values of an array, returning a new array.</p><p>Uses the Fisher-Yates algoritm to reorder the elements of the array, based on the <a href="https://github.com/lodash/lodash/blob/b2ea6b1cd251796dcb5f9700c4911a7b6223920b/shuffle.js" target="_blank" rel="noopener">Lodash implementation</a>, but as a pure function.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shuffle = <span class="function">(<span class="params">[...arr]</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> m = arr.length;</span><br><span class="line">  <span class="keyword">while</span> (m) &#123;</span><br><span class="line">    <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m--);</span><br><span class="line">    [arr[m], arr[i]] = [arr[i], arr[m]];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// const foo = [1,2,3]</span></span><br><span class="line"><span class="comment">// shuffle(foo) -&gt; [2,3,1]</span></span><br><span class="line"><span class="comment">// console.log(foo) -&gt; [1,2,3]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="similarity"><a href="#similarity" class="headerlink" title="similarity"></a>similarity</h3><p>Returns an array of elements that appear in both arrays.</p><p>Use <code>filter()</code> to remove values that are not part of <code>values</code>, determined using <code>includes()</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> similarity = <span class="function">(<span class="params">arr, values</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> values.includes(v));</span><br><span class="line"><span class="comment">// similarity([1,2,3], [1,2,4]) -&gt; [1,2]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="symmetricDifference"><a href="#symmetricDifference" class="headerlink" title="symmetricDifference"></a>symmetricDifference</h3><p>Returns the symmetric difference between two arrays.</p><p>Create a <code>Set</code> from each array, then use <code>Array.filter()</code> on each of them to only keep values not contained in the other.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symmetricDifference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> sA = <span class="keyword">new</span> <span class="built_in">Set</span>(a), sB = <span class="keyword">new</span> <span class="built_in">Set</span>(b);</span><br><span class="line">  <span class="keyword">return</span> [...a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sB.has(x)), ...b.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sA.has(x))];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// symmetricDifference([1,2,3], [1,2,4]) -&gt; [3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><p>Returns all elements in an array except for the first one.</p><p>Return <code>arr.slice(1)</code> if the array’s <code>length</code> is more than <code>1</code>, otherwise, return the whole array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tail = <span class="function"><span class="params">arr</span> =&gt;</span> arr.length &gt; <span class="number">1</span> ? arr.slice(<span class="number">1</span>) : arr;</span><br><span class="line"><span class="comment">// tail([1,2,3]) -&gt; [2,3]</span></span><br><span class="line"><span class="comment">// tail([1]) -&gt; [1]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="take"><a href="#take" class="headerlink" title="take"></a>take</h3><p>Returns an array with n elements removed from the beginning.</p><p>Use <code>Array.slice()</code> to create a slice of the array with <code>n</code> elements taken from the beginning.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> take = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(<span class="number">0</span>, n);</span><br><span class="line"><span class="comment">// take([1, 2, 3], 5) -&gt; [1, 2, 3]</span></span><br><span class="line"><span class="comment">// take([1, 2, 3], 0) -&gt; []</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="takeRight"><a href="#takeRight" class="headerlink" title="takeRight"></a>takeRight</h3><p>Returns an array with n elements removed from the end.</p><p>Use <code>Array.slice()</code> to create a slice of the array with <code>n</code> elements taken from the end.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> takeRight = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(arr.length - n, arr.length);</span><br><span class="line"><span class="comment">// takeRight([1, 2, 3], 2) -&gt; [ 2, 3 ]</span></span><br><span class="line"><span class="comment">// takeRight([1, 2, 3]) -&gt; [3]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="union"><a href="#union" class="headerlink" title="union"></a>union</h3><p>Returns every element that exists in any of the two arrays once.</p><p>Create a <code>Set</code> with all values of <code>a</code> and <code>b</code> and convert to an array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> union = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b]));</span><br><span class="line"><span class="comment">// union([1,2,3], [4,3,2]) -&gt; [1,2,3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="without"><a href="#without" class="headerlink" title="without"></a>without</h3><p>Filters out the elements of an array, that have one of the specified values.</p><p>Use <code>Array.filter()</code> to create an array excluding(using <code>!Array.includes()</code>) all given values.</p><p><em>(For a snippet that mutates the original array see <a href="#pull"><code>pull</code></a>)</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> without = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> !args.includes(v));</span><br><span class="line"><span class="comment">// without([2, 1, 2, 3], 1, 2) -&gt; [3]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><p>Creates an array of elements, grouped based on the position in the original arrays.</p><p>Use <code>Math.max.apply()</code> to get the longest array in the arguments.<br>Creates an array with that length as return value and use <code>Array.from()</code> with a map-function to create an array of grouped elements.<br>If lengths of the argument-arrays vary, <code>undefined</code> is used where no value could be found.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> zip = <span class="function">(<span class="params">...arrays</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> maxLength = <span class="built_in">Math</span>.max(...arrays.map(<span class="function"><span class="params">x</span> =&gt;</span> x.length));</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: maxLength&#125;).map(<span class="function">(<span class="params">_, i</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: arrays.length&#125;, (_, k) =&gt; arrays[k][i]);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// zip(['a', 'b'], [1, 2], [true, false]); -&gt; [['a', 1, true], ['b', 2, false]]</span></span><br><span class="line"><span class="comment">// zip(['a'], [1, 2], [true, false]); -&gt; [['a', 1, true], [undefined, 2, false]]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="zipObject"><a href="#zipObject" class="headerlink" title="zipObject"></a>zipObject</h3><p>Given an array of valid property identifiers and an array of values, return an object associating the properties to the values.</p><p>Since an object can have undefined values but not undefined property pointers, the array of properties is used to decide the structure of the resulting object using <code>Array.reduce()</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> zipObject = <span class="function">(<span class="params">props, values</span>) =&gt;</span> props.reduce(<span class="function">(<span class="params">obj, prop, index</span>) =&gt;</span> (obj[prop] = values[index], obj), &#123;&#125;);</span><br><span class="line"><span class="comment">// zipObject(['a','b','c'], [1,2]) -&gt; &#123;a: 1, b: 2, c: undefined&#125;</span></span><br><span class="line"><span class="comment">// zipObject(['a','b'], [1,2,3]) -&gt; &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Browser-1"><a href="#Browser-1" class="headerlink" title="Browser"></a>Browser</h2><h3 id="arrayToHtmlList"><a href="#arrayToHtmlList" class="headerlink" title="arrayToHtmlList"></a>arrayToHtmlList</h3><p>Converts the given array elements into <code>&lt;li&gt;</code> tags and appends them to the list of the given id.</p><p>Use <code>Array.map()</code> and <code>document.querySelector()</code> to create a list of html tags.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayToHtmlList = <span class="function">(<span class="params">arr, listID</span>) =&gt;</span> arr.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">document</span>.querySelector(<span class="string">'#'</span> + listID).innerHTML += <span class="string">`&lt;li&gt;<span class="subst">$&#123;item&#125;</span>&lt;/li&gt;`</span>);</span><br><span class="line"><span class="comment">// arrayToHtmlList(['item 1', 'item 2'],'myListID')</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="bottomVisible"><a href="#bottomVisible" class="headerlink" title="bottomVisible"></a>bottomVisible</h3><p>Returns <code>true</code> if the bottom of the page is visible, <code>false</code> otherwise.</p><p>Use <code>scrollY</code>, <code>scrollHeight</code> and <code>clientHeight</code> to determine if the bottom of the page is visible.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bottomVisible = <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  <span class="built_in">document</span>.documentElement.clientHeight + <span class="built_in">window</span>.scrollY &gt;= (<span class="built_in">document</span>.documentElement.scrollHeight || <span class="built_in">document</span>.documentElement.clientHeight);</span><br><span class="line"><span class="comment">// bottomVisible() -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="currentURL"><a href="#currentURL" class="headerlink" title="currentURL"></a>currentURL</h3><p>Returns the current URL.</p><p>Use <code>window.location.href</code> to get current URL.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> currentURL = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">window</span>.location.href;</span><br><span class="line"><span class="comment">// currentUrl() -&gt; 'https://google.com'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="detectDeviceType"><a href="#detectDeviceType" class="headerlink" title="detectDeviceType"></a>detectDeviceType</h3><p>Detects wether the website is being opened in a mobile device or a desktop/laptop.</p><p>Use a regular expression to test the <code>navigator.userAgent</code> property to figure out if the device is a mobile device or a desktop/laptop.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> detectDeviceType = <span class="function"><span class="params">()</span> =&gt;</span> /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? <span class="string">'Mobile'</span> : <span class="string">'Desktop'</span>;</span><br><span class="line"><span class="comment">// detectDeviceType() -&gt; "Mobile"</span></span><br><span class="line"><span class="comment">// detectDeviceType() -&gt; "Desktop"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="elementIsVisibleInViewport"><a href="#elementIsVisibleInViewport" class="headerlink" title="elementIsVisibleInViewport"></a>elementIsVisibleInViewport</h3><p>Returns <code>true</code> if the element specified is visible in the viewport, <code>false</code> otherwise.</p><p>Use <code>Element.getBoundingClientRect()</code> and the <code>window.inner(Width|Height)</code> values<br>to determine if a given element is visible in the viewport.<br>Omit the second argument to determine if the element is entirely visible, or specify <code>true</code> to determine if<br>it is partially visible.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elementIsVisibleInViewport = <span class="function">(<span class="params">el, partiallyVisible = <span class="literal">false</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; top, left, bottom, right &#125; = el.getBoundingClientRect();</span><br><span class="line">  <span class="keyword">const</span> &#123; innerHeight, innerWidth &#125; = <span class="built_in">window</span>;</span><br><span class="line">  <span class="keyword">return</span> partiallyVisible</span><br><span class="line">    ? ((top &gt; <span class="number">0</span> &amp;&amp; top &lt; innerHeight) || (bottom &gt; <span class="number">0</span> &amp;&amp; bottom &lt; innerHeight)) &amp;&amp;</span><br><span class="line">      ((left &gt; <span class="number">0</span> &amp;&amp; left &lt; innerWidth) || (right &gt; <span class="number">0</span> &amp;&amp; right &lt; innerWidth))</span><br><span class="line">    : top &gt;= <span class="number">0</span> &amp;&amp; left &gt;= <span class="number">0</span> &amp;&amp; bottom &lt;= innerHeight &amp;&amp; right &lt;= innerWidth;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// e.g. 100x100 viewport and a 10x10px element at position &#123;top: -1, left: 0, bottom: 9, right: 10&#125;</span></span><br><span class="line"><span class="comment">// elementIsVisibleInViewport(el) -&gt; false (not fully visible)</span></span><br><span class="line"><span class="comment">// elementIsVisibleInViewport(el, true) -&gt; true (partially visible)</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="getScrollPosition"><a href="#getScrollPosition" class="headerlink" title="getScrollPosition"></a>getScrollPosition</h3><p>Returns the scroll position of the current page.</p><p>Use <code>pageXOffset</code> and <code>pageYOffset</code> if they are defined, otherwise <code>scrollLeft</code> and <code>scrollTop</code>.<br>You can omit <code>el</code> to use a default value of <code>window</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getScrollPosition = <span class="function">(<span class="params">el = <span class="built_in">window</span></span>) =&gt;</span></span><br><span class="line">  (&#123;<span class="attr">x</span>: (el.pageXOffset !== <span class="literal">undefined</span>) ? el.pageXOffset : el.scrollLeft,</span><br><span class="line">    y: (el.pageYOffset !== <span class="literal">undefined</span>) ? el.pageYOffset : el.scrollTop&#125;);</span><br><span class="line"><span class="comment">// getScrollPosition() -&gt; &#123;x: 0, y: 200&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="getURLParameters"><a href="#getURLParameters" class="headerlink" title="getURLParameters"></a>getURLParameters</h3><p>Returns an object containing the parameters of the current URL.</p><p>Use <code>match()</code> with an appropriate regular expression to get all key-value pairs, <code>Array.reduce()</code> to map and combine them into a single object.<br>Pass <code>location.search</code> as the argument to apply to the current <code>url</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getURLParameters = <span class="function"><span class="params">url</span> =&gt;</span></span><br><span class="line">  url.match(<span class="regexp">/([^?=&amp;]+)(=([^&amp;]*))/g</span>).reduce(</span><br><span class="line">    (a, v) =&gt; (a[v.slice(<span class="number">0</span>, v.indexOf(<span class="string">'='</span>))] = v.slice(v.indexOf(<span class="string">'='</span>) + <span class="number">1</span>), a), &#123;&#125;</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// getURLParameters('http://url.com/page?name=Adam&amp;surname=Smith') -&gt; &#123;name: 'Adam', surname: 'Smith'&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="httpsRedirect"><a href="#httpsRedirect" class="headerlink" title="httpsRedirect"></a>httpsRedirect</h3><p>Redirects the page to HTTPS if its currently in HTTP. Also, pressing the back button doesn’t take it back to the HTTP page as its replaced in the history.</p><p>Use <code>location.protocol</code> to get the protocol currently being used. If it’s not HTTPS, use <code>location.replace()</code> to replace the existing page with the HTTPS version of the page. Use <code>location.href</code> to get the full address, split it with <code>String.split()</code> and remove the protocol part of the URL.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> httpsRedirect = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (location.protocol !== <span class="string">'https:'</span>) location.replace(<span class="string">'https://'</span> + location.href.split(<span class="string">'//'</span>)[<span class="number">1</span>]);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="redirect"><a href="#redirect" class="headerlink" title="redirect"></a>redirect</h3><p>Redirects to a specified URL.</p><p>Use <code>window.location.href</code> or <code>window.location.replace()</code> to redirect to <code>url</code>.<br>Pass a second argument to simulate a link click (<code>true</code> - default) or an HTTP redirect (<code>false</code>).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> redirect = <span class="function">(<span class="params">url, asLink = <span class="literal">true</span></span>) =&gt;</span></span><br><span class="line">  asLink ? <span class="built_in">window</span>.location.href = url : <span class="built_in">window</span>.location.replace(url);</span><br><span class="line"><span class="comment">// redirect('https://google.com')</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="scrollToTop"><a href="#scrollToTop" class="headerlink" title="scrollToTop"></a>scrollToTop</h3><p>Smooth-scrolls to the top of the page.</p><p>Get distance from top using <code>document.documentElement.scrollTop</code> or <code>document.body.scrollTop</code>.<br>Scroll by a fraction of the distance from the top. Use <code>window.requestAnimationFrame()</code> to animate the scrolling.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> scrollToTop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> c = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">  <span class="keyword">if</span> (c &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(scrollToTop);</span><br><span class="line">    <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, c - c / <span class="number">8</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// scrollToTop()</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Date-1"><a href="#Date-1" class="headerlink" title="Date"></a>Date</h2><h3 id="getDaysDiffBetweenDates"><a href="#getDaysDiffBetweenDates" class="headerlink" title="getDaysDiffBetweenDates"></a>getDaysDiffBetweenDates</h3><p>Returns the difference (in days) between two dates.</p><p>Calculate the difference (in days) between two <code>Date</code> objects.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getDaysDiffBetweenDates = <span class="function">(<span class="params">dateInitial, dateFinal</span>) =&gt;</span> (dateFinal - dateInitial) / (<span class="number">1000</span> * <span class="number">3600</span> * <span class="number">24</span>);</span><br><span class="line"><span class="comment">// getDaysDiffBetweenDates(new Date("2017-12-13"), new Date("2017-12-22")) -&gt; 9</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="JSONToDate"><a href="#JSONToDate" class="headerlink" title="JSONToDate"></a>JSONToDate</h3><p>Converts a JSON object to a date.</p><p>Use <code>Date()</code>, to convert dates in JSON format to readable format (<code>dd/mm/yyyy</code>).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> JSONToDate = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(arr.toString().substr(<span class="number">6</span>)));</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;dt.getDate()&#125;</span>/<span class="subst">$&#123;dt.getMonth() + <span class="number">1</span>&#125;</span>/<span class="subst">$&#123;dt.getFullYear()&#125;</span>`</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// JSONToDate(/Date(1489525200000)/) -&gt; "14/3/2017"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="toEnglishDate"><a href="#toEnglishDate" class="headerlink" title="toEnglishDate"></a>toEnglishDate</h3><p>Converts a date from American format to English format.</p><p>Use <code>Date.toISOString()</code>, <code>split(&#39;T&#39;)</code> and <code>replace()</code> to convert a date from American format to the English format.<br>Throws an error if the passed time cannot be converted to a date.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toEnglishDate = <span class="function">(<span class="params">time</span>) =&gt;</span> &#123; <span class="keyword">try</span> &#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(time).toISOString().split(<span class="string">'T'</span>)[<span class="number">0</span>].replace(<span class="regexp">/-/g</span>, <span class="string">'/'</span>); &#125; <span class="keyword">catch</span> (e) &#123;&#125; &#125;;</span><br><span class="line"><span class="comment">// toEnglishDate('09/21/2010') -&gt; '21/09/2010'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="tomorrow"><a href="#tomorrow" class="headerlink" title="tomorrow"></a>tomorrow</h3><p>Results in a string representation of tomorrow’s date.<br>Use <code>new Date()</code> to get today’s date, adding <code>86400000</code> of seconds to it(24 hours), using <code>toISOString</code> to convert Date object to string.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tomorrow = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() + <span class="number">86400000</span>).toISOString().split(<span class="string">'T'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// tomorrow() -&gt; 2017-12-27 (if current date is 2017-12-26)</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Function-1"><a href="#Function-1" class="headerlink" title="Function"></a>Function</h2><h3 id="chainAsync"><a href="#chainAsync" class="headerlink" title="chainAsync"></a>chainAsync</h3><p>Chains asynchronous functions.</p><p>Loop through an array of functions containing asynchronous events, calling <code>next</code> when each asynchronous event has completed.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chainAsync = <span class="function"><span class="params">fns</span> =&gt;</span> &#123; <span class="keyword">let</span> curr = <span class="number">0</span>; <span class="keyword">const</span> next = <span class="function"><span class="params">()</span> =&gt;</span> fns[curr++](next); next(); &#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">chainAsync([</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('0 seconds'); setTimeout(next, 1000); &#125;,</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('1 second');  setTimeout(next, 1000); &#125;,</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('2 seconds'); &#125;</span></span><br><span class="line"><span class="comment">])</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="compose"><a href="#compose" class="headerlink" title="compose"></a>compose</h3><p>Performs right-to-left function composition.</p><p>Use <code>Array.reduce()</code> to perform right-to-left function composition.<br>The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = <span class="function">(<span class="params">...fns</span>) =&gt;</span> fns.reduce(<span class="function">(<span class="params">f, g</span>) =&gt;</span> (...args) =&gt; f(g(...args)));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const add5 = x =&gt; x + 5</span></span><br><span class="line"><span class="comment">const multiply = (x, y) =&gt; x * y</span></span><br><span class="line"><span class="comment">const multiplyAndAdd5 = compose(add5, multiply)</span></span><br><span class="line"><span class="comment">multiplyAndAdd5(5, 2) -&gt; 15</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="curry"><a href="#curry" class="headerlink" title="curry"></a>curry</h3><p>Curries a function.</p><p>Use recursion.<br>If the number of provided arguments (<code>args</code>) is sufficient, call the passed function <code>fn</code>.<br>Otherwise, return a curried function <code>fn</code> that expects the rest of the arguments.<br>If you want to curry a function that accepts a variable number of arguments (a variadic function, e.g. <code>Math.min()</code>), you can optionally pass the number of arguments to the second parameter <code>arity</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> curry = <span class="function">(<span class="params">fn, arity = fn.length, ...args</span>) =&gt;</span></span><br><span class="line">  arity &lt;= args.length</span><br><span class="line">    ? fn(...args)</span><br><span class="line">    : curry.bind(<span class="literal">null</span>, fn, arity, ...args);</span><br><span class="line"><span class="comment">// curry(Math.pow)(2)(10) -&gt; 1024</span></span><br><span class="line"><span class="comment">// curry(Math.min, 3)(10)(50)(2) -&gt; 2</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="functionName"><a href="#functionName" class="headerlink" title="functionName"></a>functionName</h3><p>Logs the name of a function.</p><p>Use <code>console.debug()</code> and the <code>name</code> property of the passed method to log the method’s name to the <code>debug</code> channel of the console.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> functionName = <span class="function"><span class="params">fn</span> =&gt;</span> (<span class="built_in">console</span>.debug(fn.name), fn);</span><br><span class="line"><span class="comment">// functionName(Math.max) -&gt; max (logged in debug channel of console)</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="runPromisesInSeries"><a href="#runPromisesInSeries" class="headerlink" title="runPromisesInSeries"></a>runPromisesInSeries</h3><p>Runs an array of promises in series.</p><p>Use <code>Array.reduce()</code> to create a promise chain, where each promise returns the next promise when resolved.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> runPromisesInSeries = <span class="function"><span class="params">ps</span> =&gt;</span> ps.reduce(<span class="function">(<span class="params">p, next</span>) =&gt;</span> p.then(next), <span class="built_in">Promise</span>.resolve());</span><br><span class="line"><span class="comment">// const delay = (d) =&gt; new Promise(r =&gt; setTimeout(r, d))</span></span><br><span class="line"><span class="comment">// runPromisesInSeries([() =&gt; delay(1000), () =&gt; delay(2000)]) -&gt; executes each promise sequentially, taking a total of 3 seconds to complete</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="sleep"><a href="#sleep" class="headerlink" title="sleep"></a>sleep</h3><p>Delays the execution of an asynchronous function.</p><p>Delay executing part of an <code>async</code> function, by putting it to sleep, returning a <code>Promise</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sleep = <span class="function"><span class="params">ms</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, ms));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">async function sleepyWork() &#123;</span></span><br><span class="line"><span class="comment">  console.log('I\'m going to sleep for 1 second.');</span></span><br><span class="line"><span class="comment">  await sleep(1000);</span></span><br><span class="line"><span class="comment">  console.log('I woke up after 1 second.');</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Logic-1"><a href="#Logic-1" class="headerlink" title="Logic"></a>Logic</h2><h3 id="negate"><a href="#negate" class="headerlink" title="negate"></a>negate</h3><p>Negates a predicate function.</p><p>Take a predicate function and apply <code>not</code> to it with its arguments.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> negate = <span class="function"><span class="params">func</span> =&gt;</span> (...args) =&gt; !func(...args);</span><br><span class="line"><span class="comment">// filter([1, 2, 3, 4, 5, 6], negate(isEven)) -&gt; [1, 3, 5]</span></span><br><span class="line"><span class="comment">// negate(isOdd)(1) -&gt; false</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Math-1"><a href="#Math-1" class="headerlink" title="Math"></a>Math</h2><h3 id="arrayAverage"><a href="#arrayAverage" class="headerlink" title="arrayAverage"></a>arrayAverage</h3><p>Returns the average of an array of numbers.</p><p>Use <code>Array.reduce()</code> to add each value to an accumulator, initialized with a value of <code>0</code>, divide by the <code>length</code> of the array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayAverage = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / arr.length;</span><br><span class="line"><span class="comment">// arrayAverage([1,2,3]) -&gt; 2</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="arraySum"><a href="#arraySum" class="headerlink" title="arraySum"></a>arraySum</h3><p>Returns the sum of an array of numbers.</p><p>Use <code>Array.reduce()</code> to add each value to an accumulator, initialized with a value of <code>0</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arraySum = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// arraySum([1,2,3,4]) -&gt; 10</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="clampNumber"><a href="#clampNumber" class="headerlink" title="clampNumber"></a>clampNumber</h3><p>Clamps <code>num</code> within the inclusive range specified by the boundary values <code>a</code> and <code>b</code></p><p>If <code>num</code> falls within the range, return <code>num</code>.<br>Otherwise, return the nearest number in the range.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clampNumber = <span class="function">(<span class="params">num, a, b</span>) =&gt;</span> <span class="built_in">Math</span>.max(<span class="built_in">Math</span>.min(num, <span class="built_in">Math</span>.max(a,b)),<span class="built_in">Math</span>.min(a,b));</span><br><span class="line"><span class="comment">// clampNumber(2, 3, 5) -&gt; 3</span></span><br><span class="line"><span class="comment">// clampNumber(1, -1, -5) -&gt; -1</span></span><br><span class="line"><span class="comment">// clampNumber(3, 2, 4) -&gt; 3</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="collatz"><a href="#collatz" class="headerlink" title="collatz"></a>collatz</h3><p>Applies the Collatz algorithm.</p><p>If <code>n</code> is even, return <code>n/2</code>. Otherwise, return <code>3n+1</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> collatz = <span class="function"><span class="params">n</span> =&gt;</span> (n % <span class="number">2</span> == <span class="number">0</span>) ? (n / <span class="number">2</span>) : (<span class="number">3</span> * n + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// collatz(8) --&gt; 4</span></span><br><span class="line"><span class="comment">// collatz(5) --&gt; 16</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="digitize"><a href="#digitize" class="headerlink" title="digitize"></a>digitize</h3><p>Converts a number to an array of digits.</p><p>Convert the number to a string, using spread operators in ES6(<code>[...string]</code>) build an array.<br>Use <code>Array.map()</code> and <code>parseInt()</code> to transform each value to an integer.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> digitize = <span class="function"><span class="params">n</span> =&gt;</span> [...<span class="string">''</span> + n].map(<span class="function"><span class="params">i</span> =&gt;</span> <span class="built_in">parseInt</span>(i));</span><br><span class="line"><span class="comment">// digitize(2334) -&gt; [2, 3, 3, 4]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="distance"><a href="#distance" class="headerlink" title="distance"></a>distance</h3><p>Returns the distance between two points.</p><p>Use <code>Math.hypot()</code> to calculate the Euclidean distance between two points.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> distance = <span class="function">(<span class="params">x0, y0, x1, y1</span>) =&gt;</span> <span class="built_in">Math</span>.hypot(x1 - x0, y1 - y0);</span><br><span class="line"><span class="comment">// distance(1,1, 2,3) -&gt; 2.23606797749979</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="factorial"><a href="#factorial" class="headerlink" title="factorial"></a>factorial</h3><p>Calculates the factorial of a number.</p><p>Use recursion.<br>If <code>n</code> is less than or equal to <code>1</code>, return <code>1</code>.<br>Otherwise, return the product of <code>n</code> and the factorial of <code>n - 1</code>.<br>Throws an exception if <code>n</code> is a negative number.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function"><span class="params">n</span> =&gt;</span></span><br><span class="line">  n &lt; <span class="number">0</span> ? <span class="function">(<span class="params">(</span>) =&gt;</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Negative numbers are not allowed!'</span>); &#125;)()</span><br><span class="line">  : n &lt;= <span class="number">1</span> ? <span class="number">1</span> : n * factorial(n - <span class="number">1</span>);</span><br><span class="line"><span class="comment">// factorial(6) -&gt; 720</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="fibonacci"><a href="#fibonacci" class="headerlink" title="fibonacci"></a>fibonacci</h3><p>Generates an array, containing the Fibonacci sequence, up until the nth term.</p><p>Create an empty array of the specific length, initializing the first two values (<code>0</code> and <code>1</code>).<br>Use <code>Array.reduce()</code> to add values into the array, using the sum of the last two values, except for the first two.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fibonacci = <span class="function"><span class="params">n</span> =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: n&#125;).reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> acc.concat(i &gt; <span class="number">1</span> ? acc[i - <span class="number">1</span>] + acc[i - <span class="number">2</span>] : i), []);</span><br><span class="line"><span class="comment">// fibonacci(5) -&gt; [0,1,1,2,3]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="fibonacciCountUntilNum"><a href="#fibonacciCountUntilNum" class="headerlink" title="fibonacciCountUntilNum"></a>fibonacciCountUntilNum</h3><p>Returns the number of fibonnacci numbers up to <code>num</code>(<code>0</code> and <code>num</code> inclusive).</p><p>Use a mathematical formula to calculate the number of fibonacci numbers until <code>num</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fibonacciCountUntilNum = <span class="function"><span class="params">num</span> =&gt;</span></span><br><span class="line">  <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.log(num * <span class="built_in">Math</span>.sqrt(<span class="number">5</span>) + <span class="number">1</span> / <span class="number">2</span>) / <span class="built_in">Math</span>.log((<span class="built_in">Math</span>.sqrt(<span class="number">5</span>) + <span class="number">1</span>) / <span class="number">2</span>));</span><br><span class="line"><span class="comment">// fibonacciCountUntilNum(10) -&gt; 7</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="fibonacciUntilNum"><a href="#fibonacciUntilNum" class="headerlink" title="fibonacciUntilNum"></a>fibonacciUntilNum</h3><p>Generates an array, containing the Fibonacci sequence, up until the nth term.</p><p>Create an empty array of the specific length, initializing the first two values (<code>0</code> and <code>1</code>).<br>Use <code>Array.reduce()</code> to add values into the array, using the sum of the last two values, except for the first two.<br>Uses a mathematical formula to calculate the length of the array required.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fibonacciUntilNum = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> n = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.log(num * <span class="built_in">Math</span>.sqrt(<span class="number">5</span>) + <span class="number">1</span> / <span class="number">2</span>) / <span class="built_in">Math</span>.log((<span class="built_in">Math</span>.sqrt(<span class="number">5</span>) + <span class="number">1</span>) / <span class="number">2</span>));</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: n&#125;).reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> acc.concat(i &gt; <span class="number">1</span> ? acc[i - <span class="number">1</span>] + acc[i - <span class="number">2</span>] : i), []);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// fibonacciUntilNum(15) -&gt; [0,1,1,2,3,5,8,13]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="gcd"><a href="#gcd" class="headerlink" title="gcd"></a>gcd</h3><p>Calculates the greatest common divisor between two numbers.</p><p>Use recursion.<br>Base case is when <code>y</code> equals <code>0</code>. In this case, return <code>x</code>.<br>Otherwise, return the GCD of <code>y</code> and the remainder of the division <code>x/y</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gcd = <span class="function">(<span class="params">x, y</span>) =&gt;</span> !y ? x : gcd(y, x % y);</span><br><span class="line"><span class="comment">// gcd (8, 36) -&gt; 4</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="hammingDistance"><a href="#hammingDistance" class="headerlink" title="hammingDistance"></a>hammingDistance</h3><p>Calculates the Hamming distance between two values.</p><p>Use XOR operator (<code>^</code>) to find the bit difference between the two numbers, convert to a binary string using <code>toString(2)</code>.<br>Count and return the number of <code>1</code>s in the string, using <code>match(/1/g)</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hammingDistance = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span></span><br><span class="line">  ((num1 ^ num2).toString(<span class="number">2</span>).match(<span class="regexp">/1/g</span>) || <span class="string">''</span>).length;</span><br><span class="line"><span class="comment">// hammingDistance(2,3) -&gt; 1</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="inRange"><a href="#inRange" class="headerlink" title="inRange"></a>inRange</h3><p>Checks if the given number falls within the given range.</p><p>Use arithmetic comparison to check if the given number is in the specified range.<br>If the second parameter, <code>end</code>, is not specified, the range is considered to be from <code>0</code> to <code>start</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inRange = <span class="function">(<span class="params">n, start, end = <span class="literal">null</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (end &amp;&amp; start &gt; end) end = [start, start = end][<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">return</span> (end == <span class="literal">null</span>) ? (n &gt;= <span class="number">0</span> &amp;&amp; n &lt; start) : (n &gt;= start &amp;&amp; n &lt; end);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// inRange(3, 2, 5) -&gt; true</span></span><br><span class="line"><span class="comment">// inRange(3, 4) -&gt; true</span></span><br><span class="line"><span class="comment">// inRange(2, 3, 5) -&gt; false</span></span><br><span class="line"><span class="comment">// inrange(3, 2) -&gt; false</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isArmstrongNumber"><a href="#isArmstrongNumber" class="headerlink" title="isArmstrongNumber"></a>isArmstrongNumber</h3><p>Checks if the given number is an Armstrong number or not.</p><p>Convert the given number into an array of digits. Use <code>Math.pow()</code> to get the appropriate power for each digit and sum them up. If the sum is equal to the number itself, return <code>true</code> otherwise <code>false</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isArmstrongNumber = <span class="function"><span class="params">digits</span> =&gt;</span></span><br><span class="line">  (<span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, d</span>) =&gt;</span> a + <span class="built_in">Math</span>.pow(<span class="built_in">parseInt</span>(d), arr.length), <span class="number">0</span>) == digits)((digits + <span class="string">''</span>).split(<span class="string">''</span>));</span><br><span class="line"><span class="comment">// isArmstrongNumber(1634) -&gt; true</span></span><br><span class="line"><span class="comment">// isArmstrongNumber(371) -&gt; true</span></span><br><span class="line"><span class="comment">// isArmstrongNumber(56) -&gt; false</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isDivisible"><a href="#isDivisible" class="headerlink" title="isDivisible"></a>isDivisible</h3><p>Checks if the first numeric argument is divisible by the second one.</p><p>Use the modulo operator (<code>%</code>) to check if the remainder is equal to <code>0</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isDivisible = <span class="function">(<span class="params">dividend, divisor</span>) =&gt;</span> dividend % divisor === <span class="number">0</span>;</span><br><span class="line"><span class="comment">// isDivisible(6,3) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isEven"><a href="#isEven" class="headerlink" title="isEven"></a>isEven</h3><p>Returns <code>true</code> if the given number is even, <code>false</code> otherwise.</p><p>Checks whether a number is odd or even using the modulo (<code>%</code>) operator.<br>Returns <code>true</code> if the number is even, <code>false</code> if the number is odd.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isEven = <span class="function"><span class="params">num</span> =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"><span class="comment">// isEven(3) -&gt; false</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isPrime"><a href="#isPrime" class="headerlink" title="isPrime"></a>isPrime</h3><p>Checks if the provided integer is a prime number.</p><p>Check numbers from <code>2</code> to the square root of the given number.<br>Return <code>false</code> if any of them divides the given number, else return <code>true</code>, unless the number is less than <code>2</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isPrime = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> boundary = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.sqrt(num));</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">2</span>; i * i &lt;= boundary; i++) <span class="keyword">if</span> (num % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">return</span> num &gt;= <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// isPrime(11) -&gt; true</span></span><br><span class="line"><span class="comment">// isPrime(12) -&gt; false</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="lcm"><a href="#lcm" class="headerlink" title="lcm"></a>lcm</h3><p>Returns the least common multiple of two numbers.</p><p>Use the greatest common divisor (GCD) formula and <code>Math.abs()</code> to determine the least common multiple.<br>The GCD formula uses recursion.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lcm = <span class="function">(<span class="params">x, y</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> gcd = <span class="function">(<span class="params">x, y</span>) =&gt;</span> !y ? x : gcd(y, x % y);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.abs(x * y) / (gcd(x, y));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// lcm(12,7) -&gt; 84</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="median"><a href="#median" class="headerlink" title="median"></a>median</h3><p>Returns the median of an array of numbers.</p><p>Find the middle of the array, use <code>Array.sort()</code> to sort the values.<br>Return the number at the midpoint if <code>length</code> is odd, otherwise the average of the two middle numbers.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> median = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>), nums = [...arr].sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">  <span class="keyword">return</span> arr.length % <span class="number">2</span> !== <span class="number">0</span> ? nums[mid] : (nums[mid - <span class="number">1</span>] + nums[mid]) / <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// median([5,6,50,1,-5]) -&gt; 5</span></span><br><span class="line"><span class="comment">// median([0,10,-2,7]) -&gt; 3.5</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="palindrome"><a href="#palindrome" class="headerlink" title="palindrome"></a>palindrome</h3><p>Returns <code>true</code> if the given string is a palindrome, <code>false</code> otherwise.</p><p>Convert string <code>toLowerCase()</code> and use <code>replace()</code> to remove non-alphanumeric characters from it.<br>Then, <code>split(&#39;&#39;)</code> into individual characters, <code>reverse()</code>, <code>join(&#39;&#39;)</code> and compare to the original, unreversed string, after converting it <code>tolowerCase()</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> palindrome = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = str.toLowerCase().replace(<span class="regexp">/[\W_]/g</span>,<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">return</span> s === s.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// palindrome('taco cat') -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="percentile"><a href="#percentile" class="headerlink" title="percentile"></a>percentile</h3><p>Uses the percentile formula to calculate how many numbers in the given array are less or equal to the given value.</p><p>Use <code>Array.reduce()</code> to calculate how many numbers are below the value and how many are the same value and apply the percentile formula.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> percentile = <span class="function">(<span class="params">arr, val</span>) =&gt;</span></span><br><span class="line">  <span class="number">100</span> * arr.reduce(<span class="function">(<span class="params">acc,v</span>) =&gt;</span> acc + (v &lt; val ? <span class="number">1</span> : <span class="number">0</span>) + (v === val ? <span class="number">0.5</span> : <span class="number">0</span>), <span class="number">0</span>) / arr.length;</span><br><span class="line"><span class="comment">// percentile([1,2,3,4,5,6,7,8,9,10], 6) -&gt; 55</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="powerset"><a href="#powerset" class="headerlink" title="powerset"></a>powerset</h3><p>Returns the powerset of a given array of numbers.</p><p>Use <code>Array.reduce()</code> combined with <code>Array.map()</code> to iterate over elements and combine into an array containing all combinations.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> powerset = <span class="function"><span class="params">arr</span> =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(a.map(<span class="function"><span class="params">r</span> =&gt;</span> [v].concat(r))), [[]]);</span><br><span class="line"><span class="comment">// powerset([1,2]) -&gt; [[], [1], [2], [2,1]]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="primes"><a href="#primes" class="headerlink" title="primes"></a>primes</h3><p>Generates primes up to a given number, using the Sieve of Eratosthenes.</p><p>Generate an array from <code>2</code> to the given number. Use <code>Array.filter()</code> to filter out the values divisible by any number from <code>2</code> to the square root of the provided number.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> primes = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: num - <span class="number">1</span>&#125;).map(<span class="function">(<span class="params">x, i</span>) =&gt;</span> i + <span class="number">2</span>),</span><br><span class="line">    sqroot = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.sqrt(num)),</span><br><span class="line">    numsTillSqroot = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: sqroot - <span class="number">1</span>&#125;).map(<span class="function">(<span class="params">x, i</span>) =&gt;</span> i + <span class="number">2</span>);</span><br><span class="line">  numsTillSqroot.forEach(<span class="function"><span class="params">x</span> =&gt;</span> arr = arr.filter(<span class="function"><span class="params">y</span> =&gt;</span> ((y % x) !== <span class="number">0</span>) || (y == x)));</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// primes(10) -&gt; [2,3,5,7]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="randomIntegerInRange"><a href="#randomIntegerInRange" class="headerlink" title="randomIntegerInRange"></a>randomIntegerInRange</h3><p>Returns a random integer in the specified range.</p><p>Use <code>Math.random()</code> to generate a random number and map it to the desired range, using <code>Math.floor()</code> to make it an integer.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomIntegerInRange = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</span><br><span class="line"><span class="comment">// randomIntegerInRange(0, 5) -&gt; 2</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="randomNumberInRange"><a href="#randomNumberInRange" class="headerlink" title="randomNumberInRange"></a>randomNumberInRange</h3><p>Returns a random number in the specified range.</p><p>Use <code>Math.random()</code> to generate a random value, map it to the desired range using multiplication.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomNumberInRange = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="built_in">Math</span>.random() * (max - min) + min;</span><br><span class="line"><span class="comment">// randomNumberInRange(2,10) -&gt; 6.0211363285087005</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="round"><a href="#round" class="headerlink" title="round"></a>round</h3><p>Rounds a number to a specified amount of digits.</p><p>Use <code>Math.round()</code> and template literals to round the number to the specified number of digits.<br>Omit the second argument, <code>decimals</code> to round to an integer.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> round = <span class="function">(<span class="params">n, decimals = <span class="number">0</span></span>) =&gt;</span> <span class="built_in">Number</span>(<span class="string">`<span class="subst">$&#123;<span class="built_in">Math</span>.round(<span class="string">`<span class="subst">$&#123;n&#125;</span>e<span class="subst">$&#123;decimals&#125;</span>`</span>)&#125;</span>e-<span class="subst">$&#123;decimals&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// round(1.005, 2) -&gt; 1.01</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="sdbmHashAlgorithm"><a href="#sdbmHashAlgorithm" class="headerlink" title="sdbmHashAlgorithm"></a>sdbmHashAlgorithm</h3><p>This algorithm is a simple hash-algorithm that hashes it input string <code>s</code> into a whole number.</p><p>Use <code>split(&#39;&#39;)</code> and <code>Array.reduce()</code> to create a hash of the input string, utilizing bit shifting.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sdbm = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = str.split(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">hashCode, currentVal</span>) =&gt;</span></span><br><span class="line">    hashCode = currentVal.charCodeAt(<span class="number">0</span>) + (hashCode &lt;&lt; <span class="number">6</span>) + (hashCode &lt;&lt; <span class="number">16</span>)  - hashCode</span><br><span class="line">  ,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// console.log(sdbm("name")) // -3521204949</span></span><br><span class="line"><span class="comment">// console.log(sdbm("age")) // 808122783</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="standardDeviation"><a href="#standardDeviation" class="headerlink" title="standardDeviation"></a>standardDeviation</h3><p>Returns the standard deviation of an array of numbers.</p><p>Use <code>Array.reduce()</code> to calculate the mean, variance and the sum of the variance of the values, the variance of the values, then<br>determine the standard deviation.<br>You can omit the second argument to get the sample standard deviation or set it to <code>true</code> to get the population standard deviation.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> standardDeviation = <span class="function">(<span class="params">arr, usePopulation = <span class="literal">false</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mean = arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / arr.length;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(</span><br><span class="line">    arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc.concat(<span class="built_in">Math</span>.pow(val - mean, <span class="number">2</span>)), [])</span><br><span class="line">       .reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / (arr.length - (usePopulation ? <span class="number">0</span> : <span class="number">1</span>))</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// standardDeviation([10,2,38,23,38,23,21]) -&gt; 13.284434142114991 (sample)</span></span><br><span class="line"><span class="comment">// standardDeviation([10,2,38,23,38,23,21], true) -&gt; 12.29899614287479 (population)</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Media-1"><a href="#Media-1" class="headerlink" title="Media"></a>Media</h2><h3 id="speechSynthesis"><a href="#speechSynthesis" class="headerlink" title="speechSynthesis"></a>speechSynthesis</h3><p>Performs speech synthesis (experimental).</p><p>Use <code>SpeechSynthesisUtterance.voice</code> and <code>window.speechSynthesis.getVoices()</code> to convert a message to speech.<br>Use <code>window.speechSynthesis.speak()</code> to play the message.</p><p>Learn more about the <a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance" target="_blank" rel="noopener">SpeechSynthesisUtterance interface of the Web Speech API</a>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> speechSynthesis = <span class="function"><span class="params">message</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">new</span> SpeechSynthesisUtterance(message);</span><br><span class="line">  msg.voice = <span class="built_in">window</span>.speechSynthesis.getVoices()[<span class="number">0</span>];</span><br><span class="line">  <span class="built_in">window</span>.speechSynthesis.speak(msg);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// speechSynthesis('Hello, World') -&gt; plays the message</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Node-1"><a href="#Node-1" class="headerlink" title="Node"></a>Node</h2><h3 id="JSONToFile"><a href="#JSONToFile" class="headerlink" title="JSONToFile"></a>JSONToFile</h3><p>Writes a JSON object to a file.</p><p>Use <code>fs.writeFile()</code>, template literals and <code>JSON.stringify()</code> to write a <code>json</code> object to a <code>.json</code> file.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> JSONToFile = <span class="function">(<span class="params">obj, filename</span>) =&gt;</span> fs.writeFile(<span class="string">`<span class="subst">$&#123;filename&#125;</span>.json`</span>, <span class="built_in">JSON</span>.stringify(obj, <span class="literal">null</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">// JSONToFile(&#123;test: "is passed"&#125;, 'testJsonFile') -&gt; writes the object to 'testJsonFile.json'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="readFileLines"><a href="#readFileLines" class="headerlink" title="readFileLines"></a>readFileLines</h3><p>Returns an array of lines from the specified file.</p><p>Use <code>readFileSync</code> function in <code>fs</code> node package to create a <code>Buffer</code> from a file.<br>convert buffer to string using <code>toString(encoding)</code> function.<br>creating an array from contents of file by <code>split</code>ing file content line by line (each <code>\n</code>).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> readFileLines = <span class="function"><span class="params">filename</span> =&gt;</span> fs.readFileSync(filename).toString(<span class="string">'UTF8'</span>).split(<span class="regexp">/\r?\n/</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  contents of test.txt :</span></span><br><span class="line"><span class="comment">    line1</span></span><br><span class="line"><span class="comment">    line2</span></span><br><span class="line"><span class="comment">    line3</span></span><br><span class="line"><span class="comment">    ___________________________</span></span><br><span class="line"><span class="comment">  let arr = readFileLines('test.txt')</span></span><br><span class="line"><span class="comment">  console.log(arr) // -&gt; ['line1', 'line2', 'line3']</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Object-1"><a href="#Object-1" class="headerlink" title="Object"></a>Object</h2><h3 id="cleanObj"><a href="#cleanObj" class="headerlink" title="cleanObj"></a>cleanObj</h3><p>Removes any properties except the ones specified from a JSON object.</p><p>Use <code>Object.keys()</code> method to loop over given JSON object and deleting keys that are not <code>include</code>d in given array.<br>Also if you give it a special key (<code>childIndicator</code>) it will search deeply inside it to apply function to inner objects too.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cleanObj = <span class="function">(<span class="params">obj, keysToKeep = [], childIndicator</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">Object</span>.keys(obj).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (key === childIndicator) &#123;</span><br><span class="line">      cleanObj(obj[key], keysToKeep, childIndicator);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!keysToKeep.includes(key)) &#123;</span><br><span class="line">      <span class="keyword">delete</span> obj[key];</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  const testObj = &#123;a: 1, b: 2, children: &#123;a: 1, b: 2&#125;&#125;</span></span><br><span class="line"><span class="comment">  cleanObj(testObj, ["a"],"children") // &#123; a: 1, children : &#123; a: 1&#125;&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="objectFromPairs"><a href="#objectFromPairs" class="headerlink" title="objectFromPairs"></a>objectFromPairs</h3><p>Creates an object from the given key-value pairs.</p><p>Use <code>Array.reduce()</code> to create and combine key-value pairs.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objectFromPairs = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> (a[v[<span class="number">0</span>]] = v[<span class="number">1</span>], a), &#123;&#125;);</span><br><span class="line"><span class="comment">// objectFromPairs([['a',1],['b',2]]) -&gt; &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="objectToPairs"><a href="#objectToPairs" class="headerlink" title="objectToPairs"></a>objectToPairs</h3><p>Creates an array of key-value pair arrays from an object.</p><p>Use <code>Object.keys()</code> and <code>Array.map()</code> to iterate over the object’s keys and produce an array with key-value pairs.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objectToPairs = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="built_in">Object</span>.keys(obj).map(<span class="function"><span class="params">k</span> =&gt;</span> [k, obj[k]]);</span><br><span class="line"><span class="comment">// objectToPairs(&#123;a: 1, b: 2&#125;) -&gt; [['a',1],['b',2]])</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="orderBy"><a href="#orderBy" class="headerlink" title="orderBy"></a>orderBy</h3><p>Returns a sorted array of objects ordered by properties and orders.</p><p>Uses a custom implementation of sort, that reduces the props array argument with a default value of 0, it uses destructuring to swap the properties position depending on the order passed.<br>If no orders array is passed it sort by ‘asc’ by default.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> orderBy = <span class="function">(<span class="params">arr, props, orders</span>) =&gt;</span></span><br><span class="line">  arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span></span><br><span class="line">    props.reduce(<span class="function">(<span class="params">acc, prop, i</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (acc === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> [p1, p2] = orders &amp;&amp; orders[i] === <span class="string">'desc'</span> ? [b[prop], a[prop]] : [a[prop], b[prop]];</span><br><span class="line">        acc = p1 &gt; p2 ? <span class="number">1</span> : p1 &lt; p2 ? <span class="number">-1</span> : <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> acc;</span><br><span class="line">    &#125;, <span class="number">0</span>)</span><br><span class="line">  );</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const users = [&#123; 'name': 'fred',   'age': 48 &#125;,&#123; 'name': 'barney', 'age': 36 &#125;,</span></span><br><span class="line"><span class="comment">  &#123; 'name': 'fred',   'age': 40 &#125;,&#123; 'name': 'barney', 'age': 34 &#125;];</span></span><br><span class="line"><span class="comment">orderby(users, ['name', 'age'], ['asc', 'desc']) -&gt; [&#123;name: 'barney', age: 36&#125;, &#123;name: 'barney', age: 34&#125;, &#123;name: 'fred', age: 48&#125;, &#123;name: 'fred', age: 40&#125;]</span></span><br><span class="line"><span class="comment">orderby(users, ['name', 'age']) -&gt; [&#123;name: 'barney', age: 34&#125;, &#123;name: 'barney', age: 36&#125;, &#123;name: 'fred', age: 40&#125;, &#123;name: 'fred', age: 48&#125;]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><p>Retrieve a property that indicated by the selector from an object.</p><p>If the property does not exists returns <code>undefined</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> select = <span class="function">(<span class="params"><span class="keyword">from</span>, selector</span>) =&gt;</span></span><br><span class="line">  selector.split(<span class="string">'.'</span>).reduce(<span class="function">(<span class="params">prev, cur</span>) =&gt;</span> prev &amp;&amp; prev[cur], <span class="keyword">from</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// const obj = &#123;selector: &#123;to: &#123;val: 'val to select'&#125;&#125;&#125;;</span></span><br><span class="line"><span class="comment">// select(obj, 'selector.to.val'); -&gt; 'val to select'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="shallowClone"><a href="#shallowClone" class="headerlink" title="shallowClone"></a>shallowClone</h3><p>Creates a shallow clone of an object.</p><p>Use <code>Object.assign()</code> and an empty object (<code>{}</code>) to create a shallow clone of the original.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shallowClone = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const a = &#123; x: true, y: 1 &#125;;</span></span><br><span class="line"><span class="comment">const b = shallowClone(a);</span></span><br><span class="line"><span class="comment">a === b -&gt; false</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="truthCheckCollection"><a href="#truthCheckCollection" class="headerlink" title="truthCheckCollection"></a>truthCheckCollection</h3><p>Checks if the predicate (second argument) is truthy on all elements of a collection (first argument).</p><p>Use <code>Array.every()</code> to check if each passed object has the specified property and if it returns a truthy value.</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> truthCheckCollection = <span class="function">(<span class="params">collection, pre</span>) =&gt;</span> (collection.every(<span class="function"><span class="params">obj</span> =&gt;</span> obj[pre]));</span><br><span class="line"><span class="comment">// truthCheckCollection([&#123;"user": "Tinky-Winky", "sex": "male"&#125;, &#123;"user": "Dipsy", "sex": "male"&#125;], "sex") -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="String-1"><a href="#String-1" class="headerlink" title="String"></a>String</h2><h3 id="anagrams"><a href="#anagrams" class="headerlink" title="anagrams"></a>anagrams</h3><p>Generates all anagrams of a string (contains duplicates).</p><p>Use recursion.<br>For each letter in the given string, create all the partial anagrams for the rest of its letters.<br>Use <code>Array.map()</code> to combine the letter with each partial anagram, then <code>Array.reduce()</code> to combine all anagrams in one array.<br>Base cases are for string <code>length</code> equal to <code>2</code> or <code>1</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> anagrams = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (str.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> str.length === <span class="number">2</span> ? [str, str[<span class="number">1</span>] + str[<span class="number">0</span>]] : [str];</span><br><span class="line">  <span class="keyword">return</span> str.split(<span class="string">''</span>).reduce(<span class="function">(<span class="params">acc, letter, i</span>) =&gt;</span></span><br><span class="line">    acc.concat(anagrams(str.slice(<span class="number">0</span>, i) + str.slice(i + <span class="number">1</span>)).map(<span class="function"><span class="params">val</span> =&gt;</span> letter + val)), []);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// anagrams('abc') -&gt; ['abc','acb','bac','bca','cab','cba']</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="Capitalize"><a href="#Capitalize" class="headerlink" title="Capitalize"></a>Capitalize</h3><p>Capitalizes the first letter of a string.</p><p>Use destructuring and <code>toUpperCase()</code> to capitalize first letter, <code>...rest</code> to get array of characters after first letter and then <code>Array.join(&#39;&#39;)</code> to make it a string again.<br>Omit the <code>lowerRest</code> parameter to keep the rest of the string intact, or set it to <code>true</code> to convert to lowercase.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> capitalize = <span class="function">(<span class="params">[first, ...rest], lowerRest = <span class="literal">false</span></span>) =&gt;</span></span><br><span class="line">  first.toUpperCase() + (lowerRest ? rest.join(<span class="string">''</span>).toLowerCase() : rest.join(<span class="string">''</span>));</span><br><span class="line"><span class="comment">// capitalize('myName') -&gt; 'MyName'</span></span><br><span class="line"><span class="comment">// capitalize('myName', true) -&gt; 'Myname'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="capitalizeEveryWord"><a href="#capitalizeEveryWord" class="headerlink" title="capitalizeEveryWord"></a>capitalizeEveryWord</h3><p>Capitalizes the first letter of every word in a string.</p><p>Use <code>replace()</code> to match the first character of each word and <code>toUpperCase()</code> to capitalize it.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> capitalizeEveryWord = <span class="function"><span class="params">str</span> =&gt;</span> str.replace(<span class="regexp">/\b[a-z]/g</span>, char =&gt; char.toUpperCase());</span><br><span class="line"><span class="comment">// capitalizeEveryWord('hello world!') -&gt; 'Hello World!'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="countVowels"><a href="#countVowels" class="headerlink" title="countVowels"></a>countVowels</h3><p>Retuns <code>number</code> of vowels in provided string.</p><p>Use a regular expression to count the number of vowels <code>(A, E, I, O, U)</code> in a <code>string</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countVowels = <span class="function"><span class="params">str</span> =&gt;</span> (str.match(<span class="regexp">/[aeiou]/ig</span>) || []).length;</span><br><span class="line"><span class="comment">// countVowels('foobar') -&gt; 3</span></span><br><span class="line"><span class="comment">// countVowels('gym') -&gt; 0</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="escapeRegExp"><a href="#escapeRegExp" class="headerlink" title="escapeRegExp"></a>escapeRegExp</h3><p>Escapes a string to use in a regular expression.</p><p>Use <code>replace()</code> to escape special characters.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> escapeRegExp = <span class="function"><span class="params">str</span> =&gt;</span> str.replace(<span class="regexp">/[.*+?^$&#123;&#125;()|[\]\\]/g</span>, <span class="string">'\\$&amp;'</span>);</span><br><span class="line"><span class="comment">// escapeRegExp('(test)') -&gt; \\(test\\)</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="fromCamelCase"><a href="#fromCamelCase" class="headerlink" title="fromCamelCase"></a>fromCamelCase</h3><p>Converts a string from camelcase.</p><p>Use <code>replace()</code> to remove underscores, hyphens, and spaces and convert words to camelcase.<br>Omit the second argument to use a default separator of <code>_</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fromCamelCase = <span class="function">(<span class="params">str, separator = <span class="string">'_'</span></span>) =&gt;</span></span><br><span class="line">  str.replace(<span class="regexp">/([a-z\d])([A-Z])/g</span>, <span class="string">'$1'</span> + separator + <span class="string">'$2'</span>)</span><br><span class="line">    .replace(<span class="regexp">/([A-Z]+)([A-Z][a-z\d]+)/g</span>, <span class="string">'$1'</span> + separator + <span class="string">'$2'</span>).toLowerCase();</span><br><span class="line"><span class="comment">// fromCamelCase('someDatabaseFieldName', ' ') -&gt; 'some database field name'</span></span><br><span class="line"><span class="comment">// fromCamelCase('someLabelThatNeedsToBeCamelized', '-') -&gt; 'some-label-that-needs-to-be-camelized'</span></span><br><span class="line"><span class="comment">// fromCamelCase('someJavascriptProperty', '_') -&gt; 'some_javascript_property'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="repeatString"><a href="#repeatString" class="headerlink" title="repeatString"></a>repeatString</h3><p>Repeats a string n times using <code>String.repeat()</code></p><p>If no string is provided the default is <code>&quot;&quot;</code> and the default number of times is 2.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> repeatString = <span class="function">(<span class="params">str = <span class="string">''</span>, num = <span class="number">2</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num &gt;= <span class="number">0</span> ? str.repeat(num) : str;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// repeatString("abc",3) -&gt; 'abcabcabc'</span></span><br><span class="line"><span class="comment">// repeatString("abc") -&gt; 'abcabc'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="reverseString"><a href="#reverseString" class="headerlink" title="reverseString"></a>reverseString</h3><p>Reverses a string.</p><p>Use <code>split(&#39;&#39;)</code> and <code>Array.reverse()</code> to reverse the order of the characters in the string.<br>Combine characters to get a string using <code>join(&#39;&#39;)</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverseString = <span class="function"><span class="params">str</span> =&gt;</span> str.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// reverseString('foobar') -&gt; 'raboof'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="sortCharactersInString"><a href="#sortCharactersInString" class="headerlink" title="sortCharactersInString"></a>sortCharactersInString</h3><p>Alphabetically sorts the characters in a string.</p><p>Split the string using <code>split(&#39;&#39;)</code>, <code>Array.sort()</code> utilizing <code>localeCompare()</code>, recombine using <code>join(&#39;&#39;)</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortCharactersInString = <span class="function"><span class="params">str</span> =&gt;</span></span><br><span class="line">  str.split(<span class="string">''</span>).sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.localeCompare(b)).join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// sortCharactersInString('cabbage') -&gt; 'aabbceg'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="toCamelCase"><a href="#toCamelCase" class="headerlink" title="toCamelCase"></a>toCamelCase</h3><p>Converts a string to camelcase.</p><p>Break the string into words and combine them capitalizing the first letter of each word.<br>For more detailed explanation of this Regex, <a href="https://regex101.com/r/bMCgAB/1" target="_blank" rel="noopener">visit this Site</a>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toCamelCase = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> s = str &amp;&amp; str.match(<span class="regexp">/[A-Z]&#123;2,&#125;(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g</span>)</span><br><span class="line">    .map(<span class="function"><span class="params">x</span> =&gt;</span> x.slice(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + x.slice(<span class="number">1</span>).toLowerCase())</span><br><span class="line">    .join(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">return</span> s.slice(<span class="number">0</span>, <span class="number">1</span>).toLowerCase() + s.slice(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// toCamelCase("some_database_field_name") -&gt; 'someDatabaseFieldName'</span></span><br><span class="line"><span class="comment">// toCamelCase("Some label that needs to be camelized") -&gt; 'someLabelThatNeedsToBeCamelized'</span></span><br><span class="line"><span class="comment">// toCamelCase("some-javascript-property") -&gt; 'someJavascriptProperty'</span></span><br><span class="line"><span class="comment">// toCamelCase("some-mixed_string with spaces_underscores-and-hyphens") -&gt; 'someMixedStringWithSpacesUnderscoresAndHyphens'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="toKebabCase"><a href="#toKebabCase" class="headerlink" title="toKebabCase"></a>toKebabCase</h3><p>Converts a string to kebab case.</p><p>Break the string into words and combine them using <code>-</code> as a separator.<br>For more detailed explanation of this Regex, <a href="https://regex101.com/r/bMCgAB/1" target="_blank" rel="noopener">visit this Site</a>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toKebabCase = <span class="function"><span class="params">str</span> =&gt;</span></span><br><span class="line">  str &amp;&amp; str.match(<span class="regexp">/[A-Z]&#123;2,&#125;(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g</span>)</span><br><span class="line">    .map(<span class="function"><span class="params">x</span> =&gt;</span> x.toLowerCase())</span><br><span class="line">    .join(<span class="string">'-'</span>);</span><br><span class="line"><span class="comment">// toKebabCase("camelCase") -&gt; 'camel-case'</span></span><br><span class="line"><span class="comment">// toKebabCase("some text") -&gt; 'some-text'</span></span><br><span class="line"><span class="comment">// toKebabCase("some-mixed_string With spaces_underscores-and-hyphens") -&gt; 'some-mixed-string-with-spaces-underscores-and-hyphens'</span></span><br><span class="line"><span class="comment">// toKebabCase("AllThe-small Things") -&gt; "all-the-small-things"</span></span><br><span class="line"><span class="comment">// toKebabCase('IAmListeningToFMWhileLoadingDifferentURLOnMyBrowserAndAlsoEditingSomeXMLAndHTML') -&gt; "i-am-listening-to-fm-while-loading-different-url-on-my-browser-and-also-editing-xml-and-html"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="toSnakeCase"><a href="#toSnakeCase" class="headerlink" title="toSnakeCase"></a>toSnakeCase</h3><p>Converts a string to snake case.</p><p>Break the string into words and combine them using <code>_</code> as a separator.<br>For more detailed explanation of this Regex, <a href="https://regex101.com/r/bMCgAB/1" target="_blank" rel="noopener">visit this Site</a>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toSnakeCase = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  str &amp;&amp; str.match(<span class="regexp">/[A-Z]&#123;2,&#125;(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g</span>)</span><br><span class="line">    .map(<span class="function"><span class="params">x</span> =&gt;</span> x.toLowerCase())</span><br><span class="line">    .join(<span class="string">'_'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// toSnakeCase("camelCase") -&gt; 'camel_case'</span></span><br><span class="line"><span class="comment">// toSnakeCase("some text") -&gt; 'some_text'</span></span><br><span class="line"><span class="comment">// toSnakeCase("some-javascript-property") -&gt; 'some_javascript_property'</span></span><br><span class="line"><span class="comment">// toSnakeCase("some-mixed_string With spaces_underscores-and-hyphens") -&gt; 'some_mixed_string_with_spaces_underscores_and_hyphens'</span></span><br><span class="line"><span class="comment">// toSnakeCase("AllThe-small Things") -&gt; "all_the_small_things"</span></span><br><span class="line"><span class="comment">// toSnakeCase('IAmListeningToFMWhileLoadingDifferentURLOnMyBrowserAndAlsoEditingSomeXMLAndHTML') -&gt; "i_am_listening_to_fm_while_loading_different_url_on_my_browser_and_also_editing_some_xml_and_html"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="truncateString"><a href="#truncateString" class="headerlink" title="truncateString"></a>truncateString</h3><p>Truncates a string up to a specified length.</p><p>Determine if the string’s <code>length</code> is greater than <code>num</code>.<br>Return the string truncated to the desired length, with <code>...</code> appended to the end or the original string.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> truncateString = <span class="function">(<span class="params">str, num</span>) =&gt;</span></span><br><span class="line">  str.length &gt; num ? str.slice(<span class="number">0</span>, num &gt; <span class="number">3</span> ? num - <span class="number">3</span> : num) + <span class="string">'...'</span> : str;</span><br><span class="line"><span class="comment">// truncateString('boomerang', 7) -&gt; 'boom...'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="words"><a href="#words" class="headerlink" title="words"></a>words</h3><p>Converts a given string into an array of words.</p><p>Use <code>String.split()</code> with a supplied pattern (defaults to non-alpha as a regex) to convert to an array of strings. Use <code>Array.filter()</code> to remove any empty strings.<br>Omit the second argument to use the default regex.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> words = <span class="function">(<span class="params">str, pattern = <span class="regexp">/[^a-zA-Z-]+/</span></span>) =&gt;</span> str.split(pattern).filter(<span class="built_in">Boolean</span>);</span><br><span class="line"><span class="comment">// words("I love javaScript!!") -&gt; ["I", "love", "javaScript"]</span></span><br><span class="line"><span class="comment">// words("python, javaScript &amp; coffee") -&gt; ["python", "javaScript", "coffee"]</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Utility-1"><a href="#Utility-1" class="headerlink" title="Utility"></a>Utility</h2><h3 id="coalesce"><a href="#coalesce" class="headerlink" title="coalesce"></a>coalesce</h3><p>Returns the first non-null/undefined argument.</p><p>Use <code>Array.find()</code> to return the first non <code>null</code>/<code>undefined</code> argument.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> coalesce = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.find(<span class="function"><span class="params">_</span> =&gt;</span> ![<span class="literal">undefined</span>, <span class="literal">null</span>].includes(_));</span><br><span class="line"><span class="comment">// coalesce(null,undefined,"",NaN, "Waldo") -&gt; ""</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="coalesceFactory"><a href="#coalesceFactory" class="headerlink" title="coalesceFactory"></a>coalesceFactory</h3><p>Returns a customized coalesce function that returns the first argument that returns <code>true</code> from the provided argument validation function.</p><p>Use <code>Array.find()</code> to return the first argument that returns <code>true</code> from the provided argument validation function.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> coalesceFactory = <span class="function"><span class="params">valid</span> =&gt;</span> (...args) =&gt; args.find(valid);</span><br><span class="line"><span class="comment">// const customCoalesce = coalesceFactory(_ =&gt; ![null, undefined, "", NaN].includes(_))</span></span><br><span class="line"><span class="comment">// customCoalesce(undefined, null, NaN, "", "Waldo") //-&gt; "Waldo"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="extendHex"><a href="#extendHex" class="headerlink" title="extendHex"></a>extendHex</h3><p>Extends a 3-digit color code to a 6-digit color code.</p><p>Use <code>Array.map()</code>, <code>split()</code> and <code>Array.join()</code> to join the mapped array for converting a 3-digit RGB notated hexadecimal color-code to the 6-digit form.<br><code>String.slice()</code> is used to remove <code>#</code> from string start since it’s added once.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> extendHex = <span class="function"><span class="params">shortHex</span> =&gt;</span></span><br><span class="line">  <span class="string">'#'</span> + shortHex.slice(shortHex.startsWith(<span class="string">'#'</span>) ? <span class="number">1</span> : <span class="number">0</span>).split(<span class="string">''</span>).map(<span class="function"><span class="params">x</span> =&gt;</span> x + x).join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// extendHex('#03f') -&gt; '#0033ff'</span></span><br><span class="line"><span class="comment">// extendHex('05a') -&gt; '#0055aa'</span></span><br></pre></td></tr></table></figure></p><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="getType"><a href="#getType" class="headerlink" title="getType"></a>getType</h3><p>Returns the native type of a value.</p><p>Returns lowercased constructor name of value, “undefined” or “null” if value is undefined or null</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getType = <span class="function"><span class="params">v</span> =&gt;</span></span><br><span class="line">  v === <span class="literal">undefined</span> ? <span class="string">'undefined'</span> : v === <span class="literal">null</span> ? <span class="string">'null'</span> : v.constructor.name.toLowerCase();</span><br><span class="line"><span class="comment">// getType(new Set([1,2,3])) -&gt; "set"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="hexToRGB"><a href="#hexToRGB" class="headerlink" title="hexToRGB"></a>hexToRGB</h3><p>Converts a color code to a <code>rgb()</code> or <code>rgba()</code> string if alpha value is provided.</p><p>Use bitwise right-shift operator and mask bits with <code>&amp;</code> (and) operator to convert a hexadecimal color code (with or without prefixed with <code>#</code>) to a string with the RGB values. If it’s 3-digit color code, first convert to 6-digit version. If an alpha value is provided alongside 6-digit hex, give <code>rgba()</code> string in return.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hexToRGB = <span class="function"><span class="params">hex</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> alpha = <span class="literal">false</span>, h = hex.slice(hex.startsWith(<span class="string">'#'</span>) ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">if</span> (h.length === <span class="number">3</span>) h = [...h].map(<span class="function"><span class="params">x</span> =&gt;</span> x + x).join(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (h.length === <span class="number">8</span>) alpha = <span class="literal">true</span>;</span><br><span class="line">  h = <span class="built_in">parseInt</span>(h, <span class="number">16</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'rgb'</span> + (alpha ? <span class="string">'a'</span> : <span class="string">''</span>) + <span class="string">'('</span> +</span><br><span class="line">    (h &gt;&gt;&gt; (alpha ? <span class="number">24</span> : <span class="number">16</span>)) + <span class="string">', '</span> +</span><br><span class="line">    ((h &amp; (alpha ? <span class="number">0x00ff0000</span> : <span class="number">0x00ff00</span>)) &gt;&gt;&gt; (alpha ? <span class="number">16</span> : <span class="number">8</span>)) + <span class="string">', '</span> +</span><br><span class="line">    ((h &amp; (alpha ? <span class="number">0x0000ff00</span> : <span class="number">0x0000ff</span>)) &gt;&gt;&gt; (alpha ? <span class="number">8</span> : <span class="number">0</span>)) +</span><br><span class="line">    (alpha ? <span class="string">`, <span class="subst">$&#123;(h &amp; <span class="number">0x000000ff</span>)&#125;</span>`</span> : <span class="string">''</span>) + <span class="string">')'</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// hexToRGB('#27ae60ff') -&gt; 'rgba(39, 174, 96, 255)'</span></span><br><span class="line"><span class="comment">// hexToRGB('27ae60') -&gt; 'rgb(39, 174, 96)'</span></span><br><span class="line"><span class="comment">// hexToRGB('#fff') -&gt; 'rgb(255, 255, 255)'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isArray"><a href="#isArray" class="headerlink" title="isArray"></a>isArray</h3><p>Checks if the given argument is an array.</p><p>Use <code>Array.isArray()</code> to check if a value is classified as an array.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isArray = <span class="function"><span class="params">val</span> =&gt;</span> !!val &amp;&amp; <span class="built_in">Array</span>.isArray(val);</span><br><span class="line"><span class="comment">// isArray(null) -&gt; false</span></span><br><span class="line"><span class="comment">// isArray([1]) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isBoolean"><a href="#isBoolean" class="headerlink" title="isBoolean"></a>isBoolean</h3><p>Checks if the given argument is a native boolean element.</p><p>Use <code>typeof</code> to check if a value is classified as a boolean primitive.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isBoolean = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'boolean'</span>;</span><br><span class="line"><span class="comment">// isBoolean(null) -&gt; false</span></span><br><span class="line"><span class="comment">// isBoolean(false) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isFunction"><a href="#isFunction" class="headerlink" title="isFunction"></a>isFunction</h3><p>Checks if the given argument is a function.</p><p>Use <code>typeof</code> to check if a value is classified as a function primitive.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isFunction = <span class="function"><span class="params">val</span> =&gt;</span> val &amp;&amp; <span class="keyword">typeof</span> val === <span class="string">'function'</span>;</span><br><span class="line"><span class="comment">// isFunction('x') -&gt; false</span></span><br><span class="line"><span class="comment">// isFunction(x =&gt; x) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isNumber"><a href="#isNumber" class="headerlink" title="isNumber"></a>isNumber</h3><p>Checks if the given argument is a number.</p><p>Use <code>typeof</code> to check if a value is classified as a number primitive.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isNumber = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'number'</span>;</span><br><span class="line"><span class="comment">// isNumber('1') -&gt; false</span></span><br><span class="line"><span class="comment">// isNumber(1) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isString"><a href="#isString" class="headerlink" title="isString"></a>isString</h3><p>Checks if the given argument is a string.</p><p>Use <code>typeof</code> to check if a value is classified as a string primitive.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isString = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'string'</span>;</span><br><span class="line"><span class="comment">// isString(10) -&gt; false</span></span><br><span class="line"><span class="comment">// isString('10') -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="isSymbol"><a href="#isSymbol" class="headerlink" title="isSymbol"></a>isSymbol</h3><p>Checks if the given argument is a symbol.</p><p>Use <code>typeof</code> to check if a value is classified as a symbol primitive.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isSymbol = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'symbol'</span>;</span><br><span class="line"><span class="comment">// isSymbol('x') -&gt; false</span></span><br><span class="line"><span class="comment">// isSymbol(Symbol('x')) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="randomHexColor"><a href="#randomHexColor" class="headerlink" title="randomHexColor"></a>randomHexColor</h3><p>Generates a random hexadecimal color code.</p><p>Use <code>Math.random</code> to generate a random 24-bit(6x4bits) hexadecimal number. Use bit shifting and then convert it to an hexadecimal String using <code>toString(16)</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomHexColor = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> n = (<span class="built_in">Math</span>.random() * <span class="number">0xfffff</span> | <span class="number">0</span>).toString(<span class="number">16</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'#'</span> + (n.length !== <span class="number">6</span></span><br><span class="line">        ? (<span class="built_in">Math</span>.random() * <span class="number">0xf</span> | <span class="number">0</span>).toString(<span class="number">16</span>) + n : n);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// randomHexColorCode() -&gt; "#e34155"</span></span><br><span class="line"><span class="comment">// randomHexColorCode() -&gt; "#fd73a6"</span></span><br><span class="line"><span class="comment">// randomHexColorCode() -&gt; "#4144c6"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="RGBToHex"><a href="#RGBToHex" class="headerlink" title="RGBToHex"></a>RGBToHex</h3><p>Converts the values of RGB components to a color code.</p><p>Convert given RGB parameters to hexadecimal string using bitwise left-shift operator (<code>&lt;&lt;</code>) and <code>toString(16)</code>, then <code>padStart(6,&#39;0&#39;)</code> to get a 6-digit hexadecimal value.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> RGBToHex = <span class="function">(<span class="params">r, g, b</span>) =&gt;</span> ((r &lt;&lt; <span class="number">16</span>) + (g &lt;&lt; <span class="number">8</span>) + b).toString(<span class="number">16</span>).padStart(<span class="number">6</span>, <span class="string">'0'</span>);</span><br><span class="line"><span class="comment">// RGBToHex(255, 165, 1) -&gt; 'ffa501'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="timeTaken"><a href="#timeTaken" class="headerlink" title="timeTaken"></a>timeTaken</h3><p>Measures the time taken by a function to execute.</p><p>Use <code>console.time()</code> and <code>console.timeEnd()</code> to measure the difference between the start and end times to determine how long the callback took to execute.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timeTaken = <span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">'timeTaken'</span>); <span class="keyword">const</span> r = callback();</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">'timeTaken'</span>); <span class="keyword">return</span> r;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// timeTaken(() =&gt; Math.pow(2, 10)) -&gt; 1024</span></span><br><span class="line"><span class="comment">// (logged): timeTaken: 0.02099609375ms</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="toDecimalMark"><a href="#toDecimalMark" class="headerlink" title="toDecimalMark"></a>toDecimalMark</h3><p>Use <code>toLocaleString()</code> to convert a float-point arithmetic to the <a href="https://en.wikipedia.org/wiki/Decimal_mark" target="_blank" rel="noopener">Decimal mark</a> form. It makes a comma separated string from a number.</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toDecimalMark = <span class="function"><span class="params">num</span> =&gt;</span> num.toLocaleString(<span class="string">'en-US'</span>);</span><br><span class="line"><span class="comment">// toDecimalMark(12305030388.9087) -&gt; "12,305,030,388.9087"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="toOrdinalSuffix"><a href="#toOrdinalSuffix" class="headerlink" title="toOrdinalSuffix"></a>toOrdinalSuffix</h3><p>Adds an ordinal suffix to a number.</p><p>Use the modulo operator (<code>%</code>) to find values of single and tens digits.<br>Find which ordinal pattern digits match.<br>If digit is found in teens pattern, use teens ordinal.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toOrdinalSuffix = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> int = <span class="built_in">parseInt</span>(num), digits = [(int % <span class="number">10</span>), (int % <span class="number">100</span>)],</span><br><span class="line">    ordinals = [<span class="string">'st'</span>, <span class="string">'nd'</span>, <span class="string">'rd'</span>, <span class="string">'th'</span>], oPattern = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">    tPattern = [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>];</span><br><span class="line">  <span class="keyword">return</span> oPattern.includes(digits[<span class="number">0</span>]) &amp;&amp; !tPattern.includes(digits[<span class="number">1</span>]) ? int + ordinals[digits[<span class="number">0</span>] - <span class="number">1</span>] : int + ordinals[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// toOrdinalSuffix("123") -&gt; "123rd"</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="UUIDGenerator"><a href="#UUIDGenerator" class="headerlink" title="UUIDGenerator"></a>UUIDGenerator</h3><p>Generates a UUID.</p><p>Use <code>crypto</code> API to generate a UUID, compliant with <a href="https://www.ietf.org/rfc/rfc4122.txt" target="_blank" rel="noopener">RFC4122</a> version 4.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UUIDGenerator = <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  ([<span class="number">1e7</span>] + <span class="number">-1e3</span> + <span class="number">-4e3</span> + <span class="number">-8e3</span> + <span class="number">-1e11</span>).replace(<span class="regexp">/[018]/g</span>, c =&gt;</span><br><span class="line">    (c ^ crypto.getRandomValues(<span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">1</span>))[<span class="number">0</span>] &amp; <span class="number">15</span> &gt;&gt; c / <span class="number">4</span>).toString(<span class="number">16</span>)</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// UUIDGenerator() -&gt; '7982fcfe-5721-4632-bede-6000885be57d'</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h3 id="validateNumber"><a href="#validateNumber" class="headerlink" title="validateNumber"></a>validateNumber</h3><p>Returns <code>true</code> if the given value is a number, <code>false</code> otherwise.</p><p>Use <code>!isNaN</code> in combination with <code>parseFloat()</code> to check if the argument is a number.<br>Use <code>isFinite()</code> to check if the number is finite.<br>Use <code>Number()</code> to check if the coercion holds.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateNumber = <span class="function"><span class="params">n</span> =&gt;</span> !<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(n)) &amp;&amp; <span class="built_in">isFinite</span>(n) &amp;&amp; <span class="built_in">Number</span>(n) == n;</span><br><span class="line"><span class="comment">// validateNumber('10') -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#table-of-contents">⬆ back to top</a></p><h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Credits</h2><p><em>Icons made by <a href="https://www.flaticon.com/authors/smashicons" target="_blank" rel="noopener">Smashicons</a> from <a href="https://www.flaticon.com/" target="_blank" rel="noopener">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank" rel="noopener">CC 3.0 BY</a>.</em></p>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project 4 of Statistics.md</title>
      <link href="/2017/12/15/Project-4-of-Statistics/"/>
      <url>/2017/12/15/Project-4-of-Statistics/</url>
      <content type="html"><![CDATA[<h2 id="Homework-6"><a href="#Homework-6" class="headerlink" title="Homework 6"></a>Homework 6</h2><h3 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h3><blockquote><p>Prove that $\hat \sigma^2 = \dfrac{SS_E}{(a-1)(b-1)}$ is the unbiased estimation of $\sigma^2$</p></blockquote><a id="more"></a><p>What we learned is that</p><p>$$<br>\begin{align<em>}<br>SS<em>T &amp;= \sum</em>{i=1}^a \sum<em>{j=1}^b (y</em>{ij} - \bar y)^2 \<br>&amp;= \sum<em>{i=1}^a \sum</em>{j=1}^b (y<em>{ij} - \bar y</em>{i\cdot} - \bar y<em>{\cdot j} + \bar y + \bar y</em>{i\cdot} - \bar y + \bar y<em>{j\cdot} - \bar y)^2 \<br>&amp;= \underbrace{\sum</em>{i=1}^a \sum<em>{j=1}^b (y</em>{ij} - \bar y<em>{i\cdot} - \bar y</em>{\cdot j} + \bar y)^2}_{SS<em>E} + \underbrace{\sum</em>{i=1}^a b(\bar y<em>{i\cdot} - \bar y)^2}</em>{SS<em>A} + \underbrace{\sum</em>{j=1}^b a(\bar y<em>{\cdot j} - \bar y)^2}</em>{SS_B} \<br>\end{align</em>}<br>$$</p><p>For clarity, we give the corresponding matrix form:</p><p>$$<br>\begin{align<em>}<br>SS<em>T &amp;= y’(I</em>{ab} - \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’)y \<br>&amp;= y’\Big( (I<em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) + (A-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) + (B-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) \Big)y \<br>&amp;= \underbrace{y’(I</em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’)y}_{SS<em>E} + \underbrace{ y’(A-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’)y }</em>{SS<em>A} + \underbrace{ (B-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) }</em>{SS_B}<br>\end{align</em>}<br>$$</p><p>where</p><p>$$<br>\begin{align<em>}<br>&amp;A = \underbrace{\frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’ \oplus \cdots \oplus \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}<em>b’}</em>{a \text{ items}} = (I_a \otimes \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’) \<br>&amp;B = \underbrace{\frac{1}{b}\boldsymbol{1}_a\boldsymbol{1}_a’ \oplus \cdots \oplus \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}<em>a’}</em>{b \text{ items}} = (I_b \otimes \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’)<br>\end{align</em>}<br>$$</p><p>By property of tensor product, we declare that<br>$A$ and $B$ are symmetric and idempotent.</p><p>$$<br>\begin{align<em>}<br>A^2 &amp;= (I_a \otimes \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’) \cdot (I_a \otimes \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’) = (I_a\cdot I_a \otimes \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’ \cdot \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’) \<br>&amp;= I_a \otimes \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’ = A \<br>B^2 &amp;= (I_b \otimes \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’) \cdot (I_a \otimes \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’) = (I_b\cdot I_b \otimes \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’ \cdot \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’) \<br>&amp;= I_b \otimes \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’ = B \<br>\end{align</em>}<br>$$</p><p>Hence, we claim that $I<em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’$, $A-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’$ and $B-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}_{ab}’$ are symmetric and idempotent, with their rank equal to trace:</p><p>$$<br>\begin{align<em>}<br>&amp;\mathrm{rank}(I<em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) = (a-1)(b-1) \<br>&amp;\mathrm{rank}(A-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) = a-1 \<br>&amp;\mathrm{rank}(B-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}_{ab}’) = b-1<br>\end{align</em>}<br>$$</p><p>Thus, under the normal hypothesis $Y \sim N(0, \sigma^2 I)$, we have</p><p>$$<br>\begin{align<em>}<br>&amp;\frac{Y’(I<em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’)Y}{\sigma^2} \sim \chi^2\Big((a-1)(b-1)\Big) \<br>&amp;\frac{Y’(A-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’)Y}{\sigma^2} \sim \chi^2(a-1) \quad \frac{Y’(B-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}_{ab}’)Y}{\sigma^2} \sim \chi^2(b-1)<br>\end{align</em>}<br>$$</p><p>Now, it is sufficient to say $\dfrac{SS_E}{(a-1)(b-1)}$ is the unbiased estimation of $\sigma^2$.</p><h3 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h3><blockquote><p>Prove that both of $SS_A$ and $SS_B$ are independent with $SS_E$</p></blockquote><p>Note that $\boldsymbol{1}_{ab} = I_a \otimes \boldsymbol{1}_b\boldsymbol{1}_b’ = I_b \otimes \boldsymbol{1}_a\boldsymbol{1}_a’$, it is easy to find that</p><p>$$<br>\begin{align<em>}<br>&amp;A\cdot \boldsymbol{1}_{ab} = (I_a \otimes \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}_b’) \cdot I_a \otimes \boldsymbol{1}_b\boldsymbol{1}_b’ = I_a \otimes \boldsymbol{1}_b\boldsymbol{1}<em>b’ = \boldsymbol{1}</em>{ab} \<br>&amp;B\cdot \boldsymbol{1}_{ab} = (I_b \otimes \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’) \cdot I_b \otimes \boldsymbol{1}_a\boldsymbol{1}_a’ = I_b \otimes \boldsymbol{1}_a\boldsymbol{1}<em>a’ = \boldsymbol{1}</em>{ab}<br>\end{align</em>}<br>$$</p><p>Now, based on the derivation of question <a href="###1.">1</a>, it suffices to show that</p><p>$$<br>\begin{align<em>}<br>&amp; (I<em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) (A-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) = 0 \<br>&amp; (I</em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’) (B-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’) = 0<br>\end{align</em>}<br>$$</p><p>By symmetry, we only give the derivation of the first equation, the second is similar to this work.</p><p>$$<br>\begin{align<em>}<br>&amp; (I<em>{ab}-A-B+\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) (A-\frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’) \<br>&amp;= [I</em>{ab}-B-(A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’)] (A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’) \<br>&amp;= (I-B)(A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’) - (A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’)^2 \<br>&amp;= A - BA - \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ + \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ - (A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’)^2 \<br>&amp;= A - BA - (A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’) \<br>&amp;= \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ - BA \<br>&amp;= \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ - (I_b \otimes \frac{1}{a}\boldsymbol{1}_a\boldsymbol{1}_a’)(I_a \otimes \frac{1}{b}\boldsymbol{1}_b\boldsymbol{1}<em>b’)\<br>&amp;= \frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}_{ab}’ - \frac{1}{ab} (I_b\boldsymbol{1}_b\boldsymbol{1}_b’ \otimes I_a\boldsymbol{1}_a\boldsymbol{1}<em>a’ ) \<br>&amp;= \frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}_{ab}’ - \frac{1}{ab} (\boldsymbol{1}_b\boldsymbol{1}_b’ \otimes \boldsymbol{1}_a\boldsymbol{1}<em>a’ ) \<br>&amp;= \frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}<em>{ab}’ - \frac{1}{ab}\boldsymbol{1}</em>{ab}\boldsymbol{1}_{ab}’ \<br>&amp;= 0<br>\end{align</em>}<br>$$</p><p>The detailed matrix $A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’$ is idempotent since</p><p>$$<br>\begin{align<em>}<br>(A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’)^2 &amp;= (A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’)(A-\frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’) \<br>&amp;= A^2 - \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’A - \frac{1}{ab}A\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ + \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ \<br>&amp;= A^2 - \frac{2}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ + \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’ \<br>&amp;= A - \frac{1}{ab}\boldsymbol{1}<em>{ab}\boldsymbol{1}</em>{ab}’<br>\end{align</em>}<br>$$</p><p>Hence the independency is proved, which furthermore indicates the fact that under the hypothesis $H_1$</p><p>$$<br>F_A = \frac{SS_A/(a-1)}{SS<em>E/(a-1)(b-1)} \sim F</em>{a-1, (a-1)(b-1)}<br>$$</p><p>Similarly, under the hypothesis $H_2$</p><p>$$<br>F_B = \frac{SS_B/(b-1)}{SS<em>E/(a-1)(b-1)} \sim F</em>{b-1, (a-1)(b-1)}<br>$$</p><h3 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h3><blockquote><p>Prove that $c’\beta$ is an estimable function $ \iff\, c \in \mathcal{M}(X’)$</p></blockquote><p>$c’\beta$ is said to be <em>estimable</em> if and only if there is a linear function of $y$, such that $a’y$ is an unbiased estimator of $c’\beta$ (for arbitrary $\beta$ ), i.e.</p><p>$$<br>\begin{align<em>}<br>E(a’y) = c’\beta \quad \forall \beta\in\mathbb{R}^p &amp;\iff a’X\beta = c’\beta \quad \forall \beta\in\mathbb{R}^p \<br>&amp;\iff a’X = c \<br>&amp;\iff c = X’a \in \mathcal{M}(X’)<br>\end{align</em>}<br>$$</p><h3 id="4-Project"><a href="#4-Project" class="headerlink" title="4. Project"></a>4. Project</h3><h4 id="One-way-ANCOVA"><a href="#One-way-ANCOVA" class="headerlink" title="One-way ANCOVA"></a>One-way ANCOVA</h4><p>This example comes from the <em>litter</em> dataset in the multcomp package. Pregnant mice were divided into four treatment groups; each group received a different dose of a drug (0, 5, 50, or 500). The mean post-birth weight for each litter was the dependent variable and gestation time was included as a <strong>covariate</strong>.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data(litter, package=<span class="string">"multcomp"</span>)</span><br><span class="line"><span class="keyword">attach</span>(litter)</span><br><span class="line">table(dose)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dose</span><br><span class="line">  <span class="number">0</span>   <span class="number">5</span>  <span class="number">50</span> <span class="number">500</span></span><br><span class="line"> <span class="number">20</span>  <span class="number">19</span>  <span class="number">18</span>  <span class="number">17</span></span><br></pre></td></tr></table></figure><p>From the <code>table()</code> function we can see that there are an unequal number of litters at each dosage level.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aggregate(weight, by=list(dose), FUN=mean)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  Group.1        x</span><br><span class="line"><span class="number">1</span>       <span class="number">0</span> <span class="number">32.30850</span></span><br><span class="line"><span class="number">2</span>       <span class="number">5</span> <span class="number">29.30842</span></span><br><span class="line"><span class="number">3</span>      <span class="number">50</span> <span class="number">29.86611</span></span><br><span class="line"><span class="number">4</span>     <span class="number">500</span> <span class="number">29.64647</span></span><br></pre></td></tr></table></figure><p>Based on the group means provided by the <code>aggregate()</code> function, the <em>no-drug</em> group had the highest mean litter weight.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fit &lt;- aov(weight ~ gesttime + dose)</span><br><span class="line">summary(fit)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Df Sum Sq Mean Sq <span class="literal">F</span> value  Pr(&gt;<span class="literal">F</span>)</span><br><span class="line">gesttime     <span class="number">1</span>  <span class="number">134.3</span>  <span class="number">134.30</span>   <span class="number">8.049</span> <span class="number">0.00597</span> **</span><br><span class="line">dose         <span class="number">3</span>  <span class="number">137.1</span>   <span class="number">45.71</span>   <span class="number">2.739</span> <span class="number">0.04988</span> *</span><br><span class="line">Residuals   <span class="number">69</span> <span class="number">1151.3</span>   <span class="number">16.69</span></span><br><span class="line">---</span><br><span class="line">Signif. codes:  <span class="number">0</span> ‘***’ <span class="number">0.001</span> ‘**’ <span class="number">0.01</span> ‘*’ <span class="number">0.05</span> ‘.’ <span class="number">0.1</span> ‘ ’ <span class="number">1</span></span><br></pre></td></tr></table></figure><p>The ANCOVA F tests indicate that</p><ol><li>gestation time was related to birth weight</li><li>drug dosage was related to birth weight after controlling for gestation time.</li></ol><p>Furthermore, the <code>effects</code> package provides a powerful method of obtaining the adjusted means.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(effects)</span><br><span class="line">effect(<span class="string">"dose"</span>, fit)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> dose effect</span><br><span class="line">dose</span><br><span class="line">       <span class="number">0</span>        <span class="number">5</span>       <span class="number">50</span>      <span class="number">500</span></span><br><span class="line"><span class="number">32.35367</span> <span class="number">28.87672</span> <span class="number">30.56614</span> <span class="number">29.33460</span></span><br></pre></td></tr></table></figure><p>But in this case, the adjusted means are similar to unadjusted one produced by the <code>aggregate()</code> function.</p><p>Now, suppose we are interested in whether the no-drug condition differs from the three-drug condition. We can use the multcomp package to test specific defined hypothesis about the means.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(multcomp)</span><br><span class="line">contrast &lt;- rbind(<span class="string">"no drug vs. drug"</span> = c(<span class="number">3</span>, -<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>))</span><br><span class="line">summary(glht(fit, linfct=mcp(dose=contrast)))</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> Simultaneous Tests <span class="keyword">for</span> General Linear hypothesis</span><br><span class="line"></span><br><span class="line">Multiple Comparisons of Means: User-defined Contrasts</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Fit: aov(formula = weight ~ gesttime + dose)</span><br><span class="line"></span><br><span class="line">Linear hypothesis:</span><br><span class="line">                      Estimate Std. Error t value Pr(&gt;|t|)</span><br><span class="line">no drug vs. drug == <span class="number">0</span>    <span class="number">8.284</span>      <span class="number">3.209</span>   <span class="number">2.581</span>    <span class="number">0.012</span> *</span><br><span class="line">---</span><br><span class="line">Signif. codes:  <span class="number">0</span> ‘***’ <span class="number">0.001</span> ‘**’ <span class="number">0.01</span> ‘*’ <span class="number">0.05</span> ‘.’ <span class="number">0.1</span> ‘ ’ <span class="number">1</span></span><br><span class="line">(Adjusted p values reported -- single-step method)</span><br></pre></td></tr></table></figure><p>The contrast <code>c(3, -1, -1, -1)</code> specifies a comparison of the first group with the average of the other three. The hypothesis is tested with a t-statistics, which is significant at the $p&lt;0.05$ level.</p><p>Therefore, we can conclude that the no-drug group has a higher birth weight than drug conditions.</p><h5 id="Assessing-test-assumptions"><a href="#Assessing-test-assumptions" class="headerlink" title="Assessing test assumptions"></a>Assessing test assumptions</h5><p>In this case, it is assumed that the regression slope for predicting birth weight from gestation time is the same in each of four treatment groups. A test for the homogeneity of regression slopes can be obtained by including a <code>gestation*dose</code> interaction term in ANCOVA model.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fit2 &lt;- aov(weight ~ gesttime*dose, data=litter)</span><br><span class="line">summary(fit2)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">              Df Sum Sq Mean Sq <span class="literal">F</span> value  Pr(&gt;<span class="literal">F</span>)</span><br><span class="line">gesttime       <span class="number">1</span>  <span class="number">134.3</span>  <span class="number">134.30</span>   <span class="number">8.289</span> <span class="number">0.00537</span> **</span><br><span class="line">dose           <span class="number">3</span>  <span class="number">137.1</span>   <span class="number">45.71</span>   <span class="number">2.821</span> <span class="number">0.04556</span> *</span><br><span class="line">gesttime:dose  <span class="number">3</span>   <span class="number">81.9</span>   <span class="number">27.29</span>   <span class="number">1.684</span> <span class="number">0.17889</span></span><br><span class="line">Residuals     <span class="number">66</span> <span class="number">1069.4</span>   <span class="number">16.20</span></span><br><span class="line">---</span><br><span class="line">Signif. codes:  <span class="number">0</span> ‘***’ <span class="number">0.001</span> ‘**’ <span class="number">0.01</span> ‘*’ <span class="number">0.05</span> ‘.’ <span class="number">0.1</span> ‘ ’ <span class="number">1</span></span><br></pre></td></tr></table></figure><p>The interaction is nonsignificant, supporting the assumption of equality of slopes. That’s to say, the relationship between gestation and birth weight does not depend on the level of dose variable.</p><h5 id="Visualizing-the-results"><a href="#Visualizing-the-results" class="headerlink" title="Visualizing the results"></a>Visualizing the results</h5><p>The <code>ancova()</code> function in the <code>HH</code> package provides a plot of the relationship between the dependent variable, the covariate, and the factor.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(HH)</span><br><span class="line">ancova(weight ~ gesttime + dose, data=litter)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistics/project4/one-way.svg" width="400" height="300"><br></div><p>Here we can see that the regression lines for predicting birth weight from gestation time are parallel in each group but have differetn intercepts. As gestation time increases, birth weight increases. Additionally, we can see that 0-dose group has the largest intercept and the 5-dose group has the lowest intercept.</p><p>Now we use the statement <code>ancova(weight ~ gesttime*dose)</code> instead to generate a plot that allows both the slopes and intercepts to vary by group.</p><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistics/project4/one-way2.svg" width="400" height="300"><br></div><h4 id="Two-way-factorial-ANOVA"><a href="#Two-way-factorial-ANOVA" class="headerlink" title="Two-way factorial ANOVA"></a>Two-way factorial ANOVA</h4><p>This example uses the <code>ToothGrowth</code> dataset in the base installation to demonstrate a two-way between-groups ANOVA. 60 guinea pigs are randomly assigned to receive one of three levels of ascorbic acid ($0.5$, $1$, or $2$ mg) and one of two delivery methods (orange juice or Vitamin C), under the restriction that each treatment combination has 10 guinea pigs. The dependent variable is tooth length.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">attach</span>(ToothGrowth)</span><br><span class="line">table(supp, dose)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    dose</span><br><span class="line">supp <span class="number">0.5</span>  <span class="number">1</span>  <span class="number">2</span></span><br><span class="line">  OJ  <span class="number">10</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line">  VC  <span class="number">10</span> <span class="number">10</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><p>The <code>table</code> statement indicates that we have a balanced design (equal sample sizes in each cell of the design), and the next two <code>aggregate</code> statements provide the cell means and standard deviations.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aggregate(len, by=list(supp, dose), FUN=mean)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  Group.1 Group.2     x</span><br><span class="line"><span class="number">1</span>      OJ     <span class="number">0.5</span> <span class="number">13.23</span></span><br><span class="line"><span class="number">2</span>      VC     <span class="number">0.5</span>  <span class="number">7.98</span></span><br><span class="line"><span class="number">3</span>      OJ     <span class="number">1.0</span> <span class="number">22.70</span></span><br><span class="line"><span class="number">4</span>      VC     <span class="number">1.0</span> <span class="number">16.77</span></span><br><span class="line"><span class="number">5</span>      OJ     <span class="number">2.0</span> <span class="number">26.06</span></span><br><span class="line"><span class="number">6</span>      VC     <span class="number">2.0</span> <span class="number">26.14</span></span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aggregate(len, by=list(supp, dose), FUN=sd)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  Group.1 Group.2        x</span><br><span class="line"><span class="number">1</span>      OJ     <span class="number">0.5</span> <span class="number">4.459709</span></span><br><span class="line"><span class="number">2</span>      VC     <span class="number">0.5</span> <span class="number">2.746634</span></span><br><span class="line"><span class="number">3</span>      OJ       <span class="number">1</span> <span class="number">3.910953</span></span><br><span class="line"><span class="number">4</span>      VC       <span class="number">1</span> <span class="number">2.515309</span></span><br><span class="line"><span class="number">5</span>      OJ       <span class="number">2</span> <span class="number">2.655058</span></span><br><span class="line"><span class="number">6</span>      VC       <span class="number">2</span> <span class="number">4.797731</span></span><br></pre></td></tr></table></figure><p>The below ANOVA table provided by the <code>summary()</code> function indicates that both main effects (<code>supp</code> and <code>dose</code>) and the interaction between these factors are significant.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dose &lt;- factor(dose)</span><br><span class="line">fit &lt;- aov(len ~ supp*dose)</span><br><span class="line">summary(fit)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">            Df Sum Sq Mean Sq <span class="literal">F</span> value   Pr(&gt;<span class="literal">F</span>)</span><br><span class="line">supp         <span class="number">1</span>  <span class="number">205.4</span>   <span class="number">205.4</span>  <span class="number">15.572</span> <span class="number">0.000231</span> ***</span><br><span class="line">dose         <span class="number">2</span> <span class="number">2426.4</span>  <span class="number">1213.2</span>  <span class="number">92.000</span>  &lt; <span class="number">2e-16</span> ***</span><br><span class="line">supp:dose    <span class="number">2</span>  <span class="number">108.3</span>    <span class="number">54.2</span>   <span class="number">4.107</span> <span class="number">0.021860</span> *</span><br><span class="line">Residuals   <span class="number">54</span>  <span class="number">712.1</span>    <span class="number">13.2</span></span><br><span class="line">---</span><br><span class="line">Signif. codes:  <span class="number">0</span> ‘***’ <span class="number">0.001</span> ‘**’ <span class="number">0.01</span> ‘*’ <span class="number">0.05</span> ‘.’ <span class="number">0.1</span> ‘ ’ <span class="number">1</span></span><br></pre></td></tr></table></figure><p>Furthermore, we can use the <code>interaction2wt()</code> function in the <code>HH</code> package to produce a plot of both main effects and two-way interactions for any factorial design of any order.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(HH)</span><br><span class="line">interaction2wt(len ~ supp*dose)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistics/project4/two-way.svg" width="400" height="300"><br></div><p>The above graph indicates that tooth growth increases with the dose of ascorbic acid for both orange juice and Vitamin C. For the $0.5$ and $1$ mg doses, orange juice produced more tooth growth than Vitamin C. For $2$ mg of ascorbic acid, both delivery methods produced identical growth.</p><hr><p><em>Kai Liu, wrote on 2017/12/14</em></p><p><em>Student ID: 116071910015</em></p><p><em>Mail: liu1995@sjtu.edu.cn</em></p>]]></content>
      
      
        <tags>
            
            <tag> r </tag>
            
            <tag> statistic </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project 3 of Statistics.md</title>
      <link href="/2017/12/01/Project-3-of-Statistics/"/>
      <url>/2017/12/01/Project-3-of-Statistics/</url>
      <content type="html"><![CDATA[<h2 id="Homework-5"><a href="#Homework-5" class="headerlink" title="Homework 5"></a>Homework 5</h2><h3 id="13-13"><a href="#13-13" class="headerlink" title="13.13"></a>13.13</h3><p>The gamma probability density function is</p><p>$$<br>f(y,r,\lambda) = \frac{\lambda^r}{\Gamma(r)} e^{-\lambda y} y^{r-1}, \quad\text{for } y,\lambda\geq 0<br>$$</p><p>Show that the gamma is a member of the exponential family.</p><a id="more"></a><p><em>Proof:</em></p><p>Since</p><p>$$<br>\begin{align<em>}<br>f(y,r,\lambda) &amp;= \exp\lbrace r\log\lambda - \log\Gamma(\lambda) - \lambda y + (r-1)\log y \rbrace \<br>&amp;= \exp\lbrace \underbrace{(\frac{\lambda}{r} y - \log\frac{\lambda}{r})/(-\frac1r)}<em>{[\theta y - b(\theta)]/a(\phi)} + \underbrace{(r-1)\log y - \log\Gamma(r) + r\log r}</em>{h(y,\phi)} \rbrace<br>\end{align</em>}<br>$$</p><p>Set $\theta = \dfrac{\lambda}{r}$, $\phi = r$, we can derive that $b(\theta) = \log(\theta)$, $a(\phi) = -\dfrac1r$</p><p>$$<br>h(y,\phi) = (\phi-1)\log y - \log\Gamma(\phi) + \phi\log\phi<br>$$</p><p>Thus<br>$$<br>\begin{align<em>}<br>&amp;E(y) = \frac{\mathrm{d} b(\theta)}{\mathrm{d} b(\theta)} = \frac{1}{\theta} = \frac{r}{\lambda} \<br>&amp;\mathrm{Var}(y) = \frac{\mathrm{d}^2 b(\theta)}{\mathrm{d}\theta^2} \cdot a(\phi) = \frac{r}{\lambda^2}<br>\end{align</em>}<br>$$</p><h3 id="13-14"><a href="#13-14" class="headerlink" title="13.14"></a>13.14</h3><p>The exponential porbabilty density function is</p><p>$$<br>f(y,\lambda) = \lambda e^{-\lambda y}, \quad\text{for } y,\lambda\geq 0<br>$$</p><p>Show that the exponential distribution is a member of the exponential family.</p><p><em>Proof:</em></p><p>Notice the exponential distribution is a special case of gamma distribution.</p><p>$$<br>f(y, \lambda) = \exp(-\lambda y + \log\lambda)<br>$$</p><p>Set $\theta = -\lambda$, $b(\theta) = -\log\lambda = -\log(-\theta)$, with respect to $\phi = 1$, $a(\phi) = 1$ and $h(y,\phi)=0$</p><p>Thus, similar result can be derived</p><p>$$<br>\begin{align<em>}<br>&amp;E(y) = \frac{\mathrm{d}b(\theta)}{\mathrm{d}\theta} = \frac{1}{\lambda} \<br>&amp;\mathrm{Var}(y) = \frac{\mathrm{d}^2 b(\theta)}{\mathrm{d}\theta^2}\cdot1 = \frac{1}{\lambda^2}<br>\end{align</em>}<br>$$</p><p>which indicates the distribution to be a member of NEF.</p><h3 id="13-15"><a href="#13-15" class="headerlink" title="13.15"></a>13.15</h3><p>The negative binomial probabilty mass function is</p><p>$$<br>f(y,\pi,\alpha) = \binom{y+\alpha-1}{\alpha-1} \pi^{\alpha}(1-\pi)^y \quad\text{for } y=0,1,\ldots,\alpha&gt;0 \text{ and } 0\leq\pi\leq 1<br>$$</p><p>Show that the negative binomial is a memeber of the exponential family.</p><p><em>Proof:</em></p><p>$$<br>\begin{align<em>}<br>f(y,\pi,\alpha) &amp;= \binom{y+\alpha-1}{\alpha-1} \pi^{\alpha}(1-\pi)^y \<br>&amp;= \frac{\alpha}{y+\alpha} \binom{y+\alpha}{y}\pi^{\alpha}(1-\pi)^y \<br>\text{Set }n=y+\alpha\quad &amp;= (1-\frac{y}{n})\binom{n}{y}\pi^{n-y}(1-\pi)^y \<br>&amp;= \exp\Big{ (n-y)\log\pi+y\log(1-\pi)+\log (1-\frac{y}{n})\binom{n}{y} \Big} \<br>&amp;= \exp\Big{ \underbrace{\Big( \frac{y}{n}\log\frac{1-\pi}{\pi} + \log\pi \Big)}<em>{y\theta + b(\theta)}/\frac1n + \underbrace{\log (1-\frac{y}{n})\binom{n}{y}}</em>{h(y,\phi)} \Big}<br>\end{align</em>}<br>$$</p><p>Set<br>$$<br>\begin{align<em>}<br>&amp;\theta=\log\frac{1-\pi}{\pi} \<br>&amp;b(\theta)=-\log\pi = \log(1+e^{\theta})<br>\end{align</em>}<br>$$</p><p>with respect to $\phi=1$, $a(\phi)=\dfrac1n$, $h(y,\phi)=\log (1-\dfrac{y}{n})\binom{n}{y}$</p><p>Thus</p><p>$$<br>\begin{align<em>}<br>&amp;E(y) = \frac{\mathrm{d}b(\theta)}{\mathrm{d}\theta} = \frac{e^\theta}{1+e^\theta} = 1-\pi \<br>&amp;\mathrm{Var}(y) = \frac{\mathrm{d}^2 b(\theta)}{\mathrm{d}\theta^2}\cdot a(\phi) = \frac1n\cdot\frac{e^\theta}{(1+e^\theta)^2} = \frac1n\pi(1-\pi)<br>\end{align</em>}<br>$$</p><h3 id="13-16"><a href="#13-16" class="headerlink" title="13.16"></a>13.16</h3><p>The data in the table below are from an experiment designed to study the advance rate $y$ of a drill. The four design factors are $x_1$=load, $x_2$=flow, $x_3$=drilling speed, and $x_4$=type of drilling mud (the original experiment is described by Cuthbert Daniel in his 1976 book on industrial experimentation).</p><table width="400"><br>| Observation | $x_1$ | $x_2$ | $x_3$ | $x_4$ | Advance Rate, $y$ |<br>| ———– | —– | —– | —– | —– | —————– |<br>| 1           | -     | -     | -     | -     | 1.68              |<br>| 2           | +     | -     | -     | -     | 1.98              |<br>| 3           | -     | +     | -     | -     | 3.28              |<br>| 4           | +     | +     | -     | -     | 3.44              |<br>| 5           | -     | -     | +     | -     | 4.98              |<br>| 6           | +     | -     | +     | -     | 5.70              |<br>| 7           | -     | +     | +     | -     | 9.97              |<br>| 8           | +     | +     | +     | -     | 9.07              |<br>| 9           | -     | -     | -     | +     | 2.07              |<br>| 10          | +     | -     | -     | +     | 2.44              |<br>| 11          | -     | +     | -     | +     | 4.09              |<br>| 12          | +     | +     | -     | +     | 4.53              |<br>| 13          | -     | -     | +     | +     | 7.77              |<br>| 14          | +     | -     | +     | +     | 9.43              |<br>| 15          | -     | +     | +     | +     | 11.75             |<br>| 16          | +     | +     | +     | +     | 16.30             |<br></table><blockquote><p>Fit a generalized linear model to the advance rate response. Use a gamma response distribution and a log link, and include all four regressors in the linear predictor.</p></blockquote><p>First, we write all these data into a csv file named <code>drill</code> and import it into R dataframe.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data &lt;- read.table(<span class="string">"/path/to/drill.csv"</span>, header = <span class="literal">TRUE</span>, sep = <span class="string">","</span>)</span><br></pre></td></tr></table></figure><p>To study the advance rate of a drill, we need to transform the columns into dichotomous factor called <code>load</code>, <code>flow</code>, <code>speed</code>, <code>type</code> with the following code.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">data$load[data$x1==<span class="string">"+"</span>] &lt;- <span class="number">1</span></span><br><span class="line">data$load[data$x1==<span class="string">"-"</span>] &lt;- <span class="number">0</span></span><br><span class="line"></span><br><span class="line">data$flow[data$x2==<span class="string">"+"</span>] &lt;- <span class="number">1</span></span><br><span class="line">data$flow[data$x2==<span class="string">"-"</span>] &lt;- <span class="number">0</span></span><br><span class="line"></span><br><span class="line">data$speed[data$x3==<span class="string">"+"</span>] &lt;- <span class="number">1</span></span><br><span class="line">data$speed[data$x3==<span class="string">"-"</span>] &lt;- <span class="number">0</span></span><br><span class="line"></span><br><span class="line">data$type[data$x4==<span class="string">"+"</span>] &lt;- <span class="number">1</span></span><br><span class="line">data$type[data$x4==<span class="string">"-"</span>] &lt;- <span class="number">0</span></span><br><span class="line"></span><br><span class="line">table(data$load)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">8</span> <span class="number">8</span></span><br></pre></td></tr></table></figure><p>The dichotomous factor can now be used as the outcome variable in a regression model using gamma response distribution and a log link.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fit.full &lt;- glm(y ~ load + flow + speed + type, data, family=Gamma(link = <span class="string">"log"</span>))</span><br><span class="line">summary(fit.full)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Call:</span><br><span class="line">glm(formula = y ~ load + flow + speed + type, family = Gamma(link = <span class="string">"log"</span>),</span><br><span class="line">    data = data)</span><br><span class="line"></span><br><span class="line">Deviance Residuals:</span><br><span class="line">      Min         1Q     Median         3Q        Max</span><br><span class="line">-<span class="number">0.162931</span>  -<span class="number">0.057552</span>   <span class="number">0.006942</span>   <span class="number">0.060239</span>   <span class="number">0.128465</span></span><br><span class="line"></span><br><span class="line">Coefficients:</span><br><span class="line">            Estimate Std. Error t value Pr(&gt;|t|)</span><br><span class="line">(Intercept)  <span class="number">0.50269</span>    <span class="number">0.05435</span>   <span class="number">9.250</span> <span class="number">1.60e-06</span> ***</span><br><span class="line">load         <span class="number">0.13126</span>    <span class="number">0.04861</span>   <span class="number">2.700</span>   <span class="number">0.0206</span> *</span><br><span class="line">flow         <span class="number">0.58123</span>    <span class="number">0.04861</span>  <span class="number">11.957</span> <span class="number">1.21e-07</span> ***</span><br><span class="line">speed        <span class="number">1.15728</span>    <span class="number">0.04861</span>  <span class="number">23.808</span> <span class="number">8.18e-11</span> ***</span><br><span class="line">type         <span class="number">0.32690</span>    <span class="number">0.04861</span>   <span class="number">6.725</span> <span class="number">3.26e-05</span> ***</span><br><span class="line">---</span><br><span class="line">Signif. codes:  <span class="number">0</span> ‘***’ <span class="number">0.001</span> ‘**’ <span class="number">0.01</span> ‘*’ <span class="number">0.05</span> ‘.’ <span class="number">0.1</span> ‘ ’ <span class="number">1</span></span><br><span class="line"></span><br><span class="line">(Dispersion parameter <span class="keyword">for</span> Gamma family taken to be <span class="number">0.009451408</span>)</span><br><span class="line"></span><br><span class="line">    Null deviance: <span class="number">7.02517</span>  on <span class="number">15</span>  degrees of freedom</span><br><span class="line">Residual deviance: <span class="number">0.10527</span>  on <span class="number">11</span>  degrees of freedom</span><br><span class="line">AIC: <span class="number">28.17</span></span><br><span class="line"></span><br><span class="line">Number of Fisher Scoring iterations: <span class="number">4</span></span><br></pre></td></tr></table></figure><p>From the p-values for the regression coefficients (last column), we can see that <code>load</code>, <code>flow</code>, <code>speed</code> and <code>type</code> may make a significant contribution to the equation. Thus, we can reject the hypothesis that the parameters are $0$. That is to say, each regression coefficient in the model is statistically significant $(p&lt;0.5)$.</p><!-- b. Find the model deviance for the GLM from part a. Does this indicate that the model is satisfactory? --><p>Let’s take a look at the regression coefficients:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">coef(fit.full)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(Intercept)        load        flow       speed        type</span><br><span class="line">  <span class="number">0.5026869</span>   <span class="number">0.1312552</span>   <span class="number">0.5812258</span>   <span class="number">1.1572823</span>   <span class="number">0.3268990</span></span><br></pre></td></tr></table></figure><p>Since log(odds) are difficult to interpret, we can exponentiate them to put the result on an odds scale:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp(coef(fit.full))</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(Intercept)        load        flow       speed        type</span><br><span class="line">   <span class="number">1.653157</span>    <span class="number">1.140259</span>    <span class="number">1.788229</span>    <span class="number">3.181276</span>    <span class="number">1.386661</span></span><br></pre></td></tr></table></figure><p>Now, we can see that the advance rate of a drill is increased by a factor of <code>1.140259</code> for one-unit increase in drill load (holding flow, speed and type constant). Similar increasing trend can be detected in other factors. Because the predictor variables can’t equal 0, the intercept isn’t meaningfull in this case.</p><p>Also, we can use the <code>confint()</code> function to obtain confident intervals for the coefficients.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp(confint(fit.full))</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">               <span class="number">2.5</span> %   <span class="number">97.5</span> %</span><br><span class="line">(Intercept) <span class="number">1.488639</span> <span class="number">1.839411</span></span><br><span class="line">load        <span class="number">1.036550</span> <span class="number">1.254344</span></span><br><span class="line">flow        <span class="number">1.625624</span> <span class="number">1.967101</span></span><br><span class="line">speed       <span class="number">2.891712</span> <span class="number">3.499836</span></span><br><span class="line">type        <span class="number">1.260412</span> <span class="number">1.525555</span></span><br></pre></td></tr></table></figure><p>97.5 percent confidence intervals fro each of the coefficients on an odds scale are printed above.</p><p>Finally, we use compare the residual deviance with the residual degrees of freedom to detect the overdispersion.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deviance(fit.full)/df.residual(fit.full)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>] <span class="number">0.009570289</span></span><br></pre></td></tr></table></figure><p>which is far away from 1, suggesting the overdispersion.</p><p>Deviance can be draw by the command</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fit.full$deviance</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>] <span class="number">0.1052732</span></span><br></pre></td></tr></table></figure><h3 id="Bonus-Problems"><a href="#Bonus-Problems" class="headerlink" title="Bonus Problems"></a>Bonus Problems</h3><h4 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h4><blockquote><p>Prove that the deduction matrix of variance $\mathrm{Var}(\hat\beta^*<em>{q+1}) - \mathrm{Var}(\hat\beta</em>{q+1})$ is positive semidefinite.</p></blockquote><p>What we knew is that</p><p>$$<br>\begin{align<em>}<br>&amp;\mathrm{Var}(\hat\beta^</em>) = \sigma^2(X’X)^{-1} \<br>&amp;\mathrm{Var}(\hat\beta^<em><em>{q+1}) = \sigma^2(X</em>{q+1}’X_{q+1})^{-1}<br>\end{align</em>}<br>$$</p><p>where $X = \left( \begin{array}{c:c} X_{q+1} &amp; X_r \end{array}\right)$.</p><p>Consider the normal matrix</p><p>$$<br>X’X = \begin{pmatrix}<br>X<em>{q+1}’X</em>{q+1} &amp; X_{q+1}’X_r \<br>X<em>r’X</em>{q+1} &amp; X_r’X<em>r<br>\end{pmatrix} = \begin{pmatrix}<br>\Sigma</em>{11} &amp; \Sigma<em>{12} \<br>\Sigma</em>{21} &amp; \Sigma_{22}<br>\end{pmatrix}<br>$$</p><p>Inverse of this bolck matrix is already given as</p><blockquote><p>$$<br>\begin{pmatrix}<br>\Sigma<em>{11} &amp; \Sigma</em>{12} \<br>\Sigma<em>{21} &amp; \Sigma</em>{22} \<br>\end{pmatrix}^{-1} =\, \begin{pmatrix}<br>\Sigma<em>{11}^{-1}+\Sigma</em>{11}^{-1}\Sigma<em>{12}\Sigma</em>{22.1}^{-1}\Sigma<em>{21}\Sigma</em>{11}^{-1} &amp; -\Sigma<em>{11}^{-1}\Sigma</em>{12}\Sigma<em>{22.1}^{-1} \<br>-\Sigma</em>{22.1}^{-1}\Sigma<em>{21}\Sigma</em>{11}^{-1} &amp; \Sigma_{22.1}^{-1} \<br>\end{pmatrix}<br>$$</p><p>where<br>$$<br>\Sigma<em>{22.1}=\Sigma</em>{22}-\Sigma<em>{21}\Sigma</em>{11}^{-1}\Sigma_{12}<br>$$</p></blockquote><p>Thus, we say the first entry of the inverse matrix should be</p><p>$$<br>\Sigma<em>{11}^{-1}+\Sigma</em>{11}^{-1}\Sigma<em>{12}\Sigma</em>{22.1}^{-1}\Sigma<em>{21}\Sigma</em>{11}^{-1}<br>$$</p><p>Set $A = \Sigma<em>{11}^{-1}\Sigma</em>{12} = (X<em>{q+1}’X</em>{q+1})^{-1}\cdot(X_{q+1}’X_r)$ to be the alias matrix. Hence we have</p><p>$$<br>\mathrm{Var}(\hat\beta^*<em>{q+1}) - \mathrm{Var}(\hat\beta</em>{q+1}) = \sigma^2 A\big(X_r’X_r - X<em>r’X</em>{q+1}A\big)^{-1}\,A’<br>$$</p><p>which is obviously positive semidefinite.</p><h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4><blockquote><p>Prove that</p><p>$$<br>F = \dfrac{SS_A/(a-1)}{SS<em>E/(n-a)} \sim F</em>{a-1, n-a}<br>$$</p><p>under the hypothesis $H_0$.</p></blockquote><p>What we learned is that</p><p>$$<br>\begin{align<em>}<br>SS<em>T &amp;= \sum</em>{i=1}^a \sum_{j=1}^{n<em>i} (y</em>{ij} - \bar y)^2 \<br>&amp;= \sum<em>{i=1}^a \sum</em>{j=1}^{n<em>i} (y</em>{ij} - \bar y<em>{i\cdot} + \bar y</em>{i\cdot} - \bar y)^2 \<br>&amp;= \underbrace{\sum<em>{i=1}^a \sum</em>{j=1}^{n<em>i} (y</em>{ij} - \bar y<em>{i\cdot})^2}</em>{SS<em>E} + \underbrace{\sum</em>{i=1}^a \sum_{j=1}^{n<em>i} (\bar y</em>{i\cdot} - \bar y)^2}_{SS_A}<br>\end{align</em>}<br>$$</p><p>For clarity, we give the coresponding matrix form:</p><p>$$<br>\begin{align<em>}<br>SS<em>T &amp;= y’(I-\frac1n \boldsymbol{1}\boldsymbol{1}’)y \<br>&amp;= y’(I - A + A - \frac1n \boldsymbol{1}\boldsymbol{1}’)y \<br>&amp;= \underbrace{y’(I - A)y}</em>{SS<em>E} + \underbrace{y’(A - \frac1n \boldsymbol{1}\boldsymbol{1}’)y}</em>{SS_A}<br>\end{align</em>}<br>$$</p><p>where $A = \dfrac{1}{n<em>1}\boldsymbol{1}</em>{n<em>1}\boldsymbol{1}</em>{n_1}’ \oplus \cdots \oplus \dfrac{1}{n<em>a}\boldsymbol{1}</em>{n<em>a}\boldsymbol{1}</em>{n_a}’$</p><p>Since $\boldsymbol{1}_{n<em>i}’\boldsymbol{1}</em>{n_i} = n<em>i$, we know that $I</em>{n_i} - \dfrac{1}{n<em>i}\boldsymbol{1}</em>{n<em>i}\boldsymbol{1}</em>{n_i}’$ is a Household matrix, which is definitely symetric and idempotent. i.e.</p><p>$$<br>A’=A \qquad A^2 = A<br>$$</p><p>Next, we assume that $B=I-A$, $C=A-\dfrac1n\boldsymbol{1}\boldsymbol{1}’$</p><p>We claim that</p><p>$$<br>\begin{align<em>}<br>&amp;B’=B \qquad B^2 = B \<br>&amp;C’=C \qquad C^2 = C<br>\end{align</em>}<br>$$</p><p>with its rank</p><p>$$<br>\mathrm{rank}(B)=n-a \quad \mathrm{rank}(C)=a-1<br>$$</p><p>Thus, under the normal hyperthesis $Y\sim N(0,\sigma^2I)$, we have</p><p>$$<br>\begin{align<em>}<br>&amp;\frac{Y’BY}{\sigma^2} \sim \chi^2(n-a) \<br>&amp;\frac{Y’CY}{\sigma^2} \sim \chi^2(a-1)<br>\end{align</em>}<br>$$</p><p>together with</p><p>$$<br>\begin{align<em>}<br>BC &amp;= (I-A)(A-\frac1n\boldsymbol{1}\boldsymbol{1}’) \<br>&amp;= A-\frac1n\boldsymbol{1}\boldsymbol{1}’-A^2+\frac1n A\boldsymbol{1}\boldsymbol{1}’ \<br>&amp;= A-\frac1n\boldsymbol{1}\boldsymbol{1}’-A+\frac1n\boldsymbol{1}\boldsymbol{1}’ \<br>&amp;= 0<br>\end{align</em>}<br>$$</p><p>The last two equation follows from the fact that</p><p>$$<br>\begin{align<em>}<br>A \cdot \boldsymbol{1} &amp;= \big( \frac{1}{n<em>1}\boldsymbol{1}</em>{n<em>1}\boldsymbol{1}</em>{n_1}’ \oplus \cdots \oplus \frac{1}{n<em>a}\boldsymbol{1}</em>{n<em>a}\boldsymbol{1}</em>{n<em>a}’ \big) \cdot \big(\boldsymbol{1}</em>{n<em>1} \oplus \cdots \oplus \boldsymbol{1}</em>{n_a}\big) \<br>&amp;= \frac{1}{n<em>1}\boldsymbol{1}</em>{n<em>1}\boldsymbol{1}</em>{n<em>1}’\boldsymbol{1}</em>{n_1} \oplus \cdots \oplus \frac{1}{n<em>a}\boldsymbol{1}</em>{n<em>a}\boldsymbol{1}</em>{n<em>a}’\boldsymbol{1}</em>{n<em>a} \<br>&amp;= \boldsymbol{1}</em>{n<em>1} \oplus \cdots \oplus \boldsymbol{1}</em>{n_a} = \boldsymbol{1}<br>\end{align</em>}<br>$$</p><p>Hence, we know that $Y’(I-A)Y$ and $Y’(A-\dfrac1n\boldsymbol{1}\boldsymbol{1}’)Y$ are mutually independent, which indicates</p><p>$$<br>F=\frac{Y’CY/(a-1)}{Y’BY/(n-a)} = \frac{SS_A/(a-1)}{SS<em>E/(n-a)} \sim F</em>{a-1, n-a}<br>$$</p><p>Furthermore, we can derive two unbiased estimates.</p><p>$$<br>\begin{align<em>}<br>E(SS_E) &amp;= E\big(Y’(I-A)Y\big) \<br>&amp;= \mu’(I-A)\mu + \mathrm{tr}\big((I-A)\sigma^2I\big) \<br>&amp;= \mu’\mu - \mu’A\mu + \sigma^2(n-a) \<br>&amp;= \sigma^2(n-a)<br>\end{align</em>}<br>$$</p><p>The last equation is derived from the hypothesis.</p><p>Similarly,</p><p>$$<br>\begin{align<em>}<br>E(SS_A) &amp;= E\big(Y’(A-\frac1n\boldsymbol{1}\boldsymbol{1}’)Y\big) \<br>&amp;= \mu’(A-\frac1n\boldsymbol{1}\boldsymbol{1}’)\mu + \mathrm{tr}\big((A-\frac1n\boldsymbol{1}\boldsymbol{1}’)\sigma^2I\big) \<br>&amp;= \mu’\mu - \mu’A\mu + \sigma^2(a-1) \<br>&amp;= \sigma^2(a-1)<br>\end{align</em>}<br>$$</p><p>That’s to say</p><p>$$<br>E\big(SS_E/(n-a)\big) = E\big(SS_A/(a-1)\big) = \sigma^2<br>$$</p><hr><p><em>Kai Liu, wrote on 2017/11/28</em></p><p><em>Student ID: 116071910015</em></p><p><em>Mail: liu1995@sjtu.edu.cn</em></p>]]></content>
      
      
        <tags>
            
            <tag> r </tag>
            
            <tag> statistic </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>julia基于GLM包的线性回归</title>
      <link href="/2017/11/29/julia%E5%9F%BA%E4%BA%8EGLM%E5%8C%85%E7%9A%84%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/"/>
      <url>/2017/11/29/julia%E5%9F%BA%E4%BA%8EGLM%E5%8C%85%E7%9A%84%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/</url>
      <content type="html"><![CDATA[<p>本文利用GLM包进行简单线性回归分析，同时对模型检验以及置信区间作图。</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> GLM,DataFrames</span><br></pre></td></tr></table></figure><a id="more"></a><p>先随机生成一组数据用于回归分析。</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置截距</span></span><br><span class="line">α = <span class="number">100</span></span><br><span class="line"><span class="comment"># 设置系数</span></span><br><span class="line">β = <span class="number">5</span></span><br><span class="line"><span class="comment"># 设置随机数个数</span></span><br><span class="line">n = <span class="number">50</span></span><br><span class="line"><span class="comment"># 设置误差项</span></span><br><span class="line">ε = rand(Normal(),n) * <span class="number">11</span></span><br><span class="line"><span class="comment"># 生成数据</span></span><br><span class="line">x = randn(n)*<span class="number">3</span></span><br><span class="line">y = α + β * x + ε</span><br><span class="line">dataForRegression = DataFrame(x = x, y = y)</span><br></pre></td></tr></table></figure><table class="data-frame"><thead><tr><th></th><th>x</th><th>y</th></tr></thead><tbody><tr><th>1</th><td>-0.2945844765867794</td><td>95.47303779965895</td></tr><tr><th>2</th><td>-1.3440842917796316</td><td>100.32164951469537</td></tr><tr><th>3</th><td>1.3037018863265355</td><td>109.57629236830104</td></tr><tr><th>4</th><td>4.012507916775679</td><td>106.46933242509654</td></tr><tr><th>5</th><td>-1.7321051747524616</td><td>89.55844065579969</td></tr><tr><th>6</th><td>-1.4253325394154235</td><td>92.72629790575935</td></tr><tr><th>7</th><td>-0.9042631229720477</td><td>87.93522916305417</td></tr><tr><th>8</th><td>3.4865202058421714</td><td>127.92951823278281</td></tr><tr><th>9</th><td>-2.134433785764415</td><td>94.20802706899649</td></tr><tr><th>10</th><td>3.322020816866826</td><td>118.04216195389577</td></tr><tr><th>11</th><td>2.203086430462482</td><td>105.55320230669415</td></tr><tr><th>12</th><td>-5.281962503754427</td><td>82.8888784146054</td></tr><tr><th>13</th><td>2.001897730730764</td><td>108.02467262087006</td></tr><tr><th>14</th><td>-2.7543838829327565</td><td>88.76348948674855</td></tr><tr><th>15</th><td>6.101614682211077</td><td>128.6239736717972</td></tr><tr><th>16</th><td>0.6888033886810481</td><td>111.17457991815601</td></tr><tr><th>17</th><td>0.7010819245192449</td><td>107.39681268065465</td></tr><tr><th>18</th><td>3.1116548996809783</td><td>113.4549225848041</td></tr><tr><th>19</th><td>-1.8511960189357837</td><td>83.79388935398916</td></tr><tr><th>20</th><td>-0.962664244723129</td><td>91.41543924802386</td></tr><tr><th>21</th><td>0.5608348467513868</td><td>90.8605217368299</td></tr><tr><th>22</th><td>2.1522594774515786</td><td>93.8105103626811</td></tr><tr><th>23</th><td>-0.31022032825520746</td><td>101.53069848453823</td></tr><tr><th>24</th><td>1.6256993827235733</td><td>104.12765249398367</td></tr><tr><th>25</th><td>3.3214081526457813</td><td>118.46644563889394</td></tr><tr><th>26</th><td>0.43501963025212675</td><td>95.810320259296</td></tr><tr><th>27</th><td>2.59876092609342</td><td>121.9741328977443</td></tr><tr><th>28</th><td>-1.0290269848902651</td><td>113.72423797098067</td></tr><tr><th>29</th><td>-0.21404769863190354</td><td>92.43405156194733</td></tr><tr><th>30</th><td>3.5537714568100016</td><td>99.06513391626848</td></tr><tr><th>&vellip;</th><td>&vellip;</td><td>&vellip;</td></tr></tbody></table><p>使用<code>lm</code>函数进行线性回归分析：</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mod = lm(<span class="meta">@formula</span>(y ~ x), dataForRegression)</span><br></pre></td></tr></table></figure><pre><code>DataFrames.DataFrameRegressionModel{GLM.LinearModel{GLM.LmResp{Array{Float64,1}},GLM.DensePredChol{Float64,Base.LinAlg.Cholesky{Float64,Array{Float64,2}}}},Array{Float64,2}}Formula: y ~ 1 + xCoefficients:             Estimate Std.Error t value Pr(&gt;|t|)(Intercept)   99.8365   1.42361 70.1292   &lt;1e-49x             5.19724  0.457037 11.3716   &lt;1e-14</code></pre><p>另外一种等价的写法是：</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mod = fit(LinearModel, <span class="meta">@formula</span>(y ~ x), dataForRegression)</span><br></pre></td></tr></table></figure><pre><code>DataFrames.DataFrameRegressionModel{GLM.LinearModel{GLM.LmResp{Array{Float64,1}},GLM.DensePredChol{Float64,Base.LinAlg.Cholesky{Float64,Array{Float64,2}}}},Array{Float64,2}}Formula: y ~ 1 + xCoefficients:             Estimate Std.Error t value Pr(&gt;|t|)(Intercept)   99.8365   1.42361 70.1292   &lt;1e-49x             5.19724  0.457037 11.3716   &lt;1e-14</code></pre><p>故知回归系数为<code>5.19724</code>，截距为<code>99.8365</code>，所以最优拟合直线为 $y = 99.8365 + 5.19724x$。同时给出了标准差、t检验和p值等结果。</p><p>接下来对假设回归系数是 $0$ 进行FF检验。</p><p>原假设 $H_0: \beta = 0$，备选假设 $H_1: \beta\neq 0$</p><p>构造回归系数为 $0$ 的模型：</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nullmod = lm(<span class="meta">@formula</span>(y ~ <span class="number">1</span>), dataForRegression)</span><br></pre></td></tr></table></figure><pre><code>DataFrames.DataFrameRegressionModel{GLM.LinearModel{GLM.LmResp{Array{Float64,1}},GLM.DensePredChol{Float64,Base.LinAlg.Cholesky{Float64,Array{Float64,2}}}},Array{Float64,2}}Formula: y ~ +1Coefficients:             Estimate Std.Error t value Pr(&gt;|t|)(Intercept)   104.526   2.59199 40.3264   &lt;1e-38</code></pre><p>假设回归系数为 $0$，则截距为 $y$ 的平均数。</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">isapprox(coef(nullmod)[<span class="number">1</span>], mean(dataForRegression[:y]))</span><br></pre></td></tr></table></figure><pre><code>true</code></pre><p>GLM的<code>ftest</code>函数提供了回归模型的FF检验。</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftest(mod.model, nullmod.model)</span><br></pre></td></tr></table></figure><pre><code>        Res. DOF DOF ΔDOF        SSR        ΔSSR      R²    ΔR²       F*  p(&gt;F)Model 1       48   3       4455.8890              0.7293Model 2       49   2   -1 16460.1689 -12004.2799 -0.0000 0.7293 129.3132 &lt;1e-14</code></pre><p>在此例中，$p&lt;0.05$，差异显著，拒绝 $\beta = 0$ 的假设，回归系数显著不为0，说明了回归方程有较高的有效性。而 $R^2=0.7293$ 也说明了随机变量 $x$ 与 $y$ 之间有相对高的关联程度。</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> RCall</span><br><span class="line"><span class="string">R"summary(lm(<span class="subst">$(dataForRegression[:x])</span> ~ <span class="subst">$(dataForRegression[:y])</span>))"</span></span><br></pre></td></tr></table></figure><pre><code>WARNING: Method definition ==(Base.Nullable{S}, Base.Nullable{T}) in module Base at nullable.jl:238 overwritten in module NullableArrays at /Users/kay/.julia/v0.6/NullableArrays/src/operators.jl:99.RCall.RObject{RCall.VecSxp}Call:lm(formula = `#JL`$`(dataForRegression[:x])` ~ `#JL`$`(dataForRegression[:y])`)Residuals:    Min      1Q  Median      3Q     Max-3.2220 -0.9915 -0.1898  0.7734  3.6579Coefficients:                                 Estimate Std. Error t value Pr(&gt;|t|)(Intercept)                     -13.76511    1.30911  -10.52 4.77e-14 ***`#JL`$`(dataForRegression[:y])`   0.14032    0.01234   11.37 3.19e-15 ***---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 1.583 on 48 degrees of freedomMultiple R-squared:  0.7293,    Adjusted R-squared:  0.7237F-statistic: 129.3 on 1 and 48 DF,  p-value: 3.195e-15</code></pre><p>以上是R的输出结果，除了小数点精度外，结果完全相同。</p><p>下面对回归结果做可视化。</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本数据作图</span></span><br><span class="line"><span class="keyword">using</span> Gadfly</span><br><span class="line">plot(layer(dataForRegression,</span><br><span class="line">        x = :x,</span><br><span class="line">        y = :y,</span><br><span class="line">        Geom.point,),</span><br><span class="line">    layer(dataForRegression,</span><br><span class="line">        x = :x,</span><br><span class="line">        y = :y,</span><br><span class="line">        Geom.smooth(method = :lm),</span><br><span class="line">        color = [<span class="string">colorant"purple"</span>])</span><br><span class="line">)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/julia/GLM/output_17_0.svg"><br></div><p>函数<code>predict</code>返回的是回归值。残差定义为回归值与观测值之差。</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 残差点图</span></span><br><span class="line">resid = dataForRegression[:y] - predict(mod)</span><br><span class="line">plot(x = predict(mod),</span><br><span class="line">    y = resid,</span><br><span class="line">    Geom.point,</span><br><span class="line">    Guide.xlabel(<span class="string">"predict(mod)"</span>),</span><br><span class="line">    Guide.ylabel(<span class="string">"resid"</span>))</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/julia/GLM/output_19_0.svg"><br></div><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 残差线段图</span></span><br><span class="line">plot(dataForRegression, x = <span class="string">"x"</span>,</span><br><span class="line">    y = <span class="string">"y"</span>,</span><br><span class="line">    xend = <span class="string">"x"</span>,</span><br><span class="line">    yend = predict(mod),</span><br><span class="line">    Geom.segment)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/julia/GLM/output_20_0.svg"><br></div><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过Q-Q图的线性程度来检验残差的正态性。</span></span><br><span class="line">plot(x = Normal(), y = resid, Stat.qq, Geom.point,)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/julia/GLM/output_21_0.svg"><br></div><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 绘制置信区间</span></span><br><span class="line">mod_predict_confidence = predict(mod,</span><br><span class="line">    hcat(ones(nrow(dataForRegression)), collect(dataForRegression[:,<span class="number">1</span>])),</span><br><span class="line">    :confint)</span><br><span class="line"></span><br><span class="line">plot(layer(dataForRegression,</span><br><span class="line">        x = <span class="string">"x"</span>,</span><br><span class="line">        y = <span class="string">"y"</span>,</span><br><span class="line">        Geom.point,</span><br><span class="line">        intercept = [coef(mod)[<span class="number">1</span>]],</span><br><span class="line">        slope = [coef(mod)[<span class="number">2</span>]],</span><br><span class="line">        Geom.abline),</span><br><span class="line">    layer(x = dataForRegression[:x],</span><br><span class="line">        y = mod_predict_confidence[:,<span class="number">2</span>],</span><br><span class="line">        Geom.point, Theme(default_color = <span class="string">"purple"</span>)),</span><br><span class="line">    layer(x = dataForRegression[:x],</span><br><span class="line">        y = mod_predict_confidence[:,<span class="number">3</span>],</span><br><span class="line">        Geom.point, Theme(default_color = <span class="string">"purple"</span>))</span><br><span class="line">)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/julia/GLM/output_22_0.svg"><br></div>]]></content>
      
      
        <tags>
            
            <tag> julia </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project 2 of Statistics.md</title>
      <link href="/2017/11/17/Project-2-of-Statistics/"/>
      <url>/2017/11/17/Project-2-of-Statistics/</url>
      <content type="html"><![CDATA[<h3 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h3><p>本次大作业按章节依次展示了岭估计、主成分估计、逐步回归和带示性变量的回归分析。</p><p>主要使用 <code>dplyr</code> 和 <code>readxl</code> 包导入数据并获得数据框视图；利用 <code>MASS</code> 和 <code>car</code> 包作岭迹图、主成分估计和逐步回归分析； <code>dummies</code> 包提供了将示性变量转换为特殊矩阵的可能；<code>bootstrap</code> 包帮助我们实现了 $k$ 重交叉验证。</p><a id="more"></a><p>所有文献和数据集均可在文末的参考文献链接中下载获得。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(dplyr)</span><br><span class="line"><span class="keyword">library</span>(readxl)</span><br><span class="line"><span class="keyword">library</span>(MASS)</span><br><span class="line"><span class="keyword">library</span>(car)</span><br><span class="line"><span class="keyword">library</span>(dummies)</span><br><span class="line"><span class="keyword">library</span>(bootstrap)</span><br></pre></td></tr></table></figure><h3 id="岭估计"><a href="#岭估计" class="headerlink" title="岭估计"></a>岭估计</h3><p>对《线性模型与回归分析》(王松桂)书习题3.19数据进行回归分析，十次试验得到的观测数据如下</p><table><thead><tr><th>$y$</th><th>16.3</th><th>16.8</th><th>19.2</th><th>18.0</th><th>19.5</th><th>20.9</th><th>21.1</th><th>20.9</th><th>20.3</th><th>22.0</th></tr></thead><tbody><tr><td>$X_1$</td><td>1.1</td><td>1.4</td><td>1.7</td><td>1.7</td><td>1.8</td><td>1.8</td><td>1.9</td><td>2.0</td><td>2.3</td><td>2.4</td></tr><tr><td>$X_2$</td><td>1.1</td><td>1.5</td><td>1.8</td><td>1.7</td><td>1.9</td><td>1.8</td><td>1.8</td><td>2.1</td><td>2.4</td><td>2.5</td></tr></tbody></table><p>首先导入数据并获得预览：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test &lt;- tbl_df(read_excel(<span class="string">"/path/to/test.xlsx"</span>))</span><br><span class="line"></span><br><span class="line">str(test)</span><br></pre></td></tr></table></figure><pre><code>Classes ‘tbl_df’, ‘tbl’ and &apos;data.frame&apos;:    10 obs. of  3 variables: $ y : num  16.3 16.8 19.2 18 19.5 20.9 21.1 20.9 20.3 22 $ x1: num  1.1 1.4 1.7 1.7 1.8 1.8 1.9 2 2.3 2.4 $ x2: num  1.1 1.5 1.8 1.7 1.9 1.8 1.8 2.1 2.4 2.5</code></pre><p>下面假设数据满足线性模型:</p><p>$$<br>y=\beta_0 + \beta_1 x_1+ \beta_2 x_2 + e<br>$$</p><p>其中误差 $e$ 满足 Gauss-Markov 假设，最小二乘法估计参数 $\beta = (\beta_0, \beta_1, \beta_2)$.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">md1 &lt;- lm(y ~ x1 + x2, test)</span><br><span class="line"></span><br><span class="line">summary(md1)</span><br><span class="line"></span><br><span class="line">vif(md1)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = y ~ x1 + x2, data = test)Residuals:    Min      1Q  Median      3Q     Max-1.3107 -0.3727  0.1168  0.5054  1.1176Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept)   11.292      1.463   7.719 0.000114 ***x1            11.307      4.719   2.396 0.047740 *x2            -6.591      4.436  -1.486 0.180941---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 0.9072 on 7 degrees of freedomMultiple R-squared:  0.8267,    Adjusted R-squared:  0.7772F-statistic:  16.7 on 2 and 7 DF,  p-value: 0.002167</code></pre><dl class="dl-horizontal"><br>    <dt>x1</dt><br>        <dd>35.9628643396901</dd><br>    <dt>x2</dt><br>        <dd>35.9628643396901</dd><br></dl><p>由上可知预测变量 $x$ 的方差膨胀因子均大于30, 数据存在较严重的共线性, 于是考虑使用岭估计确定线形模型中的系数.</p><p>下面规定岭参数在 $(0,1)$ 中, 以 $0.1$ 为步长作出岭迹图：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">md2 &lt;- lm.ridge(y ~ x1 + x2, test, lambda = seq(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0.1</span>))</span><br><span class="line"></span><br><span class="line">plot(md2)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/project2/output_8_0.png" width="50%"><br></div><p>从图中发现当岭参数 $k=4$ 时, $\hat{\beta}(k)$的图像趋于平稳, 故选择</p><p>$$<br>\hat{\beta(4)}=(11.86099 ,\  4.480425, \ -0.25298675)<br>$$</p><h3 id="主成分估计"><a href="#主成分估计" class="headerlink" title="主成分估计"></a>主成分估计</h3><p>对《线性模型与回归分析》(王松桂)习题3.20数据进行回归分析。导入数据集 <code>commodity</code>:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">commodity &lt;- tbl_df(read_excel(<span class="string">"/path/to/commodity.xlsx"</span>))</span><br><span class="line"></span><br><span class="line">str(commodity)</span><br></pre></td></tr></table></figure><pre><code>Classes ‘tbl_df’, ‘tbl’ and &apos;data.frame&apos;:    10 obs. of  5 variables: $ y : num  8.4 9.6 10.4 11.4 12.2 14.2 15.8 17.9 19.6 20.8 $ x1: num  82.9 88 99.9 105.3 117.7 ... $ x2: num  92 93 96 94 100 101 105 112 112 112 $ x3: num  17.1 21.3 25.1 29 34 40 44 49 51 53 $ x4: num  94 96 97 97 100 101 104 109 111 111</code></pre><p>假设数据满足线性模型:</p><p>$$<br>y=\beta_0 + \beta_1 x_1+ \beta_2 x_2  +x_3 + x_4+ e<br>$$</p><p>误差 $e$ 满足Gauss - Markov 假设.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">md1 &lt;- lm(y ~ x1 + x2 + x3 + x4, commodity)</span><br><span class="line"></span><br><span class="line">summary(md1)</span><br><span class="line"></span><br><span class="line">vif(md1)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = y ~ x1 + x2 + x3 + x4, data = commodity)Residuals:        1         2         3         4         5         6         7         8 0.024803  0.079476  0.012381 -0.007025 -0.288345  0.216090 -0.142085  0.158360        9        10-0.135964  0.082310Coefficients:             Estimate Std. Error t value Pr(&gt;|t|)(Intercept) -17.66768    5.94360  -2.973  0.03107 *x1            0.09006    0.02095   4.298  0.00773 **x2           -0.23132    0.07132  -3.243  0.02287 *x3            0.01806    0.03907   0.462  0.66328x4            0.42075    0.11847   3.552  0.01636 *---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 0.2037 on 5 degrees of freedomMultiple R-squared:  0.9988,    Adjusted R-squared:  0.9978F-statistic:  1021 on 4 and 5 DF,  p-value: 1.827e-07</code></pre><dl class="dl-horizontal"><br>    <dt>x1</dt><br>        <dd>126.280159677426</dd><br>    <dt>x2</dt><br>        <dd>72.827434063754</dd><br>    <dt>x3</dt><br>        <dd>55.4395006902401</dd><br>    <dt>x4</dt><br>        <dd>125.122528952804</dd><br></dl><p>使用最小二乘法估计参数 $\beta$ , 发现回归系数 $\beta_3$ 不显著不为0，并且预测变量 $x$ 的方差膨胀因子均大于30, 数据存在较严重的共线性,考虑使用主成分回归估计参数.</p><p>使用样本的相关矩阵进行主成分分析：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pca &lt;- princomp(~ x1 + x2 + x3 + x4, commodity, cor=<span class="literal">T</span>)</span><br><span class="line"></span><br><span class="line">summary(pca, loading=<span class="literal">TRUE</span>)</span><br><span class="line"></span><br><span class="line">pre &lt;- predict(pca)</span><br><span class="line"></span><br><span class="line">pre</span><br></pre></td></tr></table></figure><pre><code>Importance of components:                          Comp.1      Comp.2     Comp.3       Comp.4Standard deviation     1.9859037 0.199906992 0.11218966 0.0603085506Proportion of Variance 0.9859534 0.009990701 0.00314663 0.0009092803Cumulative Proportion  0.9859534 0.995944090 0.99909072 1.0000000000Loadings:   Comp.1 Comp.2 Comp.3 Comp.4x1 -0.502 -0.237  0.579 -0.598x2 -0.500  0.493 -0.610 -0.367x3 -0.498 -0.707 -0.368  0.342x4 -0.501  0.449  0.396  0.626</code></pre><table><br><thead><tr><th></th><th scope="col">Comp.1</th><th scope="col">Comp.2</th><th scope="col">Comp.3</th><th scope="col">Comp.4</th></tr></thead><br><tbody><br>    <tr><th scope="row">1</th><td> 2.74300221 </td><td> 0.21717213 </td><td> 0.04664610 </td><td>-0.092431543</td></tr><br>    <tr><th scope="row">2</th><td> 2.26912529 </td><td> 0.15180493 </td><td> 0.05701818 </td><td> 0.094266513</td></tr><br>    <tr><th scope="row">3</th><td> 1.66536864 </td><td> 0.11683915 </td><td>-0.03013748 </td><td>-0.045923725</td></tr><br>    <tr><th scope="row">4</th><td> 1.55844739 </td><td>-0.27262184 </td><td> 0.10173123 </td><td> 0.064513216</td></tr><br>    <tr><th scope="row">5</th><td> 0.53961155 </td><td>-0.04080947 </td><td>-0.12051901 </td><td> 0.011795871</td></tr><br>    <tr><th scope="row">6</th><td>-0.04403012 </td><td>-0.33989164 </td><td>-0.09182299 </td><td> 0.003917754</td></tr><br>    <tr><th scope="row">7</th><td>-0.96230840 </td><td>-0.21126360 </td><td>-0.04524573 </td><td>-0.064368428</td></tr><br>    <tr><th scope="row">8</th><td>-2.22802489 </td><td> 0.22379838 </td><td>-0.19645929 </td><td> 0.020173666</td></tr><br>    <tr><th scope="row">9</th><td>-2.65380615 </td><td> 0.17110117 </td><td> 0.08143164 </td><td> 0.067009629</td></tr><br>    <tr><th scope="row">10</th><td>-2.88738552 </td><td>-0.01612921 </td><td> 0.19735735 </td><td>-0.058952953</td></tr><br></tbody><br></table><p>由上可得第一主成分的方差贡献率达到 $98.59534\%$，且第一主成分为：</p><p>$$<br>Z_1 = -0.502x_1 -0.500x_2 - 0.498x_3 - 0.501x_4<br>$$</p><p>下面使用第一主成分进行回归：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">commodity$z1 &lt;- pre[, <span class="number">1</span>]</span><br><span class="line">md2 &lt;- lm(y ~ z1, commodity)</span><br><span class="line">summary(md2)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = y ~ z1, data = commodity)Residuals:     Min       1Q   Median       3Q      Max-0.72237 -0.20946  0.05154  0.21032  0.81856Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept) 14.03000    0.16615   84.44 4.32e-13 ***z1          -2.06119    0.08367  -24.64 7.87e-09 ***---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 0.5254 on 8 degrees of freedomMultiple R-squared:  0.987,    Adjusted R-squared:  0.9854F-statistic: 606.9 on 1 and 8 DF,  p-value: 7.873e-09</code></pre><p>得到：</p><p>$$<br>y = 14.0300 - 2.06119 * Z_1<br>$$</p><p>最后我们仍需将变量 $Z_1$ 还原：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Phi &lt;- loadings(pca)</span><br><span class="line">xm &lt;- pca$center</span><br><span class="line">xs &lt;- pca$scale</span><br><span class="line">tem &lt;- md2$coefficients</span><br><span class="line">beta &lt;- tem[<span class="number">2</span>] * Phi[, <span class="number">1</span>] / xs</span><br><span class="line">cons &lt;- tem[<span class="number">1</span>] - beta %*% xm</span><br><span class="line">beta &lt;- c(cons, beta)</span><br><span class="line">beta</span><br></pre></td></tr></table></figure><dl class="dl-horizontal"><br>    <dt>1</dt><br>        <dd>-23.7777186112137</dd><br>    <dt>x1</dt><br>        <dd>0.0299264271458343</dd><br>    <dt>x2</dt><br>        <dd>0.133651577042884</dd><br>    <dt>x3</dt><br>        <dd>0.0836115587386088</dd><br>    <dt>x4</dt><br>        <dd>0.169651874372033</dd><br></dl><p>得到回归方程：</p><p>$$<br>y = -23.7777 + 0.0299 <em> x_1 + 0.1337 </em> x_2 + 0.08361 <em> x_3 + 0.1697 </em> x_4<br>$$</p><h3 id="逐步回归"><a href="#逐步回归" class="headerlink" title="逐步回归"></a>逐步回归</h3><p>对《线性模型与回归分析》(王松桂)习题5.7数据做逐步回归分析.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data &lt;- tbl_df(read_excel(<span class="string">"/path/to/data.xlsx"</span>))</span><br><span class="line"></span><br><span class="line">str(data)</span><br></pre></td></tr></table></figure><pre><code>Classes ‘tbl_df’, ‘tbl’ and &apos;data.frame&apos;:    29 obs. of  6 variables: $ y : num  272 264 239 231 252 ... $ x1: num  783 748 684 828 860 ... $ x2: num  33.5 36.5 34.7 33.1 35.8 ... $ x3: num  40.5 36.2 37.3 35.5 33.7 ... $ x4: num  16.7 16.5 17.7 17.5 16.4 ... $ x5: num  13.2 14.1 15.7 10.5 11 ...</code></pre><p>先对数据集做<strong>向后</strong>逐步回归：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">md1 &lt;- lm(y ~ x1 + x2 + x3 + x4 + x5, data=data)</span><br><span class="line"></span><br><span class="line">stepAIC(md1, direction=<span class="string">"backward"</span>)</span><br></pre></td></tr></table></figure><pre><code>Start:  AIC=176y ~ x1 + x2 + x3 + x4 + x5       Df Sum of Sq     RSS    AIC- x3    1      35.1  8323.5 174.13- x2    1     114.0  8402.4 174.40- x5    1     411.8  8700.1 175.41&lt;none&gt;               8288.4 176.00- x1    1     723.8  9012.2 176.43- x4    1    5074.5 13362.9 187.85Step:  AIC=174.13y ~ x1 + x2 + x4 + x5       Df Sum of Sq     RSS    AIC- x2    1     217.2  8540.7 172.87&lt;none&gt;               8323.5 174.13- x1    1    1009.8  9333.3 175.45- x5    1    1267.3  9590.9 176.24- x4    1    5136.6 13460.1 186.06Step:  AIC=172.87y ~ x1 + x4 + x5       Df Sum of Sq     RSS    AIC&lt;none&gt;               8540.7 172.87- x5    1    1365.8  9906.5 175.18- x1    1    1605.5 10146.2 175.87- x4    1    4929.7 13470.4 184.09Call:lm(formula = y ~ x1 + x4 + x5, data = data)Coefficients:(Intercept)           x1           x4           x5   447.3340       0.1273     -21.8362       5.1049</code></pre><p>再对数据集做向前逐步回归：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">md2 &lt;- lm(y ~ <span class="number">1</span>, data=data)</span><br><span class="line"></span><br><span class="line">stepAIC(md2, direction=<span class="string">"forward"</span>, scope=<span class="string">"~ x1 + x2 + x3 + x4 + x5"</span>)</span><br></pre></td></tr></table></figure><pre><code>Start:  AIC=193.65y ~ 1       Df Sum of Sq   RSS    AIC+ x4    1   10612.7 10892 175.93+ x1    1    8030.1 13475 182.10+ x5    1    2563.9 18941 191.97&lt;none&gt;              21505 193.65+ x2    1     245.0 21260 195.32+ x3    1       1.8 21503 195.65Step:  AIC=175.93y ~ x4       Df Sum of Sq     RSS    AIC+ x3    1   1656.22  9235.8 173.14+ x1    1    985.56  9906.5 175.18+ x2    1    779.98 10112.1 175.77+ x5    1    745.86 10146.2 175.87&lt;none&gt;              10892.0 175.93Step:  AIC=173.14y ~ x4 + x3       Df Sum of Sq    RSS    AIC&lt;none&gt;              9235.8 173.14+ x1    1    505.14 8730.7 173.51+ x2    1    143.80 9092.0 174.69+ x5    1     14.91 9220.9 175.10Call:lm(formula = y ~ x4 + x3, data = data)Coefficients:(Intercept)           x4           x3    491.523      -24.663        4.675</code></pre><p>发现两种方向的结果并<strong>不一致</strong>。</p><p>下面对数据进行划分: 前15个样本作为训练数据, 后14个样本作为测试数据，根据AIC准则和RSS准则综合判断如何选择经逐步回归后得到的线性方程.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">datatrain &lt;- data[<span class="number">1</span>:<span class="number">15</span>, ]</span><br><span class="line">datatest &lt;- data[<span class="number">16</span>:<span class="number">29</span>, ]</span><br><span class="line"></span><br><span class="line">md1 &lt;- lm(y ~ <span class="number">1</span>, datatrain)</span><br><span class="line">md2 &lt;- step(md1, direction = <span class="string">"both"</span>, scope = <span class="string">"~ x1 + x2 + x3 + x4 + x5"</span>)</span><br><span class="line"></span><br><span class="line">summary(md2)</span><br></pre></td></tr></table></figure><pre><code>Start:  AIC=79.88y ~ 1       Df Sum of Sq    RSS    AIC+ x4    1   1107.48 1589.4 73.946+ x3    1    666.73 2030.1 77.617+ x5    1    397.59 2299.3 79.485+ x1    1    385.77 2311.1 79.561&lt;none&gt;              2696.9 79.877+ x2    1    104.83 2592.0 81.282Step:  AIC=73.95y ~ x4       Df Sum of Sq     RSS    AIC+ x3    1   1182.99  406.40 55.489+ x5    1    835.24  754.14 64.763+ x2    1    295.31 1294.07 72.862&lt;none&gt;              1589.39 73.946+ x1    1      1.30 1588.09 75.934- x4    1   1107.48 2696.87 79.877Step:  AIC=55.49y ~ x4 + x3       Df Sum of Sq     RSS    AIC+ x1    1     70.01  336.39 54.653&lt;none&gt;               406.40 55.489+ x5    1     42.58  363.82 55.829+ x2    1      2.93  403.47 57.381- x3    1   1182.99 1589.39 73.946- x4    1   1623.74 2030.14 77.617Step:  AIC=54.65y ~ x4 + x3 + x1       Df Sum of Sq     RSS    AIC+ x5    1    116.20  220.18 50.296+ x2    1     42.17  294.21 54.644&lt;none&gt;               336.39 54.653- x1    1     70.01  406.40 55.489- x4    1    881.47 1217.86 71.952- x3    1   1251.70 1588.09 75.934Step:  AIC=50.3y ~ x4 + x3 + x1 + x5       Df Sum of Sq     RSS    AIC&lt;none&gt;               220.18 50.296+ x2    1     13.40  206.78 51.354- x5    1    116.20  336.39 54.653- x1    1    143.64  363.82 55.829- x3    1    317.12  537.30 61.678- x4    1    790.37 1010.56 71.153Call:lm(formula = y ~ x4 + x3 + x1 + x5, data = datatrain)Residuals:    Min      1Q  Median      3Q     Max-6.1147 -2.7790 -0.4392  3.2326  6.8494Coefficients:             Estimate Std. Error t value Pr(&gt;|t|)(Intercept) 324.64019   67.10578   4.838 0.000684 ***x4          -17.84038    2.97769  -5.991 0.000134 ***x3            3.62457    0.95507   3.795 0.003514 **x1            0.07047    0.02759   2.554 0.028659 *x5            2.99391    1.30323   2.297 0.044459 *---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 4.692 on 10 degrees of freedomMultiple R-squared:  0.9184,    Adjusted R-squared:  0.8857F-statistic: 28.12 on 4 and 10 DF,  p-value: 2.028e-05</code></pre><p>由上可以发现：</p><p>首先, 引入 $x_4$ 后,方程的AIC将降低, 并且引入后的RSS最小,故考虑引入 $x_4$；</p><p>接下来, 引入 $x_3$ 会继续降低方程的AIC, 且引入 $x_3$ 对应的RSS最小；</p><p>继续地，以此判断准则分别引入 $x_1$ 和 $x_5$, 依据AIC准则,方程达到最优。</p><p>$$<br>y = 324.64019 + 0.07047 <em> x1 + 3.62457 </em> x3 - 17.84038 <em> x4 + 2.99391 </em> x5<br>$$</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">R &lt;- summary(md2)$r.square</span><br><span class="line">MSE &lt;- sum(residuals(md2)^<span class="number">2</span>)/<span class="number">7</span></span><br><span class="line"></span><br><span class="line">yp &lt;- predict(md2, datatest)</span><br><span class="line">yf &lt;- datatest$y</span><br><span class="line"></span><br><span class="line">Rp &lt;- <span class="number">1</span> - sum((yf-yp)^<span class="number">2</span>)/sum((yf-mean(yf))^<span class="number">2</span>)</span><br><span class="line">MSEp &lt;- sum((yf-yp)^<span class="number">2</span>)/<span class="number">7</span></span><br><span class="line"></span><br><span class="line">cat(<span class="string">"Original R-Square ="</span>, R, <span class="string">"\n"</span>)</span><br><span class="line">cat(<span class="string">"cv Rp-Square ="</span>, Rp, <span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">cat(<span class="string">"Original MSE ="</span>, MSE, <span class="string">"\n"</span>)</span><br><span class="line">cat(<span class="string">"cv MSEp ="</span>, MSEp, <span class="string">"\n"</span>)</span><br></pre></td></tr></table></figure><pre><code>Original R-Square = 0.9183561cv Rp-Square = 0.4209326Original MSE = 31.4547cv MSEp = 1362.036</code></pre><p>对比原方程的 $R^2 = 91.84\%$, $MSE=27.52287$ 使用测试数据进行交叉验证得到的 $R^2<em>{pre} = 42.09\%$, $MSE</em>{pre} = 1362.036$.</p><p>$R^2$ 下降很多, 说明若用该方程进行预测, 预测结果不可靠.</p><h3 id="带示性的线性回归模型"><a href="#带示性的线性回归模型" class="headerlink" title="带示性的线性回归模型"></a>带示性的线性回归模型</h3><p>使用讲义上的2014年全国教育数据进行回归分析:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">edu &lt;- tbl_df(read_excel(<span class="string">"/path/to/education.xlsx"</span>))</span><br><span class="line"></span><br><span class="line">head(edu, n=<span class="number">8</span>)</span><br></pre></td></tr></table></figure><table><br><thead><tr><th scope="col">y</th><th scope="col">x1</th><th scope="col">x2</th><th scope="col">jbh</th></tr></thead><br><tbody><br>    <tr><td>5082.47 </td><td>44488.57</td><td>14119   </td><td>1       </td></tr><br>    <tr><td>4170.25 </td><td>28832.29</td><td>13544   </td><td>1       </td></tr><br>    <tr><td>1470.97 </td><td>16647.40</td><td>18461   </td><td>3       </td></tr><br>    <tr><td>1928.79 </td><td>16538.32</td><td>18415   </td><td>3       </td></tr><br>    <tr><td>2552.41 </td><td>20559.34</td><td>15207   </td><td>2       </td></tr><br>    <tr><td>1981.45 </td><td>22820.15</td><td>14277   </td><td>2       </td></tr><br>    <tr><td>1945.20 </td><td>17520.39</td><td>13930   </td><td>2       </td></tr><br>    <tr><td>1638.09 </td><td>17404.39</td><td>12597   </td><td>2       </td></tr><br></tbody><br></table><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">edu$jbh &lt;- factor(edu$jbh)</span><br><span class="line"></span><br><span class="line">md &lt;- lm(y ~ x1 + x2 + jbh, data=edu)</span><br><span class="line"></span><br><span class="line">influencePlot(md, id.method=<span class="string">"identity"</span>, main=<span class="string">"Influence Plot"</span>, sub=<span class="string">"Circle size is proportional to Cook's"</span>)</span><br></pre></td></tr></table></figure><table><br><thead><tr><th></th><th scope="col">StudRes</th><th scope="col">Hat</th><th scope="col">CookD</th></tr></thead><br><tbody><br>    <tr><th scope="row">9</th><td>-0.7881532</td><td>0.4759338 </td><td>0.09546883</td></tr><br>    <tr><th scope="row">26</th><td> 4.8251309</td><td>0.1874467 </td><td>0.47330170</td></tr><br></tbody><br></table><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/project2/output_37_1.png" width="50%"><br></div><p>由上图，我们需要剔除异常点西藏省对应的数据.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edu &lt;- edu[-<span class="number">26</span>,]</span><br></pre></td></tr></table></figure><p>原数据中对人均可支配收入 <code>jbh</code> 进行了分组, 我们针对分组做适当简化: 将原数据中第一组作为高收入组 <code>h</code>; 第二组和第三组作为中等收入组 <code>m</code>, 第四组作为低收入组 <code>l</code>.</p><p>简化后的分组有四个水平, 故引入三个示性变量:</p><p>$$<br>x_3 = \begin{cases}<br>1 \quad jbh=1 \<br>0 \quad \text{else} \<br>\end{cases} \qquad x_4 = \begin{cases}<br>1 \quad jbh=2  \<br>0 \quad \text{else} \<br>\end{cases} \qquad x_5 = \begin{cases}<br>1 \quad jbh=3  \<br>0 \quad \text{else} \<br>\end{cases}<br>$$</p><p>据此我们可将数据框 <code>edu</code> 做如下变换</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jbh &lt;- dummy(edu$jbh)  <span class="comment"># convert the dummies into a sparse matrix</span></span><br><span class="line">edu.new &lt;- data.frame(edu$y, edu$x1, edu$x2, jbh)  <span class="comment"># update the dateframe</span></span><br><span class="line">names(edu.new) &lt;- c(<span class="string">"y"</span>, <span class="string">"x1"</span>, <span class="string">"x2"</span>, <span class="string">"x3"</span>, <span class="string">"x4"</span>, <span class="string">"x5"</span>, <span class="string">"x6"</span>) <span class="comment"># rename the columns</span></span><br><span class="line"></span><br><span class="line">head(edu.new, n=<span class="number">8</span>)</span><br></pre></td></tr></table></figure><table><br><thead><tr><th scope="col">y</th><th scope="col">x1</th><th scope="col">x2</th><th scope="col">x3</th><th scope="col">x4</th><th scope="col">x5</th><th scope="col">x6</th></tr></thead><br><tbody><br>    <tr><td>5082.47 </td><td>44488.57</td><td>14119   </td><td>1       </td><td>0       </td><td>0       </td><td>0       </td></tr><br>    <tr><td>4170.25 </td><td>28832.29</td><td>13544   </td><td>1       </td><td>0       </td><td>0       </td><td>0       </td></tr><br>    <tr><td>1470.97 </td><td>16647.40</td><td>18461   </td><td>0       </td><td>0       </td><td>1       </td><td>0       </td></tr><br>    <tr><td>1928.79 </td><td>16538.32</td><td>18415   </td><td>0       </td><td>0       </td><td>1       </td><td>0       </td></tr><br>    <tr><td>2552.41 </td><td>20559.34</td><td>15207   </td><td>0       </td><td>1       </td><td>0       </td><td>0       </td></tr><br>    <tr><td>1981.45 </td><td>22820.15</td><td>14277   </td><td>0       </td><td>1       </td><td>0       </td><td>0       </td></tr><br>    <tr><td>1945.20 </td><td>17520.39</td><td>13930   </td><td>0       </td><td>1       </td><td>0       </td><td>0       </td></tr><br>    <tr><td>1638.09 </td><td>17404.39</td><td>12597   </td><td>0       </td><td>1       </td><td>0       </td><td>0       </td></tr><br>    <tr><td>4077.58 </td><td>45965.83</td><td>11719   </td><td>1       </td><td>0       </td><td>0       </td><td>0       </td></tr><br>    <tr><td>2613.18 </td><td>27172.77</td><td>16619   </td><td>1       </td><td>0       </td><td>0       </td><td>0       </td></tr><br></tbody><br></table><p>新的 <code>edu.new</code> 中已将哑变量 <code>x3</code> 转化为相应矩阵，可以假设此数据满足线性模型:</p><p>$$<br>y=\beta_0 + \beta_1\, x_1+ \beta_2\, x_2  + \beta_3\, x_3 + \beta_4\, x_4 + \beta_5\, x_5 + e<br>$$</p><p>误差 $e$ 满足 Gauss-Markov 假设. 使用最小二乘法估计参数 $\beta$.</p><p>下面对模型进行交叉验证，将样本分为 $k$ 个子样本，轮流将 $k-1$ 个子样本组合作为训练集，另外 $1$ 个子样本作为保留集。这样获得的 $k$ 个预测方程，记录了 $k$ 个保留样本的预测表现结果，然后求其均值。</p><p>利用 <code>bootstrap</code> 包中的 <code>crossval()</code> 函数实现如下交叉验证函数：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># construct the k fold cross validation function</span></span><br><span class="line">shrinkage &lt;- <span class="keyword">function</span>(fit, k=<span class="number">3</span>) &#123;</span><br><span class="line"></span><br><span class="line">  theta.fit &lt;- <span class="keyword">function</span>(x, y) &#123;lsfit(x, y)&#125;</span><br><span class="line">  theta.predict &lt;- <span class="keyword">function</span>(fit, x) &#123;cbind(<span class="number">1</span>, x) %*% fit$coef&#125;</span><br><span class="line"></span><br><span class="line">  x &lt;- fit$model[, <span class="number">2</span>:ncol(fit$model)]</span><br><span class="line">  y &lt;- fit$model[, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">  results &lt;- crossval(x, y, theta.fit, theta.predict, ngroup = k)</span><br><span class="line">  r2 &lt;- cor(y, fit$fitted.values)^<span class="number">2</span></span><br><span class="line">  r2cv &lt;- cor(y, results$cv.fit)^<span class="number">2</span></span><br><span class="line">  cat(<span class="string">"Original R-square ="</span>, r2, <span class="string">"\n"</span>)</span><br><span class="line">  cat(k, <span class="string">"Fold Cross-Validated R-square ="</span>, r2cv, <span class="string">"\n"</span>)</span><br><span class="line">  cat(<span class="string">"R-square Change ="</span>, r2 - r2cv, <span class="string">"\n"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对 <code>new.data</code> 所有预测变量进行回归，然后再用 <code>shrinkage()</code> 函数做 $3$ 重交叉验证：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">md.new &lt;- lm(y ~ x1 + x2 + x3 + x4 + x5, data=edu.new)</span><br><span class="line"></span><br><span class="line">shrinkage(md.new)</span><br></pre></td></tr></table></figure><pre><code>Original R-square = 0.71474513 Fold Cross-Validated R-square = 0.4983459R-square Change = 0.2163992</code></pre><p>可以看到，基于初始样本的 $R$ 平方为 <code>0.7147451</code>，对新数据更好的方差解释率估计是交叉验证后的 $R$ 平方 <code>0.4686895</code>，$R$ 平方减少量 <code>0.2163992</code> 较小，说明预测变量模型泛化能力较好，预测较为精准。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summary(md.new)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = y ~ x1 + x2 + x3 + x4 + x5, data = edu.new)Residuals:   Min     1Q Median     3Q    Max-520.1 -271.8 -198.1  259.4 1176.5Coefficients:              Estimate Std. Error t value Pr(&gt;|t|)(Intercept)  858.93181 1012.19824   0.849 0.404499x1             0.09523    0.02400   3.967 0.000572 ***x2             0.01520    0.03799   0.400 0.692716x3          -816.78300  498.04009  -1.640 0.114050x4          -873.96293  312.85124  -2.794 0.010079 *x5          -776.99506  280.13906  -2.774 0.010556 *---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 490.3 on 24 degrees of freedomMultiple R-squared:  0.7147,    Adjusted R-squared:  0.6553F-statistic: 12.03 on 5 and 24 DF,  p-value: 6.658e-06</code></pre><p>故可得带哑变量的线性模型回归方程：</p><p>$$<br>y = 858.93181 + 0.09523 <em> x1 + 0.01520 </em> x2 - 816.78300 <em> x3 - 873.96293 </em> x4 - 776.99506 * x5<br>$$</p><p>由上可知，<strong>人均可支配收入最高省份</strong>相比<strong>人均可支配收入最低省份</strong>在<strong>人均教育费用</strong>上会减少约 <code>816.78</code> 元的投入。 <strong>人均收入稍高的省份</strong>相比减少 <code>873.96</code> 元人均教育经费投入，再稍低的相比减少 <code>776.99</code> 元的人均教育经费投入。最低收入的作为参考指标，视为不减少。</p><h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ol><li>R in action Data Analysis and Graphics with R (Second Edition)</li><li>线性模型引论（王松桂、史建红等）</li><li>线性统计模型（王松桂、陈敏等）</li><li>数据集地址：<a href="http://oye4atjxc.bkt.clouddn.com/statistic/project2/data.zip" target="_blank" rel="noopener">http://oye4atjxc.bkt.clouddn.com/statistic/project2/data.zip</a></li></ol>]]></content>
      
      
        <tags>
            
            <tag> r </tag>
            
            <tag> statistics </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Assignment 2 of Advanced Computational Method</title>
      <link href="/2017/11/14/Assignment-2-of-Advanced-Computational-Method/"/>
      <url>/2017/11/14/Assignment-2-of-Advanced-Computational-Method/</url>
      <content type="html"><![CDATA[<h2 id="Homework-3"><a href="#Homework-3" class="headerlink" title="Homework 3"></a>Homework 3</h2><p>The Metropolis–Hastings algorithm works by generating a sequence of sample values in such a way that, as more and more sample values are produced, the distribution of values more closely approximates the desired distribution, $P(x)$. These sample values are produced iteratively, with the distribution of the next sample being dependent only on the current sample value (thus making the sequence of samples into a Markov chain). Specifically, at each iteration, the algorithm picks a candidate for the next sample value based on the current sample value. Then, with some probability, the candidate is either accepted (in which case the candidate value is used in the next iteration) or rejected (in which case the candidate value is discarded, and current value is reused in the next iteration)−the probability of acceptance is determined by comparing the values of the function $f(x)$ of the current and candidate sample values with respect to the desired distribution $P(x)$.</p><a id="more"></a><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><blockquote><p>Draw samples from the distribution $p(x, y) = \mathrm{e}^{-(x-1)^2-100(y-x)^2}$</p><ol><li>use RW-MH, use different step size and compare the performance;</li><li>use IS with different proposals of your choice and compare the performance.</li><li>use adaptive MCMC and compare the performance with standard RW-MH.</li></ol></blockquote><p>For the purpose of implementation, the Metropolis algorithm, a special case of the Metropolis–Hastings algorithm where the proposal function is symmetric, is described below.</p><p><strong>Metropolis algorithm (symmetric proposal distribution)</strong></p><p>Let $f(x)$ be a function that is proportional to the desired probability distribution $P(x)$ (a.k.a. a target distribution).</p><ol><li><p>Initialization: Choose an arbitrary point x0 to be the first sample, and choose an arbitrary probability density $g(x\mid y)$ that suggests a candidate for the next sample value x, given the previous sample value y. For the Metropolis algorithm, $g$ must be symmetric; in other words, it must satisfy $q(x\mid y)=q(y\mid x)$. A usual choice is to let $q(x\mid y)$ be a Gaussian distribution centered at $y$, so that points closer to $y$ are more likely to be visited next—making the sequence of samples into a random walk. The function $g$ is referred to as the <em>proposal density</em> or <em>jumping distribution</em>.</p></li><li><p>For each iteration $t$:</p></li></ol><ul><li><strong>Generate</strong> : Generate a candidate x for the next sample by picking from the distribution $q(x’|x_{t})$.</li><li><strong>Calculate</strong> : Calculate the acceptance ratio $\alpha =p(x)/p(x<em>{t})$, which will be used to decide whether to accept or reject the candidate. Because $f$ is proportional to the density of $P$, we have that $\alpha =p(x’)/p(x</em>{t})=P(x’)/P(x_{t})$</li><li><strong>Accept</strong> or <strong>Reject</strong> :<ul><li>Generate a uniform random number $u$ on $[0,1]$.</li><li>If $u\leq \alpha$ <em>accept</em> the candidate by setting $x_{t+1}=x’$</li><li>If $u&gt;\alpha$ <em>reject</em> the candidate and set $x<em>{t+1}=x</em>{t}$, instead.</li></ul></li></ul><p><strong>The Metropolis-Hastings Algorithm</strong> (MH)</p><pre><code>1. initialize at $X^0$2. for $i = 0$ to $n-1$</code></pre><ul><li>sample $y\sim q(\cdot \mid X^i)$</li><li>sample $u\sim U[0,1]$</li><li>$a(X^i, y)=\min\lbrace 1, \frac{p(y)}{p(X^{i})}\frac{q(X^i \mid y)}{p(y \mid X^i)}\rbrace$</li><li>accept/reject the proposed $y$ according to probability $a(X,y)$</li><li>if $u\leq a$ set $X^{i+1} = X$<br>   else $X^{i+1} = X^{i}$</li></ul><h4 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h4><p>First, let’s take a look at the target distribution. Here, we present a 3D plot by <code>R</code></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x &lt;- seq(-<span class="number">2</span>, <span class="number">2</span>, length=<span class="number">100</span>)</span><br><span class="line">y &lt;- x</span><br><span class="line">f &lt;- <span class="keyword">function</span>(x, y)&#123;exp(-(x-<span class="number">1</span>)^<span class="number">2</span> - <span class="number">100</span>*(y - x)^<span class="number">2</span>)&#125;</span><br><span class="line">z &lt;- outer(x, y, f)</span><br><span class="line">persp(x, y, z, shade=<span class="number">0.1</span>, col=<span class="string">"white"</span>, ticktype=<span class="string">"detailed"</span>, xlab=<span class="string">"x"</span>, ylab=<span class="string">"y"</span>, zlab=<span class="string">"rosenbrock"</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/rosenbrock.svg" width="50%"></p><p>The picture shown above is shaped like banana as is taught to be.</p><p>Next, we follow the Metropolis-Hastings Algorithm and give a simple implement.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Define arguments: target distribution</span></span><br><span class="line">rosenbrock &lt;- <span class="keyword">function</span>(x)    <span class="comment"># x is a vector</span></span><br><span class="line">&#123;</span><br><span class="line">    exp(-(x[<span class="number">1</span>]-<span class="number">1</span>)^<span class="number">2</span> - <span class="number">100</span>*(x[<span class="number">2</span>] - x[<span class="number">1</span>])^<span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the sampling function</span></span><br><span class="line">rwMetro &lt;- <span class="keyword">function</span>(target, N, x, step, burnin=<span class="number">1000</span>)</span><br><span class="line">&#123;</span><br><span class="line">    cov &lt;- step*diag(<span class="number">2</span>)</span><br><span class="line">    samples &lt;- x</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">2</span>:(burnin+N))</span><br><span class="line">    &#123;</span><br><span class="line">        prop &lt;- mvrnorm(n = <span class="number">1</span>, x, cov)</span><br><span class="line">        <span class="keyword">if</span> (runif(<span class="number">1</span>) &lt; min(<span class="number">1</span>, target(prop)/target(x)))</span><br><span class="line">            x &lt;- prop</span><br><span class="line">        samples &lt;- rbind(samples,x)</span><br><span class="line">    &#125;</span><br><span class="line">    samples[(burnin+<span class="number">1</span>):(N+burnin),]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The above forms a rosenbrock function for general usage and construct a sampling function with considerate arguments. For example, the <code>burnin</code> period is typically necessary, where an initial number of samples (e.g. the first default $1000$ or so) are thrown away, since the initial samples may follow a very different distribution, especially if the starting point is in a region of low density.</p><p>Hence, we can draw samples by calling the function.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rwMetro.samples &lt;- rwMetro(rosenbrock, 10000, c(0,0), 1)</span><br></pre></td></tr></table></figure><p>Here, <code>rwMetro.samples</code> contains <code>10000</code> rows of samples with 2 columns. Continually, we want to evaluate the performance of this sampling method. Correlations should be a key of parameter choosing. For example, here we set step size $\delta$ to be $1$ and plot the autocorrelation function below:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acf(rwMetro.samples, lag.max=<span class="number">100</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/rwMetro.svg" width="60%"></p><p>As is shown in the picture, the self-correlation (diagonal part) decays when the effective sample size equals $100$[^size], which somehow indicates the Markov chain eventually converges to the desired distribution,</p><p>[^size]: here we set $100$ to be the default number of effectively independent samples.</p><p>Simply change the <code>step</code> parameter in function calling/sampling, we can obtain different shows of autocorrelation functions, which decays faster implies a more independent sampling.</p><p>Based on this criterion, we can do repetition test and comparison work in RStudio. An optimal step size is selected to be quite near $1$[^exp].</p><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/rwMetro_best.svg" width="60%"></p><p>[^exp]: the result is not quite stable, but we find $\delta\in[0.9,1]$ is adequate.</p><h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4><p>However, Metropolis–Hastings and other MCMC algorithms have a number of disadvantages. For example, the samples are correlated. This means that if we want a set of independent samples, we have to throw away the majority of samples.</p><p>Hence, independence sampler is necessary in some practical use. The thought comes like below:</p><p>Set</p><p>$$<br>\begin{split}<br>&amp; p(y\mid X) = p(y) \<br>&amp; a(X, y) = \frac{p(y)}{p(X)} \frac{q(X\mid y)}{p(y\mid X)} = 1 \<br>\end{split}<br>$$</p><p>which implies us:</p><p>$$<br>q(Y\mid X) = q(y) \approx p(y)<br>$$</p><p>that means $q(y)$ is a fixed distribution which is independent on $X$</p><p>Thus, we can construct a global proposal $q(y)$ which is independent on $X$. In this way,</p><p>$$<br>a(X^i, y) = \frac{p(X^i)}{p(y)} \frac{q(y \mid X^i)}{p(X^i\mid y)} = \frac{q(y \mid X^i)}{p(y)}<br>$$</p><p>Noticed that the rosenbrock function is symmetric on vector $(1,1)$, we can propose a new normal distribution centered at $(1,1)$, i.e. $q(y)$ is the PDF of $N(\begin{pmatrix} 1\ 1\ \end{pmatrix}, \delta^2)$.</p><p>Thus, we modify the RW-MH function and give an independence sampler named <code>isSampler</code>.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">isSampler &lt;- <span class="keyword">function</span>(target, N, x, step, burnin=<span class="number">1000</span>)</span><br><span class="line">&#123;</span><br><span class="line">    cov &lt;- step*diag(<span class="number">2</span>)</span><br><span class="line">    samples &lt;- x</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">2</span>:(burnin+N))</span><br><span class="line">    &#123;</span><br><span class="line">        prop &lt;- mvrnorm(n = <span class="number">1</span>, c(<span class="number">1</span>,<span class="number">1</span>), cov)</span><br><span class="line">        <span class="keyword">if</span> (runif(<span class="number">1</span>) &lt; min(<span class="number">1</span>, target(prop)/target(x)))</span><br><span class="line">            x &lt;- prop</span><br><span class="line">        samples &lt;- rbind(samples,x)</span><br><span class="line">    &#125;</span><br><span class="line">    samples[(burnin+<span class="number">1</span>):(N+burnin),]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Directly call the new function, we will receive a set of independent samples with an image of correlation function.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">is.samples &lt;- isSampler(rosenbrock, <span class="number">10000</span>, c(<span class="number">0</span>,<span class="number">0</span>), <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">acf(is.samples, lag.max=<span class="number">100</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/isSampler.svg" width="60%"></p><p>Similarily, we can change the <code>step</code> parameter to get different proposals. Repeated works have been done to get the optimal distribution $N(0,0.1)$, the corresponding autocorrelation function shapes like below:</p><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/isSampler_best.svg" width="60%"></p><h4 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h4><p><strong>Adaptive MCMC Algorithm</strong></p><ol><li>draw a set of $N$ samples from the target distribution with standard RW-MH method.</li><li>estimate the sample covariance of the samples.</li><li>update the covariance matrix[^cov] of the proposal with the computed sample covariance.</li><li>draw a set of samples from the updated proposal.</li></ol><p>[^cov]: the updated covariance matrix needs to be positive.</p><p>Here, we set $\varepsilon \sim N(0, \Sigma)$ where $\Sigma$ is the updated covariance matrix:</p><p>$$<br>\mathrm{Cov}(X) = \frac{1}{N}\sum(X^i - \bar X^N)(X^i - \bar X^N)’ + \delta I \quad,\quad \bar X^N = \frac{1}{N}\sum_{i=1}^{N} X^i<br>$$</p><p>Thus, we can derive the following adaptive MCMC sampler:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">adaptiveMCMC &lt;- <span class="keyword">function</span>(target, N, x, step, burnin=<span class="number">1000</span>)</span><br><span class="line">&#123;</span><br><span class="line">  cov &lt;- step*diag(<span class="number">2</span>)</span><br><span class="line">  samples &lt;- x</span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">2</span>:(burnin+N))</span><br><span class="line">  &#123;</span><br><span class="line">    prop &lt;- mvrnorm(n = <span class="number">1</span>, x, cov)</span><br><span class="line">    <span class="keyword">if</span> (runif(<span class="number">1</span>) &lt; min(<span class="number">1</span>, target(prop)/target(x)))</span><br><span class="line">      x &lt;- prop</span><br><span class="line">    samples &lt;- rbind(samples,x)</span><br><span class="line">    cov &lt;- cov(samples) + step*diag(<span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  samples[(burnin+<span class="number">1</span>):(N+burnin),]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adaptive.samples &lt;- adaptiveMCMC(rosenbrock, <span class="number">10000</span>, c(<span class="number">0</span>,<span class="number">0</span>), <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">acf(adaptive.samples, lag.max=<span class="number">100</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/adaptiveMCMC.svg" width="60%"></p><p>Tedious works have been done to obtain the optimal step size $\delta=0.5$ in the way <code>adaptiveMCMC</code> performs.</p><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/ada_best.svg" width="60%"></p><p>The self-correlations decay rapidly within $60$ lags and tend to converge after that.</p><p>Compared with standard RW-MH method, an obvious improvement can be seen in performing adaptive MCMC method. Also, we find that the optimal result is more stable in <code>adaptiveMCMC</code> than in <code>rwMetro</code>.</p><p>Finally, let’s have a look at samples generated by these three methods.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Display the samples</span></span><br><span class="line">par(mfrow=c(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">plot(rwMetro.samples[,<span class="number">1</span>], rwMetro.samples[,<span class="number">2</span>], xlim=c(-<span class="number">1.5</span>,<span class="number">1.5</span>),ylim=c(-<span class="number">1.5</span>,<span class="number">1.5</span>), main=<span class="string">'MH Samples'</span>,xlab=<span class="string">'x'</span>, ylab=<span class="string">'y'</span>, pch=<span class="string">'.'</span>)</span><br><span class="line"></span><br><span class="line">plot(is.samples[,<span class="number">1</span>], is.samples[,<span class="number">2</span>], xlim=c(-<span class="number">1.5</span>,<span class="number">1.5</span>),ylim=c(-<span class="number">1.5</span>,<span class="number">1.5</span>), main=<span class="string">'IS Samples'</span>,xlab=<span class="string">'x'</span>, ylab=<span class="string">'y'</span>, pch=<span class="string">'.'</span>)</span><br><span class="line"></span><br><span class="line">plot(adaptive.samples[,<span class="number">1</span>], adaptive.samples[,<span class="number">2</span>], xlim=c(-<span class="number">1.5</span>,<span class="number">1.5</span>),ylim=c(-<span class="number">1.5</span>,<span class="number">1.5</span>), main=<span class="string">'MCMC Samples'</span>,xlab=<span class="string">'x'</span>, ylab=<span class="string">'y'</span>, pch=<span class="string">'.'</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/samples.svg" width="60%"></p><p>Compared with the target distribution, we find that the <code>adaptiveMCMC</code> samples are best simulated and <code>rwMetro</code> seems to be fairly standard, while the <code>isSampler</code>, in a way, tends to be extreme.</p><p>Furthermore, we can test our optimal result using the generated samples. For example, samples generate from <code>adaptiveMCMC</code> method can be used to plot the density curve and make comparison with our optimal proposal $q(y)\sim N(1,0.5)$</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">x &lt;- adaptive.samples[,<span class="number">1</span>]</span><br><span class="line">y &lt;- adaptive.samples[,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">par(mfrow=c(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">hist(x, xlab=<span class="string">"x"</span>, main=<span class="string">"Distribution of Samples"</span>)</span><br><span class="line"></span><br><span class="line">plot(density(x), col=<span class="string">"red"</span>, lwd=<span class="number">1.5</span>)</span><br><span class="line">curve(dnorm(x, mean=<span class="number">1</span>, sd=sqrt(<span class="number">0.5</span>)), add=<span class="literal">TRUE</span>, col=<span class="string">"blue"</span>, lwd=<span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line">hist(x, xlab=<span class="string">"y"</span>, main=<span class="string">"Distribution of Samples"</span>)</span><br><span class="line"></span><br><span class="line">plot(density(y), col=<span class="string">"red"</span>, lwd=<span class="number">1.5</span>)</span><br><span class="line">curve(dnorm(x, mean=<span class="number">1</span>, sd=sqrt(<span class="number">0.5</span>)), add=<span class="literal">TRUE</span>, col=<span class="string">"blue"</span>, lwd=<span class="number">1.5</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment2/density.svg" width="60%"></p><p>It can be seen that the proposed distribution fits well, which make our result more persuative.</p><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Most simple rejection sampling methods suffer from the “curse of dimensionality”, where the probability of rejection increases exponentially as a function of the number of dimensions. But Metropolis–Hastings, along with other MCMC methods, <strong>do not</strong> have this problem to such a degree. Thus they are often the only solutions available when the number of dimensions of the distribution to be sampled is high.</p><p>In multivariate distributions, the classic Metropolis–Hastings algorithm as described above involves choosing a new multi-dimensional sample point. When the number of dimensions is high, finding the right proposed distribution to use can be difficult, as the different individual dimensions behave in very different ways, and the step size must be “just right” for all dimensions at once to avoid excessively slow mixing. An alternative approach that often works better in such situations, known as <em>Gibbs sampling</em>, involves choosing a new sample for each dimension separately from the others, rather than choosing a sample for all dimensions at once. Various algorithms can be used to choose these individual samples, depending on the exact form of the multivariate distribution such as the adaptive rejection Metropolis sampling algorithm.</p><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ol><li><a href="https://arxiv.org/pdf/1504.01896.pdf" target="_blank" rel="noopener">The Metropolis-Hastings algorithm Christian P. Robert (U. Paris-Dauphine PSL &amp; U. Warwick)</a></li><li><a href="https://en.wikipedia.org/wiki/Metropolis%E2%80%93Hastings_algorithm#Step-by-step_instructions" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Metropolis%E2%80%93Hastings_algorithm#Step-by-step_instructions</a></li><li><a href="http://blog.csdn.net/abcjennifer/article/details/25908495" target="_blank" rel="noopener">http://blog.csdn.net/abcjennifer/article/details/25908495</a></li><li><a href="https://theoreticalecology.wordpress.com/2010/09/17/metropolis-hastings-mcmc-in-r/" target="_blank" rel="noopener">https://theoreticalecology.wordpress.com/2010/09/17/metropolis-hastings-mcmc-in-r/</a></li></ol><hr><p><em>Kai Liu, wrote on 2017/11/13</em></p><p><em>Student ID: 116071910015</em></p><p><em>Mail: liu1995@sjtu.edu.cn</em></p>]]></content>
      
      
        <tags>
            
            <tag> r </tag>
            
            <tag> statistics </tag>
            
            <tag> computational method </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Project 1 of Statistics.md</title>
      <link href="/2017/11/03/Project-1-of-Statistics/"/>
      <url>/2017/11/03/Project-1-of-Statistics/</url>
      <content type="html"><![CDATA[<h2 id="一、准备阶段"><a href="#一、准备阶段" class="headerlink" title="一、准备阶段"></a>一、准备阶段</h2><p>本次实验主要考虑影响大倪体重各体型指标的因素。我们的数据收集了112组大鲵的体重(weight)、全长(tl)、体长(bl)、头长(hl)、体高(h)、体宽(w)、尾柄长(cl)和肠长(sl)。</p><p>利用统计软件R来实现，其中用到的包有<code>readxl</code>, <code>dplyr</code>, <code>ggplot2</code>, <code>car</code>。</p><a id="more"></a><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(readxl)</span><br><span class="line"><span class="keyword">library</span>(dplyr)</span><br><span class="line"><span class="keyword">library</span>(ggplot2)</span><br><span class="line"><span class="keyword">library</span>(car)</span><br></pre></td></tr></table></figure><p>首先，利用<code>read_excel</code>语句导入数据为新的数据框，并利用<code>str()</code>函数展示一下大致的数据结构。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = tbl_df(read_excel(<span class="string">"/path/to/data.xls"</span>))</span><br><span class="line">str(df)</span><br></pre></td></tr></table></figure><pre><code>Classes ‘tbl_df’, ‘tbl’ and &apos;data.frame&apos;:    112 obs. of  8 variables: $ weight: num  2.3 2.4 2.5 2.7 2.8 3 3.2 3.4 3.5 3.6 ... $ tl    : num  5.7 5.73 5.9 6.12 6.2 ... $ bl    : num  4.9 4.53 4.65 4.85 5.1 5 5.1 6.25 5.25 5.2 ... $ hl    : num  1.6 1.63 1.85 1.7 1.75 1.73 1.7 2.08 1.9 1.8 ... $ h     : num  0.9 0.93 1.05 1.05 1 1.1 1 1.28 1.05 1.1 ... $ w     : num  1 1.1 1 1.1 1.1 1.13 1.1 1.43 1.2 1.2 ... $ cl    : num  1.2 1.12 1.2 1.1 1.3 1.27 1.1 1.32 1.35 1.4 ... $ sl    : num  4.7 4.3 4.7 4.6 4.2 5 5 6.3 5.75 3.9 ...</code></pre><p>下面对影响体重的体型指标做多元线性回归。</p><h2 id="二、多元线性回归"><a href="#二、多元线性回归" class="headerlink" title="二、多元线性回归"></a>二、多元线性回归</h2><h3 id="1-检测二变量关系"><a href="#1-检测二变量关系" class="headerlink" title="1. 检测二变量关系"></a>1. 检测二变量关系</h3><p>首先，检查一下变量间的相关性。可以利用<code>car</code>包中<code>scatterplotMatrix()</code>函数生成散点图矩阵</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scatterplotMatrix(df, spread=<span class="literal">FALSE</span>, smoother.args=list(lty=<span class="number">2</span>), main=<span class="string">"Scatter Plot Matrix"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_8_0.png"><br></div><p>从图中可以看到，大鲵体重随着体长、身长、头长、高度、宽度，尾长和肠长的增加而增加，可能有线性关系。</p><h3 id="2-多元线性回归及显著性检验"><a href="#2-多元线性回归及显著性检验" class="headerlink" title="2. 多元线性回归及显著性检验"></a>2. 多元线性回归及显著性检验</h3><p>下面使用<code>lm()</code>函数拟合多元线性回归模型：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mod1 &lt;- lm(weight ~ tl + bl + hl + h + w + cl + sl, data=df)</span><br><span class="line">summary(mod1)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = weight ~ tl + bl + hl + h + w + cl + sl, data = df)Residuals:     Min       1Q   Median       3Q      Max-10.2719  -3.2688  -0.1753   2.2389  27.0821Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept) -31.0098     2.8396 -10.920  &lt; 2e-16 ***tl            5.0452     1.6941   2.978 0.003609 **bl           -8.0840     2.2201  -3.641 0.000425 ***hl            3.1704     3.1763   0.998 0.320529h             3.4869     2.0005   1.743 0.084289 .w            26.1356     4.0578   6.441 3.75e-09 ***cl            2.4080     3.2128   0.750 0.455246sl           -0.8519     0.3111  -2.739 0.007262 **---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 4.867 on 104 degrees of freedomMultiple R-squared:  0.8862,    Adjusted R-squared:  0.8785F-statistic: 115.7 on 7 and 104 DF,  p-value: &lt; 2.2e-16</code></pre><p>上表的最后一行表示自由度为 $7, 104$ 的F统计量取值为 $115.7$，在给定水平 $\alpha = 0.05$ 下， 算出的F统计量大于 $F<em>{7,104}(0.05)$ 的概率 $P(F</em>{7,104}(0.05)&gt;F)$  小于 $2.2\times 10^{-16}$，所以拒绝原假设，认为回归方程是显著的。</p><p>同时，注意到最后一列头长<code>hl</code>和尾柄长<code>cl</code>的回归系数对应的p值大于 $0.025$，认为头长和尾柄长对体重的影响不显著，因而可以将其从回归方程中剔除。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vars &lt;- names(df) %<span class="keyword">in</span>% c(<span class="string">"cl"</span>, <span class="string">"hl"</span>)</span><br><span class="line">newdf &lt;- df[!vars]</span><br><span class="line">newdf</span><br></pre></td></tr></table></figure><table><br><thead><tr><th scope="col">weight</th><th scope="col">tl</th><th scope="col">bl</th><th scope="col">h</th><th scope="col">w</th><th scope="col">sl</th></tr></thead><br><tbody><br>    <tr><td>2.3  </td><td>5.700</td><td>4.90 </td><td>0.90 </td><td>1.00 </td><td>4.70 </td></tr><br>    <tr><td>2.4  </td><td>5.730</td><td>4.53 </td><td>0.93 </td><td>1.10 </td><td>4.30 </td></tr><br>    <tr><td>2.5  </td><td>5.900</td><td>4.65 </td><td>1.05 </td><td>1.00 </td><td>4.70 </td></tr><br>    <tr><td>2.7  </td><td>6.125</td><td>4.85 </td><td>1.05 </td><td>1.10 </td><td>4.60 </td></tr><br>    <tr><td>2.8  </td><td>6.200</td><td>5.10 </td><td>1.00 </td><td>1.10 </td><td>4.20 </td></tr><br>    <tr><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td></tr><br>    <tr><td> 49.6</td><td>14.90</td><td>12.70</td><td>2.50 </td><td>3.40 </td><td>11.80</td></tr><br>    <tr><td> 55.8</td><td>15.80</td><td>13.10</td><td>3.01 </td><td>3.30 </td><td> 9.70</td></tr><br>    <tr><td> 64.2</td><td>15.90</td><td>12.30</td><td>2.60 </td><td>3.50 </td><td>15.50</td></tr><br>    <tr><td> 64.9</td><td>15.10</td><td>12.50</td><td>2.30 </td><td>3.60 </td><td>13.90</td></tr><br>    <tr><td>101.2</td><td>18.40</td><td>15.20</td><td>3.30 </td><td>4.30 </td><td>14.20</td></tr><br></tbody><br></table><p>将体重<code>weight</code>对剩余的回归自变量重新做回归，然后再做显著性检验。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mod2 &lt;- lm(weight ~ tl + bl + w + sl, data=newdf)</span><br><span class="line">summary(mod2)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = weight ~ tl + bl + w + sl, data = newdf)Residuals:     Min       1Q   Median       3Q      Max-10.1155  -3.2318  -0.5772   2.5155  27.6941Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept) -28.8822     2.4665 -11.710  &lt; 2e-16 ***tl            5.8369     1.6683   3.499 0.000683 ***bl           -7.6708     2.1310  -3.600 0.000484 ***w            28.8123     3.8875   7.411 3.07e-11 ***sl           -0.8667     0.3059  -2.833 0.005514 **---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 4.908 on 107 degrees of freedomMultiple R-squared:  0.8809,    Adjusted R-squared:  0.8764F-statistic: 197.8 on 4 and 107 DF,  p-value: &lt; 2.2e-16</code></pre><p>观测新表对应的 $p$ 值可知，回归方程是显著的，剩余的回归系数均显著不为0。其中回归系数含义为：一个预测变量增加一个单位，其他预测变量保持不变时，因变量将要增加的数量。如宽度<code>w</code>的回归系数为 $28.8123$，表示体长、身长等其他因素不变时，宽度每上升 $1\%$，体重将会上升 $28.8123\%$</p><p>总体来看，所有的预测变量解释了体重影响因素88.09%的方差,体重<code>w</code>总变动的 $88.09\%$ 可以由该经验回归方程解释。</p><h3 id="3-回归诊断"><a href="#3-回归诊断" class="headerlink" title="3. 回归诊断"></a>3. 回归诊断</h3><h4 id="3-1-Gauss-Markov-假设"><a href="#3-1-Gauss-Markov-假设" class="headerlink" title="3.1 Gauss Markov 假设"></a>3.1 Gauss Markov 假设</h4><p>首先考虑是否满足 $E(e)=0$，我们通过绘制学生化残差图来检验：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sresid &lt;- rstudent(mod2)</span><br><span class="line">fweight &lt;- fitted(mod2)</span><br><span class="line">myplot &lt;- ggplot(newdf, aes(fweight, sresid)) + geom_point()</span><br><span class="line">myplot &lt;- myplot + ggtitle(<span class="string">"Studentized residual vs. fitted weight"</span>)</span><br><span class="line">myplot &lt;- myplot + labs(x = <span class="string">"fitted weight"</span>) + labs(y = <span class="string">"studentized residual"</span>)</span><br><span class="line">myplot</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_17_1.png" width="60%/"><br></div><p>从上图可以看出，$(\hat w_i, r_i)$ 大致落在宽度为6的水平带 $|r_i|\leq 3$ 区域内，学生化残差 $r_i$ 是否服从标准正态分布可以通过绘制学生化残差的频率分布直方图和 Q-Q 图来进一步分析:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=c(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">hist(sresid, freq=<span class="literal">FALSE</span>, xlab=<span class="string">"Studentized Residual"</span>, main=<span class="string">"Distribution of Errors"</span>)</span><br><span class="line">curve(dnorm(x, mean=mean(sresid), sd=sd(sresid)), add=<span class="literal">TRUE</span>, col=<span class="string">"blue"</span>, lwd=<span class="number">2</span>)</span><br><span class="line">legend(<span class="string">"topright"</span>, legend=<span class="string">"Normal Curve"</span>, lty=<span class="number">1</span>, col=<span class="string">"blue"</span>, cex=<span class="number">.7</span>)</span><br><span class="line"></span><br><span class="line">qqPlot(mod2, labels=row.names(newdf), id.method=<span class="string">"identify"</span>, simulate=<span class="literal">TRUE</span>, main=<span class="string">"Q-Q Plot"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_19_0.png"><br></div><p>可以看出，除一个明显的离群点(112组数据)，Q-Q图近似于一条截距为0，斜率为1的直线，因此误差很好地服从了正态分布。</p><p>下面进行误差的独立性检验，使用<code>car</code>包提供的<code>Durbin-Watson</code>检验函数，能够检测误差的序列相关性。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">durbinWatsonTest(mod2)</span><br></pre></td></tr></table></figure><pre><code>lag Autocorrelation D-W Statistic p-value  1       0.4479978     0.7615764       0Alternative hypothesis: rho != 0</code></pre><p>$p&lt;0.05$ 显著，说明误差之间不独立，有相关性。</p><p>下面考虑同方差性，利用<code>car</code>包提供的<code>ncvTest()</code>函数生成一个检验，零假设为误差方差不变，备择假设为误差方差随拟合值水平变化而变化。若检验显著，则说明存在异方差性。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncvTest(mod2)</span><br></pre></td></tr></table></figure><pre><code>Non-constant Variance Score TestVariance formula: ~ fitted.valuesChisquare = 117.0427    Df = 1     p = 2.809471e-27</code></pre><p>$p&lt;0.05$显著，拒绝同方差假设。我们还可以通过分布水平图(非水平趋势)验证这一点：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spreadLevelPlot(mod2)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_26_2.png" width="60%/"><br></div><p>综上，该模型不满足Gauss Markov假设。</p><h4 id="3-2-异常点检验"><a href="#3-2-异常点检验" class="headerlink" title="3.2 异常点检验"></a>3.2 异常点检验</h4><p>由上面的残差图可以看出，最后一组数据的残差较其他数据的残差大很多，因此该数据为<em>异常点</em>。由于异常点的检验是一个复杂的问题，我们不能确定异常点的个数，因此不能进一步处理。</p><p>高杠杆值的观测点可以通过<em>帽子统计量</em>判断，对于此处的数据集，帽子均值为$p/n=5/112$，其中 $p$是模型估计的参数数目(包含截距项)，$n$ 是样本量。一般来说，观测点的帽子值大于帽子均值的2或3倍，就可以认定为高杠杆值点。下面画出帽子值的分布：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hat.plot &lt;- <span class="keyword">function</span> (mod2) &#123;</span><br><span class="line">    p &lt;- length(coefficients(mod2))</span><br><span class="line">    n &lt;- length(fitted(mod2))</span><br><span class="line">    plot(hatvalues(mod2), main = <span class="string">"Index Plot of Hat Values"</span>)</span><br><span class="line">    abline(h=c(<span class="number">2</span>,<span class="number">3</span>)*p/n, col=<span class="string">"red"</span>, lty=<span class="number">2</span>)</span><br><span class="line">    identify(<span class="number">1</span>:n, hatvalues(mod2), names(hatvalues(mod2)))</span><br><span class="line">&#125;</span><br><span class="line">hat.plot(mod2)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_30_1.png" width="60%/"><br></div><p>此图中可以看出有四个高杠杆值点。</p><p>下面根据Cook距离检测强影响点，考虑Cook’s D值大于 $4/(n-k-1)$，其中 $n$ 为样本量大小，$k$ 是预测变量数目。可通过如下代码绘制Cook’s D图形：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cutoff &lt;- <span class="number">4</span>/(nrow(newdf)-length(mod2$coefficients)-<span class="number">2</span>)</span><br><span class="line">plot(mod2, which=<span class="number">4</span>, cook.levels=cutoff)</span><br><span class="line">abline(h=cutoff, lty=<span class="number">2</span>, col=<span class="string">"red"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_32_0.png" width="60%/"><br></div><p>通过图形可以判断第 $24, 110$ 组数据是强影响点（第112组为异常点），若删除强影响点，将会导致回归模型的截距项和斜率发生显著变化。</p><p>其实，利用<code>car</code>包中的<code>influencePlot()</code>函数，可以将离群点，高杠杆值点和强影响点的信息整合到一副图形中：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">influencePlot(mod2, id.method=<span class="string">"identity"</span>, main=<span class="string">"Influence Plot"</span>, sub=<span class="string">"Circle size is proportional to Cook's"</span>)</span><br></pre></td></tr></table></figure><table><br><thead><tr><th></th><th scope="col">StudRes</th><th scope="col">Hat</th><th scope="col">CookD</th></tr></thead><br><tbody><br>    <tr><th scope="row">24</th><td>-1.635591</td><td>0.3859345</td><td>0.3310792</td></tr><br>    <tr><th scope="row">112</th><td> 8.156196</td><td>0.2284171</td><td>2.4427929</td></tr><br></tbody><br></table><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_34_1.png" width="80%/"><br></div><h2 id="三、结论"><a href="#三、结论" class="headerlink" title="三、结论"></a>三、结论</h2><p>经验线性回归模型</p><p>$$<br>weight = -28.8822 + 5.8369<em>tl + -7.6708</em>bl + 28.8123<em>w + -0.8667</em>sl<br>$$</p><p>虽然可以解释体重总变动的 $88.09\%$，但是不满足Gauss Markov假设，仍待改善。</p><h2 id="四、参考文献"><a href="#四、参考文献" class="headerlink" title="四、参考文献"></a>四、参考文献</h2><ol><li>R in action Data Analysis and Graphics with R (Second Edition)</li><li>线性模型引论（王松桂、史建红等）</li><li>线性统计模型 (王松桂、陈敏等编</li><li>数据集地址：<a href="http://leanote.com/api/file/getAttach?fileId=59fbe27cab644137db000a2b" target="_blank" rel="noopener">http://leanote.com/api/file/getAttach?fileId=59fbe27cab644137db000a2b</a></li></ol><div style="page-break-after: always;"></div><h2 id="Homework-3"><a href="#Homework-3" class="headerlink" title="Homework 3"></a>Homework 3</h2><h3 id="3-16"><a href="#3-16" class="headerlink" title="3.16"></a>3.16</h3><p><strong>Box-Cox变换与加权最小二乘</strong></p><p>(1)</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tree = tbl_df(read.csv(<span class="string">"~/tree.csv"</span>))</span><br><span class="line">mod3 &lt;- lm(Y ~ X1 + X2, data=tree)</span><br><span class="line">summary(mod3)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = Y ~ X1 + X2, data = tree)Residuals:    Min      1Q  Median      3Q     Max-6.4065 -2.6493 -0.2876  2.2003  8.4847Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept) -57.9877     8.6382  -6.713 2.75e-07 ***X1            4.7082     0.2643  17.816  &lt; 2e-16 ***X2            0.3393     0.1302   2.607   0.0145 *---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 3.882 on 28 degrees of freedomMultiple R-squared:  0.948,    Adjusted R-squared:  0.9442F-statistic:   255 on 2 and 28 DF,  p-value: &lt; 2.2e-16</code></pre><p>由上表，$X2$ 的回归系数不显著，故剔除后重新回归：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mod4 &lt;- lm(Y ~ X1, data=tree)</span><br><span class="line">summary(mod4)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = Y ~ X1, data = tree)Residuals:   Min     1Q Median     3Q    Max-8.065 -3.107  0.152  3.495  9.587Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept) -36.9435     3.3651  -10.98 7.62e-12 ***X1            5.0659     0.2474   20.48  &lt; 2e-16 ***---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 4.252 on 29 degrees of freedomMultiple R-squared:  0.9353,    Adjusted R-squared:  0.9331F-statistic: 419.4 on 1 and 29 DF,  p-value: &lt; 2.2e-16</code></pre><p>得到经验线性回归方程</p><p>$$<br>Y = -36.9435 + 5.0659*X1<br>$$</p><p>下面作出残差图：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sresid &lt;- rstudent(mod4)</span><br><span class="line">fweight &lt;- fitted(mod4)</span><br><span class="line">plot3_16 &lt;- ggplot(tree, aes(Y, sresid)) + geom_point()</span><br><span class="line">plot3_16 &lt;- plot3_16 + ggtitle(<span class="string">"Studentized residual vs. fitted Y"</span>)</span><br><span class="line">plot3_16 &lt;- plot3_16 + labs(x = <span class="string">"fitted Y"</span>) + labs(y = <span class="string">"studentized residual"</span>)</span><br><span class="line">plot3_16</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_42_1.png" width="60%/"><br></div><p>残差和拟合值的关系大致呈现喇叭形，说明拟合值与残差不相互独立，不满足 Gauss Markov 假设，故进行 Box-Cox 变换：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(MASS)</span><br><span class="line">boxcox(mod4)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_44_1.png" width="60%/"><br></div><p>可以由上图看出最优变换参数 $\lambda$ 在 $0$ 附近，进一步做计算找出 $\lambda$ 的最优值：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summary(powerTransform(mod4))</span><br></pre></td></tr></table></figure><pre><code>bcPower Transformation to Normality   Est.Power Std.Err. Wald Lower Bound Wald Upper BoundY1    0.3791   0.1216           0.1408           0.6175Likelihood ratio tests about transformation parameters                            LRT df         pvalLR test, lambda = (0)  8.362665  1 3.830084e-03LR test, lambda = (1) 21.004754  1 4.581452e-06</code></pre><p>得到最优变换参数为<code>0.3791</code></p><p>(2)</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">newY &lt;- (tree$Y^(<span class="number">0.3791</span>)-<span class="number">1</span>)/<span class="number">0.3791</span></span><br><span class="line">newtree &lt;- cbind(tree, newY)</span><br><span class="line">mod5 &lt;- lm(newY ~ X1 + X2, data=newtree)</span><br><span class="line">summary(mod5)</span><br></pre></td></tr></table></figure><pre><code>Call:lm(formula = newY ~ X1 + X2, data = newtree)Residuals:     Min       1Q   Median       3Q      Max-0.57136 -0.17434 -0.02026  0.24693  0.45782Coefficients:            Estimate Std. Error t value Pr(&gt;|t|)(Intercept) -4.17273    0.64775  -6.442 5.62e-07 ***X1           0.53242    0.01982  26.868  &lt; 2e-16 ***X2           0.04975    0.00976   5.098 2.12e-05 ***---Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1Residual standard error: 0.2911 on 28 degrees of freedomMultiple R-squared:  0.9775,    Adjusted R-squared:  0.9759F-statistic: 609.4 on 2 and 28 DF,  p-value: &lt; 2.2e-16</code></pre><p>经过Box-Cox变换后的经验回归方程仍显著，且能解释<code>Y</code>的变化的 $97.75\%$。</p><p>下面作残差图，检验Gauss Markov假设：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sresid &lt;- rstudent(mod5)</span><br><span class="line">fittedY &lt;- fitted(mod5)</span><br><span class="line">newplot3_16 &lt;- ggplot(newtree, aes(fittedY, sresid)) + geom_point()</span><br><span class="line">newplot3_16 &lt;- newplot3_16 + ggtitle(<span class="string">"Studentized residual vs. fitted Y"</span>)</span><br><span class="line">newplot3_16 &lt;- newplot3_16 + labs(x = <span class="string">"fitted Y"</span>) + labs(y = <span class="string">"studentized residual"</span>)</span><br><span class="line">newplot3_16</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_50_1.png" width="60%/"><br></div><p>进一步作正态性检验,作如下学生化残差分布图和Q-Q图：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">par(mfrow=c(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">hist(sresid, freq=<span class="literal">FALSE</span>, xlab=<span class="string">"Studentized Residual"</span>, main=<span class="string">"Distribution of Errors"</span>)</span><br><span class="line">curve(dnorm(x, mean=mean(sresid), sd=sd(sresid)), add=<span class="literal">TRUE</span>, col=<span class="string">"blue"</span>, lwd=<span class="number">2</span>)</span><br><span class="line">legend(<span class="string">"topleft"</span>, legend=<span class="string">"Normal Curve"</span>, lty=<span class="number">1</span>, col=<span class="string">"blue"</span>, cex=<span class="number">.7</span>)</span><br><span class="line"></span><br><span class="line">qqPlot(mod5, labels=row.names(newtree), id.method=<span class="string">"identify"</span>, simulate=<span class="literal">TRUE</span>, main=<span class="string">"Q-Q Plot"</span>)</span><br></pre></td></tr></table></figure><div align="center"><br><img src="http://oye4atjxc.bkt.clouddn.com/statistic/hw3/output_52_0.png"><br></div><p>可以看出经过Box-Cox变换后，经验回归模型相比原模型有明显改善。</p><p>(3)</p><p>下面我们继续对数据集<code>tree</code>做加权最小二乘回归，编写如下<code>wls</code>函数：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">wls &lt;- <span class="keyword">function</span>(linear_mod, iterations = <span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">  X &lt;- model.matrix(linear_mod)   <span class="comment"># design matrix</span></span><br><span class="line">  H &lt;- solve(t(X) %*% X) %*% t(X) <span class="comment"># hat matrix</span></span><br><span class="line">  Y &lt;- linear_mod$model[,<span class="number">1</span>]       <span class="comment"># Y observed</span></span><br><span class="line">  size &lt;- nrow(linear_mod$model)  <span class="comment"># block dimensions</span></span><br><span class="line">  beta_ols &lt;- H %*% Y             <span class="comment"># The estimated coefficients using ols</span></span><br><span class="line">  resid &lt;- residuals(linear_mod)</span><br><span class="line">  sigma &lt;- diag(size) * as.vector(abs(resid)^<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">  beta_wls &lt;- solve(t(X) %*% solve(sigma) %*% X) %*% t(X) %*% solve(sigma) %*% Y</span><br><span class="line">  <span class="comment"># the estimated coefficients with weight least squares method (1st iteration)</span></span><br><span class="line"></span><br><span class="line">  beta_list &lt;- list(beta_ols, beta_wls)</span><br><span class="line"></span><br><span class="line">  i &lt;- <span class="number">3</span></span><br><span class="line">  <span class="keyword">while</span>(i &lt;= iterations)&#123;</span><br><span class="line"></span><br><span class="line">    Y_hat &lt;- X %*% beta_wls</span><br><span class="line"></span><br><span class="line">    resid &lt;- Y - Y_hat</span><br><span class="line"></span><br><span class="line">    W_hat &lt;- diag(size) * as.vector(abs(resid)^<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(abs(min(eigen(W_hat)$values)) &lt; <span class="number">1e-15</span>)&#123;<span class="keyword">break</span>&#125;</span><br><span class="line">    <span class="comment"># stops when the estimated covariance matrix (W.hat) becomes singular</span></span><br><span class="line"></span><br><span class="line">    beta_wls &lt;- solve(t(X) %*% solve(W_hat) %*% X) %*% t(X) %*% solve(W_hat) %*% Y</span><br><span class="line"></span><br><span class="line">    beta_list[[i]] &lt;- beta_wls</span><br><span class="line">    i &lt;- i+<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>(beta_list)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>直接调用函数<code>wls(mod3)</code>可以给出如下结果：</p><ol><br>    <li><table><br><tbody><br>    <tr><th scope="row">(Intercept)</th><td>-57.9876589</td></tr><br>    <tr><th scope="row">X1</th><td>  4.7081605</td></tr><br>    <tr><th scope="row">X2</th><td>  0.3392512</td></tr><br></tbody><br></table><br></li><br>    <li><table><br><tbody><br>    <tr><th scope="row">(Intercept)</th><td>-58.6005437</td></tr><br>    <tr><th scope="row">X1</th><td>  4.7738483</td></tr><br>    <tr><th scope="row">X2</th><td>  0.3364717</td></tr><br></tbody><br></table><br></li><br></ol><p>从而，加权最小二乘模型为</p><p>$$<br>Y = -58.600543 + 4.7738483<em>X1 + 0.3364717</em>X2<br>$$</p>]]></content>
      
      
        <tags>
            
            <tag> r </tag>
            
            <tag> statistics </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Assignment 1 of Advanced Computational Method</title>
      <link href="/2017/10/30/Assignment-1-of-Advanced-Computational-Method/"/>
      <url>/2017/10/30/Assignment-1-of-Advanced-Computational-Method/</url>
      <content type="html"><![CDATA[<h2 id="Homework-1"><a href="#Homework-1" class="headerlink" title="Homework 1"></a>Homework 1</h2><p><strong>Monte Carlo method</strong> is a method to compute the expectation of a random variable.</p><p>The basic steps follow like this:</p><ol><li><p>draw random samples ${x_1, x_2, \cdots, x_n}$ according to $p(x)$.</p></li><li><p>derive the <em>monte carlo estimator</em> of $E(f)$ from</p></li></ol><p>$$<br>\hat{f}<em>{\text{mc}}=\frac{1}{n}\sum</em>{i=1}^n f(x_i)<br>$$</p><a id="more"></a><h3 id="Problem-1"><a href="#Problem-1" class="headerlink" title="Problem 1"></a>Problem 1</h3><blockquote><p>Suppose $x_1, x<em>2, \cdots, x</em>{10}$ satisfy independent identical distributions i.e. $x_i\sim N(0,1)\quad i=1,2,\cdots,10$</p><p>Set $f(x)=\sum_{i=1}^{10}x_i^2$, use <em>Monte Carlo method</em> to compute $E[f(x)]$.</p><p>Compare your results with the exact value.</p></blockquote><p><strong>Solution</strong>:</p><p>From basic statistics, we can deduce that<br>$$<br>\begin{align<em>}<br>Ef(x)&amp;=E\sum_{i=1}^{10}x_i^2=10\,Ex_i^2\<br>&amp;=10\,[Dx_i+(Ex_i)^2]\<br>&amp;=10\times(1+0)\<br>&amp;=10<br>\end{align</em>}<br>$$</p><p>Thus, the exact value of $E[f(x)]$ equals 10.</p><p>Continuely, we derive a Monte Carlo method for evaluating $E[f(x)]$</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Distributions</span><br><span class="line"><span class="meta">@everywhere</span> <span class="keyword">function</span> MC_mean(N::<span class="built_in">Int</span>)</span><br><span class="line">    <span class="comment"># N = number of Monto Carlo points</span></span><br><span class="line"></span><br><span class="line">    x = rand(Normal(<span class="number">0</span>, <span class="number">1</span>), N); <span class="comment"># draw random samples</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span> * mean(x.^<span class="number">2</span>) <span class="comment"># return the Monte Carlo estimator of f</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">MC_mean(<span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9.98580160514502</span></span><br></pre></td></tr></table></figure><p>A billion Monte Carlo steps yields an even better estimate:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MC_mean(<span class="number">10</span>^<span class="number">9</span>)</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10.000288570895224</span></span><br></pre></td></tr></table></figure><p>Now, let’s take a brief look at the time cost.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@elapsed</span> MC_mean(<span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.013395715</span></span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@elapsed</span> MC_mean(<span class="number">10</span>^<span class="number">9</span>)</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">50.939757386</span></span><br></pre></td></tr></table></figure><p>When it comes to Monte Carlo simulation, our goal is to get good data as fast as possible. For now, let’s look at how to speed up our code. First of all, we can easily notice the time cost grows out of all proportion. The calculation for 1 million Monte Carlo cost is over 1000 times faster than the billion’s.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="meta">@elapsed</span> MC_mean(<span class="number">10</span>^<span class="number">9</span>))/(<span class="meta">@elapsed</span> MC_mean(<span class="number">10</span>^<span class="number">6</span>))</span><br></pre></td></tr></table></figure><pre><code>1286.3957285556933</code></pre><p>Of course, we can do better than this. In preparation for these calculations, let us introduce a <strong>parallel computation</strong> for Monte Carlo simulation. We build a function that takes <code>MC_mean</code> and evenly splits the jobs to our processors:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> parallel_calc(f::<span class="built_in">Function</span>, N::<span class="built_in">Int</span>, proc::<span class="built_in">Int</span>=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># f = some predefined function</span></span><br><span class="line">    <span class="comment"># N = number of Monte Carlo steps</span></span><br><span class="line">    <span class="comment"># proc = number of additional processors, preset to four</span></span><br><span class="line"></span><br><span class="line">    n = round(<span class="built_in">Int</span>, N/proc); <span class="comment"># split the number of Monte Carlo steps equally between processors</span></span><br><span class="line"></span><br><span class="line">    proc_sum = <span class="meta">@parallel</span> (+) <span class="keyword">for</span> i=<span class="number">1</span>:proc <span class="comment"># loop through the processors and distribute jobs</span></span><br><span class="line">        f(n)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> proc_sum / proc <span class="comment"># return the average of the parallel jobs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>parallel_calc (generic function with 2 methods)</code></pre><p>Now, we can quickly and efficiently calculate a billion MC samples:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@elapsed</span> parallel_calc(MC_mean, <span class="number">10</span>^<span class="number">9</span>)</span><br></pre></td></tr></table></figure><pre><code>21.05725137</code></pre><p>There is also an easier way to see the speed up of parallel processing by plotting the elapsed time. Below, we define a simple code to plot the elapsed times of <code>MC_mean</code>(in blue) and parallel (in red) vs. the number of MC samplings:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line">PyPlot.svg(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> mean_time_plotter(N::<span class="built_in">Int</span>)</span><br><span class="line">    n = <span class="built_in">Int64</span>(N/<span class="number">10</span>) <span class="comment"># ensure that you only plot 10 points</span></span><br><span class="line"></span><br><span class="line">    plot(collect(<span class="number">1</span>:n:N),[<span class="meta">@elapsed</span> MC_mean(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">10</span>:n:N], linestyle=<span class="string">"--"</span>, marker=<span class="string">"."</span>, color=<span class="string">"blue"</span>, label=<span class="string">"Single Processor"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># the above plots mean for 10 values of MC steps from 10 to N vs. the number of MC steps</span></span><br><span class="line"></span><br><span class="line">    plot(collect(<span class="number">1</span>:n:N),[<span class="meta">@elapsed</span> parallel_calc(MC_mean,i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">10</span>:n:N], linestyle=<span class="string">"--"</span>, marker=<span class="string">"."</span>, color=<span class="string">"red"</span>, label=<span class="string">"Parallel Processor"</span>)</span><br><span class="line"></span><br><span class="line">    title(<span class="string">"Comparison of Parallel vs. Single Processor MC Efficiency"</span>) <span class="comment"># make title and labels</span></span><br><span class="line">    ylabel(<span class="string">"Elapsed Time (sec)"</span>)</span><br><span class="line">    xlabel(<span class="string">"# of random points"</span>)</span><br><span class="line"></span><br><span class="line">    legend(bbox_to_anchor=(<span class="number">1.05</span>, <span class="number">1</span>), loc=<span class="number">2</span>, borderaxespad=<span class="number">0.</span>) <span class="comment"># anchor the legend</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>mean_time_plotter (generic function with 1 method)</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mean_time_plotter(<span class="number">10</span>^<span class="number">9</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment1/output_15_0.svg"></p><pre><code>PyObject &lt;matplotlib.legend.Legend object at 0x132777510&gt;</code></pre><p>We can see that the elapsed time of simulation is approximately equal around 0.7 billion MC samplings, after which parallel processing begins to win in favor of the single processor. This trend is continued when we look at a billion MC samples.</p><p>Now, we turn to present this MC data and visualize the error. To do this, let’s write a simple program to plot the output of parallel vs. the number of Monte Carlo samplings. Because we already know what the mean is, let’s also plot the accepted value as a straight line in red. Finally, let’s also calculate the percent error and display it in the title. The format used here will be useful in later code where we have to compare with some exact analytical value. The following tedious codes (if I remember to present) are quite similar to each other.</p><p>However, one thing unfortunate is that the parallel efficiency does <strong>not</strong> high within one billion samples. In proper case, for example, we need fast result,  single processor is fairly enough.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> MC_mean_plotter(f::<span class="built_in">Function</span>, N::<span class="built_in">Int</span>, m::<span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line">    n = <span class="built_in">Int64</span>(N/m) <span class="comment"># define the step size between points to plot</span></span><br><span class="line"></span><br><span class="line">    mean_list = [parallel_calc(f,i) <span class="keyword">for</span> i <span class="keyword">in</span> n:n:N] <span class="comment"># generate list of mean values from parallel for i MC steps</span></span><br><span class="line"></span><br><span class="line">    plot(collect(n:n:N), mean_list, linestyle=<span class="string">"--"</span>, marker=<span class="string">"."</span>,</span><br><span class="line">        color=<span class="string">"blue"</span>, label=string(<span class="string">L"MC Estimator: "</span>, round(mean_list[<span class="keyword">end</span>],<span class="number">6</span>)))</span><br><span class="line">    <span class="comment"># in the above, we plot the MC estimate of 10 vs. the number of MC steps</span></span><br><span class="line"></span><br><span class="line">    axhline(y=<span class="number">10</span>, linestyle=<span class="string">"-"</span>, color=<span class="string">"red"</span>, label=string(<span class="string">"Exact Value: "</span>, <span class="number">10</span>))</span><br><span class="line">    <span class="comment"># in the above, we plot a horizontal line at the 10 value</span></span><br><span class="line"></span><br><span class="line">    per_error = <span class="number">100</span>*abs((mean_list[<span class="keyword">end</span>]-<span class="number">10</span>)/(mean_list[<span class="keyword">end</span>])) <span class="comment"># calculate percent error from mean_list</span></span><br><span class="line"></span><br><span class="line">    title(string(<span class="string">L"Monte Carlo Estimation of $10$--within "</span>, round(per_error,<span class="number">5</span>), <span class="string">"%"</span>)) <span class="comment"># make titles and labels</span></span><br><span class="line">    ylabel(<span class="string">"Estimation of 10"</span>)</span><br><span class="line">    xlabel(<span class="string">"# of random points"</span>)</span><br><span class="line"></span><br><span class="line">    legend(bbox_to_anchor=(<span class="number">1.05</span>,<span class="number">1</span>), loc=<span class="number">2</span>, borderaxespad=<span class="number">0.</span>) <span class="comment"># make legend</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>MC_mean_plotter (generic function with 1 method)</code></pre><p>To get a nice plot, we take a maximum of a million Monte Carlo samples and plot a total of a hundred points:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MC_mean_plotter(MC_mean, <span class="number">10</span>^<span class="number">9</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment1/output_19_0.svg"></p><pre><code>PyObject &lt;matplotlib.legend.Legend object at 0x1326e2cd0&gt;</code></pre><p>Although we appear to obtain a reasonable value for 10(below 0.00421%!), it is difficult to see how well the data is converging. Therefore, let’s build a new function that calculates a list of $M$ Monte Carlo estimates of 10 at a given value of $N$. From this list, we can obtain the average and standard deviation:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> stat_calc(f::<span class="built_in">Function</span>, N::<span class="built_in">Int</span>, M::<span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># f = some general function</span></span><br><span class="line"><span class="comment"># N = number of Monte Carlo steps</span></span><br><span class="line"><span class="comment"># M = number of times to repeat a single MC step to for statistical analysis</span></span><br><span class="line"></span><br><span class="line">    avg_list = [parallel_calc(f,N) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>:M] <span class="comment"># create list of MC data of length M</span></span><br><span class="line"></span><br><span class="line">    avg = sum(avg_list)/M <span class="comment"># calculate average of MC data</span></span><br><span class="line"></span><br><span class="line">    stdev = std(avg_list) <span class="comment"># calculate standard deviation of MC data</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> avg, stdev</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>stat_calc (generic function with 1 method)</code></pre><p>Now, we can modify <code>MC_mean_plotter</code> to include error bars to better visualize the convergence of our data:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> MC_errorbar(f::<span class="built_in">Function</span>, N::<span class="built_in">Int</span>, m::<span class="built_in">Int</span>, M::<span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># f = some general function</span></span><br><span class="line"><span class="comment"># N = number of Monte Carlo steps</span></span><br><span class="line"><span class="comment"># m = number of points to plot</span></span><br><span class="line"><span class="comment"># M = number of times to repeat a single MC step to for statistical analysis</span></span><br><span class="line"></span><br><span class="line">    n = <span class="built_in">Int64</span>(N/m) <span class="comment"># define the step size between points to plot</span></span><br><span class="line"></span><br><span class="line">    stat_list = [stat_calc(f,i,M) <span class="keyword">for</span> i <span class="keyword">in</span> n:n:N] <span class="comment"># make a list of averages and standard deviations from stat_calc</span></span><br><span class="line">    avg_list = [stat_list[i][<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:m] <span class="comment"># create list of averages</span></span><br><span class="line">    stdev_list = [stat_list[i][<span class="number">2</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:m] <span class="comment"># create list of standard deviations</span></span><br><span class="line"></span><br><span class="line">    errorbar(collect(n:n:N), avg_list, yerr=stdev_list, linestyle=<span class="string">"--"</span>, marker=<span class="string">"."</span>,</span><br><span class="line">        color=<span class="string">"blue"</span>, label=string(<span class="string">"MC Estimate: "</span>, round(avg_list[<span class="keyword">end</span>], <span class="number">6</span>)))</span><br><span class="line">    <span class="comment"># in the above, we plot the averages vs. MC step size with error bars of the standard deviation</span></span><br><span class="line"></span><br><span class="line">    axhline(y=<span class="number">10</span>, linestyle=<span class="string">"-"</span>, color=<span class="string">"red"</span>, label=string(<span class="string">"Exact Value: "</span>, <span class="number">10</span>))</span><br><span class="line">    <span class="comment"># in the above, we plot a horizontal line at the 10 value</span></span><br><span class="line"></span><br><span class="line">    per_error = <span class="number">100</span>*abs((avg_list[<span class="keyword">end</span>]-<span class="number">10</span>)/(avg_list[<span class="keyword">end</span>])) <span class="comment"># calculate percent error</span></span><br><span class="line"></span><br><span class="line">    title(string(<span class="string">L"Monte Carlo Estimation of $10$--within "</span>, round(per_error,<span class="number">5</span>), <span class="string">"%"</span>)) <span class="comment"># make titles and labels</span></span><br><span class="line">    ylabel(<span class="string">"Estimation of 10"</span>)</span><br><span class="line">    xlabel(<span class="string">"# of random points"</span>)</span><br><span class="line"></span><br><span class="line">    legend(bbox_to_anchor=(<span class="number">1.05</span>,<span class="number">1</span>), loc=<span class="number">2</span>, borderaxespad=<span class="number">0.</span>) <span class="comment"># make legend</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>MC_errorbar (generic function with 1 method)</code></pre><p>With <code>MC_mean_plot</code>, we can easily generalize the program in future modification.</p><p>Now, we plot a hundred values of MC samples with a maximum of a billion, with each set of samples performed fifteen times for statistical analysis. The resulting data shows a clear convergence of error.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MC_errorbar(MC_mean, <span class="number">10</span>^<span class="number">6</span>, <span class="number">100</span>, <span class="number">15</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment1/output_25_0.svg"></p><pre><code>PyObject &lt;matplotlib.legend.Legend object at 0x1262c3fd0&gt;</code></pre><p>We can test our result by looking at the convergence of the standard deviation with increasing sample size. Recall the Monte Carlo estimation of the integral of some general function $f(x)$</p><p>$$<br>\int<em>a^b f(x)dx = \frac{b-a}{N}\sum</em>{i=0}^{N-1}E(f(x_i))<br>$$</p><p>The st.dev. squared can easily be calculated:</p><p>$$<br>\sigma<em>{int}^2 = \frac{b-a}{N^2}\left( \sum</em>{i=0}^{N-1}E(f(x_i)) \right)<br>$$</p><p>If the random variables $x_i$ are uncorrelated, we can easily simplify the above further:</p><p>$$<br>\begin{split}<br>\sigma<em>{int}^2 &amp;= \frac{b-a}{N^2}\sum</em>{i=0}^{N-1}\sigma^2(E(f(x_i))) \<br>&amp;= \frac{b-a}{N}\sigma^2(E(f(x)))<br>\end{split}<br>$$</p><p>Therefore, we find that the st.dev. goes as the inverse of the square of the sample size:</p><p>$$<br>\sigma_{int}\propto\frac{1}{\sqrt{N}}<br>$$</p><p>To test this result, we plot the numerically calculated st.dev. alongside $1/\sqrt{N}$</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> MC_errorbar_visual(f::<span class="built_in">Function</span>, N::<span class="built_in">Int</span>, m::<span class="built_in">Int</span>, M::<span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># f = some general function</span></span><br><span class="line"><span class="comment"># N = number of Monte Carlo steps</span></span><br><span class="line"><span class="comment"># m = number of points to plot</span></span><br><span class="line"><span class="comment"># M = number of times to repeat a single MC step to for statistical analysis</span></span><br><span class="line"></span><br><span class="line">    n = <span class="built_in">Int64</span>(N/m) <span class="comment"># define the step size between points to plot</span></span><br><span class="line"></span><br><span class="line">    stat_list = [stat_calc(f,i,M) <span class="keyword">for</span> i <span class="keyword">in</span> n:n:N] <span class="comment"># make a list of averages and standard deviations from stat_calc</span></span><br><span class="line">    stdev_list = [stat_list[i][<span class="number">2</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:m] <span class="comment"># create list of standard deviations</span></span><br><span class="line"></span><br><span class="line">    plot(collect(n:n:N), stdev_list, linestyle=<span class="string">"--"</span>, marker=<span class="string">"."</span>, color=<span class="string">"blue"</span>) <span class="comment"># plot the list of st.dev from MC data</span></span><br><span class="line"></span><br><span class="line">    plot(collect(n:n:N), [<span class="number">1</span>/i^(<span class="number">1</span>/<span class="number">2</span>) <span class="keyword">for</span> i <span class="keyword">in</span> n:n:N], linestyle=<span class="string">"--"</span>, color=<span class="string">"red"</span>) <span class="comment"># plot the prediction for the st.dev</span></span><br><span class="line"></span><br><span class="line">    title(string(<span class="string">"Convergence of Error bars in MC Data"</span>)) <span class="comment"># make titles and labels</span></span><br><span class="line">    ylabel(<span class="string">"Standard Deviation"</span>)</span><br><span class="line">    xlabel(<span class="string">"# of random points"</span>)</span><br><span class="line"></span><br><span class="line">    legend(bbox_to_anchor=(<span class="number">1.05</span>,<span class="number">1</span>), loc=<span class="number">2</span>, borderaxespad=<span class="number">0.</span>) <span class="comment"># make legend</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>MC_errorbar_visual (generic function with 1 method)</code></pre><p>Running a maximum of a million samples in steps of a hundred, we find roughly the expected behavior, with each sample repeated fifteen times for statistical analysis.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MC_errorbar_visual(MC_mean, <span class="number">10</span>^<span class="number">6</span>, <span class="number">100</span>, <span class="number">15</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment1/output_29_0.svg"></p><h3 id="Problem-2"><a href="#Problem-2" class="headerlink" title="Problem 2"></a>Problem 2</h3><p>Here we want to estimate the probability of a point location, i.e. $P[x\in\Omega]$</p><p>we have already learned that</p><p>$$<br>P[x\in\Omega] = \int_{\Omega}p(x)\,dx=\int I(x)p(x)\,dx = E_p[I]<br>$$</p><p>Now, set $\Omega: (x_1-5)^2+(x_2-5)^2\leq 1 $ , $p(x)$ to be the PDF (probability density function) of a binormal distribution i.e. $x_1, x_2 \sim N(0,1)$</p><blockquote><p>Use Importance Sampling method (<strong>choose best IS distribution</strong> $q(x)$) to get the best result.</p></blockquote><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/region.svg" style="zoom:65%"></p><p>The <strong>importance sampling method</strong> comes from a single idea like this</p><p>$$<br>\begin{align<em>}<br>P[x\in\Omega]&amp;= E_p[I]\<br>&amp;= \int I(x)p(x)\,dx \<br>&amp;= \int I(x)\frac{p(x)}{q(x)}\cdot q(x)\,dx = \int I(x)w(x)\cdot q(x)\,dx\<br>&amp;= E_q[I\cdot w]<br>\end{align</em>}<br>$$</p><p>Thus</p><p>$$<br>\hat{I}<em>\text{IS} = \frac1n \sum</em>{i=1}^n I(x_i)w(x_i) \qquad x_i\in q(x)<br>$$</p><p>where</p><p>$\hat{I}_\text{IS}: $ IS estimator ;      $q(x): $ IS distribution ;     $w(x) :$ IS weight ;</p><p>Assume that $q(x)$ is the PDF of a binormal distribution i.e. $q\sim N({\mu_1,\mu_2},1)$</p><p>the problem should be solve in following steps:</p><ol><li>choose samples according to $q(x)$ ;</li><li>use these samples to get the value of weight function $w(x)$ ;</li><li>apply monte carlo method to the calculation of $E[I\cdot w]$ ;</li><li>compare our result with the exact probability and filter the parameters ;</li></ol><p>To get the best result, the fourth step is always needed.</p><p>Actually, we can directly calculate the exact probability</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p=<span class="keyword">Integrate</span>[</span><br><span class="line">  <span class="keyword">PDF</span>[<span class="keyword">BinormalDistribution</span>[&#123;0, 0&#125;, &#123;1, 1&#125;, <span class="number">0</span>], &#123;x, y&#125;], &#123;x, 4, 6&#125;, &#123;y,</span><br><span class="line">    5 - Sqrt[1 - (x - 5)^2], 5 + Sqrt[1 - (x - 5)^2]&#125;] // <span class="keyword">N</span></span><br></pre></td></tr></table></figure><p>which gives</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.23465</span>*<span class="number">10</span>^<span class="number">-10</span></span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Distributions</span><br><span class="line"><span class="meta">@everywhere</span> <span class="keyword">function</span> MC_prob(μ<span class="number">1</span>::<span class="built_in">Float64</span>, μ<span class="number">2</span>::<span class="built_in">Float64</span>, N::<span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># N = number of Monto Carlo points</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># step 1. set initial values and draw random samples</span></span><br><span class="line">    r = -<span class="number">1</span></span><br><span class="line">    <span class="literal">I</span> = zeros(N,<span class="number">1</span>)</span><br><span class="line">    x = rand(Normal(μ<span class="number">1</span>, <span class="number">1</span>), N)</span><br><span class="line">    y = rand(Normal(μ<span class="number">2</span>, <span class="number">1</span>), N)</span><br><span class="line"></span><br><span class="line"><span class="comment"># step 2. use these samples to get function values I, p, q, w</span></span><br><span class="line">    g = -(x-<span class="number">5</span>).^<span class="number">2</span>-(y-<span class="number">5</span>).^<span class="number">2</span></span><br><span class="line">    <span class="comment">## construct the indicator function</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>:<span class="number">1</span>:N</span><br><span class="line">        <span class="keyword">if</span> g[i] &gt; r</span><br><span class="line">            <span class="literal">I</span>[i] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="literal">I</span>[i] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    p = <span class="number">1</span>/(<span class="number">2</span>*<span class="literal">π</span>) * exp.(-<span class="number">1</span>/<span class="number">2</span> * (x.^<span class="number">2</span> + y.^<span class="number">2</span>))</span><br><span class="line">    q = <span class="number">1</span>/(<span class="number">2</span>*<span class="literal">π</span>) * exp.(-<span class="number">1</span>/<span class="number">2</span> * ((x-<span class="number">5</span>).^<span class="number">2</span> + (y-<span class="number">5</span>).^<span class="number">2</span>))</span><br><span class="line">    w = p./q</span><br><span class="line"></span><br><span class="line"><span class="comment"># step 3. apply Monte Carlo to calculate the expectation</span></span><br><span class="line">    <span class="keyword">return</span> mean(<span class="literal">I</span>.*w)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>A natural thought is to set $\mu1=\mu2=5$, $N=10^5$, but the simulated probability seems to be flawed:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MC_prob(<span class="number">5.0</span>, <span class="number">5.0</span>, <span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><pre><code>2.2415303094407912e-10</code></pre><p>Indicated by the parameter choosing rules, we can set $\mu1=\mu2$ and make a simple plot of errors on the specific line $y=x$.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line">PyPlot.svg(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">function</span> error_plotter(N::<span class="built_in">Int</span>)</span><br><span class="line">    plot(collect(<span class="number">1.0</span>:<span class="number">0.1</span>:<span class="number">5.0</span>), [MC_prob(i,i,N) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1.0</span>:<span class="number">0.1</span>:<span class="number">5.0</span>],</span><br><span class="line">    linestyle=<span class="string">"--"</span>, marker=<span class="string">"."</span>, color=<span class="string">"blue"</span>, label=<span class="string">"Single Processor"</span>)</span><br><span class="line"></span><br><span class="line">    axhline(y=<span class="number">2.23465e-10</span>, linestyle=<span class="string">"-"</span>, color=<span class="string">"red"</span>, label=string(<span class="string">"Exact Value: "</span>, <span class="number">2.23465e-10</span>))</span><br><span class="line"></span><br><span class="line">    title(string(<span class="string">"Monte Carlo Estimation of probability"</span>))</span><br><span class="line">    ylabel(<span class="string">"Estimation of prob"</span>)</span><br><span class="line">    xlabel(<span class="string">"μ1=μ2"</span>)</span><br><span class="line"></span><br><span class="line">    legend(bbox_to_anchor=(<span class="number">1.05</span>, <span class="number">1</span>), loc=<span class="number">2</span>, borderaxespad=<span class="number">0.</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>error_plotter (generic function with 1 method)</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error_plotter(<span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment1/output_36_0.svg"></p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PyObject &lt;matplotlib.legend.Legend object at <span class="number">0x123259fd0</span>&gt;</span><br></pre></td></tr></table></figure><p>As shown in the plot, $\mu1=\mu2=3.9$ is the best choice, though it is not always perfect.</p><p>For fixed parameters, we can do parallel calculation by setting a new function:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> fixed_MC_prob(N::<span class="built_in">Int</span>)</span><br><span class="line">    MC_prob(<span class="number">3.9</span>, <span class="number">3.9</span>, N)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>fixed_MC_prob (generic function with 1 method)</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fixed_MC_prob(<span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.3208602460224826e-10</span></span><br></pre></td></tr></table></figure><p>Recall the <code>parallel_calc</code> function before, it will be much more convenient to get the result in large number simulations by running:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parallel_calc(fixed_MC_prob, <span class="number">10</span>^<span class="number">9</span>)</span><br></pre></td></tr></table></figure><p>Also, we can obtain the elapsed time in the similar way with <code>mean_time_plotter</code>. (and not explained here)</p><h2 id="Homework-2"><a href="#Homework-2" class="headerlink" title="Homework 2"></a>Homework 2</h2><h3 id="Problem-3"><a href="#Problem-3" class="headerlink" title="Problem 3"></a>Problem 3</h3><blockquote><p>Redo Problem 2 by Cross Entropy method. Find the best distribution $q(x)$ to get the persuasive result.</p></blockquote><p><strong>CE Method for rare probability estimation</strong></p><p>Consider a rare probability</p><p>$$<br>P(x\in\Omega) \ll 1 \quad\Omega={x\mid g(x)&gt;r }<br>$$</p><p>While applying CE method to solve the optimization problem</p><p>$$<br>\max<em>{q’\in Q}\frac1n \sum</em>{i=1}^nf(x_i)\ln q’(x_i)u<br>$$</p><p>we can easily find that $x_i\sim q\approx p$</p><p>Thus, $I(x_i)=0$ almost for all $x_i$. Obviously, it does nothing to our work.</p><p>Pratically, we usually use the variant of CE method i.e.</p><p><strong>Multilevel / Multistage CE Method</strong></p><p>Denote</p><p>$$<br>I_r(x)=\begin{cases}<br>1 &amp; g(x)&gt;r\<br>0 &amp; g(x)&lt;r<br>\end{cases}<br>$$</p><p>First we do sampling work, then choose $r$ according to the samples. Thus, we can fetch the specific number of $g(x)$ satisfying $g(x)&lt; r$</p><p>$$<br>g(x_1)\leq g(x_2)\cdots\leq g(x_n)<br>$$</p><p>Set $0&lt; \rho\leq 1$ to be the confidence coefficient, define that the $(1-\rho)$-th quantile of a r.v. $y$ is the $r$ satisfying that</p><p>$$<br>P[y\geq r] \geq \rho, \quad P[y\leq r]\leq 1-\rho<br>$$</p><p>Hence, we can derive an estimation of $r$</p><p>$$<br>r=y[(1-\rho)N]<br>$$</p><p>if ${y_i}$ is ordered assendingly $y_i=g(x_i)$</p><p>The basic algorithm goes like below:</p><p><strong>Algorithom</strong></p><ol><li>let $q=p$</li><li>draw samples from $q:{ x_1,\cdot,x_n }$</li><li>compute $\hat{r} = (1-\rho)$-th quantile of ${g(x<em>i)}</em>{i=1}^n$ if $\hat{r}&gt;r$, let $\hat{r}=r$</li><li>solve $\max<em>{q’\in Q}\frac1n \sum</em>{i=1}^nI_{\hat{r}}(x_i)\ln q’(x_i)w(x_i)$; let $q=q’$</li><li>if $\hat{r}&lt;r$, return to step 2, otherwise proceed to step 6</li><li>estimate $\hat{P}=\frac1n \sum<em>{i=1}^n I</em>{r}(x_i)w(x_i)$ with $x_i\sim q(x)$</li></ol><p>As for Problem 2, the corresponding functions and parameters should be:</p><p>$$<br>p\sim N(0,I_2) \quad g(x)=-(x-5)^2-(y-5)^2 \quad r=-1<br>$$</p><p>For fixed variance $\Sigma=I_2$, we can directly give the optimal mean value in step 4 as taught in lecture 2:<br>$$<br>\mu=\frac{E_q[xIw]}{E_q[Iw]}<br>$$</p><p>Hence, it is sufficient enough to give an implement:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@everywhere</span> <span class="keyword">function</span> CE_prob(ρ::<span class="built_in">Float64</span>, N::<span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># step 1. set initial values</span></span><br><span class="line">μ<span class="number">1</span> = <span class="number">0</span></span><br><span class="line">μ<span class="number">2</span> = <span class="number">0</span></span><br><span class="line">iter = <span class="number">5000</span></span><br><span class="line">r = -<span class="number">1</span></span><br><span class="line">rhat = -<span class="number">10</span></span><br><span class="line">p = zeros(N,<span class="number">1</span>)</span><br><span class="line">q = zeros(N,<span class="number">1</span>)</span><br><span class="line">w = zeros(N,<span class="number">1</span>)</span><br><span class="line"><span class="literal">I</span> = zeros(N,<span class="number">1</span>)</span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># step 5. set loops for calculation</span></span><br><span class="line">    <span class="keyword">while</span> rhat &lt; r &amp;&amp; k &lt; iter</span><br><span class="line"><span class="comment"># step 2. draw random samples on two diff coordinates</span></span><br><span class="line">        x = rand(Normal(μ<span class="number">1</span>, <span class="number">1</span>), N)</span><br><span class="line">        y = rand(Normal(μ<span class="number">2</span>, <span class="number">1</span>), N)</span><br><span class="line"><span class="comment"># step 3.</span></span><br><span class="line">        <span class="comment">## sort the corresponding function value</span></span><br><span class="line">        g = -(x-<span class="number">5</span>).^<span class="number">2</span>-(y-<span class="number">5</span>).^<span class="number">2</span></span><br><span class="line">        orderg = sort(g)</span><br><span class="line">        <span class="comment">## comupte the quantile</span></span><br><span class="line">        ix = floor(<span class="built_in">Int</span>,(<span class="number">1</span>-ρ)*N)</span><br><span class="line">        rhat = orderg[ix]</span><br><span class="line">        <span class="comment">## set constraint to narrow the search area</span></span><br><span class="line">        <span class="keyword">if</span> rhat &gt; r</span><br><span class="line">            rhat = r</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="comment"># step 4.</span></span><br><span class="line">        <span class="comment">## derive the optimization problem</span></span><br><span class="line">        p = <span class="number">1</span>/(<span class="number">2</span>*<span class="literal">π</span>) * exp.(-<span class="number">1</span>/<span class="number">2</span> * (x.^<span class="number">2</span> + y.^<span class="number">2</span>))</span><br><span class="line">        q = <span class="number">1</span>/(<span class="number">2</span>*<span class="literal">π</span>) * exp.(-<span class="number">1</span>/<span class="number">2</span> * ((x-<span class="number">5</span>).^<span class="number">2</span> + (y-<span class="number">5</span>).^<span class="number">2</span>))</span><br><span class="line">        w = p./q</span><br><span class="line">        <span class="comment">## construct the indicator function, which implies the search region</span></span><br><span class="line">        <span class="keyword">for</span> i=<span class="number">1</span>:<span class="number">1</span>:N</span><br><span class="line">            <span class="keyword">if</span> g[i] &gt; rhat</span><br><span class="line">                <span class="literal">I</span>[i] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="literal">I</span>[i] = <span class="number">0</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="comment">## update the sampling distribution</span></span><br><span class="line">        μ<span class="number">1</span> = mean(x .* <span class="literal">I</span> .* w)/mean(<span class="literal">I</span> .* w)</span><br><span class="line">        μ<span class="number">2</span> = mean(y .* <span class="literal">I</span> .* w)/mean(<span class="literal">I</span> .* w)</span><br><span class="line"></span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="comment"># step 6. apply Monte Carlo to calculate the prob</span></span><br><span class="line">    mean(<span class="literal">I</span>.*w) <span class="comment"># append μ1, μ2 to get the optimal value</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>Let’s make single simulation by setting $\rho = 0.2$ and $N=10^6$, the probability is shown below.</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CE_prob(<span class="number">0.2</span>,<span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.9121974873535745e-10</span></span><br></pre></td></tr></table></figure><p>The result is fair enough, but may raise the question in parameter choice of $\rho$. Now, let’s consider the quantile effect by program below:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> PyPlot</span><br><span class="line">PyPlot.svg(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">function</span> quantile_effect(N::<span class="built_in">Int</span>)</span><br><span class="line">    plot(collect(<span class="number">0.1</span>:<span class="number">0.05</span>:<span class="number">0.9</span>), [CE_prob(i,N) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0.1</span>:<span class="number">0.05</span>:<span class="number">0.9</span>],</span><br><span class="line">    linestyle=<span class="string">"--"</span>, marker=<span class="string">"."</span>, color=<span class="string">"blue"</span>, label=<span class="string">"Single Processor"</span>)</span><br><span class="line"></span><br><span class="line">    axhline(y=<span class="number">2.23465e-10</span>, linestyle=<span class="string">"-"</span>, color=<span class="string">"red"</span>,</span><br><span class="line">            label=string(<span class="string">"Exact Value: "</span>, <span class="number">2.23465e-10</span>))</span><br><span class="line"></span><br><span class="line">    title(string(<span class="string">"Monte Carlo Estimation of probability"</span>))</span><br><span class="line">    ylabel(<span class="string">"Estimation of prob"</span>)</span><br><span class="line">    xlabel(<span class="string">"parameter: ρ"</span>)</span><br><span class="line"></span><br><span class="line">    legend(bbox_to_anchor=(<span class="number">1.05</span>, <span class="number">1</span>), loc=<span class="number">2</span>, borderaxespad=<span class="number">0.</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><pre><code>quantile_effect (generic function with 1 method)</code></pre><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quantile_effect(<span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><p><img src="http://oye4atjxc.bkt.clouddn.com/advancedComputation/assignment1/output_50_0.svg"></p><pre><code>PyObject &lt;matplotlib.legend.Legend object at 0x136c6e050&gt;</code></pre><p>As shown in the picture, it is resonable for us to choose $\rho$ in $[0,0.5]$. For clarity, here we set $\rho=0.2$</p><p>Rewrite the code in <code>CE_prob</code> by appending $\mu1, \mu2$ to the return command, we will obtain the corresponding distribution and probability:</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Distributions</span><br><span class="line"><span class="meta">@everywhere</span> <span class="keyword">function</span> CE(N::<span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># step 1. set initial values</span></span><br><span class="line">μ<span class="number">1</span> = <span class="number">0</span></span><br><span class="line">μ<span class="number">2</span> = <span class="number">0</span></span><br><span class="line">iter = <span class="number">5000</span></span><br><span class="line">ρ = <span class="number">0.2</span></span><br><span class="line">r = -<span class="number">1</span></span><br><span class="line">rhat = -<span class="number">10</span></span><br><span class="line">p = zeros(N,<span class="number">1</span>)</span><br><span class="line">q = zeros(N,<span class="number">1</span>)</span><br><span class="line">w = zeros(N,<span class="number">1</span>)</span><br><span class="line"><span class="literal">I</span> = zeros(N,<span class="number">1</span>)</span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># step 5. set loops for calculation</span></span><br><span class="line">    <span class="keyword">while</span> rhat &lt; r &amp;&amp; k &lt; iter</span><br><span class="line"><span class="comment"># step 2. draw random samples on two diff coordinates</span></span><br><span class="line">        x = rand(Normal(μ<span class="number">1</span>, <span class="number">1</span>), N)</span><br><span class="line">        y = rand(Normal(μ<span class="number">2</span>, <span class="number">1</span>), N)</span><br><span class="line"><span class="comment"># step 3.</span></span><br><span class="line">        <span class="comment">## sort the corresponding function value</span></span><br><span class="line">        g = -(x-<span class="number">5</span>).^<span class="number">2</span>-(y-<span class="number">5</span>).^<span class="number">2</span></span><br><span class="line">        orderg = sort(g)</span><br><span class="line">        <span class="comment">## comupte the quantile</span></span><br><span class="line">        ix = floor(<span class="built_in">Int</span>,(<span class="number">1</span>-ρ)*N)</span><br><span class="line">        rhat = orderg[ix]</span><br><span class="line">        <span class="comment">## set constraint to narrow the search area</span></span><br><span class="line">        <span class="keyword">if</span> rhat &gt; r</span><br><span class="line">            rhat = r</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="comment"># step 4.</span></span><br><span class="line">        <span class="comment">## derive the optimization problem</span></span><br><span class="line">        p = <span class="number">1</span>/(<span class="number">2</span>*<span class="literal">π</span>) * exp.(-<span class="number">1</span>/<span class="number">2</span> * (x.^<span class="number">2</span> + y.^<span class="number">2</span>))</span><br><span class="line">        q = <span class="number">1</span>/(<span class="number">2</span>*<span class="literal">π</span>) * exp.(-<span class="number">1</span>/<span class="number">2</span> * ((x-<span class="number">5</span>).^<span class="number">2</span> + (y-<span class="number">5</span>).^<span class="number">2</span>))</span><br><span class="line">        w = p./q</span><br><span class="line">        <span class="comment">## construct the indicator function, which implies the search region</span></span><br><span class="line">        <span class="keyword">for</span> i=<span class="number">1</span>:<span class="number">1</span>:N</span><br><span class="line">            <span class="keyword">if</span> g[i] &gt; rhat</span><br><span class="line">                <span class="literal">I</span>[i] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="literal">I</span>[i] = <span class="number">0</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="comment">## update the sampling distribution</span></span><br><span class="line">        μ<span class="number">1</span> = mean(x .* <span class="literal">I</span> .* w)/mean(<span class="literal">I</span> .* w)</span><br><span class="line">        μ<span class="number">2</span> = mean(y .* <span class="literal">I</span> .* w)/mean(<span class="literal">I</span> .* w)</span><br><span class="line"></span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="comment"># step 6. apply Monte Carlo to calculate the prob</span></span><br><span class="line">    μ<span class="number">1</span>, μ<span class="number">2</span>, mean(<span class="literal">I</span>.*w)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CE(<span class="number">10</span>^<span class="number">6</span>)</span><br></pre></td></tr></table></figure><pre><code>(4.426701996662324, 4.423183271573601, 2.8762783318578916e-10)</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li>Blogs of Monte Carlo work in Github: <a href="http://onlookerliu.leanote.com/post/5c355c764900" target="_blank" rel="noopener">http://onlookerliu.leanote.com/post/5c355c764900</a></li><li>Gonçalo, Abecasis. “Monte Carlo Integration”, Biostatistics 615/815, Lecture 22: <a href="http://csg.sph.umich.edu/abecasis/class/2006/615.22.pdf" target="_blank" rel="noopener">http://csg.sph.umich.edu/abecasis/class/2006/615.22.pdf</a></li><li>Ho, Shirley. “Introduction to Monte Carlo”, Astro 542 at Princeton University: <a href="http://www.phys.ubbcluj.ro/~zneda/edu/mc/mcshort.pdf" target="_blank" rel="noopener">http://www.phys.ubbcluj.ro/~zneda/edu/mc/mcshort.pdf</a></li><li>Julia language guide: <a href="http://julia-cn.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener">http://julia-cn.readthedocs.io/zh_CN/latest/</a></li></ol><hr><p><em>Kai Liu, wrote on 2017/10/28</em></p><p><em>Student ID: 116071910015</em></p><p><em>Mail: liu1995@sjtu.edu.cn</em></p>]]></content>
      
      
        <tags>
            
            <tag> julia </tag>
            
            <tag> statistics </tag>
            
            <tag> computational method </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Numerical Examples in Java</title>
      <link href="/2017/04/04/Numerical-Examples-in-Java/"/>
      <url>/2017/04/04/Numerical-Examples-in-Java/</url>
      <content type="html"><![CDATA[<p>Some algorithms from the textbook Numerical Analysis by Richard L. Burden and J.Douglas Fairs (9th ed)..</p><p><strong>DividedDifference.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Langrange;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DividedDifference</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">dividedDiffHelp</span><span class="params">(<span class="keyword">double</span>[] x, <span class="keyword">double</span>[] y, <span class="keyword">int</span> n, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//compute the nth divided difference</span></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> (y[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (dividedDiffHelp(x, y, n - <span class="number">1</span>, i + <span class="number">1</span>) - dividedDiffHelp(x, y, n - <span class="number">1</span>, i)) / (x[i + n] - x[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span>[] dividedDiff(<span class="keyword">double</span>[] x, <span class="keyword">double</span>[] y) &#123;</span><br><span class="line">        <span class="comment">//compute divided diff needed for each coefficient</span></span><br><span class="line">        <span class="keyword">double</span>[] coef = <span class="keyword">new</span> <span class="keyword">double</span>[x.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; x.length; i++) &#123;</span><br><span class="line">            coef[i] = dividedDiffHelp(x, y, i, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> coef;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">dividedOut</span><span class="params">(<span class="keyword">double</span>[] x, <span class="keyword">double</span>[] y)</span> </span>&#123;</span><br><span class="line">        String out = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">double</span>[] coef = dividedDiff(x, y);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; coef.length; i++) &#123;</span><br><span class="line">            String temp = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                temp = <span class="string">""</span> + coef[<span class="number">0</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                    temp = temp + <span class="string">"(x-"</span> + x[j] + <span class="string">")"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                temp = coef[i] + temp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i != coef.length - <span class="number">1</span>) &#123;</span><br><span class="line">                temp = temp + <span class="string">"+"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            out = out + temp;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> out;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">printTable</span><span class="params">(<span class="keyword">double</span>[] x, <span class="keyword">double</span>[] y)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//print line by line</span></span><br><span class="line">        <span class="comment">// number of columns will be the number of points -1+2</span></span><br><span class="line">        String out = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">0</span>; row &lt; x.length; row++) &#123;</span><br><span class="line">            out = out + row + <span class="string">"  "</span> + x[row] + <span class="string">"\t"</span> + y[row] + <span class="string">"\t"</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">1</span>; col &lt;= row; col++) &#123;</span><br><span class="line">                out = out + dividedDiffHelp(x, y, col, row - col) + <span class="string">"\t"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//new row</span></span><br><span class="line">            out = out + <span class="string">"\n"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> out;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">interpolate</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span>[] coef, <span class="keyword">double</span>[] data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; coef.length; i++) &#123;</span><br><span class="line">            <span class="keyword">double</span> product = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                product = product * (x - data[j]);</span><br><span class="line">            &#125;</span><br><span class="line">            y = y + product * coef[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//PROBLEM 8</span></span><br><span class="line">        <span class="comment">//test dividedDiff</span></span><br><span class="line">        <span class="keyword">double</span>[] x = &#123; <span class="number">0</span>, <span class="number">0.1</span>, <span class="number">0.3</span>, <span class="number">0.6</span>, <span class="number">1.0</span>, <span class="number">1.1</span> &#125;;</span><br><span class="line">        <span class="keyword">double</span>[] y = &#123; -<span class="number">6</span>, -<span class="number">5.89483</span>, -<span class="number">5.65014</span>, -<span class="number">5.17788</span>, -<span class="number">4.28172</span>, -<span class="number">3.99583</span> &#125;;</span><br><span class="line">        <span class="comment">//System.out.println(dividedDiffHelp(x,y,4,0));</span></span><br><span class="line">        <span class="comment">//double[] coef = dividedDiff(x,y);</span></span><br><span class="line">        <span class="comment">//System.out.println(Arrays.toString(coef));</span></span><br><span class="line">        System.out.println(dividedOut(x, y));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//PROBLEM 9</span></span><br><span class="line">        <span class="keyword">double</span>[] x9 = &#123; <span class="number">0</span>, <span class="number">0.4</span>, <span class="number">0.7</span> &#125;;</span><br><span class="line">        <span class="keyword">double</span>[] y9 = &#123; <span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span> &#125;;</span><br><span class="line">        System.out.println(dividedOut(x9, y9));</span><br><span class="line">        System.out.println(printTable(x9, y9));</span><br><span class="line">        System.out.println(interpolate(<span class="number">0</span>, dividedDiff(x9, y9), x9));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>NaturalCubicSpline.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> CubicSpline;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NaturalCubicSpline</span> </span>&#123;</span><br><span class="line">    <span class="comment">//this class file will compute the natural cubic spline</span></span><br><span class="line">    <span class="comment">//we are interpolating over data array x with values y</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span>[][] fitSpline(<span class="keyword">double</span>[] x, <span class="keyword">double</span>[] y) &#123;</span><br><span class="line">        <span class="comment">//compute hi=xi+1-xi</span></span><br><span class="line">        <span class="keyword">double</span>[] h = <span class="keyword">new</span> <span class="keyword">double</span>[x.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; h.length; i++) &#123;</span><br><span class="line">            h[i] = x[i + <span class="number">1</span>] - x[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span>[] a = <span class="keyword">new</span> <span class="keyword">double</span>[h.length];</span><br><span class="line">        <span class="comment">//a[0] left empty</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            a[i] = <span class="number">3</span> / h[i] * (y[i + <span class="number">1</span>] - y[i]) - <span class="number">3</span> / h[i - <span class="number">1</span>] * (y[i] - y[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//create extra arrays</span></span><br><span class="line">        <span class="keyword">double</span>[] l = <span class="keyword">new</span> <span class="keyword">double</span>[x.length];</span><br><span class="line">        <span class="keyword">double</span>[] u = <span class="keyword">new</span> <span class="keyword">double</span>[x.length];</span><br><span class="line">        <span class="keyword">double</span>[] z = <span class="keyword">new</span> <span class="keyword">double</span>[x.length];</span><br><span class="line">        l[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        z[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; x.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            l[i] = <span class="number">2</span> * (x[i + <span class="number">1</span>] - x[i - <span class="number">1</span>]) - h[i - <span class="number">1</span>] * u[i - <span class="number">1</span>];</span><br><span class="line">            u[i] = h[i] / l[i];</span><br><span class="line">            z[i] = (a[i] - h[i - <span class="number">1</span>] * z[i - <span class="number">1</span>]) / l[i];</span><br><span class="line">        &#125;</span><br><span class="line">        l[l.length - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        z[z.length - <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">double</span>[] c = <span class="keyword">new</span> <span class="keyword">double</span>[x.length];</span><br><span class="line">        c[c.length - <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span>[] b = <span class="keyword">new</span> <span class="keyword">double</span>[x.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">double</span>[] d = <span class="keyword">new</span> <span class="keyword">double</span>[x.length - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = x.length - <span class="number">2</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            c[j] = z[j] - u[j] * c[j + <span class="number">1</span>];</span><br><span class="line">            b[j] = (y[j + <span class="number">1</span>] - y[j]) / h[j] - h[j] * (c[j + <span class="number">1</span>] + <span class="number">2</span> * c[j]) / <span class="number">3</span>;</span><br><span class="line">            d[j] = (c[j + <span class="number">1</span>] - c[j]) / <span class="number">3</span> / h[j];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span>[][] coef = <span class="keyword">new</span> <span class="keyword">double</span>[x.length - <span class="number">1</span>][<span class="number">4</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; x.length - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            coef[j][<span class="number">0</span>] = y[j];</span><br><span class="line">            coef[j][<span class="number">1</span>] = b[j];</span><br><span class="line">            coef[j][<span class="number">2</span>] = c[j];</span><br><span class="line">            coef[j][<span class="number">3</span>] = d[j];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> coef;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">interpolate</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span>[] coef, <span class="keyword">double</span> xdat)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; coef.length; i++) &#123;</span><br><span class="line">            val = val + coef[i] * Math.pow((x - xdat), i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span>[] x = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;</span><br><span class="line">        <span class="keyword">double</span>[] y = &#123; <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span> &#125;;</span><br><span class="line">        <span class="keyword">double</span>[][] coef = fitSpline(x, y);</span><br><span class="line">        System.out.println(Arrays.toString(coef[<span class="number">1</span>]));</span><br><span class="line">        System.out.println(interpolate((<span class="keyword">double</span>) <span class="number">2</span>, coef[<span class="number">0</span>], x[<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Assignment numerical 7</span></span><br><span class="line">        <span class="keyword">double</span>[] years = &#123; <span class="number">1950</span>, <span class="number">1960</span>, <span class="number">1970</span>, <span class="number">1980</span>, <span class="number">1990</span>, <span class="number">2000</span> &#125;;</span><br><span class="line">        <span class="keyword">double</span>[] pop = &#123; <span class="number">151326</span>, <span class="number">179323</span>, <span class="number">203302</span>, <span class="number">226542</span>, <span class="number">249633</span>, <span class="number">281422</span> &#125;;</span><br><span class="line">        <span class="keyword">double</span>[][] coef2 = fitSpline(years, pop);</span><br><span class="line">        System.out.println(Arrays.toString(coef2[<span class="number">0</span>]));</span><br><span class="line">        System.out.println(interpolate(<span class="number">1940.0</span>, coef2[<span class="number">0</span>], years[<span class="number">0</span>]));</span><br><span class="line">        System.out.println(Arrays.toString(coef2[<span class="number">2</span>]));</span><br><span class="line">        System.out.println(interpolate(<span class="number">1975</span>, coef2[<span class="number">2</span>], years[<span class="number">2</span>]));</span><br><span class="line">        System.out.println(Arrays.toString(coef2[<span class="number">4</span>]));</span><br><span class="line">        System.out.println(interpolate(<span class="number">2020</span>, coef2[<span class="number">4</span>], years[<span class="number">4</span>]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
